{"version":3,"file":"./build/widgets/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/classnames/index.js","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window \"React\"","webpack://wp/external window [\"wp\",\"primitives\"]","../../packages/icons/src/library/widget.js","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"components\"]","../../packages/icons/src/library/brush.js","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","../../packages/widgets/src/blocks/legacy-widget/edit/widget-type-selector.js","../../packages/widgets/src/blocks/legacy-widget/edit/inspector-card.js","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"apiFetch\"]","../../packages/widgets/src/blocks/legacy-widget/edit/control.js","../../packages/widgets/src/blocks/legacy-widget/edit/form.js","../../packages/widgets/src/blocks/legacy-widget/edit/preview.js","../../packages/widgets/src/blocks/legacy-widget/edit/no-preview.js","../../packages/widgets/src/blocks/legacy-widget/edit/convert-to-blocks-button.js","../../packages/widgets/src/blocks/legacy-widget/edit/index.js","../../packages/widgets/src/blocks/legacy-widget/transforms.js","../../packages/widgets/src/blocks/legacy-widget/index.js","../../packages/icons/src/library/group.js","../../packages/widgets/src/blocks/widget-group/edit.js","../../packages/widgets/src/blocks/widget-group/deprecated.js","../../packages/widgets/src/blocks/widget-group/index.js","../../packages/widgets/src/blocks/widget-group/save.js","../../packages/icons/src/library/move-to.js","../../packages/widgets/src/components/move-to-widget-area/index.js","../../packages/widgets/src/utils.js","../../packages/widgets/src/register-legacy-widget-variations.js","../../packages/widgets/src/index.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst widget = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default widget;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst brush = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default brush;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { Spinner, SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nexport default function WidgetTypeSelector( { selectedId, onSelect } ) {\r\n\tconst widgetTypes = useSelect( ( select ) => {\r\n\t\tconst hiddenIds =\r\n\t\t\tselect( blockEditorStore ).getSettings()\r\n\t\t\t\t?.widgetTypesToHideFromLegacyWidgetBlock ?? [];\r\n\t\treturn select( coreStore )\r\n\t\t\t.getWidgetTypes( { per_page: -1 } )\r\n\t\t\t?.filter( ( widgetType ) => ! hiddenIds.includes( widgetType.id ) );\r\n\t}, [] );\r\n\r\n\tif ( ! widgetTypes ) {\r\n\t\treturn <Spinner />;\r\n\t}\r\n\r\n\tif ( widgetTypes.length === 0 ) {\r\n\t\treturn __( 'There are no widgets available.' );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SelectControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Select a legacy widget to display:' ) }\r\n\t\t\tvalue={ selectedId ?? '' }\r\n\t\t\toptions={ [\r\n\t\t\t\t{ value: '', label: __( 'Select widget' ) },\r\n\t\t\t\t...widgetTypes.map( ( widgetType ) => ( {\r\n\t\t\t\t\tvalue: widgetType.id,\r\n\t\t\t\t\tlabel: widgetType.name,\r\n\t\t\t\t} ) ),\r\n\t\t\t] }\r\n\t\t\tonChange={ ( value ) => {\r\n\t\t\t\tif ( value ) {\r\n\t\t\t\t\tconst selected = widgetTypes.find(\r\n\t\t\t\t\t\t( widgetType ) => widgetType.id === value\r\n\t\t\t\t\t);\r\n\t\t\t\t\tonSelect( {\r\n\t\t\t\t\t\tselectedId: selected.id,\r\n\t\t\t\t\t\tisMulti: selected.is_multi,\r\n\t\t\t\t\t} );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tonSelect( { selectedId: null } );\r\n\t\t\t\t}\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n","export default function InspectorCard( { name, description } ) {\r\n\treturn (\r\n\t\t<div className=\"wp-block-legacy-widget-inspector-card\">\r\n\t\t\t<h3 className=\"wp-block-legacy-widget-inspector-card__name\">\r\n\t\t\t\t{ name }\r\n\t\t\t</h3>\r\n\t\t\t<span>{ description }</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { debounce } from '@wordpress/compose';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * An API for creating and loading a widget control (a <div class=\"widget\">\r\n * element) that is compatible with most third party widget scripts. By not\r\n * using React for this, we ensure that we have complete contorl over the DOM\r\n * and do not accidentally remove any elements that a third party widget script\r\n * has attached an event listener to.\r\n *\r\n * @property {Element} element The control's DOM element.\r\n */\r\nexport default class Control {\r\n\t/**\r\n\t * Creates and loads a new control.\r\n\t *\r\n\t * @access public\r\n\t * @param {Object}   params\r\n\t * @param {string}   params.id\r\n\t * @param {string}   params.idBase\r\n\t * @param {Object}   params.instance\r\n\t * @param {Function} params.onChangeInstance\r\n\t * @param {Function} params.onChangeHasPreview\r\n\t * @param {Function} params.onError\r\n\t */\r\n\tconstructor( {\r\n\t\tid,\r\n\t\tidBase,\r\n\t\tinstance,\r\n\t\tonChangeInstance,\r\n\t\tonChangeHasPreview,\r\n\t\tonError,\r\n\t} ) {\r\n\t\tthis.id = id;\r\n\t\tthis.idBase = idBase;\r\n\t\tthis._instance = instance;\r\n\t\tthis._hasPreview = null;\r\n\t\tthis.onChangeInstance = onChangeInstance;\r\n\t\tthis.onChangeHasPreview = onChangeHasPreview;\r\n\t\tthis.onError = onError;\r\n\r\n\t\t// We can't use the real widget number as this is calculated by the\r\n\t\t// server and we may not ever *actually* save this widget. Instead, use\r\n\t\t// a fake but unique number.\r\n\t\tthis.number = ++lastNumber;\r\n\r\n\t\tthis.handleFormChange = debounce(\r\n\t\t\tthis.handleFormChange.bind( this ),\r\n\t\t\t200\r\n\t\t);\r\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind( this );\r\n\r\n\t\tthis.initDOM();\r\n\t\tthis.bindEvents();\r\n\t\tthis.loadContent();\r\n\t}\r\n\r\n\t/**\r\n\t * Clean up the control so that it can be garabge collected.\r\n\t *\r\n\t * @access public\r\n\t */\r\n\tdestroy() {\r\n\t\tthis.unbindEvents();\r\n\t\tthis.element.remove();\r\n\t\t// TODO: How do we make third party widget scripts remove their event\r\n\t\t// listeners?\r\n\t}\r\n\r\n\t/**\r\n\t * Creates the control's DOM structure.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tinitDOM() {\r\n\t\tthis.element = el( 'div', { class: 'widget open' }, [\r\n\t\t\tel( 'div', { class: 'widget-inside' }, [\r\n\t\t\t\t( this.form = el( 'form', { class: 'form', method: 'post' }, [\r\n\t\t\t\t\t// These hidden form inputs are what most widgets' scripts\r\n\t\t\t\t\t// use to access data about the widget.\r\n\t\t\t\t\tel( 'input', {\r\n\t\t\t\t\t\tclass: 'widget-id',\r\n\t\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\t\tname: 'widget-id',\r\n\t\t\t\t\t\tvalue: this.id ?? `${ this.idBase }-${ this.number }`,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tel( 'input', {\r\n\t\t\t\t\t\tclass: 'id_base',\r\n\t\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\t\tname: 'id_base',\r\n\t\t\t\t\t\tvalue: this.idBase ?? this.id,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tel( 'input', {\r\n\t\t\t\t\t\tclass: 'widget-width',\r\n\t\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\t\tname: 'widget-width',\r\n\t\t\t\t\t\tvalue: '250',\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tel( 'input', {\r\n\t\t\t\t\t\tclass: 'widget-height',\r\n\t\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\t\tname: 'widget-height',\r\n\t\t\t\t\t\tvalue: '200',\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tel( 'input', {\r\n\t\t\t\t\t\tclass: 'widget_number',\r\n\t\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\t\tname: 'widget_number',\r\n\t\t\t\t\t\tvalue: this.idBase ? this.number.toString() : '',\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\t( this.content = el( 'div', { class: 'widget-content' } ) ),\r\n\t\t\t\t\t// Non-multi widgets can be saved via a Save button.\r\n\t\t\t\t\tthis.id &&\r\n\t\t\t\t\t\tel(\r\n\t\t\t\t\t\t\t'button',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tclass: 'button is-primary',\r\n\t\t\t\t\t\t\t\ttype: 'submit',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t__( 'Save' )\r\n\t\t\t\t\t\t),\r\n\t\t\t\t] ) ),\r\n\t\t\t] ),\r\n\t\t] );\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the control's event listeners.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tbindEvents() {\r\n\t\t// Prefer jQuery 'change' event instead of the native 'change' event\r\n\t\t// because many widgets use jQuery's event bus to trigger an update.\r\n\t\tif ( window.jQuery ) {\r\n\t\t\tconst { jQuery: $ } = window;\r\n\t\t\t$( this.form ).on( 'change', null, this.handleFormChange );\r\n\t\t\t$( this.form ).on( 'input', null, this.handleFormChange );\r\n\t\t\t$( this.form ).on( 'submit', this.handleFormSubmit );\r\n\t\t} else {\r\n\t\t\tthis.form.addEventListener( 'change', this.handleFormChange );\r\n\t\t\tthis.form.addEventListener( 'input', this.handleFormChange );\r\n\t\t\tthis.form.addEventListener( 'submit', this.handleFormSubmit );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Removes the control's event listeners.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tunbindEvents() {\r\n\t\tif ( window.jQuery ) {\r\n\t\t\tconst { jQuery: $ } = window;\r\n\t\t\t$( this.form ).off( 'change', null, this.handleFormChange );\r\n\t\t\t$( this.form ).off( 'input', null, this.handleFormChange );\r\n\t\t\t$( this.form ).off( 'submit', this.handleFormSubmit );\r\n\t\t} else {\r\n\t\t\tthis.form.removeEventListener( 'change', this.handleFormChange );\r\n\t\t\tthis.form.removeEventListener( 'input', this.handleFormChange );\r\n\t\t\tthis.form.removeEventListener( 'submit', this.handleFormSubmit );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Fetches the widget's form HTML from the REST API and loads it into the\r\n\t * control's form.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tasync loadContent() {\r\n\t\ttry {\r\n\t\t\tif ( this.id ) {\r\n\t\t\t\tconst { form } = await saveWidget( this.id );\r\n\t\t\t\tthis.content.innerHTML = form;\r\n\t\t\t} else if ( this.idBase ) {\r\n\t\t\t\tconst { form, preview } = await encodeWidget( {\r\n\t\t\t\t\tidBase: this.idBase,\r\n\t\t\t\t\tinstance: this.instance,\r\n\t\t\t\t\tnumber: this.number,\r\n\t\t\t\t} );\r\n\t\t\t\tthis.content.innerHTML = form;\r\n\t\t\t\tthis.hasPreview = ! isEmptyHTML( preview );\r\n\r\n\t\t\t\t// If we don't have an instance, perform a save right away. This\r\n\t\t\t\t// happens when creating a new Legacy Widget block.\r\n\t\t\t\tif ( ! this.instance.hash ) {\r\n\t\t\t\t\tconst { instance } = await encodeWidget( {\r\n\t\t\t\t\t\tidBase: this.idBase,\r\n\t\t\t\t\t\tinstance: this.instance,\r\n\t\t\t\t\t\tnumber: this.number,\r\n\t\t\t\t\t\tformData: serializeForm( this.form ),\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tthis.instance = instance;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Trigger 'widget-added' when widget is ready. This event is what\r\n\t\t\t// widgets' scripts use to initialize, attach events, etc. The event\r\n\t\t\t// must be fired using jQuery's event bus as this is what widget\r\n\t\t\t// scripts expect. If jQuery is not loaded, do nothing - some\r\n\t\t\t// widgets will still work regardless.\r\n\t\t\tif ( window.jQuery ) {\r\n\t\t\t\tconst { jQuery: $ } = window;\r\n\t\t\t\t$( document ).trigger( 'widget-added', [ $( this.element ) ] );\r\n\t\t\t}\r\n\t\t} catch ( error ) {\r\n\t\t\tthis.onError( error );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Perform a save when a multi widget's form is changed. Non-multi widgets\r\n\t * are saved manually.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\thandleFormChange() {\r\n\t\tif ( this.idBase ) {\r\n\t\t\tthis.saveForm();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Perform a save when the control's form is manually submitted.\r\n\t *\r\n\t * @access private\r\n\t * @param {Event} event\r\n\t */\r\n\thandleFormSubmit( event ) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.saveForm();\r\n\t}\r\n\r\n\t/**\r\n\t * Serialize the control's form, send it to the REST API, and update the\r\n\t * instance with the encoded instance that the REST API returns.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tasync saveForm() {\r\n\t\tconst formData = serializeForm( this.form );\r\n\r\n\t\ttry {\r\n\t\t\tif ( this.id ) {\r\n\t\t\t\tconst { form } = await saveWidget( this.id, formData );\r\n\t\t\t\tthis.content.innerHTML = form;\r\n\r\n\t\t\t\tif ( window.jQuery ) {\r\n\t\t\t\t\tconst { jQuery: $ } = window;\r\n\t\t\t\t\t$( document ).trigger( 'widget-updated', [\r\n\t\t\t\t\t\t$( this.element ),\r\n\t\t\t\t\t] );\r\n\t\t\t\t}\r\n\t\t\t} else if ( this.idBase ) {\r\n\t\t\t\tconst { instance, preview } = await encodeWidget( {\r\n\t\t\t\t\tidBase: this.idBase,\r\n\t\t\t\t\tinstance: this.instance,\r\n\t\t\t\t\tnumber: this.number,\r\n\t\t\t\t\tformData,\r\n\t\t\t\t} );\r\n\t\t\t\tthis.instance = instance;\r\n\t\t\t\tthis.hasPreview = ! isEmptyHTML( preview );\r\n\t\t\t}\r\n\t\t} catch ( error ) {\r\n\t\t\tthis.onError( error );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * The widget's instance object.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tget instance() {\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n\t/**\r\n\t * The widget's instance object.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tset instance( instance ) {\r\n\t\tif ( this._instance !== instance ) {\r\n\t\t\tthis._instance = instance;\r\n\t\t\tthis.onChangeInstance( instance );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Whether or not the widget can be previewed.\r\n\t *\r\n\t * @access public\r\n\t */\r\n\tget hasPreview() {\r\n\t\treturn this._hasPreview;\r\n\t}\r\n\r\n\t/**\r\n\t * Whether or not the widget can be previewed.\r\n\t *\r\n\t * @access private\r\n\t */\r\n\tset hasPreview( hasPreview ) {\r\n\t\tif ( this._hasPreview !== hasPreview ) {\r\n\t\t\tthis._hasPreview = hasPreview;\r\n\t\t\tthis.onChangeHasPreview( hasPreview );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet lastNumber = 0;\r\n\r\nfunction el( tagName, attributes = {}, content = null ) {\r\n\tconst element = document.createElement( tagName );\r\n\tfor ( const [ attribute, value ] of Object.entries( attributes ) ) {\r\n\t\telement.setAttribute( attribute, value );\r\n\t}\r\n\tif ( Array.isArray( content ) ) {\r\n\t\tfor ( const child of content ) {\r\n\t\t\tif ( child ) {\r\n\t\t\t\telement.appendChild( child );\r\n\t\t\t}\r\n\t\t}\r\n\t} else if ( typeof content === 'string' ) {\r\n\t\telement.innerText = content;\r\n\t}\r\n\treturn element;\r\n}\r\n\r\nasync function saveWidget( id, formData = null ) {\r\n\tlet widget;\r\n\tif ( formData ) {\r\n\t\twidget = await apiFetch( {\r\n\t\t\tpath: `/wp/v2/widgets/${ id }?context=edit`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tdata: {\r\n\t\t\t\tform_data: formData,\r\n\t\t\t},\r\n\t\t} );\r\n\t} else {\r\n\t\twidget = await apiFetch( {\r\n\t\t\tpath: `/wp/v2/widgets/${ id }?context=edit`,\r\n\t\t\tmethod: 'GET',\r\n\t\t} );\r\n\t}\r\n\treturn { form: widget.rendered_form };\r\n}\r\n\r\nasync function encodeWidget( { idBase, instance, number, formData = null } ) {\r\n\tconst response = await apiFetch( {\r\n\t\tpath: `/wp/v2/widget-types/${ idBase }/encode`,\r\n\t\tmethod: 'POST',\r\n\t\tdata: {\r\n\t\t\tinstance,\r\n\t\t\tnumber,\r\n\t\t\tform_data: formData,\r\n\t\t},\r\n\t} );\r\n\treturn {\r\n\t\tinstance: response.instance,\r\n\t\tform: response.form,\r\n\t\tpreview: response.preview,\r\n\t};\r\n}\r\n\r\nfunction isEmptyHTML( html ) {\r\n\tconst element = document.createElement( 'div' );\r\n\telement.innerHTML = html;\r\n\treturn isEmptyNode( element );\r\n}\r\n\r\nfunction isEmptyNode( node ) {\r\n\tswitch ( node.nodeType ) {\r\n\t\tcase node.TEXT_NODE:\r\n\t\t\t// Text nodes are empty if it's entirely whitespace.\r\n\t\t\treturn node.nodeValue.trim() === '';\r\n\t\tcase node.ELEMENT_NODE:\r\n\t\t\t// Elements that are \"embedded content\" are not empty.\r\n\t\t\t// https://dev.w3.org/html5/spec-LC/content-models.html#embedded-content-0\r\n\t\t\tif (\r\n\t\t\t\t[\r\n\t\t\t\t\t'AUDIO',\r\n\t\t\t\t\t'CANVAS',\r\n\t\t\t\t\t'EMBED',\r\n\t\t\t\t\t'IFRAME',\r\n\t\t\t\t\t'IMG',\r\n\t\t\t\t\t'MATH',\r\n\t\t\t\t\t'OBJECT',\r\n\t\t\t\t\t'SVG',\r\n\t\t\t\t\t'VIDEO',\r\n\t\t\t\t].includes( node.tagName )\r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Elements with no children are empty.\r\n\t\t\tif ( ! node.hasChildNodes() ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// Elements with children are empty if all their children are empty.\r\n\t\t\treturn Array.from( node.childNodes ).every( isEmptyNode );\r\n\t\tdefault:\r\n\t\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction serializeForm( form ) {\r\n\treturn new window.URLSearchParams(\r\n\t\tArray.from( new window.FormData( form ) )\r\n\t).toString();\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef, useEffect } from '@wordpress/element';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Popover } from '@wordpress/components';\r\nimport { useViewportMatch } from '@wordpress/compose';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Control from './control';\r\n\r\nexport default function Form( {\r\n\ttitle,\r\n\tisVisible,\r\n\tid,\r\n\tidBase,\r\n\tinstance,\r\n\tisWide,\r\n\tonChangeInstance,\r\n\tonChangeHasPreview,\r\n} ) {\r\n\tconst ref = useRef();\r\n\r\n\tconst isMediumLargeViewport = useViewportMatch( 'small' );\r\n\r\n\t// We only want to remount the control when the instance changes\r\n\t// *externally*. For example, if the user performs an undo. To do this, we\r\n\t// keep track of changes made to instance by the control itself and then\r\n\t// ignore those.\r\n\tconst outgoingInstances = useRef( new Set() );\r\n\tconst incomingInstances = useRef( new Set() );\r\n\r\n\tconst { createNotice } = useDispatch( noticesStore );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( incomingInstances.current.has( instance ) ) {\r\n\t\t\tincomingInstances.current.delete( instance );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst control = new Control( {\r\n\t\t\tid,\r\n\t\t\tidBase,\r\n\t\t\tinstance,\r\n\t\t\tonChangeInstance( nextInstance ) {\r\n\t\t\t\toutgoingInstances.current.add( instance );\r\n\t\t\t\tincomingInstances.current.add( nextInstance );\r\n\t\t\t\tonChangeInstance( nextInstance );\r\n\t\t\t},\r\n\t\t\tonChangeHasPreview,\r\n\t\t\tonError( error ) {\r\n\t\t\t\twindow.console.error( error );\r\n\t\t\t\tcreateNotice(\r\n\t\t\t\t\t'error',\r\n\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t/* translators: %s: the name of the affected block. */\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'The \"%s\" block was affected by errors and may not function properly. Check the developer tools for more details.'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tidBase || id\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tref.current.appendChild( control.element );\r\n\r\n\t\treturn () => {\r\n\t\t\tif ( outgoingInstances.current.has( instance ) ) {\r\n\t\t\t\toutgoingInstances.current.delete( instance );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcontrol.destroy();\r\n\t\t};\r\n\t}, [\r\n\t\tid,\r\n\t\tidBase,\r\n\t\tinstance,\r\n\t\tonChangeInstance,\r\n\t\tonChangeHasPreview,\r\n\t\tisMediumLargeViewport,\r\n\t] );\r\n\r\n\tif ( isWide && isMediumLargeViewport ) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={ classnames( {\r\n\t\t\t\t\t'wp-block-legacy-widget__container': isVisible,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t{ isVisible && (\r\n\t\t\t\t\t<h3 className=\"wp-block-legacy-widget__edit-form-title\">\r\n\t\t\t\t\t\t{ title }\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t) }\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tfocusOnMount={ false }\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\toffset={ 32 }\r\n\t\t\t\t\tresize={ false }\r\n\t\t\t\t\tflip={ false }\r\n\t\t\t\t\tshift\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={ ref }\r\n\t\t\t\t\t\tclassName=\"wp-block-legacy-widget__edit-form\"\r\n\t\t\t\t\t\thidden={ ! isVisible }\r\n\t\t\t\t\t></div>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ ref }\r\n\t\t\tclassName=\"wp-block-legacy-widget__edit-form\"\r\n\t\t\thidden={ ! isVisible }\r\n\t\t>\r\n\t\t\t<h3 className=\"wp-block-legacy-widget__edit-form-title\">\r\n\t\t\t\t{ title }\r\n\t\t\t</h3>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useRefEffect } from '@wordpress/compose';\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport { Disabled, Placeholder, Spinner } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nexport default function Preview( { idBase, instance, isVisible } ) {\r\n\tconst [ isLoaded, setIsLoaded ] = useState( false );\r\n\tconst [ srcDoc, setSrcDoc ] = useState( '' );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst abortController =\r\n\t\t\ttypeof window.AbortController === 'undefined'\r\n\t\t\t\t? undefined\r\n\t\t\t\t: new window.AbortController();\r\n\r\n\t\tasync function fetchPreviewHTML() {\r\n\t\t\tconst restRoute = `/wp/v2/widget-types/${ idBase }/render`;\r\n\t\t\treturn await apiFetch( {\r\n\t\t\t\tpath: restRoute,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tsignal: abortController?.signal,\r\n\t\t\t\tdata: instance ? { instance } : {},\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfetchPreviewHTML()\r\n\t\t\t.then( ( response ) => {\r\n\t\t\t\tsetSrcDoc( response.preview );\r\n\t\t\t} )\r\n\t\t\t.catch( ( error ) => {\r\n\t\t\t\tif ( 'AbortError' === error.name ) {\r\n\t\t\t\t\t// We don't want to log aborted requests.\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthrow error;\r\n\t\t\t} );\r\n\r\n\t\treturn () => abortController?.abort();\r\n\t}, [ idBase, instance ] );\r\n\r\n\t// Resize the iframe on either the load event, or when the iframe becomes visible.\r\n\tconst ref = useRefEffect(\r\n\t\t( iframe ) => {\r\n\t\t\t// Only set height if the iframe is loaded,\r\n\t\t\t// or it will grow to an unexpected large height in Safari if it's hidden initially.\r\n\t\t\tif ( ! isLoaded ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// If the preview frame has another origin then this won't work.\r\n\t\t\t// One possible solution is to add custom script to call `postMessage` in the preview frame.\r\n\t\t\t// Or, better yet, we migrate away from iframe.\r\n\t\t\tfunction setHeight() {\r\n\t\t\t\t// Pick the maximum of these two values to account for margin collapsing.\r\n\t\t\t\tconst height = Math.max(\r\n\t\t\t\t\tiframe.contentDocument.documentElement?.offsetHeight ?? 0,\r\n\t\t\t\t\tiframe.contentDocument.body?.offsetHeight ?? 0\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Fallback to a height of 100px if the height cannot be determined.\r\n\t\t\t\t// This ensures the block is still selectable. 100px should hopefully\r\n\t\t\t\t// be not so big that it's annoying, and not so small that nothing\r\n\t\t\t\t// can be seen.\r\n\t\t\t\tiframe.style.height = `${ height !== 0 ? height : 100 }px`;\r\n\t\t\t}\r\n\r\n\t\t\tconst { IntersectionObserver } = iframe.ownerDocument.defaultView;\r\n\r\n\t\t\t// Observe for intersections that might cause a change in the height of\r\n\t\t\t// the iframe, e.g. a Widget Area becoming expanded.\r\n\t\t\tconst intersectionObserver = new IntersectionObserver(\r\n\t\t\t\t( [ entry ] ) => {\r\n\t\t\t\t\tif ( entry.isIntersecting ) {\r\n\t\t\t\t\t\tsetHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tthreshold: 1,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tintersectionObserver.observe( iframe );\r\n\r\n\t\t\tiframe.addEventListener( 'load', setHeight );\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tintersectionObserver.disconnect();\r\n\t\t\t\tiframe.removeEventListener( 'load', setHeight );\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isLoaded ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ /*\r\n\t\t\tWhile the iframe contents are loading, we move the iframe off-screen\r\n\t\t\tand display a placeholder instead. This ensures that the user\r\n\t\t\tdoesn't see the iframe resize (which looks really janky). We have to\r\n\t\t\tmove the iframe off-screen instead of hiding it because web browsers\r\n\t\t\twill not trigger onLoad if the iframe is hidden.\r\n\t\t\t*/ }\r\n\t\t\t{ isVisible && ! isLoaded && (\r\n\t\t\t\t<Placeholder>\r\n\t\t\t\t\t<Spinner />\r\n\t\t\t\t</Placeholder>\r\n\t\t\t) }\r\n\t\t\t<div\r\n\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t'wp-block-legacy-widget__edit-preview',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'is-offscreen': ! isVisible || ! isLoaded,\r\n\t\t\t\t\t}\r\n\t\t\t\t) }\r\n\t\t\t>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t{ /*\r\n\t\t\t\t\tWe use an iframe so that the widget has an opportunity to\r\n\t\t\t\t\tload scripts and styles that it needs to run.\r\n\t\t\t\t\t*/ }\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tref={ ref }\r\n\t\t\t\t\t\tclassName=\"wp-block-legacy-widget__edit-preview-iframe\"\r\n\t\t\t\t\t\ttabIndex=\"-1\"\r\n\t\t\t\t\t\ttitle={ __( 'Legacy Widget Preview' ) }\r\n\t\t\t\t\t\tsrcDoc={ srcDoc }\r\n\t\t\t\t\t\tonLoad={ ( event ) => {\r\n\t\t\t\t\t\t\t// To hide the scrollbars of the preview frame for some edge cases,\r\n\t\t\t\t\t\t\t// such as negative margins in the Gallery Legacy Widget.\r\n\t\t\t\t\t\t\t// It can't be scrolled anyway.\r\n\t\t\t\t\t\t\t// TODO: Ideally, this should be fixed in core.\r\n\t\t\t\t\t\t\tevent.target.contentDocument.body.style.overflow =\r\n\t\t\t\t\t\t\t\t'hidden';\r\n\r\n\t\t\t\t\t\t\tsetIsLoaded( true );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\theight={ 100 }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function NoPreview( { name } ) {\r\n\treturn (\r\n\t\t<div className=\"wp-block-legacy-widget__edit-no-preview\">\r\n\t\t\t{ name && <h3>{ name }</h3> }\r\n\t\t\t<p>{ __( 'No preview available.' ) }</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { createBlock, rawHandler } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function ConvertToBlocksButton( { clientId, rawInstance } ) {\r\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\r\n\r\n\treturn (\r\n\t\t<ToolbarButton\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tif ( rawInstance.title ) {\r\n\t\t\t\t\treplaceBlocks( clientId, [\r\n\t\t\t\t\t\tcreateBlock( 'core/heading', {\r\n\t\t\t\t\t\t\tcontent: rawInstance.title,\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t...rawHandler( { HTML: rawInstance.text } ),\r\n\t\t\t\t\t] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treplaceBlocks(\r\n\t\t\t\t\t\tclientId,\r\n\t\t\t\t\t\trawHandler( { HTML: rawInstance.text } )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ __( 'Convert to blocks' ) }\r\n\t\t</ToolbarButton>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseBlockProps,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tBlockIcon,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { Flex, FlexBlock, Spinner, Placeholder } from '@wordpress/components';\r\nimport { brush as brushIcon } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useState, useCallback } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useEntityRecord } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport WidgetTypeSelector from './widget-type-selector';\r\nimport InspectorCard from './inspector-card';\r\nimport Form from './form';\r\nimport Preview from './preview';\r\nimport NoPreview from './no-preview';\r\nimport ConvertToBlocksButton from './convert-to-blocks-button';\r\n\r\nexport default function Edit( props ) {\r\n\tconst { id, idBase } = props.attributes;\r\n\tconst { isWide = false } = props;\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t'is-wide-widget': isWide,\r\n\t\t} ),\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t{ ! id && ! idBase ? (\r\n\t\t\t\t<Empty { ...props } />\r\n\t\t\t) : (\r\n\t\t\t\t<NotEmpty { ...props } />\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Empty( { attributes: { id, idBase }, setAttributes } ) {\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\ticon={ <BlockIcon icon={ brushIcon } /> }\r\n\t\t\tlabel={ __( 'Legacy Widget' ) }\r\n\t\t>\r\n\t\t\t<Flex>\r\n\t\t\t\t<FlexBlock>\r\n\t\t\t\t\t<WidgetTypeSelector\r\n\t\t\t\t\t\tselectedId={ id ?? idBase }\r\n\t\t\t\t\t\tonSelect={ ( { selectedId, isMulti } ) => {\r\n\t\t\t\t\t\t\tif ( ! selectedId ) {\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\t\t\t\tidBase: null,\r\n\t\t\t\t\t\t\t\t\tinstance: null,\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t} else if ( isMulti ) {\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\t\t\t\tidBase: selectedId,\r\n\t\t\t\t\t\t\t\t\tinstance: {},\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tid: selectedId,\r\n\t\t\t\t\t\t\t\t\tidBase: null,\r\n\t\t\t\t\t\t\t\t\tinstance: null,\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FlexBlock>\r\n\t\t\t</Flex>\r\n\t\t</Placeholder>\r\n\t);\r\n}\r\n\r\nfunction NotEmpty( {\r\n\tattributes: { id, idBase, instance },\r\n\tsetAttributes,\r\n\tclientId,\r\n\tisSelected,\r\n\tisWide = false,\r\n} ) {\r\n\tconst [ hasPreview, setHasPreview ] = useState( null );\r\n\r\n\tconst widgetTypeId = id ?? idBase;\r\n\tconst { record: widgetType, hasResolved: hasResolvedWidgetType } =\r\n\t\tuseEntityRecord( 'root', 'widgetType', widgetTypeId );\r\n\r\n\tconst isNavigationMode = useSelect(\r\n\t\t( select ) => select( blockEditorStore ).isNavigationMode(),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst setInstance = useCallback( ( nextInstance ) => {\r\n\t\tsetAttributes( { instance: nextInstance } );\r\n\t}, [] );\r\n\r\n\tif ( ! widgetType && hasResolvedWidgetType ) {\r\n\t\treturn (\r\n\t\t\t<Placeholder\r\n\t\t\t\ticon={ <BlockIcon icon={ brushIcon } /> }\r\n\t\t\t\tlabel={ __( 'Legacy Widget' ) }\r\n\t\t\t>\r\n\t\t\t\t{ __( 'Widget is missing.' ) }\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! hasResolvedWidgetType ) {\r\n\t\treturn (\r\n\t\t\t<Placeholder>\r\n\t\t\t\t<Spinner />\r\n\t\t\t</Placeholder>\r\n\t\t);\r\n\t}\r\n\r\n\tconst mode =\r\n\t\tidBase && ( isNavigationMode || ! isSelected ) ? 'preview' : 'edit';\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ idBase === 'text' && (\r\n\t\t\t\t<BlockControls group=\"other\">\r\n\t\t\t\t\t<ConvertToBlocksButton\r\n\t\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t\t\trawInstance={ instance.raw }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t) }\r\n\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<InspectorCard\r\n\t\t\t\t\tname={ widgetType.name }\r\n\t\t\t\t\tdescription={ widgetType.description }\r\n\t\t\t\t/>\r\n\t\t\t</InspectorControls>\r\n\r\n\t\t\t<Form\r\n\t\t\t\ttitle={ widgetType.name }\r\n\t\t\t\tisVisible={ mode === 'edit' }\r\n\t\t\t\tid={ id }\r\n\t\t\t\tidBase={ idBase }\r\n\t\t\t\tinstance={ instance }\r\n\t\t\t\tisWide={ isWide }\r\n\t\t\t\tonChangeInstance={ setInstance }\r\n\t\t\t\tonChangeHasPreview={ setHasPreview }\r\n\t\t\t/>\r\n\r\n\t\t\t{ idBase && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ hasPreview === null && mode === 'preview' && (\r\n\t\t\t\t\t\t<Placeholder>\r\n\t\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t\t</Placeholder>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ hasPreview === true && (\r\n\t\t\t\t\t\t<Preview\r\n\t\t\t\t\t\t\tidBase={ idBase }\r\n\t\t\t\t\t\t\tinstance={ instance }\r\n\t\t\t\t\t\t\tisVisible={ mode === 'preview' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ hasPreview === false && mode === 'preview' && (\r\n\t\t\t\t\t\t<NoPreview name={ widgetType.name } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst legacyWidgetTransforms = [\r\n\t{\r\n\t\tblock: 'core/calendar',\r\n\t\twidget: 'calendar',\r\n\t},\r\n\t{\r\n\t\tblock: 'core/search',\r\n\t\twidget: 'search',\r\n\t},\r\n\t{\r\n\t\tblock: 'core/html',\r\n\t\twidget: 'custom_html',\r\n\t\ttransform: ( { content } ) => ( {\r\n\t\t\tcontent,\r\n\t\t} ),\r\n\t},\r\n\t{\r\n\t\tblock: 'core/archives',\r\n\t\twidget: 'archives',\r\n\t\ttransform: ( { count, dropdown } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tdisplayAsDropdown: !! dropdown,\r\n\t\t\t\tshowPostCounts: !! count,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/latest-posts',\r\n\t\twidget: 'recent-posts',\r\n\t\ttransform: ( { show_date: displayPostDate, number } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tdisplayPostDate: !! displayPostDate,\r\n\t\t\t\tpostsToShow: number,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/latest-comments',\r\n\t\twidget: 'recent-comments',\r\n\t\ttransform: ( { number } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tcommentsToShow: number,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/tag-cloud',\r\n\t\twidget: 'tag_cloud',\r\n\t\ttransform: ( { taxonomy, count } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tshowTagCounts: !! count,\r\n\t\t\t\ttaxonomy,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/categories',\r\n\t\twidget: 'categories',\r\n\t\ttransform: ( { count, dropdown, hierarchical } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tdisplayAsDropdown: !! dropdown,\r\n\t\t\t\tshowPostCounts: !! count,\r\n\t\t\t\tshowHierarchy: !! hierarchical,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/audio',\r\n\t\twidget: 'media_audio',\r\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tsrc: url,\r\n\t\t\t\tid,\r\n\t\t\t\tpreload,\r\n\t\t\t\tloop,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/video',\r\n\t\twidget: 'media_video',\r\n\t\ttransform: ( { url, preload, loop, attachment_id: id } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tsrc: url,\r\n\t\t\t\tid,\r\n\t\t\t\tpreload,\r\n\t\t\t\tloop,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/image',\r\n\t\twidget: 'media_image',\r\n\t\ttransform: ( {\r\n\t\t\talt,\r\n\t\t\tattachment_id: id,\r\n\t\t\tcaption,\r\n\t\t\theight,\r\n\t\t\tlink_classes: linkClass,\r\n\t\t\tlink_rel: rel,\r\n\t\t\tlink_target_blank: targetBlack,\r\n\t\t\tlink_type: linkDestination,\r\n\t\t\tlink_url: link,\r\n\t\t\tsize: sizeSlug,\r\n\t\t\turl,\r\n\t\t\twidth,\r\n\t\t} ) => {\r\n\t\t\treturn {\r\n\t\t\t\talt,\r\n\t\t\t\tcaption,\r\n\t\t\t\theight,\r\n\t\t\t\tid,\r\n\t\t\t\tlink,\r\n\t\t\t\tlinkClass,\r\n\t\t\t\tlinkDestination,\r\n\t\t\t\tlinkTarget: targetBlack ? '_blank' : undefined,\r\n\t\t\t\trel,\r\n\t\t\t\tsizeSlug,\r\n\t\t\t\turl,\r\n\t\t\t\twidth,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/gallery',\r\n\t\twidget: 'media_gallery',\r\n\t\ttransform: ( { ids, link_type: linkTo, size, number } ) => {\r\n\t\t\treturn {\r\n\t\t\t\tids,\r\n\t\t\t\tcolumns: number,\r\n\t\t\t\tlinkTo,\r\n\t\t\t\tsizeSlug: size,\r\n\t\t\t\timages: ids.map( ( id ) => ( {\r\n\t\t\t\t\tid,\r\n\t\t\t\t} ) ),\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tblock: 'core/rss',\r\n\t\twidget: 'rss',\r\n\t\ttransform: ( {\r\n\t\t\turl,\r\n\t\t\tshow_author: displayAuthor,\r\n\t\t\tshow_date: displayDate,\r\n\t\t\tshow_summary: displayExcerpt,\r\n\t\t\titems,\r\n\t\t} ) => {\r\n\t\t\treturn {\r\n\t\t\t\tfeedURL: url,\r\n\t\t\t\tdisplayAuthor: !! displayAuthor,\r\n\t\t\t\tdisplayDate: !! displayDate,\r\n\t\t\t\tdisplayExcerpt: !! displayExcerpt,\r\n\t\t\t\titemsToShow: items,\r\n\t\t\t};\r\n\t\t},\r\n\t},\r\n].map( ( { block, widget, transform } ) => {\r\n\treturn {\r\n\t\ttype: 'block',\r\n\t\tblocks: [ block ],\r\n\t\tisMatch: ( { idBase, instance } ) => {\r\n\t\t\treturn idBase === widget && !! instance?.raw;\r\n\t\t},\r\n\t\ttransform: ( { instance } ) => {\r\n\t\t\tconst transformedBlock = createBlock(\r\n\t\t\t\tblock,\r\n\t\t\t\ttransform ? transform( instance.raw ) : undefined\r\n\t\t\t);\r\n\t\t\tif ( ! instance.raw?.title ) {\r\n\t\t\t\treturn transformedBlock;\r\n\t\t\t}\r\n\t\t\treturn [\r\n\t\t\t\tcreateBlock( 'core/heading', {\r\n\t\t\t\t\tcontent: instance.raw.title,\r\n\t\t\t\t} ),\r\n\t\t\t\ttransformedBlock,\r\n\t\t\t];\r\n\t\t},\r\n\t};\r\n} );\r\n\r\nconst transforms = {\r\n\tto: legacyWidgetTransforms,\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { widget as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\ttransforms,\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst group = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default group;\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tBlockIcon,\n\tButtonBlockAppender,\n\tInnerBlocks,\n\tstore as blockEditorStore,\n\tRichText,\n} from '@wordpress/block-editor';\nimport { Placeholder } from '@wordpress/components';\nimport { group as groupIcon } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\nexport default function Edit( props ) {\n\tconst { clientId } = props;\n\tconst { innerBlocks } = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<div { ...useBlockProps( { className: 'widget' } ) }>\n\t\t\t{ innerBlocks.length === 0 ? (\n\t\t\t\t<PlaceholderContent { ...props } />\n\t\t\t) : (\n\t\t\t\t<PreviewContent { ...props } />\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction PlaceholderContent( { clientId } ) {\n\treturn (\n\t\t<>\n\t\t\t<Placeholder\n\t\t\t\tclassName=\"wp-block-widget-group__placeholder\"\n\t\t\t\ticon={ <BlockIcon icon={ groupIcon } /> }\n\t\t\t\tlabel={ __( 'Widget Group' ) }\n\t\t\t>\n\t\t\t\t<ButtonBlockAppender rootClientId={ clientId } />\n\t\t\t</Placeholder>\n\t\t\t<InnerBlocks renderAppender={ false } />\n\t\t</>\n\t);\n}\n\nfunction PreviewContent( { attributes, setAttributes } ) {\n\treturn (\n\t\t<>\n\t\t\t<RichText\n\t\t\t\ttagName=\"h2\"\n\t\t\t\tidentifier=\"title\"\n\t\t\t\tclassName=\"widget-title\"\n\t\t\t\tallowedFormats={ [] }\n\t\t\t\tplaceholder={ __( 'Title' ) }\n\t\t\t\tvalue={ attributes.title ?? '' }\n\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) }\n\t\t\t/>\n\t\t\t<InnerBlocks />\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, RichText } from '@wordpress/block-editor';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t\tinserter: true,\r\n\t\tcustomClassName: true,\r\n\t\treusable: false,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"h2\"\r\n\t\t\t\t\tclassName=\"widget-title\"\r\n\t\t\t\t\tvalue={ attributes.title }\r\n\t\t\t\t/>\r\n\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t</>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { group as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ttitle: __( 'Widget Group' ),\r\n\tdescription: __(\r\n\t\t'Create a classic widget layout with a title that’s styled by your theme for your widget areas.'\r\n\t),\r\n\ticon,\r\n\t__experimentalLabel: ( { name: label } ) => label,\r\n\tedit,\r\n\tsave,\r\n\ttransforms: {\r\n\t\tfrom: [\r\n\t\t\t{\r\n\t\t\t\ttype: 'block',\r\n\t\t\t\tisMultiBlock: true,\r\n\t\t\t\tblocks: [ '*' ],\r\n\t\t\t\tisMatch( attributes, blocks ) {\r\n\t\t\t\t\t// Avoid transforming existing `widget-group` blocks.\r\n\t\t\t\t\treturn ! blocks.some(\r\n\t\t\t\t\t\t( block ) => block.name === 'core/widget-group'\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\t__experimentalConvert( blocks ) {\r\n\t\t\t\t\t// Put the selected blocks inside the new Widget Group's innerBlocks.\r\n\t\t\t\t\tlet innerBlocks = [\r\n\t\t\t\t\t\t...blocks.map( ( block ) => {\r\n\t\t\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t\t\tblock.name,\r\n\t\t\t\t\t\t\t\tblock.attributes,\r\n\t\t\t\t\t\t\t\tblock.innerBlocks\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\t\t// If the first block is a heading then assume this is intended\r\n\t\t\t\t\t// to be the Widget's \"title\".\r\n\t\t\t\t\tconst firstHeadingBlock =\r\n\t\t\t\t\t\tinnerBlocks[ 0 ].name === 'core/heading'\r\n\t\t\t\t\t\t\t? innerBlocks[ 0 ]\r\n\t\t\t\t\t\t\t: null;\r\n\r\n\t\t\t\t\t// Remove the first heading block as we're copying\r\n\t\t\t\t\t// it's content into the Widget Group's title attribute.\r\n\t\t\t\t\tinnerBlocks = innerBlocks.filter(\r\n\t\t\t\t\t\t( block ) => block !== firstHeadingBlock\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t'core/widget-group',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t...( firstHeadingBlock && {\r\n\t\t\t\t\t\t\t\ttitle: firstHeadingBlock.attributes.content,\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinnerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tdeprecated,\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, RichText } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<RichText.Content\r\n\t\t\t\ttagName=\"h2\"\r\n\t\t\t\tclassName=\"widget-title\"\r\n\t\t\t\tvalue={ attributes.title }\r\n\t\t\t/>\r\n\t\t\t<div className=\"wp-widget-group__inner-blocks\">\r\n\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst moveTo = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default moveTo;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tDropdownMenu,\r\n\tMenuGroup,\r\n\tMenuItemsChoice,\r\n\tToolbarGroup,\r\n\tToolbarItem,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { moveTo } from '@wordpress/icons';\r\n\r\nexport default function MoveToWidgetArea( {\r\n\tcurrentWidgetAreaId,\r\n\twidgetAreas,\r\n\tonSelect,\r\n} ) {\r\n\treturn (\r\n\t\t<ToolbarGroup>\r\n\t\t\t<ToolbarItem>\r\n\t\t\t\t{ ( toggleProps ) => (\r\n\t\t\t\t\t<DropdownMenu\r\n\t\t\t\t\t\ticon={ moveTo }\r\n\t\t\t\t\t\tlabel={ __( 'Move to widget area' ) }\r\n\t\t\t\t\t\ttoggleProps={ toggleProps }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ ( { onClose } ) => (\r\n\t\t\t\t\t\t\t<MenuGroup label={ __( 'Move to' ) }>\r\n\t\t\t\t\t\t\t\t<MenuItemsChoice\r\n\t\t\t\t\t\t\t\t\tchoices={ widgetAreas.map(\r\n\t\t\t\t\t\t\t\t\t\t( widgetArea ) => ( {\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: widgetArea.id,\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: widgetArea.name,\r\n\t\t\t\t\t\t\t\t\t\t\tinfo: widgetArea.description,\r\n\t\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\tvalue={ currentWidgetAreaId }\r\n\t\t\t\t\t\t\t\t\tonSelect={ ( value ) => {\r\n\t\t\t\t\t\t\t\t\t\tonSelect( value );\r\n\t\t\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</DropdownMenu>\r\n\t\t\t\t) }\r\n\t\t\t</ToolbarItem>\r\n\t\t</ToolbarGroup>\r\n\t);\r\n}\r\n","// @ts-check\r\n\r\n/**\r\n * Get the internal widget id from block.\r\n *\r\n * @typedef  {Object} Attributes\r\n * @property {string}     __internalWidgetId The internal widget id.\r\n * @typedef  {Object} Block\r\n * @property {Attributes} attributes         The attributes of the block.\r\n *\r\n * @param    {Block}      block              The block.\r\n * @return {string} The internal widget id.\r\n */\r\nexport function getWidgetIdFromBlock( block ) {\r\n\treturn block.attributes.__internalWidgetId;\r\n}\r\n\r\n/**\r\n * Add internal widget id to block's attributes.\r\n *\r\n * @param {Block}  block    The block.\r\n * @param {string} widgetId The widget id.\r\n * @return {Block} The updated block.\r\n */\r\nexport function addWidgetIdToBlock( block, widgetId ) {\r\n\treturn {\r\n\t\t...block,\r\n\t\tattributes: {\r\n\t\t\t...( block.attributes || {} ),\r\n\t\t\t__internalWidgetId: widgetId,\r\n\t\t},\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { subscribe, select, dispatch } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\n\r\nexport default function registerLegacyWidgetVariations( settings ) {\r\n\tconst unsubscribe = subscribe( () => {\r\n\t\tconst hiddenIds =\r\n\t\t\tsettings?.widgetTypesToHideFromLegacyWidgetBlock ?? [];\r\n\t\tconst widgetTypes = select( coreStore )\r\n\t\t\t.getWidgetTypes( { per_page: -1 } )\r\n\t\t\t?.filter( ( widgetType ) => ! hiddenIds.includes( widgetType.id ) );\r\n\t\tif ( widgetTypes ) {\r\n\t\t\tunsubscribe();\r\n\t\t\tdispatch( blocksStore ).addBlockVariations(\r\n\t\t\t\t'core/legacy-widget',\r\n\t\t\t\twidgetTypes.map( ( widgetType ) => ( {\r\n\t\t\t\t\tname: widgetType.id,\r\n\t\t\t\t\ttitle: widgetType.name,\r\n\t\t\t\t\tdescription: widgetType.description,\r\n\t\t\t\t\tattributes: widgetType.is_multi\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\tidBase: widgetType.id,\r\n\t\t\t\t\t\t\t\tinstance: {},\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\tid: widgetType.id,\r\n\t\t\t\t\t\t  },\r\n\t\t\t\t} ) )\r\n\t\t\t);\r\n\t\t}\r\n\t} );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport * as legacyWidget from './blocks/legacy-widget';\r\nimport * as widgetGroup from './blocks/widget-group';\r\n\r\nexport * from './components';\r\nexport * from './utils';\r\n\r\n/**\r\n * Registers the Legacy Widget block.\r\n *\r\n * Note that for the block to be useful, any scripts required by a widget must\r\n * be loaded into the page.\r\n *\r\n * @param {Object} supports Block support settings.\r\n * @see https://developer.wordpress.org/block-editor/how-to-guides/widgets/legacy-widget-block/\r\n */\r\nexport function registerLegacyWidgetBlock( supports = {} ) {\r\n\tconst { metadata, settings, name } = legacyWidget;\r\n\tregisterBlockType(\r\n\t\t{ name, ...metadata },\r\n\t\t{\r\n\t\t\t...settings,\r\n\t\t\tsupports: {\r\n\t\t\t\t...settings.supports,\r\n\t\t\t\t...supports,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n}\r\n\r\n/**\r\n * Registers the Widget Group block.\r\n *\r\n * @param {Object} supports Block support settings.\r\n */\r\nexport function registerWidgetGroupBlock( supports = {} ) {\r\n\tconst { metadata, settings, name } = widgetGroup;\r\n\tregisterBlockType(\r\n\t\t{ name, ...metadata },\r\n\t\t{\r\n\t\t\t...settings,\r\n\t\t\tsupports: {\r\n\t\t\t\t...settings.supports,\r\n\t\t\t\t...supports,\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n}\r\n\r\nexport { default as registerLegacyWidgetVariations } from './register-legacy-widget-variations';\r\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","r","Symbol","toStringTag","value","window","createElement","SVG","xmlns","viewBox","Path","WidgetTypeSelector","selectedId","onSelect","widgetTypes","useSelect","select","_select$getSettings$w","hiddenIds","blockEditorStore","getSettings","widgetTypesToHideFromLegacyWidgetBlock","coreStore","getWidgetTypes","per_page","filter","widgetType","includes","id","__","SelectControl","__nextHasNoMarginBottom","label","options","map","name","onChange","selected","find","isMulti","is_multi","Spinner","InspectorCard","description","className","Control","constructor","idBase","instance","onChangeInstance","onChangeHasPreview","onError","this","_instance","_hasPreview","number","lastNumber","handleFormChange","debounce","bind","handleFormSubmit","initDOM","bindEvents","loadContent","destroy","unbindEvents","element","remove","_this$id","_this$idBase","el","class","form","method","type","content","jQuery","$","on","addEventListener","off","removeEventListener","saveWidget","innerHTML","preview","encodeWidget","hasPreview","isEmptyHTML","hash","formData","serializeForm","document","trigger","error","saveForm","event","preventDefault","tagName","attributes","attribute","entries","setAttribute","child","appendChild","innerText","async","widget","apiFetch","path","data","form_data","rendered_form","response","html","isEmptyNode","node","nodeType","TEXT_NODE","nodeValue","trim","ELEMENT_NODE","hasChildNodes","from","childNodes","every","URLSearchParams","FormData","Form","title","isVisible","isWide","ref","useRef","isMediumLargeViewport","useViewportMatch","outgoingInstances","Set","incomingInstances","createNotice","useDispatch","noticesStore","useEffect","current","has","delete","control","nextInstance","add","console","sprintf","classnames","Popover","focusOnMount","placement","offset","resize","flip","shift","hidden","Preview","isLoaded","setIsLoaded","useState","srcDoc","setSrcDoc","abortController","AbortController","restRoute","signal","fetchPreviewHTML","then","catch","abort","useRefEffect","iframe","setHeight","_iframe$contentDocume","_iframe$contentDocume2","height","Math","max","contentDocument","documentElement","offsetHeight","body","style","IntersectionObserver","ownerDocument","defaultView","intersectionObserver","entry","isIntersecting","threshold","observe","disconnect","Fragment","Placeholder","Disabled","tabIndex","onLoad","target","overflow","NoPreview","ConvertToBlocksButton","clientId","rawInstance","replaceBlocks","ToolbarButton","onClick","createBlock","rawHandler","HTML","text","Empty","setAttributes","icon","BlockIcon","brushIcon","Flex","FlexBlock","NotEmpty","isSelected","setHasPreview","widgetTypeId","record","hasResolved","hasResolvedWidgetType","useEntityRecord","isNavigationMode","setInstance","useCallback","mode","BlockControls","group","raw","InspectorControls","to","block","transform","count","dropdown","displayAsDropdown","showPostCounts","show_date","displayPostDate","postsToShow","commentsToShow","taxonomy","showTagCounts","hierarchical","showHierarchy","url","preload","loop","attachment_id","src","alt","caption","link_classes","linkClass","link_rel","rel","link_target_blank","targetBlack","link_type","linkDestination","link_url","link","size","sizeSlug","width","linkTarget","ids","linkTo","columns","images","show_author","displayAuthor","displayDate","show_summary","displayExcerpt","items","feedURL","itemsToShow","blocks","isMatch","transformedBlock","metadata","$schema","apiVersion","category","textdomain","supports","customClassName","reusable","editorStyle","settings","edit","props","blockProps","useBlockProps","transforms","PlaceholderContent","groupIcon","ButtonBlockAppender","rootClientId","InnerBlocks","renderAppender","PreviewContent","_attributes$title","RichText","identifier","allowedFormats","placeholder","inserter","save","Content","__experimentalLabel","innerBlocks","getBlock","isMultiBlock","some","__experimentalConvert","firstHeadingBlock","deprecated","MoveToWidgetArea","currentWidgetAreaId","widgetAreas","ToolbarGroup","ToolbarItem","toggleProps","DropdownMenu","moveTo","onClose","MenuGroup","MenuItemsChoice","choices","widgetArea","info","getWidgetIdFromBlock","__internalWidgetId","addWidgetIdToBlock","widgetId","registerLegacyWidgetVariations","unsubscribe","subscribe","_settings$widgetTypes","dispatch","blocksStore","addBlockVariations","registerLegacyWidgetBlock","legacyWidget","registerBlockType","registerWidgetGroupBlock","widgetGroup"],"sourceRoot":""}