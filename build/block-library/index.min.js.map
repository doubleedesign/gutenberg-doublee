{"version":3,"file":"./build/block-library/index.min.js","mappings":"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AAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,E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","sources":["webpack://wp/./node_modules/classnames/dedupe.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/fast-deep-equal/es6/index.js","webpack://wp/./node_modules/remove-accents/index.js","../../packages/block-library/src/utils/is-block-metadata-experimental.js","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window \"React\"","webpack://wp/external window [\"wp\",\"primitives\"]","../../packages/icons/src/library/archive.js","../../packages/block-library/src/utils/init-block.js","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"serverSideRender\"]","../../packages/block-library/src/archives/index.js","../../packages/block-library/src/archives/edit.js","../../packages/icons/src/library/comment-author-avatar.js","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"data\"]","../../packages/block-library/src/avatar/hooks.js","webpack://wp/external window [\"wp\",\"element\"]","../../packages/block-library/src/avatar/user-control.js","../../packages/block-library/src/avatar/edit.js","../../packages/block-library/src/avatar/index.js","../../packages/icons/src/library/audio.js","../../packages/block-library/src/audio/deprecated.js","webpack://wp/external window [\"wp\",\"blob\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/./node_modules/memize/dist/index.js","../../packages/block-library/src/embed/constants.js","webpack://wp/external window [\"wp\",\"privateApis\"]","../../packages/block-library/src/lock-unlock.js","../../packages/block-library/src/embed/util.js","../../packages/block-library/src/utils/hooks.js","webpack://wp/external window [\"wp\",\"compose\"]","../../packages/icons/src/library/caption.js","../../packages/block-library/src/utils/caption.js","../../packages/block-library/src/audio/edit.js","../../packages/block-library/src/audio/transforms.js","../../packages/block-library/src/audio/index.js","../../packages/block-library/src/audio/save.js","../../packages/icons/src/library/button.js","../../packages/block-library/src/utils/migrate-font-family.js","../../packages/block-library/src/button/deprecated.js","../../packages/block-library/src/button/constants.js","../../packages/block-library/src/utils/remove-anchor-tag.js","webpack://wp/external window [\"wp\",\"keycodes\"]","../../packages/icons/src/library/link.js","../../packages/icons/src/library/link-off.js","../../packages/block-library/src/button/edit.js","../../packages/block-library/src/button/index.js","../../packages/block-library/src/button/get-updated-link-attributes.js","../../packages/block-library/src/button/save.js","../../packages/icons/src/library/buttons.js","../../packages/block-library/src/buttons/deprecated.js","webpack://wp/external window [\"wp\",\"richText\"]","../../packages/block-library/src/utils/get-transformed-metadata.js","../../packages/block-library/src/buttons/transforms.js","../../packages/block-library/src/buttons/edit.js","../../packages/block-library/src/buttons/index.js","../../packages/block-library/src/buttons/save.js","../../packages/icons/src/library/calendar.js","../../packages/block-library/src/calendar/edit.js","../../packages/block-library/src/calendar/transforms.js","../../packages/block-library/src/calendar/index.js","../../packages/icons/src/library/category.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","../../packages/icons/src/library/pin.js","../../packages/block-library/src/categories/index.js","../../packages/block-library/src/categories/edit.js","../../packages/icons/src/library/classic.js","../../packages/block-library/src/freeform/convert-to-blocks-button.js","../../packages/icons/src/library/fullscreen.js","../../packages/block-library/src/freeform/modal.js","../../packages/block-library/src/freeform/edit.js","../../packages/block-library/src/freeform/index.js","../../packages/block-library/src/freeform/save.js","../../packages/icons/src/library/code.js","../../packages/block-library/src/code/utils.js","../../packages/block-library/src/code/transforms.js","../../packages/block-library/src/code/index.js","../../packages/block-library/src/code/edit.js","../../packages/block-library/src/code/save.js","../../packages/icons/src/library/column.js","../../packages/block-library/src/column/deprecated.js","../../packages/block-library/src/column/index.js","../../packages/block-library/src/column/edit.js","../../packages/block-library/src/column/save.js","../../packages/icons/src/library/columns.js","../../packages/block-library/src/columns/deprecated.js","../../packages/block-library/src/columns/utils.js","../../packages/block-library/src/columns/edit.js","../../packages/block-library/src/columns/variations.js","../../packages/block-library/src/columns/transforms.js","../../packages/block-library/src/columns/index.js","../../packages/block-library/src/columns/save.js","../../packages/icons/src/library/post-comments.js","../../packages/block-library/src/comments/deprecated.js","../../packages/block-library/src/comments/edit/comments-inspector-controls.js","../../packages/block-library/src/post-comments-form/form.js","../../packages/block-library/src/comments/edit/placeholder.js","../../packages/block-library/src/comments/edit/comments-legacy.js","../../packages/block-library/src/comments/edit/template.js","../../packages/block-library/src/comments/index.js","../../packages/block-library/src/comments/edit/index.js","../../packages/block-library/src/comments/save.js","../../packages/block-library/src/comment-author-avatar/index.js","../../packages/block-library/src/comment-author-avatar/edit.js","../../packages/icons/src/library/comment-author-name.js","../../packages/block-library/src/comment-author-name/deprecated.js","../../packages/block-library/src/comment-author-name/index.js","../../packages/block-library/src/comment-author-name/edit.js","../../packages/icons/src/library/comment-content.js","../../packages/block-library/src/comment-content/index.js","../../packages/block-library/src/comment-content/edit.js","../../packages/icons/src/library/post-date.js","webpack://wp/external window [\"wp\",\"date\"]","../../packages/block-library/src/comment-date/deprecated.js","../../packages/block-library/src/comment-date/index.js","../../packages/block-library/src/comment-date/edit.js","../../packages/icons/src/library/comment-edit-link.js","../../packages/block-library/src/comment-edit-link/index.js","../../packages/block-library/src/comment-edit-link/edit.js","../../packages/icons/src/library/comment-reply-link.js","../../packages/block-library/src/comment-reply-link/index.js","../../packages/block-library/src/comment-reply-link/edit.js","../../packages/icons/src/library/layout.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","../../packages/block-library/src/comment-template/hooks.js","../../packages/block-library/src/comment-template/edit.js","../../packages/block-library/src/comment-template/index.js","../../packages/block-library/src/comment-template/save.js","../../packages/icons/src/library/query-pagination-previous.js","../../packages/block-library/src/comments-pagination-previous/edit.js","../../packages/block-library/src/comments-pagination-previous/index.js","../../packages/icons/src/library/query-pagination.js","../../packages/block-library/src/comments-pagination/comments-pagination-arrow-controls.js","../../packages/block-library/src/comments-pagination/edit.js","../../packages/block-library/src/comments-pagination/index.js","../../packages/block-library/src/comments-pagination/save.js","../../packages/icons/src/library/query-pagination-next.js","../../packages/block-library/src/comments-pagination-next/edit.js","../../packages/block-library/src/comments-pagination-next/index.js","../../packages/icons/src/library/query-pagination-numbers.js","../../packages/block-library/src/comments-pagination-numbers/edit.js","../../packages/block-library/src/comments-pagination-numbers/index.js","../../packages/icons/src/library/title.js","../../packages/block-library/src/comments-title/deprecated.js","../../packages/block-library/src/comments-title/index.js","../../packages/block-library/src/comments-title/edit.js","../../packages/icons/src/library/cover.js","../../packages/block-library/src/cover/shared.js","../../packages/block-library/src/cover/deprecated.js","../../packages/block-library/src/cover/edit/inspector-controls.js","../../packages/block-library/src/cover/edit/block-controls.js","../../packages/block-library/src/cover/edit/cover-placeholder.js","../../packages/block-library/src/cover/edit/resizable-cover-popover.js","webpack://wp/./node_modules/colord/index.mjs","webpack://wp/./node_modules/fast-average-color/dist/index.esm.js","webpack://wp/external window [\"wp\",\"hooks\"]","../../packages/block-library/src/cover/edit/color-utils.js","webpack://wp/./node_modules/colord/plugins/names.mjs","../../packages/block-library/src/cover/edit/index.js","../../packages/block-library/src/cover/transforms.js","../../packages/block-library/src/cover/variations.js","../../packages/block-library/src/cover/index.js","../../packages/block-library/src/cover/save.js","../../packages/icons/src/library/details.js","../../packages/block-library/src/details/edit.js","../../packages/block-library/src/details/index.js","../../packages/block-library/src/details/save.js","../../packages/icons/src/library/edit.js","../../packages/icons/src/library/pencil.js","../../packages/block-library/src/embed/embed-controls.js","../../packages/block-library/src/embed/icons.js","../../packages/block-library/src/embed/embed-loading.js","../../packages/block-library/src/embed/embed-placeholder.js","../../packages/block-library/src/embed/wp-embed-preview.js","../../packages/block-library/src/embed/embed-preview.js","../../packages/block-library/src/embed/transforms.js","../../packages/block-library/src/embed/variations.js","../../packages/block-library/src/embed/deprecated.js","../../packages/block-library/src/embed/index.js","../../packages/block-library/src/embed/edit.js","../../packages/block-library/src/embed/save.js","../../packages/icons/src/library/file.js","../../packages/block-library/src/file/deprecated.js","../../packages/block-library/src/file/inspector.js","../../packages/block-library/src/file/utils/index.js","../../packages/block-library/src/file/edit.js","../../packages/block-library/src/file/transforms.js","../../packages/block-library/src/file/index.js","../../packages/block-library/src/file/save.js","../../packages/block-library/src/form/utils.js","../../packages/block-library/src/form/edit.js","../../packages/block-library/src/form/variations.js","../../packages/block-library/src/form/index.js","../../packages/block-library/src/form/save.js","webpack://wp/external window [\"wp\",\"dom\"]","../../packages/block-library/src/form-input/deprecated.js","../../packages/block-library/src/form-input/variations.js","../../packages/block-library/src/form-input/index.js","../../packages/block-library/src/form-input/edit.js","../../packages/block-library/src/form-input/save.js","../../packages/block-library/src/form-submit-button/edit.js","../../packages/block-library/src/form-submit-button/index.js","../../packages/block-library/src/form-submit-button/save.js","../../packages/icons/src/library/group.js","../../packages/block-library/src/form-submission-notification/edit.js","../../packages/block-library/src/form-submission-notification/variations.js","../../packages/block-library/src/form-submission-notification/index.js","../../packages/block-library/src/form-submission-notification/save.js","../../packages/icons/src/library/gallery.js","../../packages/block-library/src/gallery/constants.js","../../packages/block-library/src/gallery/shared.js","../../packages/block-library/src/gallery/deprecated.js","webpack://wp/external window [\"wp\",\"viewport\"]","../../packages/block-library/src/gallery/shared-icon.js","../../packages/block-library/src/image/constants.js","../../packages/block-library/src/gallery/utils.js","../../packages/block-library/src/image/utils.js","../../packages/block-library/src/gallery/gallery.js","../../packages/block-library/src/gallery/use-get-media.js","../../packages/block-library/src/gallery/gap-styles.js","../../packages/block-library/src/gallery/edit.js","../../packages/block-library/src/gallery/use-get-new-images.js","../../packages/block-library/src/gallery/use-image-sizes.js","../../packages/block-library/src/gallery/v1/shared.js","../../packages/icons/src/library/image.js","../../packages/icons/src/library/chevron-left.js","../../packages/icons/src/library/chevron-right.js","../../packages/icons/src/library/close-small.js","../../packages/block-library/src/gallery/v1/constants.js","../../packages/block-library/src/gallery/v1/gallery-image.js","../../packages/block-library/src/gallery/v1/gallery.js","../../packages/block-library/src/gallery/v1/edit.js","../../packages/block-library/src/gallery/edit-wrapper.js","../../packages/block-library/src/gallery/transforms.js","../../packages/block-library/src/gallery/index.js","../../packages/block-library/src/gallery/save.js","../../packages/block-library/src/gallery/v1/save.js","../../packages/block-library/src/group/deprecated.js","../../packages/block-library/src/group/placeholder.js","../../packages/block-library/src/group/edit.js","../../packages/block-library/src/group/transforms.js","../../packages/icons/src/library/row.js","../../packages/icons/src/library/stack.js","../../packages/icons/src/library/grid.js","../../packages/block-library/src/group/variations.js","../../packages/block-library/src/group/index.js","../../packages/block-library/src/group/save.js","../../packages/icons/src/library/heading.js","../../packages/block-library/src/heading/deprecated.js","../../packages/block-library/src/heading/autogenerate-anchors.js","../../packages/block-library/src/heading/transforms.js","../../packages/block-library/src/heading/shared.js","../../packages/block-library/src/heading/index.js","../../packages/block-library/src/heading/edit.js","../../packages/block-library/src/heading/save.js","../../packages/icons/src/library/home.js","../../packages/block-library/src/home-link/edit.js","../../packages/block-library/src/home-link/index.js","../../packages/block-library/src/home-link/save.js","../../packages/icons/src/library/html.js","../../packages/block-library/src/html/preview.js","../../packages/block-library/src/html/transforms.js","../../packages/block-library/src/html/index.js","../../packages/block-library/src/html/edit.js","../../packages/block-library/src/html/save.js","../../packages/block-library/src/image/deprecated.js","../../packages/icons/src/library/plugins.js","../../packages/icons/src/library/crop.js","../../packages/icons/src/library/overlay-text.js","../../packages/icons/src/library/upload.js","../../packages/block-library/src/image/use-client-width.js","../../packages/block-library/src/utils/constants.js","../../packages/block-library/src/image/image.js","../../packages/block-library/src/image/edit.js","../../packages/block-library/src/image/transforms.js","../../packages/block-library/src/image/index.js","../../packages/block-library/src/image/save.js","../../packages/icons/src/library/comment.js","../../packages/block-library/src/latest-comments/index.js","../../packages/block-library/src/latest-comments/edit.js","../../packages/icons/src/library/post-list.js","../../packages/block-library/src/latest-posts/deprecated.js","../../packages/icons/src/library/list.js","../../packages/block-library/src/latest-posts/edit.js","../../packages/block-library/src/latest-posts/index.js","../../packages/block-library/src/latest-posts/constants.js","../../packages/block-library/src/list/utils.js","../../packages/block-library/src/list/deprecated.js","../../packages/icons/src/library/format-outdent-rtl.js","../../packages/icons/src/library/format-outdent.js","../../packages/icons/src/library/format-list-bullets-rtl.js","../../packages/icons/src/library/format-list-bullets.js","../../packages/icons/src/library/format-list-numbered-rtl.js","../../packages/icons/src/library/format-list-numbered.js","webpack://wp/external window [\"wp\",\"deprecated\"]","../../packages/block-library/src/list/ordered-list-settings.js","../../packages/block-library/src/list/tag-name.js","../../packages/block-library/src/list/edit.js","../../packages/block-library/src/list/transforms.js","../../packages/block-library/src/list/index.js","../../packages/block-library/src/list/save.js","../../packages/icons/src/library/list-item.js","../../packages/icons/src/library/format-indent-rtl.js","../../packages/icons/src/library/format-indent.js","../../packages/block-library/src/list-item/hooks/use-indent-list-item.js","../../packages/block-library/src/list-item/hooks/use-outdent-list-item.js","../../packages/block-library/src/list-item/hooks/use-merge.js","../../packages/block-library/src/list-item/utils.js","../../packages/block-library/src/list-item/edit.js","../../packages/block-library/src/list-item/transforms.js","../../packages/block-library/src/list-item/index.js","../../packages/block-library/src/list-item/hooks/use-enter.js","../../packages/block-library/src/list-item/hooks/use-space.js","../../packages/block-library/src/list-item/hooks/use-split.js","../../packages/block-library/src/list-item/save.js","../../packages/icons/src/library/login.js","../../packages/block-library/src/loginout/index.js","../../packages/block-library/src/loginout/edit.js","../../packages/icons/src/library/media-and-text.js","../../packages/block-library/src/media-text/constants.js","../../packages/block-library/src/media-text/deprecated.js","../../packages/icons/src/library/pull-left.js","../../packages/icons/src/library/pull-right.js","../../packages/icons/src/library/media.js","../../packages/block-library/src/media-text/media-container.js","../../packages/block-library/src/media-text/edit.js","../../packages/block-library/src/media-text/save.js","../../packages/block-library/src/media-text/transforms.js","../../packages/block-library/src/media-text/index.js","../../packages/block-library/src/missing/edit.js","../../packages/block-library/src/missing/index.js","../../packages/block-library/src/missing/save.js","../../packages/icons/src/library/more.js","../../packages/block-library/src/more/edit.js","../../packages/block-library/src/more/transforms.js","../../packages/block-library/src/more/index.js","../../packages/block-library/src/more/save.js","../../packages/icons/src/library/navigation.js","webpack://wp/external window [\"wp\",\"a11y\"]","../../packages/icons/src/icon/index.js","../../packages/icons/src/library/close.js","../../packages/block-library/src/navigation/constants.js","../../packages/block-library/src/navigation/use-navigation-menu.js","../../packages/block-library/src/navigation/use-navigation-entities.js","../../packages/block-library/src/navigation/edit/placeholder/placeholder-preview.js","../../packages/icons/src/library/more-vertical.js","../../packages/block-library/src/navigation/edit/navigation-menu-selector.js","../../packages/block-library/src/navigation/edit/placeholder/index.js","../../packages/icons/src/library/menu.js","../../packages/block-library/src/navigation/edit/overlay-menu-icon.js","../../packages/block-library/src/navigation/edit/responsive-wrapper.js","../../packages/block-library/src/navigation/edit/inner-blocks.js","../../packages/block-library/src/navigation/edit/navigation-menu-name-control.js","../../packages/block-library/src/navigation/edit/are-blocks-dirty.js","../../packages/block-library/src/navigation/edit/unsaved-inner-blocks.js","../../packages/block-library/src/navigation/edit/navigation-menu-delete-control.js","../../packages/block-library/src/navigation/edit/use-navigation-notice.js","../../packages/block-library/src/navigation/edit/overlay-menu-preview.js","../../packages/block-library/src/navigation/menu-items-to-blocks.js","../../packages/block-library/src/navigation/edit/use-convert-classic-menu-to-block-menu.js","../../packages/block-library/src/template-part/edit/utils/create-template-part-id.js","../../packages/block-library/src/navigation/edit/use-generate-default-navigation-title.js","../../packages/block-library/src/navigation/edit/use-create-navigation-menu.js","../../packages/block-library/src/navigation/edit/use-inner-blocks.js","../../packages/block-library/src/navigation/edit/utils.js","../../packages/block-library/src/navigation/edit/manage-menus-button.js","../../packages/block-library/src/navigation/edit/deleted-navigation-warning.js","../../packages/icons/src/library/add-submenu.js","../../packages/icons/src/library/chevron-up.js","../../packages/icons/src/library/chevron-down.js","../../packages/block-library/src/navigation/edit/leaf-more-menu.js","webpack://wp/external window [\"wp\",\"escapeHtml\"]","../../packages/block-library/src/navigation-link/update-attributes.js","../../packages/icons/src/library/chevron-left-small.js","../../packages/icons/src/library/plus.js","../../packages/block-library/src/navigation-link/link-ui.js","../../packages/block-library/src/navigation/edit/menu-inspector-controls.js","../../packages/block-library/src/navigation/edit/accessible-description.js","../../packages/block-library/src/navigation/edit/accessible-menu-description.js","../../packages/block-library/src/navigation/edit/index.js","../../packages/block-library/src/navigation/use-template-part-area-label.js","../../packages/block-library/src/navigation/deprecated.js","../../packages/block-library/src/navigation/index.js","../../packages/block-library/src/navigation/save.js","../../packages/icons/src/library/custom-link.js","../../packages/block-library/src/navigation-link/edit.js","../../packages/icons/src/library/page.js","../../packages/icons/src/library/tag.js","../../packages/icons/src/library/custom-post-type.js","../../packages/block-library/src/navigation-link/hooks.js","../../packages/block-library/src/navigation-link/transforms.js","../../packages/block-library/src/navigation-link/index.js","../../packages/block-library/src/navigation-link/save.js","../../packages/icons/src/library/remove-submenu.js","../../packages/block-library/src/navigation-submenu/icons.js","../../packages/block-library/src/navigation-submenu/edit.js","../../packages/block-library/src/navigation-submenu/transforms.js","../../packages/block-library/src/navigation-submenu/index.js","../../packages/block-library/src/navigation-submenu/save.js","../../packages/icons/src/library/page-break.js","../../packages/block-library/src/nextpage/transforms.js","../../packages/block-library/src/nextpage/index.js","../../packages/block-library/src/nextpage/edit.js","../../packages/block-library/src/nextpage/save.js","../../packages/block-library/src/pattern/recursion-detector.js","../../packages/block-library/src/pattern/edit.js","../../packages/block-library/src/pattern/index.js","../../packages/icons/src/library/pages.js","../../packages/block-library/src/page-list/use-convert-to-navigation-links.js","../../packages/block-library/src/page-list/convert-to-links-modal.js","../../packages/block-library/src/page-list/edit.js","../../packages/block-library/src/page-list/index.js","../../packages/block-library/src/navigation-link/icons.js","../../packages/block-library/src/page-list-item/index.js","../../packages/block-library/src/page-list-item/edit.js","../../packages/icons/src/library/paragraph.js","../../packages/block-library/src/paragraph/deprecated.js","../../packages/icons/src/library/format-ltr.js","../../packages/block-library/src/paragraph/use-enter.js","../../packages/block-library/src/paragraph/edit.js","../../packages/block-library/src/paragraph/transforms.js","../../packages/block-library/src/paragraph/index.js","../../packages/block-library/src/paragraph/save.js","../../packages/icons/src/library/post-author.js","../../packages/block-library/src/post-author/edit.js","../../packages/block-library/src/post-author/index.js","../../packages/block-library/src/post-author-name/transforms.js","../../packages/block-library/src/post-author-name/index.js","../../packages/block-library/src/post-author-name/edit.js","../../packages/block-library/src/post-author-biography/index.js","../../packages/block-library/src/post-author-biography/edit.js","../../packages/icons/src/library/block-default.js","../../packages/block-library/src/post-comment/edit.js","../../packages/block-library/src/post-comment/index.js","../../packages/block-library/src/post-comment/save.js","../../packages/icons/src/library/post-comments-count.js","../../packages/block-library/src/post-comments-count/index.js","../../packages/block-library/src/post-comments-count/edit.js","../../packages/icons/src/library/post-comments-form.js","../../packages/block-library/src/post-comments-form/index.js","../../packages/block-library/src/post-comments-form/edit.js","../../packages/block-library/src/post-comments-link/index.js","../../packages/block-library/src/post-comments-link/edit.js","../../packages/icons/src/library/post-content.js","../../packages/block-library/src/post-content/edit.js","../../packages/block-library/src/post-content/index.js","../../packages/block-library/src/post-date/edit.js","../../packages/block-library/src/post-date/deprecated.js","../../packages/block-library/src/post-date/variations.js","../../packages/block-library/src/post-date/index.js","../../packages/icons/src/library/post-excerpt.js","../../packages/block-library/src/post-excerpt/transforms.js","../../packages/block-library/src/post-excerpt/index.js","../../packages/block-library/src/post-excerpt/edit.js","../../packages/icons/src/library/post-featured-image.js","../../packages/block-library/src/post-featured-image/dimension-controls.js","../../packages/block-library/src/post-featured-image/overlay-controls.js","../../packages/block-library/src/post-featured-image/overlay.js","../../packages/block-library/src/post-featured-image/utils.js","../../packages/block-library/src/post-featured-image/edit.js","../../packages/block-library/src/post-featured-image/index.js","../../packages/icons/src/library/next.js","../../packages/icons/src/library/previous.js","../../packages/block-library/src/post-navigation-link/variations.js","../../packages/block-library/src/post-navigation-link/index.js","../../packages/block-library/src/post-navigation-link/edit.js","../../packages/block-library/src/post-template/edit.js","../../packages/block-library/src/post-template/index.js","../../packages/block-library/src/post-template/save.js","../../packages/icons/src/library/post-categories.js","../../packages/block-library/src/post-terms/use-post-terms.js","../../packages/block-library/src/post-terms/edit.js","../../packages/icons/src/library/post-terms.js","../../packages/block-library/src/post-terms/hooks.js","../../packages/block-library/src/post-terms/index.js","webpack://wp/external window [\"wp\",\"wordcount\"]","../../packages/block-library/src/post-time-to-read/icon.js","../../packages/block-library/src/post-time-to-read/index.js","../../packages/block-library/src/post-time-to-read/edit.js","../../packages/block-library/src/post-title/deprecated.js","../../packages/block-library/src/post-title/index.js","../../packages/block-library/src/post-title/edit.js","../../packages/icons/src/library/preformatted.js","../../packages/block-library/src/preformatted/transforms.js","../../packages/block-library/src/preformatted/index.js","../../packages/block-library/src/preformatted/edit.js","../../packages/block-library/src/preformatted/save.js","../../packages/icons/src/library/pullquote.js","../../packages/block-library/src/pullquote/shared.js","../../packages/block-library/src/pullquote/deprecated.js","../../packages/block-library/src/pullquote/edit.js","../../packages/block-library/src/pullquote/transforms.js","../../packages/block-library/src/pullquote/index.js","../../packages/block-library/src/pullquote/figure.js","../../packages/block-library/src/pullquote/blockquote.js","../../packages/block-library/src/pullquote/save.js","../../packages/icons/src/library/loop.js","../../packages/icons/src/library/settings.js","../../packages/block-library/src/query/utils.js","../../packages/block-library/src/query/edit/query-toolbar.js","../../packages/block-library/src/query/edit/inspector-controls/order-control.js","../../packages/block-library/src/query/edit/inspector-controls/author-control.js","../../packages/block-library/src/query/edit/inspector-controls/parent-control.js","../../packages/block-library/src/query/edit/inspector-controls/taxonomy-controls.js","../../packages/block-library/src/query/edit/inspector-controls/sticky-control.js","../../packages/block-library/src/query/edit/inspector-controls/enhanced-pagination-control.js","../../packages/block-library/src/query/edit/inspector-controls/create-new-post-link.js","../../packages/block-library/src/query/edit/inspector-controls/index.js","../../packages/block-library/src/query/edit/enhanced-pagination-modal.js","../../packages/block-library/src/query/edit/query-content.js","../../packages/block-library/src/query/edit/query-placeholder.js","../../packages/block-library/src/utils/search-patterns.js","../../packages/block-library/src/query/edit/pattern-selection-modal.js","../../packages/block-library/src/query/edit/index.js","../../packages/block-library/src/query/icons.js","../../packages/block-library/src/query/variations.js","../../packages/block-library/src/query/deprecated.js","../../packages/block-library/src/query/index.js","../../packages/block-library/src/query/save.js","../../packages/block-library/src/query-no-results/edit.js","../../packages/block-library/src/query-no-results/index.js","../../packages/block-library/src/query-no-results/save.js","../../packages/block-library/src/query-pagination/query-pagination-arrow-controls.js","../../packages/block-library/src/query-pagination/query-pagination-label-control.js","../../packages/block-library/src/query-pagination/edit.js","../../packages/block-library/src/query-pagination/deprecated.js","../../packages/block-library/src/query-pagination/index.js","../../packages/block-library/src/query-pagination/save.js","../../packages/block-library/src/query-pagination-next/edit.js","../../packages/block-library/src/query-pagination-next/index.js","../../packages/block-library/src/query-pagination-numbers/edit.js","../../packages/block-library/src/query-pagination-numbers/index.js","../../packages/block-library/src/query-pagination-previous/edit.js","../../packages/block-library/src/query-pagination-previous/index.js","../../packages/block-library/src/query-title/edit.js","../../packages/block-library/src/query-title/variations.js","../../packages/block-library/src/query-title/deprecated.js","../../packages/block-library/src/query-title/index.js","../../packages/icons/src/library/quote.js","../../packages/block-library/src/quote/deprecated.js","../../packages/icons/src/library/verse.js","../../packages/block-library/src/quote/edit.js","../../packages/block-library/src/quote/transforms.js","../../packages/block-library/src/quote/index.js","../../packages/block-library/src/quote/save.js","../../packages/icons/src/library/symbol.js","webpack://wp/external window [\"wp\",\"patterns\"]","../../packages/block-library/src/block/edit.js","../../packages/block-library/src/block/deprecated.js","../../packages/block-library/src/block/index.js","../../packages/block-library/src/read-more/index.js","../../packages/block-library/src/read-more/edit.js","../../packages/icons/src/library/rss.js","../../packages/block-library/src/rss/index.js","../../packages/block-library/src/rss/edit.js","../../packages/icons/src/library/search.js","../../packages/block-library/src/search/icons.js","../../packages/block-library/src/search/utils.js","../../packages/block-library/src/search/variations.js","../../packages/block-library/src/search/index.js","../../packages/block-library/src/search/edit.js","../../packages/icons/src/library/separator.js","../../packages/block-library/src/separator/transforms.js","../../packages/block-library/src/separator/deprecated.js","../../packages/block-library/src/separator/index.js","../../packages/block-library/src/separator/edit.js","../../packages/block-library/src/separator/use-deprecated-opacity.js","../../packages/block-library/src/separator/save.js","../../packages/icons/src/library/shortcode.js","webpack://wp/external window [\"wp\",\"autop\"]","../../packages/block-library/src/shortcode/transforms.js","../../packages/block-library/src/shortcode/index.js","../../packages/block-library/src/shortcode/edit.js","../../packages/block-library/src/shortcode/save.js","../../packages/icons/src/library/site-logo.js","../../packages/block-library/src/site-logo/edit.js","../../packages/block-library/src/site-logo/transforms.js","../../packages/block-library/src/site-logo/index.js","../../packages/block-library/src/site-tagline/edit.js","../../packages/block-library/src/site-tagline/icon.js","../../packages/block-library/src/site-tagline/deprecated.js","../../packages/block-library/src/site-tagline/index.js","../../packages/icons/src/library/map-marker.js","../../packages/block-library/src/site-title/edit.js","../../packages/block-library/src/site-title/deprecated.js","../../packages/block-library/src/site-title/transforms.js","../../packages/block-library/src/site-title/index.js","../../packages/icons/src/library/share.js","../../packages/icons/src/library/keyboard-return.js","../../packages/block-library/src/social-link/icons/chain.js","../../packages/block-library/src/social-link/variations.js","../../packages/block-library/src/social-link/icons/wordpress.js","../../packages/block-library/src/social-link/icons/fivehundredpx.js","../../packages/block-library/src/social-link/icons/amazon.js","../../packages/block-library/src/social-link/icons/bandcamp.js","../../packages/block-library/src/social-link/icons/behance.js","../../packages/block-library/src/social-link/icons/codepen.js","../../packages/block-library/src/social-link/icons/deviantart.js","../../packages/block-library/src/social-link/icons/dribbble.js","../../packages/block-library/src/social-link/icons/dropbox.js","../../packages/block-library/src/social-link/icons/etsy.js","../../packages/block-library/src/social-link/icons/facebook.js","../../packages/block-library/src/social-link/icons/feed.js","../../packages/block-library/src/social-link/icons/flickr.js","../../packages/block-library/src/social-link/icons/foursquare.js","../../packages/block-library/src/social-link/icons/goodreads.js","../../packages/block-library/src/social-link/icons/google.js","../../packages/block-library/src/social-link/icons/github.js","../../packages/block-library/src/social-link/icons/gravatar.js","../../packages/block-library/src/social-link/icons/instagram.js","../../packages/block-library/src/social-link/icons/lastfm.js","../../packages/block-library/src/social-link/icons/linkedin.js","../../packages/block-library/src/social-link/icons/mail.js","../../packages/block-library/src/social-link/icons/mastodon.js","../../packages/block-library/src/social-link/icons/meetup.js","../../packages/block-library/src/social-link/icons/medium.js","../../packages/block-library/src/social-link/icons/patreon.js","../../packages/block-library/src/social-link/icons/pinterest.js","../../packages/block-library/src/social-link/icons/pocket.js","../../packages/block-library/src/social-link/icons/reddit.js","../../packages/block-library/src/social-link/icons/skype.js","../../packages/block-library/src/social-link/icons/snapchat.js","../../packages/block-library/src/social-link/icons/soundcloud.js","../../packages/block-library/src/social-link/icons/spotify.js","../../packages/block-library/src/social-link/icons/telegram.js","../../packages/block-library/src/social-link/icons/threads.js","../../packages/block-library/src/social-link/icons/tiktok.js","../../packages/block-library/src/social-link/icons/tumblr.js","../../packages/block-library/src/social-link/icons/twitch.js","../../packages/block-library/src/social-link/icons/twitter.js","../../packages/block-library/src/social-link/icons/vimeo.js","../../packages/block-library/src/social-link/icons/vk.js","../../packages/block-library/src/social-link/icons/whatsapp.js","../../packages/block-library/src/social-link/icons/x.js","../../packages/block-library/src/social-link/icons/yelp.js","../../packages/block-library/src/social-link/icons/youtube.js","../../packages/block-library/src/social-link/edit.js","../../packages/block-library/src/social-link/index.js","../../packages/block-library/src/social-link/social-list.js","../../packages/block-library/src/social-links/deprecated.js","../../packages/icons/src/library/check.js","../../packages/block-library/src/social-links/edit.js","../../packages/block-library/src/social-links/index.js","../../packages/block-library/src/social-links/save.js","../../packages/icons/src/library/resize-corner-n-e.js","../../packages/block-library/src/spacer/deprecated.js","../../packages/block-library/src/spacer/constants.js","../../packages/block-library/src/spacer/controls.js","../../packages/block-library/src/spacer/edit.js","../../packages/block-library/src/spacer/index.js","../../packages/block-library/src/spacer/save.js","../../packages/icons/src/library/block-table.js","../../packages/block-library/src/table/deprecated.js","../../packages/icons/src/library/align-left.js","../../packages/icons/src/library/align-center.js","../../packages/icons/src/library/align-right.js","../../packages/icons/src/library/table-row-before.js","../../packages/icons/src/library/table-row-after.js","../../packages/icons/src/library/table-row-delete.js","../../packages/icons/src/library/table-column-before.js","../../packages/icons/src/library/table-column-after.js","../../packages/icons/src/library/table-column-delete.js","../../packages/icons/src/library/table.js","../../packages/block-library/src/table/state.js","../../packages/block-library/src/table/edit.js","../../packages/block-library/src/table/utils.js","../../packages/block-library/src/table/transforms.js","../../packages/block-library/src/table/index.js","../../packages/block-library/src/table/save.js","../../packages/icons/src/library/table-of-contents.js","../../packages/block-library/src/table-of-contents/list.tsx","../../packages/block-library/src/table-of-contents/utils.ts","../../packages/block-library/src/table-of-contents/index.js","../../packages/block-library/src/table-of-contents/edit.js","../../packages/block-library/src/table-of-contents/hooks.js","../../packages/block-library/src/table-of-contents/save.js","../../packages/block-library/src/tag-cloud/transforms.js","../../packages/block-library/src/tag-cloud/index.js","../../packages/block-library/src/tag-cloud/edit.js","webpack://wp/./node_modules/tslib/tslib.es6.mjs","webpack://wp/./node_modules/lower-case/src/index.ts","webpack://wp/./node_modules/no-case/src/index.ts","webpack://wp/./node_modules/capital-case/src/index.ts","webpack://wp/./node_modules/upper-case-first/src/index.ts","../../packages/icons/src/library/symbol-filled.js","webpack://wp/./node_modules/param-case/src/index.ts","webpack://wp/./node_modules/dot-case/src/index.ts","../../packages/block-library/src/template-part/edit/utils/hooks.js","../../packages/block-library/src/template-part/edit/title-modal.js","../../packages/block-library/src/template-part/edit/placeholder.js","../../packages/block-library/src/template-part/edit/selection-modal.js","../../packages/block-library/src/template-part/edit/utils/map-template-part-to-block-pattern.js","../../packages/block-library/src/template-part/edit/utils/transformers.js","../../packages/block-library/src/template-part/edit/import-controls.js","../../packages/block-library/src/template-part/edit/advanced-controls.js","../../packages/block-library/src/template-part/edit/inner-blocks.js","../../packages/block-library/src/template-part/edit/index.js","../../packages/icons/src/library/header.js","../../packages/icons/src/library/footer.js","../../packages/icons/src/library/sidebar.js","../../packages/block-library/src/template-part/variations.js","../../packages/block-library/src/template-part/index.js","../../packages/icons/src/library/term-description.js","../../packages/block-library/src/term-description/index.js","../../packages/block-library/src/term-description/edit.js","../../packages/block-library/src/text-columns/transforms.js","../../packages/block-library/src/text-columns/index.js","../../packages/block-library/src/text-columns/edit.js","../../packages/block-library/src/text-columns/save.js","../../packages/block-library/src/tiles/utils.js","../../packages/block-library/src/tiles/edit.js","../../packages/block-library/src/tiles/variations.js","../../packages/block-library/src/tiles/index.js","../../packages/block-library/src/tiles/save.js","../../packages/block-library/src/tile/edit.js","../../packages/block-library/src/tile/index.js","../../packages/block-library/src/tile/save.js","../../packages/block-library/src/verse/deprecated.js","../../packages/block-library/src/verse/transforms.js","../../packages/block-library/src/verse/index.js","../../packages/block-library/src/verse/edit.js","../../packages/block-library/src/verse/save.js","../../packages/icons/src/library/video.js","../../packages/block-library/src/video/tracks.js","../../packages/block-library/src/video/deprecated.js","../../packages/block-library/src/video/edit-common-settings.js","../../packages/block-library/src/video/tracks-editor.js","../../packages/block-library/src/video/edit.js","../../packages/block-library/src/video/transforms.js","../../packages/block-library/src/video/index.js","../../packages/block-library/src/video/save.js","webpack://wp/./packages/block-library/node_modules/uuid/dist/esm-browser/rng.js","webpack://wp/./packages/block-library/node_modules/uuid/dist/esm-browser/regex.js","webpack://wp/./packages/block-library/node_modules/uuid/dist/esm-browser/stringify.js","webpack://wp/./packages/block-library/node_modules/uuid/dist/esm-browser/validate.js","webpack://wp/./packages/block-library/node_modules/uuid/dist/esm-browser/v4.js","../../packages/block-library/src/footnotes/format.js","../../packages/block-library/src/footnotes/index.js","../../packages/block-library/src/footnotes/edit.js","../../packages/block-library/src/index.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar classNames = (function () {\n\t\t// don't inherit from Object so we can skip hasOwnProperty check later\n\t\t// http://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull#answer-21079232\n\t\tfunction StorageObject() {}\n\t\tStorageObject.prototype = Object.create(null);\n\n\t\tfunction _parseArray (resultSet, array) {\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\t_parse(resultSet, array[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction _parseNumber (resultSet, num) {\n\t\t\tresultSet[num] = true;\n\t\t}\n\n\t\tfunction _parseObject (resultSet, object) {\n\t\t\tif (object.toString === Object.prototype.toString) {\n\t\t\t\tfor (var k in object) {\n\t\t\t\t\tif (hasOwn.call(object, k)) {\n\t\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n\t\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n\t\t\t\t\t\tresultSet[k] = !!object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresultSet[object.toString()] = true;\n\t\t\t}\n\t\t}\n\n\t\tvar SPACE = /\\s+/;\n\t\tfunction _parseString (resultSet, str) {\n\t\t\tvar array = str.split(SPACE);\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\tresultSet[array[i]] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _parse (resultSet, arg) {\n\t\t\tif (!arg) return;\n\t\t\tvar argType = typeof arg;\n\n\t\t\t// 'foo bar'\n\t\t\tif (argType === 'string') {\n\t\t\t\t_parseString(resultSet, arg);\n\n\t\t\t// ['foo', 'bar', ...]\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t_parseArray(resultSet, arg);\n\n\t\t\t// { 'foo': true, ... }\n\t\t\t} else if (argType === 'object') {\n\t\t\t\t_parseObject(resultSet, arg);\n\n\t\t\t// '130'\n\t\t\t} else if (argType === 'number') {\n\t\t\t\t_parseNumber(resultSet, arg);\n\t\t\t}\n\t\t}\n\n\t\tfunction _classNames () {\n\t\t\t// don't leak arguments\n\t\t\t// https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n\t\t\tvar len = arguments.length;\n\t\t\tvar args = Array(len);\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\targs[i] = arguments[i];\n\t\t\t}\n\n\t\t\tvar classSet = new StorageObject();\n\t\t\t_parseArray(classSet, args);\n\n\t\t\tvar list = [];\n\n\t\t\tfor (var k in classSet) {\n\t\t\t\tif (classSet[k]) {\n\t\t\t\t\tlist.push(k)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list.join(' ');\n\t\t}\n\n\t\treturn _classNames;\n\t})();\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","var characterMap = {\n\t\"À\": \"A\",\n\t\"Á\": \"A\",\n\t\"Â\": \"A\",\n\t\"Ã\": \"A\",\n\t\"Ä\": \"A\",\n\t\"Å\": \"A\",\n\t\"Ấ\": \"A\",\n\t\"Ắ\": \"A\",\n\t\"Ẳ\": \"A\",\n\t\"Ẵ\": \"A\",\n\t\"Ặ\": \"A\",\n\t\"Æ\": \"AE\",\n\t\"Ầ\": \"A\",\n\t\"Ằ\": \"A\",\n\t\"Ȃ\": \"A\",\n\t\"Ả\": \"A\",\n\t\"Ạ\": \"A\",\n\t\"Ẩ\": \"A\",\n\t\"Ẫ\": \"A\",\n\t\"Ậ\": \"A\",\n\t\"Ç\": \"C\",\n\t\"Ḉ\": \"C\",\n\t\"È\": \"E\",\n\t\"É\": \"E\",\n\t\"Ê\": \"E\",\n\t\"Ë\": \"E\",\n\t\"Ế\": \"E\",\n\t\"Ḗ\": \"E\",\n\t\"Ề\": \"E\",\n\t\"Ḕ\": \"E\",\n\t\"Ḝ\": \"E\",\n\t\"Ȇ\": \"E\",\n\t\"Ẻ\": \"E\",\n\t\"Ẽ\": \"E\",\n\t\"Ẹ\": \"E\",\n\t\"Ể\": \"E\",\n\t\"Ễ\": \"E\",\n\t\"Ệ\": \"E\",\n\t\"Ì\": \"I\",\n\t\"Í\": \"I\",\n\t\"Î\": \"I\",\n\t\"Ï\": \"I\",\n\t\"Ḯ\": \"I\",\n\t\"Ȋ\": \"I\",\n\t\"Ỉ\": \"I\",\n\t\"Ị\": \"I\",\n\t\"Ð\": \"D\",\n\t\"Ñ\": \"N\",\n\t\"Ò\": \"O\",\n\t\"Ó\": \"O\",\n\t\"Ô\": \"O\",\n\t\"Õ\": \"O\",\n\t\"Ö\": \"O\",\n\t\"Ø\": \"O\",\n\t\"Ố\": \"O\",\n\t\"Ṍ\": \"O\",\n\t\"Ṓ\": \"O\",\n\t\"Ȏ\": \"O\",\n\t\"Ỏ\": \"O\",\n\t\"Ọ\": \"O\",\n\t\"Ổ\": \"O\",\n\t\"Ỗ\": \"O\",\n\t\"Ộ\": \"O\",\n\t\"Ờ\": \"O\",\n\t\"Ở\": \"O\",\n\t\"Ỡ\": \"O\",\n\t\"Ớ\": \"O\",\n\t\"Ợ\": \"O\",\n\t\"Ù\": \"U\",\n\t\"Ú\": \"U\",\n\t\"Û\": \"U\",\n\t\"Ü\": \"U\",\n\t\"Ủ\": \"U\",\n\t\"Ụ\": \"U\",\n\t\"Ử\": \"U\",\n\t\"Ữ\": \"U\",\n\t\"Ự\": \"U\",\n\t\"Ý\": \"Y\",\n\t\"à\": \"a\",\n\t\"á\": \"a\",\n\t\"â\": \"a\",\n\t\"ã\": \"a\",\n\t\"ä\": \"a\",\n\t\"å\": \"a\",\n\t\"ấ\": \"a\",\n\t\"ắ\": \"a\",\n\t\"ẳ\": \"a\",\n\t\"ẵ\": \"a\",\n\t\"ặ\": \"a\",\n\t\"æ\": \"ae\",\n\t\"ầ\": \"a\",\n\t\"ằ\": \"a\",\n\t\"ȃ\": \"a\",\n\t\"ả\": \"a\",\n\t\"ạ\": \"a\",\n\t\"ẩ\": \"a\",\n\t\"ẫ\": \"a\",\n\t\"ậ\": \"a\",\n\t\"ç\": \"c\",\n\t\"ḉ\": \"c\",\n\t\"è\": \"e\",\n\t\"é\": \"e\",\n\t\"ê\": \"e\",\n\t\"ë\": \"e\",\n\t\"ế\": \"e\",\n\t\"ḗ\": \"e\",\n\t\"ề\": \"e\",\n\t\"ḕ\": \"e\",\n\t\"ḝ\": \"e\",\n\t\"ȇ\": \"e\",\n\t\"ẻ\": \"e\",\n\t\"ẽ\": \"e\",\n\t\"ẹ\": \"e\",\n\t\"ể\": \"e\",\n\t\"ễ\": \"e\",\n\t\"ệ\": \"e\",\n\t\"ì\": \"i\",\n\t\"í\": \"i\",\n\t\"î\": \"i\",\n\t\"ï\": \"i\",\n\t\"ḯ\": \"i\",\n\t\"ȋ\": \"i\",\n\t\"ỉ\": \"i\",\n\t\"ị\": \"i\",\n\t\"ð\": \"d\",\n\t\"ñ\": \"n\",\n\t\"ò\": \"o\",\n\t\"ó\": \"o\",\n\t\"ô\": \"o\",\n\t\"õ\": \"o\",\n\t\"ö\": \"o\",\n\t\"ø\": \"o\",\n\t\"ố\": \"o\",\n\t\"ṍ\": \"o\",\n\t\"ṓ\": \"o\",\n\t\"ȏ\": \"o\",\n\t\"ỏ\": \"o\",\n\t\"ọ\": \"o\",\n\t\"ổ\": \"o\",\n\t\"ỗ\": \"o\",\n\t\"ộ\": \"o\",\n\t\"ờ\": \"o\",\n\t\"ở\": \"o\",\n\t\"ỡ\": \"o\",\n\t\"ớ\": \"o\",\n\t\"ợ\": \"o\",\n\t\"ù\": \"u\",\n\t\"ú\": \"u\",\n\t\"û\": \"u\",\n\t\"ü\": \"u\",\n\t\"ủ\": \"u\",\n\t\"ụ\": \"u\",\n\t\"ử\": \"u\",\n\t\"ữ\": \"u\",\n\t\"ự\": \"u\",\n\t\"ý\": \"y\",\n\t\"ÿ\": \"y\",\n\t\"Ā\": \"A\",\n\t\"ā\": \"a\",\n\t\"Ă\": \"A\",\n\t\"ă\": \"a\",\n\t\"Ą\": \"A\",\n\t\"ą\": \"a\",\n\t\"Ć\": \"C\",\n\t\"ć\": \"c\",\n\t\"Ĉ\": \"C\",\n\t\"ĉ\": \"c\",\n\t\"Ċ\": \"C\",\n\t\"ċ\": \"c\",\n\t\"Č\": \"C\",\n\t\"č\": \"c\",\n\t\"C̆\": \"C\",\n\t\"c̆\": \"c\",\n\t\"Ď\": \"D\",\n\t\"ď\": \"d\",\n\t\"Đ\": \"D\",\n\t\"đ\": \"d\",\n\t\"Ē\": \"E\",\n\t\"ē\": \"e\",\n\t\"Ĕ\": \"E\",\n\t\"ĕ\": \"e\",\n\t\"Ė\": \"E\",\n\t\"ė\": \"e\",\n\t\"Ę\": \"E\",\n\t\"ę\": \"e\",\n\t\"Ě\": \"E\",\n\t\"ě\": \"e\",\n\t\"Ĝ\": \"G\",\n\t\"Ǵ\": \"G\",\n\t\"ĝ\": \"g\",\n\t\"ǵ\": \"g\",\n\t\"Ğ\": \"G\",\n\t\"ğ\": \"g\",\n\t\"Ġ\": \"G\",\n\t\"ġ\": \"g\",\n\t\"Ģ\": \"G\",\n\t\"ģ\": \"g\",\n\t\"Ĥ\": \"H\",\n\t\"ĥ\": \"h\",\n\t\"Ħ\": \"H\",\n\t\"ħ\": \"h\",\n\t\"Ḫ\": \"H\",\n\t\"ḫ\": \"h\",\n\t\"Ĩ\": \"I\",\n\t\"ĩ\": \"i\",\n\t\"Ī\": \"I\",\n\t\"ī\": \"i\",\n\t\"Ĭ\": \"I\",\n\t\"ĭ\": \"i\",\n\t\"Į\": \"I\",\n\t\"į\": \"i\",\n\t\"İ\": \"I\",\n\t\"ı\": \"i\",\n\t\"Ĳ\": \"IJ\",\n\t\"ĳ\": \"ij\",\n\t\"Ĵ\": \"J\",\n\t\"ĵ\": \"j\",\n\t\"Ķ\": \"K\",\n\t\"ķ\": \"k\",\n\t\"Ḱ\": \"K\",\n\t\"ḱ\": \"k\",\n\t\"K̆\": \"K\",\n\t\"k̆\": \"k\",\n\t\"Ĺ\": \"L\",\n\t\"ĺ\": \"l\",\n\t\"Ļ\": \"L\",\n\t\"ļ\": \"l\",\n\t\"Ľ\": \"L\",\n\t\"ľ\": \"l\",\n\t\"Ŀ\": \"L\",\n\t\"ŀ\": \"l\",\n\t\"Ł\": \"l\",\n\t\"ł\": \"l\",\n\t\"Ḿ\": \"M\",\n\t\"ḿ\": \"m\",\n\t\"M̆\": \"M\",\n\t\"m̆\": \"m\",\n\t\"Ń\": \"N\",\n\t\"ń\": \"n\",\n\t\"Ņ\": \"N\",\n\t\"ņ\": \"n\",\n\t\"Ň\": \"N\",\n\t\"ň\": \"n\",\n\t\"ŉ\": \"n\",\n\t\"N̆\": \"N\",\n\t\"n̆\": \"n\",\n\t\"Ō\": \"O\",\n\t\"ō\": \"o\",\n\t\"Ŏ\": \"O\",\n\t\"ŏ\": \"o\",\n\t\"Ő\": \"O\",\n\t\"ő\": \"o\",\n\t\"Œ\": \"OE\",\n\t\"œ\": \"oe\",\n\t\"P̆\": \"P\",\n\t\"p̆\": \"p\",\n\t\"Ŕ\": \"R\",\n\t\"ŕ\": \"r\",\n\t\"Ŗ\": \"R\",\n\t\"ŗ\": \"r\",\n\t\"Ř\": \"R\",\n\t\"ř\": \"r\",\n\t\"R̆\": \"R\",\n\t\"r̆\": \"r\",\n\t\"Ȓ\": \"R\",\n\t\"ȓ\": \"r\",\n\t\"Ś\": \"S\",\n\t\"ś\": \"s\",\n\t\"Ŝ\": \"S\",\n\t\"ŝ\": \"s\",\n\t\"Ş\": \"S\",\n\t\"Ș\": \"S\",\n\t\"ș\": \"s\",\n\t\"ş\": \"s\",\n\t\"Š\": \"S\",\n\t\"š\": \"s\",\n\t\"Ţ\": \"T\",\n\t\"ţ\": \"t\",\n\t\"ț\": \"t\",\n\t\"Ț\": \"T\",\n\t\"Ť\": \"T\",\n\t\"ť\": \"t\",\n\t\"Ŧ\": \"T\",\n\t\"ŧ\": \"t\",\n\t\"T̆\": \"T\",\n\t\"t̆\": \"t\",\n\t\"Ũ\": \"U\",\n\t\"ũ\": \"u\",\n\t\"Ū\": \"U\",\n\t\"ū\": \"u\",\n\t\"Ŭ\": \"U\",\n\t\"ŭ\": \"u\",\n\t\"Ů\": \"U\",\n\t\"ů\": \"u\",\n\t\"Ű\": \"U\",\n\t\"ű\": \"u\",\n\t\"Ų\": \"U\",\n\t\"ų\": \"u\",\n\t\"Ȗ\": \"U\",\n\t\"ȗ\": \"u\",\n\t\"V̆\": \"V\",\n\t\"v̆\": \"v\",\n\t\"Ŵ\": \"W\",\n\t\"ŵ\": \"w\",\n\t\"Ẃ\": \"W\",\n\t\"ẃ\": \"w\",\n\t\"X̆\": \"X\",\n\t\"x̆\": \"x\",\n\t\"Ŷ\": \"Y\",\n\t\"ŷ\": \"y\",\n\t\"Ÿ\": \"Y\",\n\t\"Y̆\": \"Y\",\n\t\"y̆\": \"y\",\n\t\"Ź\": \"Z\",\n\t\"ź\": \"z\",\n\t\"Ż\": \"Z\",\n\t\"ż\": \"z\",\n\t\"Ž\": \"Z\",\n\t\"ž\": \"z\",\n\t\"ſ\": \"s\",\n\t\"ƒ\": \"f\",\n\t\"Ơ\": \"O\",\n\t\"ơ\": \"o\",\n\t\"Ư\": \"U\",\n\t\"ư\": \"u\",\n\t\"Ǎ\": \"A\",\n\t\"ǎ\": \"a\",\n\t\"Ǐ\": \"I\",\n\t\"ǐ\": \"i\",\n\t\"Ǒ\": \"O\",\n\t\"ǒ\": \"o\",\n\t\"Ǔ\": \"U\",\n\t\"ǔ\": \"u\",\n\t\"Ǖ\": \"U\",\n\t\"ǖ\": \"u\",\n\t\"Ǘ\": \"U\",\n\t\"ǘ\": \"u\",\n\t\"Ǚ\": \"U\",\n\t\"ǚ\": \"u\",\n\t\"Ǜ\": \"U\",\n\t\"ǜ\": \"u\",\n\t\"Ứ\": \"U\",\n\t\"ứ\": \"u\",\n\t\"Ṹ\": \"U\",\n\t\"ṹ\": \"u\",\n\t\"Ǻ\": \"A\",\n\t\"ǻ\": \"a\",\n\t\"Ǽ\": \"AE\",\n\t\"ǽ\": \"ae\",\n\t\"Ǿ\": \"O\",\n\t\"ǿ\": \"o\",\n\t\"Þ\": \"TH\",\n\t\"þ\": \"th\",\n\t\"Ṕ\": \"P\",\n\t\"ṕ\": \"p\",\n\t\"Ṥ\": \"S\",\n\t\"ṥ\": \"s\",\n\t\"X́\": \"X\",\n\t\"x́\": \"x\",\n\t\"Ѓ\": \"Г\",\n\t\"ѓ\": \"г\",\n\t\"Ќ\": \"К\",\n\t\"ќ\": \"к\",\n\t\"A̋\": \"A\",\n\t\"a̋\": \"a\",\n\t\"E̋\": \"E\",\n\t\"e̋\": \"e\",\n\t\"I̋\": \"I\",\n\t\"i̋\": \"i\",\n\t\"Ǹ\": \"N\",\n\t\"ǹ\": \"n\",\n\t\"Ồ\": \"O\",\n\t\"ồ\": \"o\",\n\t\"Ṑ\": \"O\",\n\t\"ṑ\": \"o\",\n\t\"Ừ\": \"U\",\n\t\"ừ\": \"u\",\n\t\"Ẁ\": \"W\",\n\t\"ẁ\": \"w\",\n\t\"Ỳ\": \"Y\",\n\t\"ỳ\": \"y\",\n\t\"Ȁ\": \"A\",\n\t\"ȁ\": \"a\",\n\t\"Ȅ\": \"E\",\n\t\"ȅ\": \"e\",\n\t\"Ȉ\": \"I\",\n\t\"ȉ\": \"i\",\n\t\"Ȍ\": \"O\",\n\t\"ȍ\": \"o\",\n\t\"Ȑ\": \"R\",\n\t\"ȑ\": \"r\",\n\t\"Ȕ\": \"U\",\n\t\"ȕ\": \"u\",\n\t\"B̌\": \"B\",\n\t\"b̌\": \"b\",\n\t\"Č̣\": \"C\",\n\t\"č̣\": \"c\",\n\t\"Ê̌\": \"E\",\n\t\"ê̌\": \"e\",\n\t\"F̌\": \"F\",\n\t\"f̌\": \"f\",\n\t\"Ǧ\": \"G\",\n\t\"ǧ\": \"g\",\n\t\"Ȟ\": \"H\",\n\t\"ȟ\": \"h\",\n\t\"J̌\": \"J\",\n\t\"ǰ\": \"j\",\n\t\"Ǩ\": \"K\",\n\t\"ǩ\": \"k\",\n\t\"M̌\": \"M\",\n\t\"m̌\": \"m\",\n\t\"P̌\": \"P\",\n\t\"p̌\": \"p\",\n\t\"Q̌\": \"Q\",\n\t\"q̌\": \"q\",\n\t\"Ř̩\": \"R\",\n\t\"ř̩\": \"r\",\n\t\"Ṧ\": \"S\",\n\t\"ṧ\": \"s\",\n\t\"V̌\": \"V\",\n\t\"v̌\": \"v\",\n\t\"W̌\": \"W\",\n\t\"w̌\": \"w\",\n\t\"X̌\": \"X\",\n\t\"x̌\": \"x\",\n\t\"Y̌\": \"Y\",\n\t\"y̌\": \"y\",\n\t\"A̧\": \"A\",\n\t\"a̧\": \"a\",\n\t\"B̧\": \"B\",\n\t\"b̧\": \"b\",\n\t\"Ḑ\": \"D\",\n\t\"ḑ\": \"d\",\n\t\"Ȩ\": \"E\",\n\t\"ȩ\": \"e\",\n\t\"Ɛ̧\": \"E\",\n\t\"ɛ̧\": \"e\",\n\t\"Ḩ\": \"H\",\n\t\"ḩ\": \"h\",\n\t\"I̧\": \"I\",\n\t\"i̧\": \"i\",\n\t\"Ɨ̧\": \"I\",\n\t\"ɨ̧\": \"i\",\n\t\"M̧\": \"M\",\n\t\"m̧\": \"m\",\n\t\"O̧\": \"O\",\n\t\"o̧\": \"o\",\n\t\"Q̧\": \"Q\",\n\t\"q̧\": \"q\",\n\t\"U̧\": \"U\",\n\t\"u̧\": \"u\",\n\t\"X̧\": \"X\",\n\t\"x̧\": \"x\",\n\t\"Z̧\": \"Z\",\n\t\"z̧\": \"z\",\n\t\"й\":\"и\",\n\t\"Й\":\"И\",\n\t\"ё\":\"е\",\n\t\"Ё\":\"Е\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n","/**\r\n * Checks if the block is experimental based on the metadata loaded\r\n * from block.json.\r\n *\r\n * This function is in a separate file and uses the older JS syntax so\r\n * that it can be imported in both:\r\n * – block-library/src/index.js\r\n * – block-library/src/babel-plugin.js\r\n *\r\n * @param {Object} metadata Parsed block.json metadata.\r\n * @return {boolean} Is the block experimental?\r\n */\r\nmodule.exports = function isBlockMetadataExperimental( metadata ) {\r\n\treturn (\r\n\t\tmetadata &&\r\n\t\t'__experimental' in metadata &&\r\n\t\tmetadata.__experimental !== false\r\n\t);\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst archive = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M11.934 7.406a1 1 0 0 0 .914.594H19a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h5.764a.5.5 0 0 1 .447.276l.723 1.63Zm1.064-1.216a.5.5 0 0 0 .462.31H19a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.764a2 2 0 0 1 1.789 1.106l.445 1.084ZM8.5 10.5h7V12h-7v-1.5Zm7 3.5h-7v1.5h7V14Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default archive;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { registerBlockType } from '@wordpress/blocks';\r\n\r\n/**\r\n * Function to register an individual block.\r\n *\r\n * @param {Object} block The block to be registered.\r\n *\r\n * @return {WPBlockType | undefined} The block, if it has been successfully registered;\r\n *                        otherwise `undefined`.\r\n */\r\nexport default function initBlock( block ) {\r\n\tif ( ! block ) {\r\n\t\treturn;\r\n\t}\r\n\tconst { metadata, settings, name } = block;\r\n\treturn registerBlockType( { name, ...metadata }, settings );\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"serverSideRender\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { archive as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tSelectControl,\r\n\tDisabled,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\n\r\nexport default function ArchivesEdit( { attributes, setAttributes } ) {\r\n\tconst { showLabel, showPostCounts, displayAsDropdown, type } = attributes;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display as dropdown' ) }\r\n\t\t\t\t\t\tchecked={ displayAsDropdown }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tdisplayAsDropdown: ! displayAsDropdown,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ displayAsDropdown && (\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Show label' ) }\r\n\t\t\t\t\t\t\tchecked={ showLabel }\r\n\t\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tshowLabel: ! showLabel,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Show post counts' ) }\r\n\t\t\t\t\t\tchecked={ showPostCounts }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tshowPostCounts: ! showPostCounts,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Group by:' ) }\r\n\t\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t\t{ label: __( 'Year' ), value: 'yearly' },\r\n\t\t\t\t\t\t\t{ label: __( 'Month' ), value: 'monthly' },\r\n\t\t\t\t\t\t\t{ label: __( 'Week' ), value: 'weekly' },\r\n\t\t\t\t\t\t\t{ label: __( 'Day' ), value: 'daily' },\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t\tvalue={ type }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { type: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...useBlockProps() }>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t<ServerSideRender\r\n\t\t\t\t\t\tblock=\"core/archives\"\r\n\t\t\t\t\t\tskipBlockSupportAttributes\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst commentAuthorAvatar = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\td=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default commentAuthorAvatar;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { store as coreStore, useEntityProp } from '@wordpress/core-data';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nfunction getAvatarSizes( sizes ) {\r\n\tconst minSize = sizes ? sizes[ 0 ] : 24;\r\n\tconst maxSize = sizes ? sizes[ sizes.length - 1 ] : 96;\r\n\tconst maxSizeBuffer = Math.floor( maxSize * 2.5 );\r\n\treturn {\r\n\t\tminSize,\r\n\t\tmaxSize: maxSizeBuffer,\r\n\t};\r\n}\r\n\r\nfunction useDefaultAvatar() {\r\n\tconst { avatarURL: defaultAvatarUrl } = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\tconst { __experimentalDiscussionSettings } = getSettings();\r\n\t\treturn __experimentalDiscussionSettings;\r\n\t} );\r\n\treturn defaultAvatarUrl;\r\n}\r\n\r\nexport function useCommentAvatar( { commentId } ) {\r\n\tconst [ avatars ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'comment',\r\n\t\t'author_avatar_urls',\r\n\t\tcommentId\r\n\t);\r\n\r\n\tconst [ authorName ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'comment',\r\n\t\t'author_name',\r\n\t\tcommentId\r\n\t);\r\n\tconst avatarUrls = avatars ? Object.values( avatars ) : null;\r\n\tconst sizes = avatars ? Object.keys( avatars ) : null;\r\n\tconst { minSize, maxSize } = getAvatarSizes( sizes );\r\n\tconst defaultAvatar = useDefaultAvatar();\r\n\treturn {\r\n\t\tsrc: avatarUrls ? avatarUrls[ avatarUrls.length - 1 ] : defaultAvatar,\r\n\t\tminSize,\r\n\t\tmaxSize,\r\n\t\t// translators: %s is the Author name.\r\n\t\talt: authorName\r\n\t\t\t? // translators: %s is the Author name.\r\n\t\t\t  sprintf( __( '%s Avatar' ), authorName )\r\n\t\t\t: __( 'Default Avatar' ),\r\n\t};\r\n}\r\n\r\nexport function useUserAvatar( { userId, postId, postType } ) {\r\n\tconst { authorDetails } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEditedEntityRecord, getUser } = select( coreStore );\r\n\t\t\tif ( userId ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tauthorDetails: getUser( userId ),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst _authorId = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t)?.author;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tauthorDetails: _authorId ? getUser( _authorId ) : null,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postType, postId, userId ]\r\n\t);\r\n\tconst avatarUrls = authorDetails?.avatar_urls\r\n\t\t? Object.values( authorDetails.avatar_urls )\r\n\t\t: null;\r\n\tconst sizes = authorDetails?.avatar_urls\r\n\t\t? Object.keys( authorDetails.avatar_urls )\r\n\t\t: null;\r\n\tconst { minSize, maxSize } = getAvatarSizes( sizes );\r\n\tconst defaultAvatar = useDefaultAvatar();\r\n\treturn {\r\n\t\tsrc: avatarUrls ? avatarUrls[ avatarUrls.length - 1 ] : defaultAvatar,\r\n\t\tminSize,\r\n\t\tmaxSize,\r\n\t\talt: authorDetails\r\n\t\t\t? // translators: %s is the Author name.\r\n\t\t\t  sprintf( __( '%s Avatar' ), authorDetails?.name )\r\n\t\t\t: __( 'Default Avatar' ),\r\n\t};\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { ComboboxControl } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState } from '@wordpress/element';\r\n\r\nconst AUTHORS_QUERY = {\r\n\twho: 'authors',\r\n\tper_page: -1,\r\n\t_fields: 'id,name',\r\n\tcontext: 'view',\r\n};\r\n\r\nfunction UserControl( { value, onChange } ) {\r\n\tconst [ filteredAuthorsList, setFilteredAuthorsList ] = useState();\r\n\tconst authorsList = useSelect( ( select ) => {\r\n\t\tconst { getUsers } = select( coreStore );\r\n\t\treturn getUsers( AUTHORS_QUERY );\r\n\t}, [] );\r\n\tif ( ! authorsList ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst options = authorsList.map( ( author ) => {\r\n\t\treturn {\r\n\t\t\tlabel: author.name,\r\n\t\t\tvalue: author.id,\r\n\t\t};\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<ComboboxControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'User' ) }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'Select the avatar user to display, if it is blank it will use the post/page author.'\r\n\t\t\t) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\toptions={ filteredAuthorsList || options }\r\n\t\t\tonFilterValueChange={ ( inputValue ) =>\r\n\t\t\t\tsetFilteredAuthorsList(\r\n\t\t\t\t\toptions.filter( ( option ) =>\r\n\t\t\t\t\t\toption.label\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.startsWith( inputValue.toLowerCase() )\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default UserControl;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalUseBorderProps as useBorderProps,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tRangeControl,\n\tResizableBox,\n\tToggleControl,\n} from '@wordpress/components';\nimport { __, isRTL } from '@wordpress/i18n';\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { useUserAvatar, useCommentAvatar } from './hooks';\nimport UserControl from './user-control';\n\nconst AvatarInspectorControls = ( {\n\tsetAttributes,\n\tavatar,\n\tattributes,\n\tselectUser,\n} ) => (\n\t<InspectorControls>\n\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t<RangeControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\tonChange={ ( newSize ) =>\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tsize: newSize,\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t\tmin={ avatar.minSize }\n\t\t\t\tmax={ avatar.maxSize }\n\t\t\t\tinitialPosition={ attributes?.size }\n\t\t\t\tvalue={ attributes?.size }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Link to user profile' ) }\n\t\t\t\tonChange={ () =>\n\t\t\t\t\tsetAttributes( { isLink: ! attributes.isLink } )\n\t\t\t\t}\n\t\t\t\tchecked={ attributes.isLink }\n\t\t\t/>\n\t\t\t{ attributes.isLink && (\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tchecked={ attributes.linkTarget === '_blank' }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ selectUser && (\n\t\t\t\t<UserControl\n\t\t\t\t\tvalue={ attributes?.userId }\n\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tuserId: value,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</PanelBody>\n\t</InspectorControls>\n);\n\nconst ResizableAvatar = ( {\n\tsetAttributes,\n\tattributes,\n\tavatar,\n\tblockProps,\n\tisSelected,\n} ) => {\n\tconst borderProps = useBorderProps( attributes );\n\tconst doubledSizedSrc = addQueryArgs(\n\t\tremoveQueryArgs( avatar?.src, [ 's' ] ),\n\t\t{\n\t\t\ts: attributes?.size * 2,\n\t\t}\n\t);\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<ResizableBox\n\t\t\t\tsize={ {\n\t\t\t\t\twidth: attributes.size,\n\t\t\t\t\theight: attributes.size,\n\t\t\t\t} }\n\t\t\t\tshowHandle={ isSelected }\n\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tsize: parseInt(\n\t\t\t\t\t\t\tattributes.size + ( delta.height || delta.width ),\n\t\t\t\t\t\t\t10\n\t\t\t\t\t\t),\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tlockAspectRatio\n\t\t\t\tenable={ {\n\t\t\t\t\ttop: false,\n\t\t\t\t\tright: ! isRTL(),\n\t\t\t\t\tbottom: true,\n\t\t\t\t\tleft: isRTL(),\n\t\t\t\t} }\n\t\t\t\tminWidth={ avatar.minSize }\n\t\t\t\tmaxWidth={ avatar.maxSize }\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tsrc={ doubledSizedSrc }\n\t\t\t\t\talt={ avatar.alt }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'avatar',\n\t\t\t\t\t\t'avatar-' + attributes.size,\n\t\t\t\t\t\t'photo',\n\t\t\t\t\t\t'wp-block-avatar__image',\n\t\t\t\t\t\tborderProps.className\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ borderProps.style }\n\t\t\t\t/>\n\t\t\t</ResizableBox>\n\t\t</div>\n\t);\n};\nconst CommentEdit = ( { attributes, context, setAttributes, isSelected } ) => {\n\tconst { commentId } = context;\n\tconst blockProps = useBlockProps();\n\tconst avatar = useCommentAvatar( { commentId } );\n\treturn (\n\t\t<>\n\t\t\t<AvatarInspectorControls\n\t\t\t\tavatar={ avatar }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tattributes={ attributes }\n\t\t\t\tselectUser={ false }\n\t\t\t/>\n\t\t\t{ attributes.isLink ? (\n\t\t\t\t<a\n\t\t\t\t\thref=\"#avatar-pseudo-link\"\n\t\t\t\t\tclassName=\"wp-block-avatar__link\"\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t>\n\t\t\t\t\t<ResizableAvatar\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tavatar={ avatar }\n\t\t\t\t\t\tblockProps={ blockProps }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<ResizableAvatar\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tavatar={ avatar }\n\t\t\t\t\tblockProps={ blockProps }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst UserEdit = ( { attributes, context, setAttributes, isSelected } ) => {\n\tconst { postId, postType } = context;\n\tconst avatar = useUserAvatar( {\n\t\tuserId: attributes?.userId,\n\t\tpostId,\n\t\tpostType,\n\t} );\n\tconst blockProps = useBlockProps();\n\treturn (\n\t\t<>\n\t\t\t<AvatarInspectorControls\n\t\t\t\tselectUser\n\t\t\t\tattributes={ attributes }\n\t\t\t\tavatar={ avatar }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t/>\n\t\t\t{ attributes.isLink ? (\n\t\t\t\t<a\n\t\t\t\t\thref=\"#avatar-pseudo-link\"\n\t\t\t\t\tclassName=\"wp-block-avatar__link\"\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t>\n\t\t\t\t\t<ResizableAvatar\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tavatar={ avatar }\n\t\t\t\t\t\tblockProps={ blockProps }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<ResizableAvatar\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tavatar={ avatar }\n\t\t\t\t\tblockProps={ blockProps }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default function Edit( props ) {\n\t// Don't show the Comment Edit controls if we have a comment ID set, or if we're in the Site Editor (where it is `null`).\n\tif ( props?.context?.commentId || props?.context?.commentId === null ) {\n\t\treturn <CommentEdit { ...props } />;\n\t}\n\treturn <UserEdit { ...props } />;\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentAuthorAvatar as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst audio = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M17.7 4.3c-1.2 0-2.8 0-3.8 1-.6.6-.9 1.5-.9 2.6V14c-.6-.6-1.5-1-2.5-1C8.6 13 7 14.6 7 16.5S8.6 20 10.5 20c1.5 0 2.8-1 3.3-2.3.5-.8.7-1.8.7-2.5V7.9c0-.7.2-1.2.5-1.6.6-.6 1.8-.6 2.8-.6h.3V4.3h-.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default audio;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText } from '@wordpress/block-editor';\r\n\r\nexport default [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tsrc: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'audio',\r\n\t\t\t\tattribute: 'src',\r\n\t\t\t},\r\n\t\t\tcaption: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'html',\r\n\t\t\t\tselector: 'figcaption',\r\n\t\t\t},\r\n\t\t\tid: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tautoplay: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'audio',\r\n\t\t\t\tattribute: 'autoplay',\r\n\t\t\t},\r\n\t\t\tloop: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'audio',\r\n\t\t\t\tattribute: 'loop',\r\n\t\t\t},\r\n\t\t\tpreload: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'audio',\r\n\t\t\t\tattribute: 'preload',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: true,\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { autoplay, caption, loop, preload, src } = attributes;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<figure>\r\n\t\t\t\t\t<audio\r\n\t\t\t\t\t\tcontrols=\"controls\"\r\n\t\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\t\tautoPlay={ autoplay }\r\n\t\t\t\t\t\tloop={ loop }\r\n\t\t\t\t\t\tpreload={ preload }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</figure>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blob\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","/**\n * Memize options object.\n *\n * @typedef MemizeOptions\n *\n * @property {number} [maxSize] Maximum size of the cache.\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef MemizeCacheNode\n *\n * @property {?MemizeCacheNode|undefined} [prev] Previous node.\n * @property {?MemizeCacheNode|undefined} [next] Next node.\n * @property {Array<*>}                   args   Function arguments for cache\n *                                               entry.\n * @property {*}                          val    Function result.\n */\n\n/**\n * Properties of the enhanced function for controlling cache.\n *\n * @typedef MemizeMemoizedFunction\n *\n * @property {()=>void} clear Clear the cache.\n */\n\n/**\n * Accepts a function to be memoized, and returns a new memoized function, with\n * optional options.\n *\n * @template {(...args: any[]) => any} F\n *\n * @param {F}             fn        Function to memoize.\n * @param {MemizeOptions} [options] Options object.\n *\n * @return {((...args: Parameters<F>) => ReturnType<F>) & MemizeMemoizedFunction} Memoized function.\n */\nfunction memize(fn, options) {\n\tvar size = 0;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar head;\n\n\t/** @type {?MemizeCacheNode|undefined} */\n\tvar tail;\n\n\toptions = options || {};\n\n\tfunction memoized(/* ...args */) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs,\n\t\t\ti;\n\n\t\tsearchCache: while (node) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif (node.args.length !== arguments.length) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (node.args[i] !== arguments[i]) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== head) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif (node === tail) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\t/** @type {MemizeCacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {MemizeCacheNode} */ (head).prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply(null, args),\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (head) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif (size === /** @type {MemizeOptions} */ (options).maxSize) {\n\t\t\ttail = /** @type {MemizeCacheNode} */ (tail).prev;\n\t\t\t/** @type {MemizeCacheNode} */ (tail).next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function () {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\t// Ignore reason: There's not a clear solution to create an intersection of\n\t// the function with additional properties, where the goal is to retain the\n\t// function signature of the incoming argument and add control properties\n\t// on the return value.\n\n\t// @ts-ignore\n\treturn memoized;\n}\n\nexport { memize as default };\n","export const ASPECT_RATIOS = [\r\n\t// Common video resolutions.\r\n\t{ ratio: '2.33', className: 'wp-embed-aspect-21-9' },\r\n\t{ ratio: '2.00', className: 'wp-embed-aspect-18-9' },\r\n\t{ ratio: '1.78', className: 'wp-embed-aspect-16-9' },\r\n\t{ ratio: '1.33', className: 'wp-embed-aspect-4-3' },\r\n\t// Vertical video and instagram square video support.\r\n\t{ ratio: '1.00', className: 'wp-embed-aspect-1-1' },\r\n\t{ ratio: '0.56', className: 'wp-embed-aspect-9-16' },\r\n\t{ ratio: '0.50', className: 'wp-embed-aspect-1-2' },\r\n];\r\n\r\nexport const WP_EMBED_TYPE = 'wp-embed';\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"privateApis\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\r\n\r\nexport const { lock, unlock } =\r\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\r\n\t\t'I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.',\r\n\t\t'@wordpress/block-library'\r\n\t);\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames/dedupe';\r\nimport memoize from 'memize';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\r\nimport { renderToString } from '@wordpress/element';\r\nimport {\r\n\tcreateBlock,\r\n\tgetBlockType,\r\n\tgetBlockVariations,\r\n} from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport { ASPECT_RATIOS, WP_EMBED_TYPE } from './constants';\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { name: DEFAULT_EMBED_BLOCK } = metadata;\r\n\r\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\r\n\r\n/**\r\n * Returns the embed block's information by matching the provided service provider\r\n *\r\n * @param {string} provider The embed block's provider\r\n * @return {WPBlockVariation} The embed block's information\r\n */\r\nexport const getEmbedInfoByProvider = ( provider ) =>\r\n\tgetBlockVariations( DEFAULT_EMBED_BLOCK )?.find(\r\n\t\t( { name } ) => name === provider\r\n\t);\r\n\r\n/**\r\n * Returns true if any of the regular expressions match the URL.\r\n *\r\n * @param {string} url      The URL to test.\r\n * @param {Array}  patterns The list of regular expressions to test agains.\r\n * @return {boolean} True if any of the regular expressions match the URL.\r\n */\r\nexport const matchesPatterns = ( url, patterns = [] ) =>\r\n\tpatterns.some( ( pattern ) => url.match( pattern ) );\r\n\r\n/**\r\n * Finds the block variation that should be used for the URL,\r\n * based on the provided URL and the variation's patterns.\r\n *\r\n * @param {string} url The URL to test.\r\n * @return {WPBlockVariation} The block variation that should be used for this URL\r\n */\r\nexport const findMoreSuitableBlock = ( url ) =>\r\n\tgetBlockVariations( DEFAULT_EMBED_BLOCK )?.find( ( { patterns } ) =>\r\n\t\tmatchesPatterns( url, patterns )\r\n\t);\r\n\r\nexport const isFromWordPress = ( html ) =>\r\n\thtml && html.includes( 'class=\"wp-embedded-content\"' );\r\n\r\nexport const getPhotoHtml = ( photo ) => {\r\n\t// If full image url not found use thumbnail.\r\n\tconst imageUrl = photo.url || photo.thumbnail_url;\r\n\r\n\t// 100% width for the preview so it fits nicely into the document, some \"thumbnails\" are\r\n\t// actually the full size photo.\r\n\tconst photoPreview = (\r\n\t\t<p>\r\n\t\t\t<img src={ imageUrl } alt={ photo.title } width=\"100%\" />\r\n\t\t</p>\r\n\t);\r\n\treturn renderToString( photoPreview );\r\n};\r\n\r\n/**\r\n * Creates a more suitable embed block based on the passed in props\r\n * and attributes generated from an embed block's preview.\r\n *\r\n * We require `attributesFromPreview` to be generated from the latest attributes\r\n * and preview, and because of the way the react lifecycle operates, we can't\r\n * guarantee that the attributes contained in the block's props are the latest\r\n * versions, so we require that these are generated separately.\r\n * See `getAttributesFromPreview` in the generated embed edit component.\r\n *\r\n * @param {Object} props                   The block's props.\r\n * @param {Object} [attributesFromPreview] Attributes generated from the block's most up to date preview.\r\n * @return {Object|undefined} A more suitable embed block if one exists.\r\n */\r\nexport const createUpgradedEmbedBlock = (\r\n\tprops,\r\n\tattributesFromPreview = {}\r\n) => {\r\n\tconst { preview, attributes = {} } = props;\r\n\tconst { url, providerNameSlug, type, ...restAttributes } = attributes;\r\n\r\n\tif ( ! url || ! getBlockType( DEFAULT_EMBED_BLOCK ) ) return;\r\n\r\n\tconst matchedBlock = findMoreSuitableBlock( url );\r\n\r\n\t// WordPress blocks can work on multiple sites, and so don't have patterns,\r\n\t// so if we're in a WordPress block, assume the user has chosen it for a WordPress URL.\r\n\tconst isCurrentBlockWP =\r\n\t\tproviderNameSlug === 'wordpress' || type === WP_EMBED_TYPE;\r\n\t// If current block is not WordPress and a more suitable block found\r\n\t// that is different from the current one, create the new matched block.\r\n\tconst shouldCreateNewBlock =\r\n\t\t! isCurrentBlockWP &&\r\n\t\tmatchedBlock &&\r\n\t\t( matchedBlock.attributes.providerNameSlug !== providerNameSlug ||\r\n\t\t\t! providerNameSlug );\r\n\tif ( shouldCreateNewBlock ) {\r\n\t\treturn createBlock( DEFAULT_EMBED_BLOCK, {\r\n\t\t\turl,\r\n\t\t\t...restAttributes,\r\n\t\t\t...matchedBlock.attributes,\r\n\t\t} );\r\n\t}\r\n\r\n\tconst wpVariation = getBlockVariations( DEFAULT_EMBED_BLOCK )?.find(\r\n\t\t( { name } ) => name === 'wordpress'\r\n\t);\r\n\r\n\t// We can't match the URL for WordPress embeds, we have to check the HTML instead.\r\n\tif (\r\n\t\t! wpVariation ||\r\n\t\t! preview ||\r\n\t\t! isFromWordPress( preview.html ) ||\r\n\t\tisCurrentBlockWP\r\n\t) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// This is not the WordPress embed block so transform it into one.\r\n\treturn createBlock( DEFAULT_EMBED_BLOCK, {\r\n\t\turl,\r\n\t\t...wpVariation.attributes,\r\n\t\t// By now we have the preview, but when the new block first renders, it\r\n\t\t// won't have had all the attributes set, and so won't get the correct\r\n\t\t// type and it won't render correctly. So, we pass through the current attributes\r\n\t\t// here so that the initial render works when we switch to the WordPress\r\n\t\t// block. This only affects the WordPress block because it can't be\r\n\t\t// rendered in the usual Sandbox (it has a sandbox of its own) and it\r\n\t\t// relies on the preview to set the correct render type.\r\n\t\t...attributesFromPreview,\r\n\t} );\r\n};\r\n\r\n/**\r\n * Determine if the block already has an aspect ratio class applied.\r\n *\r\n * @param {string} existingClassNames Existing block classes.\r\n * @return {boolean} True or false if the classnames contain an aspect ratio class.\r\n */\r\nexport const hasAspectRatioClass = ( existingClassNames ) => {\r\n\tif ( ! existingClassNames ) {\r\n\t\treturn false;\r\n\t}\r\n\treturn ASPECT_RATIOS.some( ( { className } ) =>\r\n\t\texistingClassNames.includes( className )\r\n\t);\r\n};\r\n\r\n/**\r\n * Removes all previously set aspect ratio related classes and return the rest\r\n * existing class names.\r\n *\r\n * @param {string} existingClassNames Any existing class names.\r\n * @return {string} The class names without any aspect ratio related class.\r\n */\r\nexport const removeAspectRatioClasses = ( existingClassNames ) => {\r\n\tif ( ! existingClassNames ) {\r\n\t\t// Avoids extraneous work and also, by returning the same value as\r\n\t\t// received, ensures the post is not dirtied by a change of the block\r\n\t\t// attribute from `undefined` to an emtpy string.\r\n\t\treturn existingClassNames;\r\n\t}\r\n\tconst aspectRatioClassNames = ASPECT_RATIOS.reduce(\r\n\t\t( accumulator, { className } ) => {\r\n\t\t\taccumulator[ className ] = false;\r\n\t\t\treturn accumulator;\r\n\t\t},\r\n\t\t{ 'wp-has-aspect-ratio': false }\r\n\t);\r\n\treturn classnames( existingClassNames, aspectRatioClassNames );\r\n};\r\n\r\n/**\r\n * Returns class names with any relevant responsive aspect ratio names.\r\n *\r\n * @param {string}  html               The preview HTML that possibly contains an iframe with width and height set.\r\n * @param {string}  existingClassNames Any existing class names.\r\n * @param {boolean} allowResponsive    If the responsive class names should be added, or removed.\r\n * @return {string} Deduped class names.\r\n */\r\nexport function getClassNames(\r\n\thtml,\r\n\texistingClassNames,\r\n\tallowResponsive = true\r\n) {\r\n\tif ( ! allowResponsive ) {\r\n\t\treturn removeAspectRatioClasses( existingClassNames );\r\n\t}\r\n\r\n\tconst previewDocument = document.implementation.createHTMLDocument( '' );\r\n\tpreviewDocument.body.innerHTML = html;\r\n\tconst iframe = previewDocument.body.querySelector( 'iframe' );\r\n\r\n\t// If we have a fixed aspect iframe, and it's a responsive embed block.\r\n\tif ( iframe && iframe.height && iframe.width ) {\r\n\t\tconst aspectRatio = ( iframe.width / iframe.height ).toFixed( 2 );\r\n\t\t// Given the actual aspect ratio, find the widest ratio to support it.\r\n\t\tfor (\r\n\t\t\tlet ratioIndex = 0;\r\n\t\t\tratioIndex < ASPECT_RATIOS.length;\r\n\t\t\tratioIndex++\r\n\t\t) {\r\n\t\t\tconst potentialRatio = ASPECT_RATIOS[ ratioIndex ];\r\n\t\t\tif ( aspectRatio >= potentialRatio.ratio ) {\r\n\t\t\t\t// Evaluate the difference between actual aspect ratio and closest match.\r\n\t\t\t\t// If the difference is too big, do not scale the embed according to aspect ratio.\r\n\t\t\t\tconst ratioDiff = aspectRatio - potentialRatio.ratio;\r\n\t\t\t\tif ( ratioDiff > 0.1 ) {\r\n\t\t\t\t\t// No close aspect ratio match found.\r\n\t\t\t\t\treturn removeAspectRatioClasses( existingClassNames );\r\n\t\t\t\t}\r\n\t\t\t\t// Close aspect ratio match found.\r\n\t\t\t\treturn classnames(\r\n\t\t\t\t\tremoveAspectRatioClasses( existingClassNames ),\r\n\t\t\t\t\tpotentialRatio.className,\r\n\t\t\t\t\t'wp-has-aspect-ratio'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn existingClassNames;\r\n}\r\n\r\n/**\r\n * Fallback behaviour for unembeddable URLs.\r\n * Creates a paragraph block containing a link to the URL, and calls `onReplace`.\r\n *\r\n * @param {string}   url       The URL that could not be embedded.\r\n * @param {Function} onReplace Function to call with the created fallback block.\r\n */\r\nexport function fallback( url, onReplace ) {\r\n\tconst link = <a href={ url }>{ url }</a>;\r\n\tonReplace(\r\n\t\tcreateBlock( 'core/paragraph', { content: renderToString( link ) } )\r\n\t);\r\n}\r\n\r\n/***\r\n * Gets block attributes based on the preview and responsive state.\r\n *\r\n * @param {Object} preview The preview data.\r\n * @param {string} title The block's title, e.g. Twitter.\r\n * @param {Object} currentClassNames The block's current class names.\r\n * @param {boolean} isResponsive Boolean indicating if the block supports responsive content.\r\n * @param {boolean} allowResponsive Apply responsive classes to fixed size content.\r\n * @return {Object} Attributes and values.\r\n */\r\nexport const getAttributesFromPreview = memoize(\r\n\t(\r\n\t\tpreview,\r\n\t\ttitle,\r\n\t\tcurrentClassNames,\r\n\t\tisResponsive,\r\n\t\tallowResponsive = true\r\n\t) => {\r\n\t\tif ( ! preview ) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\tconst attributes = {};\r\n\t\t// Some plugins only return HTML with no type info, so default this to 'rich'.\r\n\t\tlet { type = 'rich' } = preview;\r\n\t\t// If we got a provider name from the API, use it for the slug, otherwise we use the title,\r\n\t\t// because not all embed code gives us a provider name.\r\n\t\tconst { html, provider_name: providerName } = preview;\r\n\t\tconst { kebabCase } = unlock( componentsPrivateApis );\r\n\t\tconst providerNameSlug = kebabCase(\r\n\t\t\t( providerName || title ).toLowerCase()\r\n\t\t);\r\n\r\n\t\tif ( isFromWordPress( html ) ) {\r\n\t\t\ttype = WP_EMBED_TYPE;\r\n\t\t}\r\n\r\n\t\tif ( html || 'photo' === type ) {\r\n\t\t\tattributes.type = type;\r\n\t\t\tattributes.providerNameSlug = providerNameSlug;\r\n\t\t}\r\n\r\n\t\t// Aspect ratio classes are removed when the embed URL is updated.\r\n\t\t// If the embed already has an aspect ratio class, that means the URL has not changed.\r\n\t\t// Which also means no need to regenerate it with getClassNames.\r\n\t\tif ( hasAspectRatioClass( currentClassNames ) ) {\r\n\t\t\treturn attributes;\r\n\t\t}\r\n\r\n\t\tattributes.className = getClassNames(\r\n\t\t\thtml,\r\n\t\t\tcurrentClassNames,\r\n\t\t\tisResponsive && allowResponsive\r\n\t\t);\r\n\r\n\t\treturn attributes;\r\n\t}\r\n);\r\n\r\n/**\r\n * Returns the attributes derived from the preview, merged with the current attributes.\r\n *\r\n * @param {Object}  currentAttributes The current attributes of the block.\r\n * @param {Object}  preview           The preview data.\r\n * @param {string}  title             The block's title, e.g. Twitter.\r\n * @param {boolean} isResponsive      Boolean indicating if the block supports responsive content.\r\n * @return {Object} Merged attributes.\r\n */\r\nexport const getMergedAttributesWithPreview = (\r\n\tcurrentAttributes,\r\n\tpreview,\r\n\ttitle,\r\n\tisResponsive\r\n) => {\r\n\tconst { allowResponsive, className } = currentAttributes;\r\n\r\n\treturn {\r\n\t\t...currentAttributes,\r\n\t\t...getAttributesFromPreview(\r\n\t\t\tpreview,\r\n\t\t\ttitle,\r\n\t\t\tclassName,\r\n\t\t\tisResponsive,\r\n\t\t\tallowResponsive\r\n\t\t),\r\n\t};\r\n};\r\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useLayoutEffect, useEffect, useRef } from '@wordpress/element';\nimport { getBlobByURL, isBlobURL, revokeBlobURL } from '@wordpress/blob';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Returns whether the current user can edit the given entity.\n *\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {string} recordId Record's id.\n */\nexport function useCanEditEntity( kind, name, recordId ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).canUserEditEntityRecord( kind, name, recordId ),\n\t\t[ kind, name, recordId ]\n\t);\n}\n\n/**\n * Handles uploading a media file from a blob URL on mount.\n *\n * @param {Object}   args              Upload media arguments.\n * @param {string}   args.url          Blob URL.\n * @param {?Array}   args.allowedTypes Array of allowed media types.\n * @param {Function} args.onChange     Function called when the media is uploaded.\n * @param {Function} args.onError      Function called when an error happens.\n */\nexport function useUploadMediaFromBlobURL( args = {} ) {\n\tconst latestArgs = useRef( args );\n\tconst { getSettings } = useSelect( blockEditorStore );\n\n\tuseLayoutEffect( () => {\n\t\tlatestArgs.current = args;\n\t} );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\t! latestArgs.current.url ||\n\t\t\t! isBlobURL( latestArgs.current.url )\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst file = getBlobByURL( latestArgs.current.url );\n\t\tif ( ! file ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { url, allowedTypes, onChange, onError } = latestArgs.current;\n\t\tconst { mediaUpload } = getSettings();\n\n\t\tmediaUpload( {\n\t\t\tfilesList: [ file ],\n\t\t\tallowedTypes,\n\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\tif ( isBlobURL( media?.url ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trevokeBlobURL( url );\n\t\t\t\tonChange( media );\n\t\t\t},\n\t\t\tonError: ( message ) => {\n\t\t\t\trevokeBlobURL( url );\n\t\t\t\tonError( message );\n\t\t\t},\n\t\t} );\n\t}, [ getSettings ] );\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst caption = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default caption;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBlockControls,\n\t__experimentalGetElementClassName,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { ToolbarButton } from '@wordpress/components';\nimport { caption as captionIcon } from '@wordpress/icons';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nexport function Caption( {\n\tattributeKey = 'caption',\n\tattributes,\n\tsetAttributes,\n\tisSelected,\n\tinsertBlocksAfter,\n\tplaceholder = __( 'Add caption' ),\n\tlabel = __( 'Caption text' ),\n\tshowToolbarButton = true,\n\tclassName,\n\treadOnly,\n\ttagName = 'figcaption',\n\taddLabel = __( 'Add caption' ),\n\tremoveLabel = __( 'Remove caption' ),\n\ticon = captionIcon,\n\t...props\n} ) {\n\tconst caption = attributes[ attributeKey ];\n\tconst prevCaption = usePrevious( caption );\n\tconst { PrivateRichText: RichText } = unlock( blockEditorPrivateApis );\n\tconst isCaptionEmpty = RichText.isEmpty( caption );\n\tconst isPrevCaptionEmpty = RichText.isEmpty( prevCaption );\n\tconst [ showCaption, setShowCaption ] = useState( ! isCaptionEmpty );\n\n\t// We need to show the caption when changes come from\n\t// history navigation(undo/redo).\n\tuseEffect( () => {\n\t\tif ( ! isCaptionEmpty && isPrevCaptionEmpty ) {\n\t\t\tsetShowCaption( true );\n\t\t}\n\t}, [ isCaptionEmpty, isPrevCaptionEmpty ] );\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected && isCaptionEmpty ) {\n\t\t\tsetShowCaption( false );\n\t\t}\n\t}, [ isSelected, isCaptionEmpty ] );\n\n\t// Focus the caption when we click to add one.\n\tconst ref = useCallback(\n\t\t( node ) => {\n\t\t\tif ( node && isCaptionEmpty ) {\n\t\t\t\tnode.focus();\n\t\t\t}\n\t\t},\n\t\t[ isCaptionEmpty ]\n\t);\n\treturn (\n\t\t<>\n\t\t\t{ showToolbarButton && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetShowCaption( ! showCaption );\n\t\t\t\t\t\t\tif ( showCaption && caption ) {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t[ attributeKey ]: undefined,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\tisPressed={ showCaption }\n\t\t\t\t\t\tlabel={ showCaption ? removeLabel : addLabel }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t{ showCaption &&\n\t\t\t\t( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier={ attributeKey }\n\t\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\taria-label={ label }\n\t\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { [ attributeKey ]: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treadOnly={ readOnly }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\tDisabled,\n\tPanelBody,\n\tSelectControl,\n\tSpinner,\n\tToggleControl,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { __, _x } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { audio as icon } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\nimport { useUploadMediaFromBlobURL } from '../utils/hooks';\nimport { Caption } from '../utils/caption';\n\nconst ALLOWED_MEDIA_TYPES = [ 'audio' ];\n\nfunction AudioEdit( {\n\tattributes,\n\tclassName,\n\tsetAttributes,\n\tonReplace,\n\tisSelected: isSingleSelected,\n\tinsertBlocksAfter,\n} ) {\n\tconst { id, autoplay, loop, preload, src } = attributes;\n\tconst isTemporaryAudio = ! id && isBlobURL( src );\n\n\tuseUploadMediaFromBlobURL( {\n\t\turl: src,\n\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\tonChange: onSelectAudio,\n\t\tonError: onUploadError,\n\t} );\n\n\tfunction toggleAttribute( attribute ) {\n\t\treturn ( newValue ) => {\n\t\t\tsetAttributes( { [ attribute ]: newValue } );\n\t\t};\n\t}\n\n\tfunction onSelectURL( newSrc ) {\n\t\t// Set the block's src from the edit component's state, and switch off\n\t\t// the editing UI.\n\t\tif ( newSrc !== src ) {\n\t\t\t// Check if there's an embed block that handles this URL.\n\t\t\tconst embedBlock = createUpgradedEmbedBlock( {\n\t\t\t\tattributes: { url: newSrc },\n\t\t\t} );\n\t\t\tif ( undefined !== embedBlock && onReplace ) {\n\t\t\t\tonReplace( embedBlock );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetAttributes( { src: newSrc, id: undefined } );\n\t\t}\n\t}\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tfunction onUploadError( message ) {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tfunction getAutoplayHelp( checked ) {\n\t\treturn checked\n\t\t\t? __( 'Autoplay may cause usability issues for some users.' )\n\t\t\t: null;\n\t}\n\n\tfunction onSelectAudio( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\t// In this case there was an error and we should continue in the editing state\n\t\t\t// previous attributes should be removed because they may be temporary blob urls.\n\t\t\tsetAttributes( {\n\t\t\t\tsrc: undefined,\n\t\t\t\tid: undefined,\n\t\t\t\tcaption: undefined,\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\t\t// Sets the block's attribute and updates the edit component from the\n\t\t// selected media, then switches off the editing UI.\n\t\tsetAttributes( {\n\t\t\tsrc: media.url,\n\t\t\tid: media.id,\n\t\t\tcaption: media.caption,\n\t\t} );\n\t}\n\n\tconst classes = classnames( className, {\n\t\t'is-transient': isTemporaryAudio,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t} );\n\n\tif ( ! src ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\tonSelect={ onSelectAudio }\n\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\taccept=\"audio/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tvalue={ attributes }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isSingleSelected && (\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaId={ id }\n\t\t\t\t\t\tmediaURL={ src }\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\taccept=\"audio/*\"\n\t\t\t\t\t\tonSelect={ onSelectAudio }\n\t\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'autoplay' ) }\n\t\t\t\t\t\tchecked={ autoplay }\n\t\t\t\t\t\thelp={ getAutoplayHelp }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\t\t\tonChange={ toggleAttribute( 'loop' ) }\n\t\t\t\t\t\tchecked={ loop }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ _x( 'Preload', 'noun; Audio block parameter' ) }\n\t\t\t\t\t\tvalue={ preload || '' }\n\t\t\t\t\t\t// `undefined` is required for the preload attribute to be unset.\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tpreload: value || undefined,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ value: '', label: __( 'Browser default' ) },\n\t\t\t\t\t\t\t{ value: 'auto', label: __( 'Auto' ) },\n\t\t\t\t\t\t\t{ value: 'metadata', label: __( 'Metadata' ) },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: 'none',\n\t\t\t\t\t\t\t\tlabel: _x( 'None', 'Preload value' ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t{ /*\n\t\t\t\t\tDisable the audio tag if the block is not selected\n\t\t\t\t\tso the user clicking on it won't play the\n\t\t\t\t\tfile or change the position slider when the controls are enabled.\n\t\t\t\t*/ }\n\t\t\t\t<Disabled isDisabled={ ! isSingleSelected }>\n\t\t\t\t\t<audio controls=\"controls\" src={ src } />\n\t\t\t\t</Disabled>\n\t\t\t\t{ isTemporaryAudio && <Spinner /> }\n\t\t\t\t<Caption\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\tisSelected={ isSingleSelected }\n\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\t\tlabel={ __( 'Audio caption text' ) }\n\t\t\t\t\tshowToolbarButton={ isSingleSelected }\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t</>\n\t);\n}\n\nexport default AudioEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlobURL } from '@wordpress/blob';\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'files',\r\n\t\t\tisMatch( files ) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tfiles.length === 1 &&\r\n\t\t\t\t\tfiles[ 0 ].type.indexOf( 'audio/' ) === 0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform( files ) {\r\n\t\t\t\tconst file = files[ 0 ];\r\n\t\t\t\t// We don't need to upload the media directly here\r\n\t\t\t\t// It's already done as part of the `componentDidMount`\r\n\t\t\t\t// in the audio block.\r\n\t\t\t\tconst block = createBlock( 'core/audio', {\r\n\t\t\t\t\tsrc: createBlobURL( file ),\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn block;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'shortcode',\r\n\t\t\ttag: 'audio',\r\n\t\t\tattributes: {\r\n\t\t\t\tsrc: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( {\r\n\t\t\t\t\t\tnamed: { src, mp3, m4a, ogg, wav, wma },\r\n\t\t\t\t\t} ) => {\r\n\t\t\t\t\t\treturn src || mp3 || m4a || ogg || wav || wma;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tloop: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { loop } } ) => {\r\n\t\t\t\t\t\treturn loop;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tautoplay: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { autoplay } } ) => {\r\n\t\t\t\t\t\treturn autoplay;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tpreload: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { preload } } ) => {\r\n\t\t\t\t\t\treturn preload;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { audio as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tsrc: 'https://upload.wikimedia.org/wikipedia/commons/d/dd/Armstrong_Small_Step.ogg',\r\n\t\t},\r\n\t\tviewportWidth: 350,\r\n\t},\r\n\ttransforms,\r\n\tdeprecated,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { autoplay, caption, loop, preload, src } = attributes;\r\n\r\n\treturn (\r\n\t\tsrc && (\r\n\t\t\t<figure { ...useBlockProps.save() }>\r\n\t\t\t\t<audio\r\n\t\t\t\t\tcontrols=\"controls\"\r\n\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\tautoPlay={ autoplay }\r\n\t\t\t\t\tloop={ loop }\r\n\t\t\t\t\tpreload={ preload }\r\n\t\t\t\t/>\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t)\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst button = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default button;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\r\n\r\n/**\r\n * Migrates the current style.typography.fontFamily attribute,\r\n * whose value was \"var:preset|font-family|helvetica-arial\",\r\n * to the style.fontFamily attribute, whose value will be \"helvetica-arial\".\r\n *\r\n * @param {Object} attributes The current attributes\r\n * @return {Object} The updated attributes.\r\n */\r\nexport default function ( attributes ) {\r\n\tif ( ! attributes?.style?.typography?.fontFamily ) {\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\tconst { fontFamily, ...typography } = attributes.style.typography;\r\n\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tstyle: cleanEmptyObject( {\r\n\t\t\t...attributes.style,\r\n\t\t\ttypography,\r\n\t\t} ),\r\n\t\tfontFamily: fontFamily.split( '|' ).pop(),\r\n\t};\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tgetColorClassName,\r\n\tuseBlockProps,\r\n\t__experimentalGetGradientClass,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n\t__experimentalGetSpacingClassesAndStyles as getSpacingClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\nimport { compose } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst migrateBorderRadius = ( attributes ) => {\r\n\tconst { borderRadius, ...newAttributes } = attributes;\r\n\t// We have to check old property `borderRadius` and if\r\n\t// `styles.border.radius` is a `number`\r\n\tconst oldBorderRadius = [\r\n\t\tborderRadius,\r\n\t\tnewAttributes.style?.border?.radius,\r\n\t].find( ( possibleBorderRadius ) => {\r\n\t\treturn (\r\n\t\t\ttypeof possibleBorderRadius === 'number' &&\r\n\t\t\tpossibleBorderRadius !== 0\r\n\t\t);\r\n\t} );\r\n\tif ( ! oldBorderRadius ) {\r\n\t\treturn newAttributes;\r\n\t}\r\n\r\n\treturn {\r\n\t\t...newAttributes,\r\n\t\tstyle: {\r\n\t\t\t...newAttributes.style,\r\n\t\t\tborder: {\r\n\t\t\t\t...newAttributes.style?.border,\r\n\t\t\t\tradius: `${ oldBorderRadius }px`,\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n};\r\n\r\nfunction migrateAlign( attributes ) {\r\n\tif ( ! attributes.align ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst { align, ...otherAttributes } = attributes;\r\n\treturn {\r\n\t\t...otherAttributes,\r\n\t\tclassName: classnames(\r\n\t\t\totherAttributes.className,\r\n\t\t\t`align${ attributes.align }`\r\n\t\t),\r\n\t};\r\n}\r\n\r\nconst migrateCustomColorsAndGradients = ( attributes ) => {\r\n\tif (\r\n\t\t! attributes.customTextColor &&\r\n\t\t! attributes.customBackgroundColor &&\r\n\t\t! attributes.customGradient\r\n\t) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = { color: {} };\r\n\tif ( attributes.customTextColor ) {\r\n\t\tstyle.color.text = attributes.customTextColor;\r\n\t}\r\n\tif ( attributes.customBackgroundColor ) {\r\n\t\tstyle.color.background = attributes.customBackgroundColor;\r\n\t}\r\n\tif ( attributes.customGradient ) {\r\n\t\tstyle.color.gradient = attributes.customGradient;\r\n\t}\r\n\r\n\tconst {\r\n\t\tcustomTextColor,\r\n\t\tcustomBackgroundColor,\r\n\t\tcustomGradient,\r\n\t\t...restAttributes\r\n\t} = attributes;\r\n\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t};\r\n};\r\n\r\nconst oldColorsMigration = ( attributes ) => {\r\n\tconst { color, textColor, ...restAttributes } = {\r\n\t\t...attributes,\r\n\t\tcustomTextColor:\r\n\t\t\tattributes.textColor && '#' === attributes.textColor[ 0 ]\r\n\t\t\t\t? attributes.textColor\r\n\t\t\t\t: undefined,\r\n\t\tcustomBackgroundColor:\r\n\t\t\tattributes.color && '#' === attributes.color[ 0 ]\r\n\t\t\t\t? attributes.color\r\n\t\t\t\t: undefined,\r\n\t};\r\n\treturn migrateCustomColorsAndGradients( restAttributes );\r\n};\r\n\r\nconst blockAttributes = {\r\n\turl: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'a',\r\n\t\tattribute: 'href',\r\n\t},\r\n\ttitle: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'a',\r\n\t\tattribute: 'title',\r\n\t},\r\n\ttext: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'html',\r\n\t\tselector: 'a',\r\n\t},\r\n};\r\n\r\nconst v11 = {\r\n\tattributes: {\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'title',\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'a',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\talign: true,\r\n\t\talignWide: false,\r\n\t\tcolor: {\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\tgradients: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\treusable: false,\r\n\t\tspacing: {\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\tpadding: [ 'horizontal', 'vertical' ],\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tpadding: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tradius: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tradius: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__experimentalSelector: '.wp-block-button__link',\r\n\t},\r\n\tsave( { attributes, className } ) {\r\n\t\tconst { fontSize, linkTarget, rel, style, text, title, url, width } =\r\n\t\t\tattributes;\r\n\r\n\t\tif ( ! text ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t\tconst spacingProps = getSpacingClassesAndStyles( attributes );\r\n\t\tconst buttonClasses = classnames(\r\n\t\t\t'wp-block-button__link',\r\n\t\t\tcolorProps.className,\r\n\t\t\tborderProps.className,\r\n\t\t\t{\r\n\t\t\t\t// For backwards compatibility add style that isn't provided via\r\n\t\t\t\t// block support.\r\n\t\t\t\t'no-border-radius': style?.border?.radius === 0,\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst buttonStyle = {\r\n\t\t\t...borderProps.style,\r\n\t\t\t...colorProps.style,\r\n\t\t\t...spacingProps.style,\r\n\t\t};\r\n\r\n\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\tconst wrapperClasses = classnames( className, {\r\n\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t\t[ `has-custom-font-size` ]: fontSize || style?.typography?.fontSize,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\thref={ url }\r\n\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ rel }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v10 = {\r\n\tattributes: {\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'title',\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'a',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\talign: true,\r\n\t\talignWide: false,\r\n\t\tcolor: {\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\tgradients: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t},\r\n\t\treusable: false,\r\n\t\tspacing: {\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\tpadding: [ 'horizontal', 'vertical' ],\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tpadding: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tradius: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t},\r\n\t\t__experimentalSelector: '.wp-block-button__link',\r\n\t},\r\n\tsave( { attributes, className } ) {\r\n\t\tconst { fontSize, linkTarget, rel, style, text, title, url, width } =\r\n\t\t\tattributes;\r\n\r\n\t\tif ( ! text ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t\tconst spacingProps = getSpacingClassesAndStyles( attributes );\r\n\t\tconst buttonClasses = classnames(\r\n\t\t\t'wp-block-button__link',\r\n\t\t\tcolorProps.className,\r\n\t\t\tborderProps.className,\r\n\t\t\t{\r\n\t\t\t\t// For backwards compatibility add style that isn't provided via\r\n\t\t\t\t// block support.\r\n\t\t\t\t'no-border-radius': style?.border?.radius === 0,\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst buttonStyle = {\r\n\t\t\t...borderProps.style,\r\n\t\t\t...colorProps.style,\r\n\t\t\t...spacingProps.style,\r\n\t\t};\r\n\r\n\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\tconst wrapperClasses = classnames( className, {\r\n\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t\t[ `has-custom-font-size` ]: fontSize || style?.typography?.fontSize,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\thref={ url }\r\n\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ rel }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\nconst deprecated = [\r\n\tv11,\r\n\tv10,\r\n\t{\r\n\t\tsupports: {\r\n\t\t\tanchor: true,\r\n\t\t\talign: true,\r\n\t\t\talignWide: false,\r\n\t\t\tcolor: {\r\n\t\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t\tgradients: true,\r\n\t\t\t},\r\n\t\t\ttypography: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t\t__experimentalFontFamily: true,\r\n\t\t\t},\r\n\t\t\treusable: false,\r\n\t\t\t__experimentalSelector: '.wp-block-button__link',\r\n\t\t},\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tgradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( { style } ) {\r\n\t\t\treturn typeof style?.border?.radius === 'number';\r\n\t\t},\r\n\t\tsave( { attributes, className } ) {\r\n\t\t\tconst {\r\n\t\t\t\tfontSize,\r\n\t\t\t\tlinkTarget,\r\n\t\t\t\trel,\r\n\t\t\t\tstyle,\r\n\t\t\t\ttext,\r\n\t\t\t\ttitle,\r\n\t\t\t\turl,\r\n\t\t\t\twidth,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tif ( ! text ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tconst borderRadius = style?.border?.radius;\r\n\t\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t\t\tconst buttonClasses = classnames(\r\n\t\t\t\t'wp-block-button__link',\r\n\t\t\t\tcolorProps.className,\r\n\t\t\t\t{\r\n\t\t\t\t\t'no-border-radius': style?.border?.radius === 0,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tborderRadius: borderRadius ? borderRadius : undefined,\r\n\t\t\t\t...colorProps.style,\r\n\t\t\t};\r\n\r\n\t\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\t\tconst wrapperClasses = classnames( className, {\r\n\t\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t\t\t[ `has-custom-font-size` ]:\r\n\t\t\t\t\tfontSize || style?.typography?.fontSize,\r\n\t\t\t} );\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ rel }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: compose( migrateFontFamily, migrateBorderRadius ),\r\n\t},\r\n\t{\r\n\t\tsupports: {\r\n\t\t\tanchor: true,\r\n\t\t\talign: true,\r\n\t\t\talignWide: false,\r\n\t\t\tcolor: {\r\n\t\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t},\r\n\t\t\treusable: false,\r\n\t\t\t__experimentalSelector: '.wp-block-button__link',\r\n\t\t},\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tgradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: 'object',\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes, className } ) {\r\n\t\t\tconst { borderRadius, linkTarget, rel, text, title, url, width } =\r\n\t\t\t\tattributes;\r\n\t\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t\t\tconst buttonClasses = classnames(\r\n\t\t\t\t'wp-block-button__link',\r\n\t\t\t\tcolorProps.className,\r\n\t\t\t\t{\r\n\t\t\t\t\t'no-border-radius': borderRadius === 0,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tborderRadius: borderRadius ? borderRadius + 'px' : undefined,\r\n\t\t\t\t...colorProps.style,\r\n\t\t\t};\r\n\r\n\t\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\t\tconst wrapperClasses = classnames( className, {\r\n\t\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t\t} );\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ rel }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: compose( migrateFontFamily, migrateBorderRadius ),\r\n\t},\r\n\t{\r\n\t\tsupports: {\r\n\t\t\tanchor: true,\r\n\t\t\talign: true,\r\n\t\t\talignWide: false,\r\n\t\t\tcolor: {\r\n\t\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t},\r\n\t\t\treusable: false,\r\n\t\t\t__experimentalSelector: '.wp-block-button__link',\r\n\t\t},\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tgradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: 'object',\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes, className } ) {\r\n\t\t\tconst { borderRadius, linkTarget, rel, text, title, url, width } =\r\n\t\t\t\tattributes;\r\n\t\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t\t\tconst buttonClasses = classnames(\r\n\t\t\t\t'wp-block-button__link',\r\n\t\t\t\tcolorProps.className,\r\n\t\t\t\t{\r\n\t\t\t\t\t'no-border-radius': borderRadius === 0,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tborderRadius: borderRadius ? borderRadius + 'px' : undefined,\r\n\t\t\t\t...colorProps.style,\r\n\t\t\t};\r\n\r\n\t\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\t\tconst wrapperClasses = classnames( className, {\r\n\t\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t\t} );\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ rel }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: compose( migrateFontFamily, migrateBorderRadius ),\r\n\t},\r\n\t{\r\n\t\tsupports: {\r\n\t\t\talign: true,\r\n\t\t\talignWide: false,\r\n\t\t\tcolor: { gradients: true },\r\n\t\t},\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tgradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\ttype: 'object',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { borderRadius, linkTarget, rel, text, title, url } =\r\n\t\t\t\tattributes;\r\n\t\t\tconst buttonClasses = classnames( 'wp-block-button__link', {\r\n\t\t\t\t'no-border-radius': borderRadius === 0,\r\n\t\t\t} );\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tborderRadius: borderRadius ? borderRadius + 'px' : undefined,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\thref={ url }\r\n\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ rel }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: migrateBorderRadius,\r\n\t},\r\n\t{\r\n\t\tsupports: {\r\n\t\t\talign: true,\r\n\t\t\talignWide: false,\r\n\t\t},\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tborderRadius: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomGradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tgradient: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible: ( attributes ) =>\r\n\t\t\t!! attributes.customTextColor ||\r\n\t\t\t!! attributes.customBackgroundColor ||\r\n\t\t\t!! attributes.customGradient ||\r\n\t\t\t!! attributes.align,\r\n\t\tmigrate: compose(\r\n\t\t\tmigrateBorderRadius,\r\n\t\t\tmigrateCustomColorsAndGradients,\r\n\t\t\tmigrateAlign\r\n\t\t),\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tborderRadius,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t\tcustomGradient,\r\n\t\t\t\tlinkTarget,\r\n\t\t\t\tgradient,\r\n\t\t\t\trel,\r\n\t\t\t\ttext,\r\n\t\t\t\ttextColor,\r\n\t\t\t\ttitle,\r\n\t\t\t\turl,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass =\r\n\t\t\t\t! customGradient &&\r\n\t\t\t\tgetColorClassName( 'background-color', backgroundColor );\r\n\t\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\r\n\t\t\tconst buttonClasses = classnames( 'wp-block-button__link', {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t'has-background':\r\n\t\t\t\t\tbackgroundColor ||\r\n\t\t\t\t\tcustomBackgroundColor ||\r\n\t\t\t\t\tcustomGradient ||\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t\t'no-border-radius': borderRadius === 0,\r\n\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t\t\tbackgroundColor:\r\n\t\t\t\t\tbackgroundClass || customGradient || gradient\r\n\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\tborderRadius: borderRadius ? borderRadius + 'px' : undefined,\r\n\t\t\t};\r\n\r\n\t\t\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t\t\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t\t\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ rel }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\talign: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'none',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tlinkTarget: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'target',\r\n\t\t\t},\r\n\t\t\trel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'attribute',\r\n\t\t\t\tselector: 'a',\r\n\t\t\t\tattribute: 'rel',\r\n\t\t\t},\r\n\t\t\tplaceholder: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( attribute ) {\r\n\t\t\treturn (\r\n\t\t\t\tattribute.className &&\r\n\t\t\t\tattribute.className.includes( 'is-style-squared' )\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\tlet newClassName = attributes.className;\r\n\t\t\tif ( newClassName ) {\r\n\t\t\t\tnewClassName = newClassName\r\n\t\t\t\t\t.replace( /is-style-squared[\\s]?/, '' )\r\n\t\t\t\t\t.trim();\r\n\t\t\t}\r\n\t\t\treturn migrateBorderRadius(\r\n\t\t\t\tmigrateCustomColorsAndGradients( {\r\n\t\t\t\t\t...attributes,\r\n\t\t\t\t\tclassName: newClassName ? newClassName : undefined,\r\n\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t} )\r\n\t\t\t);\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t\tlinkTarget,\r\n\t\t\t\trel,\r\n\t\t\t\ttext,\r\n\t\t\t\ttextColor,\r\n\t\t\t\ttitle,\r\n\t\t\t\turl,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\r\n\t\t\tconst buttonClasses = classnames( 'wp-block-button__link', {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ rel }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\talign: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'none',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: oldColorsMigration,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\turl,\r\n\t\t\t\ttext,\r\n\t\t\t\ttitle,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\r\n\t\t\tconst buttonClasses = classnames( 'wp-block-button__link', {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\talign: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { url, text, title, align, color, textColor } = attributes;\r\n\r\n\t\t\tconst buttonStyle = {\r\n\t\t\t\tbackgroundColor: color,\r\n\t\t\t\tcolor: textColor,\r\n\t\t\t};\r\n\r\n\t\t\tconst linkClass = 'wp-block-button__link';\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ `align${ align }` }>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: oldColorsMigration,\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\talign: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { url, text, title, align, color, textColor } = attributes;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ `align${ align }` }\r\n\t\t\t\t\tstyle={ { backgroundColor: color } }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"a\"\r\n\t\t\t\t\t\thref={ url }\r\n\t\t\t\t\t\ttitle={ title }\r\n\t\t\t\t\t\tstyle={ { color: textColor } }\r\n\t\t\t\t\t\tvalue={ text }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate: oldColorsMigration,\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","export const NEW_TAB_REL = 'noreferrer noopener';\r\nexport const NEW_TAB_TARGET = '_blank';\r\nexport const NOFOLLOW_REL = 'nofollow';\r\n","/**\r\n * Removes anchor tags from a string.\r\n *\r\n * @param {string} value The value to remove anchor tags from.\r\n *\r\n * @return {string} The value with anchor tags removed.\r\n */\r\nexport default function removeAnchorTag( value ) {\r\n\t// To do: Refactor this to use rich text's removeFormat instead.\r\n\treturn value.toString().replace( /<\\/?a[^>]*>/g, '' );\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst link = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default link;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst linkOff = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default linkOff;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * Internal dependencies\n */\nimport { NEW_TAB_TARGET, NOFOLLOW_REL } from './constants';\nimport { getUpdatedLinkAttributes } from './get-updated-link-attributes';\nimport removeAnchorTag from '../utils/remove-anchor-tag';\nimport { unlock } from '../lock-unlock';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState, useRef, useMemo } from '@wordpress/element';\nimport {\n\tButton,\n\tButtonGroup,\n\tPanelBody,\n\tTextControl,\n\tToolbarButton,\n\tPopover,\n} from '@wordpress/components';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalUseColorProps as useColorProps,\n\t__experimentalGetSpacingClassesAndStyles as useSpacingProps,\n\t__experimentalGetShadowClassesAndStyles as useShadowProps,\n\t__experimentalLinkControl as LinkControl,\n\t__experimentalGetElementClassName,\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { displayShortcut, isKeyboardEvent, ENTER } from '@wordpress/keycodes';\nimport { link, linkOff } from '@wordpress/icons';\nimport {\n\tcreateBlock,\n\tcloneBlock,\n\tgetDefaultBlockName,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { useMergeRefs, useRefEffect } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\nconst LINK_SETTINGS = [\n\t...LinkControl.DEFAULT_LINK_SETTINGS,\n\t{\n\t\tid: 'nofollow',\n\t\ttitle: __( 'Mark as nofollow' ),\n\t},\n];\n\nfunction useEnter( props ) {\n\tconst { replaceBlocks, selectionChange } = useDispatch( blockEditorStore );\n\tconst { getBlock, getBlockRootClientId, getBlockIndex } =\n\t\tuseSelect( blockEditorStore );\n\tconst propsRef = useRef( props );\n\tpropsRef.current = props;\n\treturn useRefEffect( ( element ) => {\n\t\tfunction onKeyDown( event ) {\n\t\t\tif ( event.defaultPrevented || event.keyCode !== ENTER ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { content, clientId } = propsRef.current;\n\t\t\tif ( content.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t\tconst topParentListBlock = getBlock(\n\t\t\t\tgetBlockRootClientId( clientId )\n\t\t\t);\n\t\t\tconst blockIndex = getBlockIndex( clientId );\n\t\t\tconst head = cloneBlock( {\n\t\t\t\t...topParentListBlock,\n\t\t\t\tinnerBlocks: topParentListBlock.innerBlocks.slice(\n\t\t\t\t\t0,\n\t\t\t\t\tblockIndex\n\t\t\t\t),\n\t\t\t} );\n\t\t\tconst middle = createBlock( getDefaultBlockName() );\n\t\t\tconst after = topParentListBlock.innerBlocks.slice(\n\t\t\t\tblockIndex + 1\n\t\t\t);\n\t\t\tconst tail = after.length\n\t\t\t\t? [\n\t\t\t\t\t\tcloneBlock( {\n\t\t\t\t\t\t\t...topParentListBlock,\n\t\t\t\t\t\t\tinnerBlocks: after,\n\t\t\t\t\t\t} ),\n\t\t\t\t  ]\n\t\t\t\t: [];\n\t\t\treplaceBlocks(\n\t\t\t\ttopParentListBlock.clientId,\n\t\t\t\t[ head, middle, ...tail ],\n\t\t\t\t1\n\t\t\t);\n\t\t\t// We manually change the selection here because we are replacing\n\t\t\t// a different block than the selected one.\n\t\t\tselectionChange( middle.clientId );\n\t\t}\n\n\t\telement.addEventListener( 'keydown', onKeyDown );\n\t\treturn () => {\n\t\t\telement.removeEventListener( 'keydown', onKeyDown );\n\t\t};\n\t}, [] );\n}\n\nfunction WidthPanel( { selectedWidth, setAttributes } ) {\n\tfunction handleChange( newWidth ) {\n\t\t// Check if we are toggling the width off\n\t\tconst width = selectedWidth === newWidth ? undefined : newWidth;\n\n\t\t// Update attributes.\n\t\tsetAttributes( { width } );\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t<ButtonGroup aria-label={ __( 'Button width' ) }>\n\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( widthValue ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={ widthValue }\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\twidthValue === selectedWidth\n\t\t\t\t\t\t\t\t\t? 'primary'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={ () => handleChange( widthValue ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ widthValue }%\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ButtonGroup>\n\t\t</PanelBody>\n\t);\n}\n\nfunction ButtonEdit( props ) {\n\tconst {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tclassName,\n\t\tisSelected,\n\t\tonReplace,\n\t\tmergeBlocks,\n\t\tclientId,\n\t} = props;\n\tconst {\n\t\ttagName,\n\t\ttextAlign,\n\t\tlinkTarget,\n\t\tplaceholder,\n\t\trel,\n\t\tstyle,\n\t\ttext,\n\t\turl,\n\t\twidth,\n\t\tmetadata,\n\t} = attributes;\n\n\tconst TagName = tagName || 'a';\n\n\tfunction onKeyDown( event ) {\n\t\tif ( isKeyboardEvent.primary( event, 'k' ) ) {\n\t\t\tstartEditing( event );\n\t\t} else if ( isKeyboardEvent.primaryShift( event, 'k' ) ) {\n\t\t\tunlink();\n\t\t\trichTextRef.current?.focus();\n\t\t}\n\t}\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst colorProps = useColorProps( attributes );\n\tconst spacingProps = useSpacingProps( attributes );\n\tconst shadowProps = useShadowProps( attributes );\n\tconst ref = useRef();\n\tconst richTextRef = useRef();\n\tconst blockProps = useBlockProps( {\n\t\tref: useMergeRefs( [ setPopoverAnchor, ref ] ),\n\t\tonKeyDown,\n\t} );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\tconst [ isEditingURL, setIsEditingURL ] = useState( false );\n\tconst isURLSet = !! url;\n\tconst opensInNewTab = linkTarget === NEW_TAB_TARGET;\n\tconst nofollow = !! rel?.includes( NOFOLLOW_REL );\n\tconst isLinkTag = 'a' === TagName;\n\n\tfunction startEditing( event ) {\n\t\tevent.preventDefault();\n\t\tsetIsEditingURL( true );\n\t}\n\n\tfunction unlink() {\n\t\tsetAttributes( {\n\t\t\turl: undefined,\n\t\t\tlinkTarget: undefined,\n\t\t\trel: undefined,\n\t\t} );\n\t\tsetIsEditingURL( false );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\tsetIsEditingURL( false );\n\t\t}\n\t}, [ isSelected ] );\n\n\t// Memoize link value to avoid overriding the LinkControl's internal state.\n\t// This is a temporary fix. See https://github.com/WordPress/gutenberg/issues/51256.\n\tconst linkValue = useMemo(\n\t\t() => ( { url, opensInNewTab, nofollow } ),\n\t\t[ url, opensInNewTab, nofollow ]\n\t);\n\n\tconst useEnterRef = useEnter( { content: text, clientId } );\n\tconst mergedRef = useMergeRefs( [ useEnterRef, richTextRef ] );\n\n\tconst { lockUrlControls = false } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isSelected ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst blockBindingsSource = unlock(\n\t\t\t\tselect( blocksStore )\n\t\t\t).getBlockBindingsSource( metadata?.bindings?.url?.source );\n\n\t\t\treturn {\n\t\t\t\tlockUrlControls:\n\t\t\t\t\t!! metadata?.bindings?.url &&\n\t\t\t\t\t( ! blockBindingsSource ||\n\t\t\t\t\t\tblockBindingsSource?.lockAttributesEditing ),\n\t\t\t};\n\t\t},\n\t\t[ isSelected ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\t{ ...blockProps }\n\t\t\t\tclassName={ classnames( blockProps.className, {\n\t\t\t\t\t[ `has-custom-width wp-block-button__width-${ width }` ]:\n\t\t\t\t\t\twidth,\n\t\t\t\t\t[ `has-custom-font-size` ]: blockProps.style.fontSize,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\tref={ mergedRef }\n\t\t\t\t\taria-label={ __( 'Button text' ) }\n\t\t\t\t\tplaceholder={ placeholder || __( 'Add text…' ) }\n\t\t\t\t\tvalue={ text }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\ttext: removeAnchorTag( value ),\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t'wp-block-button__link',\n\t\t\t\t\t\tcolorProps.className,\n\t\t\t\t\t\tborderProps.className,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t\t\t\t\t\t// For backwards compatibility add style that isn't\n\t\t\t\t\t\t\t// provided via block support.\n\t\t\t\t\t\t\t'no-border-radius': style?.border?.radius === 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t__experimentalGetElementClassName( 'button' )\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...borderProps.style,\n\t\t\t\t\t\t...colorProps.style,\n\t\t\t\t\t\t...spacingProps.style,\n\t\t\t\t\t\t...shadowProps.style,\n\t\t\t\t\t} }\n\t\t\t\t\tonSplit={ ( value ) =>\n\t\t\t\t\t\tcreateBlock( 'core/button', {\n\t\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\tidentifier=\"text\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t\t<AlignmentControl\n\t\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! isURLSet && isLinkTag && ! lockUrlControls && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\ticon={ link }\n\t\t\t\t\t\ttitle={ __( 'Link' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\tonClick={ startEditing }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isURLSet && isLinkTag && ! lockUrlControls && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\ticon={ linkOff }\n\t\t\t\t\t\ttitle={ __( 'Unlink' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primaryShift( 'k' ) }\n\t\t\t\t\t\tonClick={ unlink }\n\t\t\t\t\t\tisActive\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t{ isLinkTag &&\n\t\t\t\tisSelected &&\n\t\t\t\t( isEditingURL || isURLSet ) &&\n\t\t\t\t! lockUrlControls && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tplacement=\"bottom\"\n\t\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\t\tsetIsEditingURL( false );\n\t\t\t\t\t\t\trichTextRef.current?.focus();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tanchor={ popoverAnchor }\n\t\t\t\t\t\tfocusOnMount={ isEditingURL ? 'firstElement' : false }\n\t\t\t\t\t\t__unstableSlotName={ '__unstable-block-tools-after' }\n\t\t\t\t\t\tshift\n\t\t\t\t\t>\n\t\t\t\t\t\t<LinkControl\n\t\t\t\t\t\t\tvalue={ linkValue }\n\t\t\t\t\t\t\tonChange={ ( {\n\t\t\t\t\t\t\t\turl: newURL,\n\t\t\t\t\t\t\t\topensInNewTab: newOpensInNewTab,\n\t\t\t\t\t\t\t\tnofollow: newNofollow,\n\t\t\t\t\t\t\t} ) =>\n\t\t\t\t\t\t\t\tsetAttributes(\n\t\t\t\t\t\t\t\t\tgetUpdatedLinkAttributes( {\n\t\t\t\t\t\t\t\t\t\trel,\n\t\t\t\t\t\t\t\t\t\turl: newURL,\n\t\t\t\t\t\t\t\t\t\topensInNewTab: newOpensInNewTab,\n\t\t\t\t\t\t\t\t\t\tnofollow: newNofollow,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonRemove={ () => {\n\t\t\t\t\t\t\t\tunlink();\n\t\t\t\t\t\t\t\trichTextRef.current?.focus();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tforceIsEditingLink={ isEditingURL }\n\t\t\t\t\t\t\tsettings={ LINK_SETTINGS }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t{ /** DOUBLEEDESIGN CUSTOM: Do not show width options */ }\n\t\t\t{ /**<InspectorControls>\n\t\t\t\t<WidthPanel\n\t\t\t\t\tselectedWidth={ width }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t</InspectorControls> */}\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t{ isLinkTag && (\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\t\tonChange={ ( newRel ) =>\n\t\t\t\t\t\t\tsetAttributes( { rel: newRel } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n}\n\nexport default ButtonEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { button as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tclassName: 'is-style-fill',\r\n\t\t\ttext: __( 'Call to Action' ),\r\n\t\t},\r\n\t},\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n\tmerge: ( a, { text = '' } ) => ( {\r\n\t\t...a,\r\n\t\ttext: ( a.text || '' ) + text,\r\n\t} ),\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport { NEW_TAB_REL, NEW_TAB_TARGET, NOFOLLOW_REL } from './constants';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { prependHTTP } from '@wordpress/url';\r\n\r\n/**\r\n * Updates the link attributes.\r\n *\r\n * @param {Object}  attributes               The current block attributes.\r\n * @param {string}  attributes.rel           The current link rel attribute.\r\n * @param {string}  attributes.url           The current link url.\r\n * @param {boolean} attributes.opensInNewTab Whether the link should open in a new window.\r\n * @param {boolean} attributes.nofollow      Whether the link should be marked as nofollow.\r\n */\r\nexport function getUpdatedLinkAttributes( {\r\n\trel = '',\r\n\turl = '',\r\n\topensInNewTab,\r\n\tnofollow,\r\n} ) {\r\n\tlet newLinkTarget;\r\n\t// Since `rel` is editable attribute, we need to check for existing values and proceed accordingly.\r\n\tlet updatedRel = rel;\r\n\r\n\tif ( opensInNewTab ) {\r\n\t\tnewLinkTarget = NEW_TAB_TARGET;\r\n\t\tupdatedRel = updatedRel?.includes( NEW_TAB_REL )\r\n\t\t\t? updatedRel\r\n\t\t\t: updatedRel + ` ${ NEW_TAB_REL }`;\r\n\t} else {\r\n\t\tconst relRegex = new RegExp( `\\\\b${ NEW_TAB_REL }\\\\s*`, 'g' );\r\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\r\n\t}\r\n\r\n\tif ( nofollow ) {\r\n\t\tupdatedRel = updatedRel?.includes( NOFOLLOW_REL )\r\n\t\t\t? updatedRel\r\n\t\t\t: updatedRel + ` ${ NOFOLLOW_REL }`;\r\n\t} else {\r\n\t\tconst relRegex = new RegExp( `\\\\b${ NOFOLLOW_REL }\\\\s*`, 'g' );\r\n\t\tupdatedRel = updatedRel?.replace( relRegex, '' ).trim();\r\n\t}\r\n\r\n\treturn {\r\n\t\turl: prependHTTP( url ),\r\n\t\tlinkTarget: newLinkTarget,\r\n\t\trel: updatedRel || undefined,\r\n\t};\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n\t__experimentalGetSpacingClassesAndStyles as getSpacingClassesAndStyles,\r\n\t__experimentalGetShadowClassesAndStyles as getShadowClassesAndStyles,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes, className } ) {\r\n\tconst {\r\n\t\ttagName,\r\n\t\ttype,\r\n\t\ttextAlign,\r\n\t\tfontSize,\r\n\t\tlinkTarget,\r\n\t\trel,\r\n\t\tstyle,\r\n\t\ttext,\r\n\t\ttitle,\r\n\t\turl,\r\n\t\twidth,\r\n\t} = attributes;\r\n\r\n\tif ( RichText.isEmpty( text ) ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst TagName = tagName || 'a';\r\n\tconst isButtonTag = 'button' === TagName;\r\n\tconst buttonType = type || 'button';\r\n\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\tconst spacingProps = getSpacingClassesAndStyles( attributes );\r\n\tconst shadowProps = getShadowClassesAndStyles( attributes );\r\n\tconst buttonClasses = classnames(\r\n\t\t'wp-block-button__link',\r\n\t\tcolorProps.className,\r\n\t\tborderProps.className,\r\n\t\t{\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t\t// For backwards compatibility add style that isn't provided via\r\n\t\t\t// block support.\r\n\t\t\t'no-border-radius': style?.border?.radius === 0,\r\n\t\t},\r\n\t\t__experimentalGetElementClassName( 'button' )\r\n\t);\r\n\tconst buttonStyle = {\r\n\t\t...borderProps.style,\r\n\t\t...colorProps.style,\r\n\t\t...spacingProps.style,\r\n\t\t...shadowProps.style,\r\n\t};\r\n\r\n\t// The use of a `title` attribute here is soft-deprecated, but still applied\r\n\t// if it had already been assigned, for the sake of backward-compatibility.\r\n\t// A title will no longer be assigned for new or updated button block links.\r\n\r\n\tconst wrapperClasses = classnames( className, {\r\n\t\t[ `has-custom-width wp-block-button__width-${ width }` ]: width,\r\n\t\t[ `has-custom-font-size` ]: fontSize || style?.typography?.fontSize,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<div { ...useBlockProps.save( { className: wrapperClasses } ) }>\r\n\t\t\t<RichText.Content\r\n\t\t\t\ttagName={ TagName }\r\n\t\t\t\ttype={ isButtonTag ? buttonType : null }\r\n\t\t\t\tclassName={ buttonClasses }\r\n\t\t\t\thref={ isButtonTag ? null : url }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t\tstyle={ buttonStyle }\r\n\t\t\t\tvalue={ text }\r\n\t\t\t\ttarget={ isButtonTag ? null : linkTarget }\r\n\t\t\t\trel={ isButtonTag ? null : rel }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst buttons = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M14.5 17.5H9.5V16H14.5V17.5Z M14.5 8H9.5V6.5H14.5V8Z M7 3.5H17C18.1046 3.5 19 4.39543 19 5.5V9C19 10.1046 18.1046 11 17 11H7C5.89543 11 5 10.1046 5 9V5.5C5 4.39543 5.89543 3.5 7 3.5ZM17 5H7C6.72386 5 6.5 5.22386 6.5 5.5V9C6.5 9.27614 6.72386 9.5 7 9.5H17C17.2761 9.5 17.5 9.27614 17.5 9V5.5C17.5 5.22386 17.2761 5 17 5Z M7 13H17C18.1046 13 19 13.8954 19 15V18.5C19 19.6046 18.1046 20.5 17 20.5H7C5.89543 20.5 5 19.6046 5 18.5V15C5 13.8954 5.89543 13 7 13ZM17 14.5H7C6.72386 14.5 6.5 14.7239 6.5 15V18.5C6.5 18.7761 6.72386 19 7 19H17C17.2761 19 17.5 18.7761 17.5 18.5V15C17.5 14.7239 17.2761 14.5 17 14.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default buttons;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * @param {Object} attributes Block's attributes.\r\n */\r\nconst migrateWithLayout = ( attributes ) => {\r\n\tif ( !! attributes.layout ) {\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\tconst { contentJustification, orientation, ...updatedAttributes } =\r\n\t\tattributes;\r\n\r\n\tif ( contentJustification || orientation ) {\r\n\t\tObject.assign( updatedAttributes, {\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: 'flex',\r\n\t\t\t\t...( contentJustification && {\r\n\t\t\t\t\tjustifyContent: contentJustification,\r\n\t\t\t\t} ),\r\n\t\t\t\t...( orientation && { orientation } ),\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\r\n\treturn updatedAttributes;\r\n};\r\n\r\nconst deprecated = [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tcontentJustification: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\torientation: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'horizontal',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\tanchor: true,\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\t__experimentalExposeControlsToChildren: true,\r\n\t\t\tspacing: {\r\n\t\t\t\tblockGap: true,\r\n\t\t\t\tmargin: [ 'top', 'bottom' ],\r\n\t\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\t\tblockGap: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible: ( { contentJustification, orientation } ) =>\r\n\t\t\t!! contentJustification || !! orientation,\r\n\t\tmigrate: migrateWithLayout,\r\n\t\tsave( { attributes: { contentJustification, orientation } } ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\t\t\tclassName: classnames( {\r\n\t\t\t\t\t\t\t[ `is-content-justification-${ contentJustification }` ]:\r\n\t\t\t\t\t\t\t\tcontentJustification,\r\n\t\t\t\t\t\t\t'is-vertical': orientation === 'vertical',\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports: {\r\n\t\t\talign: [ 'center', 'left', 'right' ],\r\n\t\t\tanchor: true,\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t\tisEligible( { align } ) {\r\n\t\t\treturn align && [ 'center', 'left', 'right' ].includes( align );\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\treturn migrateWithLayout( {\r\n\t\t\t\t...attributes,\r\n\t\t\t\talign: undefined,\r\n\t\t\t\t// Floating Buttons blocks shouldn't have been supported in the\r\n\t\t\t\t// first place. Most users using them probably expected them to\r\n\t\t\t\t// act like content justification controls, so these blocks are\r\n\t\t\t\t// migrated to use content justification.\r\n\t\t\t\t// As for center-aligned Buttons blocks, the content justification\r\n\t\t\t\t// equivalent will create an identical end result in most cases.\r\n\t\t\t\tcontentJustification: attributes.align,\r\n\t\t\t} );\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"richText\"];","/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Transform the metadata attribute with only the values and bindings specified by each transform.\n * Returns `undefined` if the input metadata is falsy.\n *\n * @param {Object}   metadata         Original metadata attribute from the block that is being transformed.\n * @param {Object}   newBlockName     Name of the final block after the transformation.\n * @param {Function} bindingsCallback Optional callback to transform the `bindings` property object.\n * @return {Object|undefined} New metadata object only with the relevant properties.\n */\nexport function getTransformedMetadata(\n\tmetadata,\n\tnewBlockName,\n\tbindingsCallback\n) {\n\tif ( ! metadata ) {\n\t\treturn;\n\t}\n\tconst { supports } = getBlockType( newBlockName );\n\t// Fixed until an opt-in mechanism is implemented.\n\tconst BLOCK_BINDINGS_SUPPORTED_BLOCKS = [\n\t\t'core/paragraph',\n\t\t'core/heading',\n\t\t'core/image',\n\t\t'core/button',\n\t];\n\t// The metadata properties that should be preserved after the transform.\n\tconst transformSupportedProps = [];\n\t// If it support bindings, and there is a transform bindings callback, add the `id` and `bindings` properties.\n\tif (\n\t\tBLOCK_BINDINGS_SUPPORTED_BLOCKS.includes( newBlockName ) &&\n\t\tbindingsCallback\n\t) {\n\t\ttransformSupportedProps.push( 'id', 'bindings' );\n\t}\n\t// If it support block naming (true by default), add the `name` property.\n\tif ( supports.renaming !== false ) {\n\t\ttransformSupportedProps.push( 'name' );\n\t}\n\n\t// Return early if no supported properties.\n\tif ( ! transformSupportedProps.length ) {\n\t\treturn;\n\t}\n\n\tconst newMetadata = Object.entries( metadata ).reduce(\n\t\t( obj, [ prop, value ] ) => {\n\t\t\t// If prop is not supported, don't add it to the new metadata object.\n\t\t\tif ( ! transformSupportedProps.includes( prop ) ) {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\tobj[ prop ] =\n\t\t\t\tprop === 'bindings' ? bindingsCallback( value ) : value;\n\t\t\treturn obj;\n\t\t},\n\t\t{}\n\t);\n\n\t// Return undefined if object is empty.\n\treturn Object.keys( newMetadata ).length ? newMetadata : undefined;\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { __unstableCreateElement as createElement } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport { getTransformedMetadata } from '../utils/get-transformed-metadata';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/button' ],\n\t\t\ttransform: ( buttons ) =>\n\t\t\t\t// Creates the buttons block.\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/buttons',\n\t\t\t\t\t{},\n\t\t\t\t\t// Loop the selected buttons.\n\t\t\t\t\tbuttons.map( ( attributes ) =>\n\t\t\t\t\t\t// Create singular button in the buttons block.\n\t\t\t\t\t\tcreateBlock( 'core/button', attributes )\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( buttons ) =>\n\t\t\t\t// Creates the buttons block.\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/buttons',\n\t\t\t\t\t{},\n\t\t\t\t\t// Loop the selected buttons.\n\t\t\t\t\tbuttons.map( ( attributes ) => {\n\t\t\t\t\t\tconst { content, metadata } = attributes;\n\t\t\t\t\t\tconst element = createElement( document, content );\n\t\t\t\t\t\t// Remove any HTML tags.\n\t\t\t\t\t\tconst text = element.innerText || '';\n\t\t\t\t\t\t// Get first url.\n\t\t\t\t\t\tconst link = element.querySelector( 'a' );\n\t\t\t\t\t\tconst url = link?.getAttribute( 'href' );\n\t\t\t\t\t\t// Create singular button in the buttons block.\n\t\t\t\t\t\treturn createBlock( 'core/button', {\n\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tmetadata: getTransformedMetadata(\n\t\t\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\t\t\t'core/button',\n\t\t\t\t\t\t\t\t( { content: contentBinding } ) => ( {\n\t\t\t\t\t\t\t\t\ttext: contentBinding,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t\tisMatch: ( paragraphs ) => {\n\t\t\t\treturn paragraphs.every( ( attributes ) => {\n\t\t\t\t\tconst element = createElement(\n\t\t\t\t\t\tdocument,\n\t\t\t\t\t\tattributes.content\n\t\t\t\t\t);\n\t\t\t\t\tconst text = element.innerText || '';\n\t\t\t\t\tconst links = element.querySelectorAll( 'a' );\n\t\t\t\t\treturn text.length <= 30 && links.length <= 1;\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { store as blocksStore } from '@wordpress/blocks';\n\nconst DEFAULT_BLOCK = {\n\tname: 'core/button',\n\tattributesToCopy: [\n\t\t'backgroundColor',\n\t\t'border',\n\t\t'className',\n\t\t'fontFamily',\n\t\t'fontSize',\n\t\t'gradient',\n\t\t'style',\n\t\t'textColor',\n\t\t'width',\n\t],\n};\n\nfunction ButtonsEdit( { attributes, className } ) {\n\tconst { fontSize, layout, style } = attributes;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( className, {\n\t\t\t'has-custom-font-size': fontSize || style?.typography?.fontSize,\n\t\t} ),\n\t} );\n\tconst { hasButtonVariations } = useSelect( ( select ) => {\n\t\tconst buttonVariations = select( blocksStore ).getBlockVariations(\n\t\t\t'core/button',\n\t\t\t'inserter'\n\t\t);\n\t\treturn {\n\t\t\thasButtonVariations: buttonVariations.length > 0,\n\t\t};\n\t}, [] );\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\t// This check should be handled by the `Inserter` internally to be consistent across all blocks that use it.\n\t\tdirectInsert: ! hasButtonVariations,\n\t\ttemplate: [ [ 'core/button' ] ],\n\t\ttemplateInsertUpdatesSelection: true,\n\t\torientation: layout?.orientation ?? 'horizontal',\n\t} );\n\n\treturn <div { ...innerBlocksProps } />;\n}\n\nexport default ButtonsEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { buttons as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport transforms from './transforms';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/button',\r\n\t\t\t\tattributes: { text: __( 'Find out more' ) },\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/button',\r\n\t\t\t\tattributes: { text: __( 'Contact us' ) },\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tdeprecated,\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes, className } ) {\r\n\tconst { fontSize, style } = attributes;\r\n\tconst blockProps = useBlockProps.save( {\r\n\t\tclassName: classnames( className, {\r\n\t\t\t'has-custom-font-size': fontSize || style?.typography?.fontSize,\r\n\t\t} ),\r\n\t} );\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\treturn <div { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst calendar = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default calendar;\r\n","/**\r\n * External dependencies\r\n */\r\nimport memoize from 'memize';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { calendar as icon } from '@wordpress/icons';\r\nimport { Disabled, Placeholder, Spinner } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Returns the year and month of a specified date.\r\n *\r\n * @see `WP_REST_Posts_Controller::prepare_date_response()`.\r\n *\r\n * @param {string} date Date in `ISO8601/RFC3339` format.\r\n * @return {Object} Year and date of the specified date.\r\n */\r\nconst getYearMonth = memoize( ( date ) => {\r\n\tif ( ! date ) {\r\n\t\treturn {};\r\n\t}\r\n\tconst dateObj = new Date( date );\r\n\treturn {\r\n\t\tyear: dateObj.getFullYear(),\r\n\t\tmonth: dateObj.getMonth() + 1,\r\n\t};\r\n} );\r\n\r\nexport default function CalendarEdit( { attributes } ) {\r\n\tconst blockProps = useBlockProps();\r\n\tconst { date, hasPosts, hasPostsResolved } = useSelect( ( select ) => {\r\n\t\tconst { getEntityRecords, hasFinishedResolution } = select( coreStore );\r\n\r\n\t\tconst singlePublishedPostQuery = {\r\n\t\t\tstatus: 'publish',\r\n\t\t\tper_page: 1,\r\n\t\t};\r\n\t\tconst posts = getEntityRecords(\r\n\t\t\t'postType',\r\n\t\t\t'post',\r\n\t\t\tsinglePublishedPostQuery\r\n\t\t);\r\n\t\tconst postsResolved = hasFinishedResolution( 'getEntityRecords', [\r\n\t\t\t'postType',\r\n\t\t\t'post',\r\n\t\t\tsinglePublishedPostQuery,\r\n\t\t] );\r\n\r\n\t\tlet _date;\r\n\r\n\t\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t\t// Blocks can be loaded into a *non-post* block editor.\r\n\t\t// eslint-disable-next-line @wordpress/data-no-store-string-literals\r\n\t\tconst editorSelectors = select( 'core/editor' );\r\n\t\tif ( editorSelectors ) {\r\n\t\t\tconst postType = editorSelectors.getEditedPostAttribute( 'type' );\r\n\t\t\t// Dates are used to overwrite year and month used on the calendar.\r\n\t\t\t// This overwrite should only happen for 'post' post types.\r\n\t\t\t// For other post types the calendar always displays the current month.\r\n\t\t\tif ( postType === 'post' ) {\r\n\t\t\t\t_date = editorSelectors.getEditedPostAttribute( 'date' );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tdate: _date,\r\n\t\t\thasPostsResolved: postsResolved,\r\n\t\t\thasPosts: postsResolved && posts?.length === 1,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tif ( ! hasPosts ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Placeholder icon={ icon } label={ __( 'Calendar' ) }>\r\n\t\t\t\t\t{ ! hasPostsResolved ? (\r\n\t\t\t\t\t\t<Spinner />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t__( 'No published posts found.' )\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Placeholder>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Disabled>\r\n\t\t\t\t<ServerSideRender\r\n\t\t\t\t\tblock=\"core/calendar\"\r\n\t\t\t\t\tattributes={ { ...attributes, ...getYearMonth( date ) } }\r\n\t\t\t\t/>\r\n\t\t\t</Disabled>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/archives' ],\r\n\t\t\ttransform: () => createBlock( 'core/calendar' ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/archives' ],\r\n\t\t\ttransform: () => createBlock( 'core/archives' ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { calendar as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst category = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default category;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst pin = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pin;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { category as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tPanelBody,\r\n\tPlaceholder,\r\n\tSpinner,\r\n\tToggleControl,\r\n\tVisuallyHidden,\r\n} from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { pin } from '@wordpress/icons';\r\nimport { useEntityRecords } from '@wordpress/core-data';\r\n\r\nexport default function CategoriesEdit( {\r\n\tattributes: {\r\n\t\tdisplayAsDropdown,\r\n\t\tshowHierarchy,\r\n\t\tshowPostCounts,\r\n\t\tshowOnlyTopLevel,\r\n\t\tshowEmpty,\r\n\t},\r\n\tsetAttributes,\r\n\tclassName,\r\n} ) {\r\n\tconst selectId = useInstanceId( CategoriesEdit, 'blocks-category-select' );\r\n\tconst query = { per_page: -1, hide_empty: ! showEmpty, context: 'view' };\r\n\tif ( showOnlyTopLevel ) {\r\n\t\tquery.parent = 0;\r\n\t}\r\n\r\n\tconst { records: categories, isResolving } = useEntityRecords(\r\n\t\t'taxonomy',\r\n\t\t'category',\r\n\t\tquery\r\n\t);\r\n\r\n\tconst getCategoriesList = ( parentId ) => {\r\n\t\tif ( ! categories?.length ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif ( parentId === null ) {\r\n\t\t\treturn categories;\r\n\t\t}\r\n\t\treturn categories.filter( ( { parent } ) => parent === parentId );\r\n\t};\r\n\r\n\tconst toggleAttribute = ( attributeName ) => ( newValue ) =>\r\n\t\tsetAttributes( { [ attributeName ]: newValue } );\r\n\r\n\tconst renderCategoryName = ( name ) =>\r\n\t\t! name ? __( '(Untitled)' ) : decodeEntities( name ).trim();\r\n\r\n\tconst renderCategoryList = () => {\r\n\t\tconst parentId = showHierarchy ? 0 : null;\r\n\t\tconst categoriesList = getCategoriesList( parentId );\r\n\t\treturn categoriesList.map( ( category ) =>\r\n\t\t\trenderCategoryListItem( category )\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderCategoryListItem = ( category ) => {\r\n\t\tconst childCategories = getCategoriesList( category.id );\r\n\t\tconst { id, link, count, name } = category;\r\n\t\treturn (\r\n\t\t\t<li key={ id } className={ `cat-item cat-item-${ id }` }>\r\n\t\t\t\t<a href={ link } target=\"_blank\" rel=\"noreferrer noopener\">\r\n\t\t\t\t\t{ renderCategoryName( name ) }\r\n\t\t\t\t</a>\r\n\t\t\t\t{ showPostCounts && ` (${ count })` }\r\n\t\t\t\t{ showHierarchy && !! childCategories.length && (\r\n\t\t\t\t\t<ul className=\"children\">\r\n\t\t\t\t\t\t{ childCategories.map( ( childCategory ) =>\r\n\t\t\t\t\t\t\trenderCategoryListItem( childCategory )\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t) }\r\n\t\t\t</li>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderCategoryDropdown = () => {\r\n\t\tconst parentId = showHierarchy ? 0 : null;\r\n\t\tconst categoriesList = getCategoriesList( parentId );\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<VisuallyHidden as=\"label\" htmlFor={ selectId }>\r\n\t\t\t\t\t{ __( 'Categories' ) }\r\n\t\t\t\t</VisuallyHidden>\r\n\t\t\t\t<select id={ selectId }>\r\n\t\t\t\t\t<option>{ __( 'Select Category' ) }</option>\r\n\t\t\t\t\t{ categoriesList.map( ( category ) =>\r\n\t\t\t\t\t\trenderCategoryDropdownItem( category, 0 )\r\n\t\t\t\t\t) }\r\n\t\t\t\t</select>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderCategoryDropdownItem = ( category, level ) => {\r\n\t\tconst { id, count, name } = category;\r\n\t\tconst childCategories = getCategoriesList( id );\r\n\t\treturn [\r\n\t\t\t<option key={ id } className={ `level-${ level }` }>\r\n\t\t\t\t{ Array.from( { length: level * 3 } ).map( () => '\\xa0' ) }\r\n\t\t\t\t{ renderCategoryName( name ) }\r\n\t\t\t\t{ showPostCounts && ` (${ count })` }\r\n\t\t\t</option>,\r\n\t\t\tshowHierarchy &&\r\n\t\t\t\t!! childCategories.length &&\r\n\t\t\t\tchildCategories.map( ( childCategory ) =>\r\n\t\t\t\t\trenderCategoryDropdownItem( childCategory, level + 1 )\r\n\t\t\t\t),\r\n\t\t];\r\n\t};\r\n\r\n\tconst TagName =\r\n\t\t!! categories?.length && ! displayAsDropdown && ! isResolving\r\n\t\t\t? 'ul'\r\n\t\t\t: 'div';\r\n\r\n\tconst classes = classnames( className, {\r\n\t\t'wp-block-categories-list':\r\n\t\t\t!! categories?.length && ! displayAsDropdown && ! isResolving,\r\n\t\t'wp-block-categories-dropdown':\r\n\t\t\t!! categories?.length && displayAsDropdown && ! isResolving,\r\n\t} );\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classes,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<TagName { ...blockProps }>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display as dropdown' ) }\r\n\t\t\t\t\t\tchecked={ displayAsDropdown }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAsDropdown' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Show post counts' ) }\r\n\t\t\t\t\t\tchecked={ showPostCounts }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showPostCounts' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Show only top level categories' ) }\r\n\t\t\t\t\t\tchecked={ showOnlyTopLevel }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showOnlyTopLevel' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Show empty categories' ) }\r\n\t\t\t\t\t\tchecked={ showEmpty }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'showEmpty' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ ! showOnlyTopLevel && (\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Show hierarchy' ) }\r\n\t\t\t\t\t\t\tchecked={ showHierarchy }\r\n\t\t\t\t\t\t\tonChange={ toggleAttribute( 'showHierarchy' ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t{ isResolving && (\r\n\t\t\t\t<Placeholder icon={ pin } label={ __( 'Categories' ) }>\r\n\t\t\t\t\t<Spinner />\r\n\t\t\t\t</Placeholder>\r\n\t\t\t) }\r\n\t\t\t{ ! isResolving && categories?.length === 0 && (\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t'Your site does not have any posts, so there is nothing to display here at the moment.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t</p>\r\n\t\t\t) }\r\n\t\t\t{ ! isResolving &&\r\n\t\t\t\tcategories?.length > 0 &&\r\n\t\t\t\t( displayAsDropdown\r\n\t\t\t\t\t? renderCategoryDropdown()\r\n\t\t\t\t\t: renderCategoryList() ) }\r\n\t\t</TagName>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst classic = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M20 6H4c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H4c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h16c.3 0 .5.2.5.5v9zM10 10H8v2h2v-2zm-5 2h2v-2H5v2zm8-2h-2v2h2v-2zm-5 6h8v-2H8v2zm6-4h2v-2h-2v2zm3 0h2v-2h-2v2zm0 4h2v-2h-2v2zM5 16h2v-2H5v2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default classic;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { ToolbarButton } from '@wordpress/components';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { rawHandler, serialize } from '@wordpress/blocks';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nconst ConvertToBlocksButton = ( { clientId } ) => {\r\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\r\n\tconst block = useSelect(\r\n\t\t( select ) => {\r\n\t\t\treturn select( blockEditorStore ).getBlock( clientId );\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<ToolbarButton\r\n\t\t\tonClick={ () =>\r\n\t\t\t\treplaceBlocks(\r\n\t\t\t\t\tblock.clientId,\r\n\t\t\t\t\trawHandler( { HTML: serialize( block ) } )\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{ __( 'Convert to blocks' ) }\r\n\t\t</ToolbarButton>\r\n\t);\r\n};\r\n\r\nexport default ConvertToBlocksButton;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst fullscreen = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default fullscreen;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { BlockControls, store } from '@wordpress/block-editor';\r\nimport {\r\n\tToolbarGroup,\r\n\tToolbarButton,\r\n\tModal,\r\n\tButton,\r\n\tFlex,\r\n\tFlexItem,\r\n} from '@wordpress/components';\r\nimport { useEffect, useState, RawHTML } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { fullscreen } from '@wordpress/icons';\r\nimport { useViewportMatch } from '@wordpress/compose';\r\n\r\nfunction ModalAuxiliaryActions( { onClick, isModalFullScreen } ) {\r\n\t// 'small' to match the rules in editor.scss.\r\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\r\n\tif ( isMobileViewport ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tonClick={ onClick }\r\n\t\t\ticon={ fullscreen }\r\n\t\t\tisPressed={ isModalFullScreen }\r\n\t\t\tlabel={\r\n\t\t\t\tisModalFullScreen\r\n\t\t\t\t\t? __( 'Exit fullscreen' )\r\n\t\t\t\t\t: __( 'Enter fullscreen' )\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction ClassicEdit( props ) {\r\n\tconst styles = useSelect(\r\n\t\t( select ) => select( store ).getSettings().styles\r\n\t);\r\n\tuseEffect( () => {\r\n\t\tconst { baseURL, suffix, settings } = window.wpEditorL10n.tinymce;\r\n\r\n\t\twindow.tinymce.EditorManager.overrideDefaults( {\r\n\t\t\tbase_url: baseURL,\r\n\t\t\tsuffix,\r\n\t\t} );\r\n\r\n\t\twindow.wp.oldEditor.initialize( props.id, {\r\n\t\t\ttinymce: {\r\n\t\t\t\t...settings,\r\n\t\t\t\tsetup( editor ) {\r\n\t\t\t\t\teditor.on( 'init', () => {\r\n\t\t\t\t\t\tconst doc = editor.getDoc();\r\n\t\t\t\t\t\tstyles.forEach( ( { css } ) => {\r\n\t\t\t\t\t\t\tconst styleEl = doc.createElement( 'style' );\r\n\t\t\t\t\t\t\tstyleEl.innerHTML = css;\r\n\t\t\t\t\t\t\tdoc.head.appendChild( styleEl );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} );\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.wp.oldEditor.remove( props.id );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\treturn <textarea { ...props } />;\r\n}\r\n\r\nexport default function ModalEdit( props ) {\r\n\tconst {\r\n\t\tclientId,\r\n\t\tattributes: { content },\r\n\t\tsetAttributes,\r\n\t\tonReplace,\r\n\t} = props;\r\n\tconst [ isOpen, setOpen ] = useState( false );\r\n\tconst [ isModalFullScreen, setIsModalFullScreen ] = useState( false );\r\n\tconst id = `editor-${ clientId }`;\r\n\r\n\tconst onClose = () => ( content ? setOpen( false ) : onReplace( [] ) );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<ToolbarButton onClick={ () => setOpen( true ) }>\r\n\t\t\t\t\t\t{ __( 'Edit' ) }\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t</BlockControls>\r\n\t\t\t{ content && <RawHTML>{ content }</RawHTML> }\r\n\t\t\t{ ( isOpen || ! content ) && (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={ __( 'Classic Editor' ) }\r\n\t\t\t\t\tonRequestClose={ onClose }\r\n\t\t\t\t\tshouldCloseOnClickOutside={ false }\r\n\t\t\t\t\toverlayClassName=\"block-editor-freeform-modal\"\r\n\t\t\t\t\tisFullScreen={ isModalFullScreen }\r\n\t\t\t\t\tclassName=\"block-editor-freeform-modal__content\"\r\n\t\t\t\t\theaderActions={\r\n\t\t\t\t\t\t<ModalAuxiliaryActions\r\n\t\t\t\t\t\t\tonClick={ () =>\r\n\t\t\t\t\t\t\t\tsetIsModalFullScreen( ! isModalFullScreen )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tisModalFullScreen={ isModalFullScreen }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ClassicEdit id={ id } defaultValue={ content } />\r\n\t\t\t\t\t<Flex\r\n\t\t\t\t\t\tclassName=\"block-editor-freeform-modal__actions\"\r\n\t\t\t\t\t\tjustify=\"flex-end\"\r\n\t\t\t\t\t\texpanded={ false }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t<Button variant=\"tertiary\" onClick={ onClose }>\r\n\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t\t<FlexItem>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\t\t\t\twindow.wp.oldEditor.getContent(\r\n\t\t\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\tsetOpen( false );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Save' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t</Flex>\r\n\t\t\t\t</Modal>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { debounce, useRefEffect } from '@wordpress/compose';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { ToolbarGroup } from '@wordpress/components';\r\nimport { useEffect, useRef, useState } from '@wordpress/element';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { BACKSPACE, DELETE, F10, isKeyboardEvent } from '@wordpress/keycodes';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport ConvertToBlocksButton from './convert-to-blocks-button';\r\nimport ModalEdit from './modal';\r\n\r\nconst { wp } = window;\r\n\r\nfunction isTmceEmpty( editor ) {\r\n\t// When tinyMce is empty the content seems to be:\r\n\t// <p><br data-mce-bogus=\"1\"></p>\r\n\t// avoid expensive checks for large documents\r\n\tconst body = editor.getBody();\r\n\tif ( body.childNodes.length > 1 ) {\r\n\t\treturn false;\r\n\t} else if ( body.childNodes.length === 0 ) {\r\n\t\treturn true;\r\n\t}\r\n\tif ( body.childNodes[ 0 ].childNodes.length > 1 ) {\r\n\t\treturn false;\r\n\t}\r\n\treturn /^\\n?$/.test( body.innerText || body.textContent );\r\n}\r\n\r\nexport default function FreeformEdit( props ) {\r\n\tconst { clientId } = props;\r\n\tconst canRemove = useSelect(\r\n\t\t( select ) => select( blockEditorStore ).canRemoveBlock( clientId ),\r\n\t\t[ clientId ]\r\n\t);\r\n\tconst [ isIframed, setIsIframed ] = useState( false );\r\n\tconst ref = useRefEffect( ( element ) => {\r\n\t\tsetIsIframed( element.ownerDocument !== document );\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ canRemove && (\r\n\t\t\t\t<BlockControls>\r\n\t\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t\t<ConvertToBlocksButton clientId={ clientId } />\r\n\t\t\t\t\t</ToolbarGroup>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t) }\r\n\t\t\t<div { ...useBlockProps( { ref } ) }>\r\n\t\t\t\t{ isIframed ? (\r\n\t\t\t\t\t<ModalEdit { ...props } />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ClassicEdit { ...props } />\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nfunction ClassicEdit( {\r\n\tclientId,\r\n\tattributes: { content },\r\n\tsetAttributes,\r\n\tonReplace,\r\n} ) {\r\n\tconst { getMultiSelectedBlockClientIds } = useSelect( blockEditorStore );\r\n\tconst didMount = useRef( false );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! didMount.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst editor = window.tinymce.get( `editor-${ clientId }` );\r\n\t\tconst currentContent = editor?.getContent();\r\n\r\n\t\tif ( currentContent !== content ) {\r\n\t\t\teditor.setContent( content || '' );\r\n\t\t}\r\n\t}, [ content ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst { baseURL, suffix } = window.wpEditorL10n.tinymce;\r\n\r\n\t\tdidMount.current = true;\r\n\r\n\t\twindow.tinymce.EditorManager.overrideDefaults( {\r\n\t\t\tbase_url: baseURL,\r\n\t\t\tsuffix,\r\n\t\t} );\r\n\r\n\t\tfunction onSetup( editor ) {\r\n\t\t\tlet bookmark;\r\n\r\n\t\t\tif ( content ) {\r\n\t\t\t\teditor.on( 'loadContent', () => editor.setContent( content ) );\r\n\t\t\t}\r\n\r\n\t\t\teditor.on( 'blur', () => {\r\n\t\t\t\tbookmark = editor.selection.getBookmark( 2, true );\r\n\t\t\t\t// There is an issue with Chrome and the editor.focus call in core at https://core.trac.wordpress.org/browser/trunk/src/js/_enqueues/lib/link.js#L451.\r\n\t\t\t\t// This causes a scroll to the top of editor content on return from some content updating dialogs so tracking\r\n\t\t\t\t// scroll position until this is fixed in core.\r\n\t\t\t\tconst scrollContainer = document.querySelector(\r\n\t\t\t\t\t'.interface-interface-skeleton__content'\r\n\t\t\t\t);\r\n\t\t\t\tconst scrollPosition = scrollContainer.scrollTop;\r\n\r\n\t\t\t\t// Only update attributes if we aren't multi-selecting blocks.\r\n\t\t\t\t// Updating during multi-selection can overwrite attributes of other blocks.\r\n\t\t\t\tif ( ! getMultiSelectedBlockClientIds()?.length ) {\r\n\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\tcontent: editor.getContent(),\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\teditor.once( 'focus', () => {\r\n\t\t\t\t\tif ( bookmark ) {\r\n\t\t\t\t\t\teditor.selection.moveToBookmark( bookmark );\r\n\t\t\t\t\t\tif ( scrollContainer.scrollTop !== scrollPosition ) {\r\n\t\t\t\t\t\t\tscrollContainer.scrollTop = scrollPosition;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t} );\r\n\r\n\t\t\teditor.on( 'mousedown touchstart', () => {\r\n\t\t\t\tbookmark = null;\r\n\t\t\t} );\r\n\r\n\t\t\tconst debouncedOnChange = debounce( () => {\r\n\t\t\t\tconst value = editor.getContent();\r\n\r\n\t\t\t\tif ( value !== editor._lastChange ) {\r\n\t\t\t\t\teditor._lastChange = value;\r\n\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\tcontent: value,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}, 250 );\r\n\t\t\teditor.on( 'Paste Change input Undo Redo', debouncedOnChange );\r\n\r\n\t\t\t// We need to cancel the debounce call because when we remove\r\n\t\t\t// the editor (onUnmount) this callback is executed in\r\n\t\t\t// another tick. This results in setting the content to empty.\r\n\t\t\teditor.on( 'remove', debouncedOnChange.cancel );\r\n\r\n\t\t\teditor.on( 'keydown', ( event ) => {\r\n\t\t\t\tif ( isKeyboardEvent.primary( event, 'z' ) ) {\r\n\t\t\t\t\t// Prevent the gutenberg undo kicking in so TinyMCE undo stack works as expected.\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t( event.keyCode === BACKSPACE ||\r\n\t\t\t\t\t\tevent.keyCode === DELETE ) &&\r\n\t\t\t\t\tisTmceEmpty( editor )\r\n\t\t\t\t) {\r\n\t\t\t\t\t// Delete the block.\r\n\t\t\t\t\tonReplace( [] );\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst { altKey } = event;\r\n\t\t\t\t/*\r\n\t\t\t\t * Prevent Mousetrap from kicking in: TinyMCE already uses its own\r\n\t\t\t\t * `alt+f10` shortcut to focus its toolbar.\r\n\t\t\t\t */\r\n\t\t\t\tif ( altKey && event.keyCode === F10 ) {\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\teditor.on( 'init', () => {\r\n\t\t\t\tconst rootNode = editor.getBody();\r\n\r\n\t\t\t\t// Create the toolbar by refocussing the editor.\r\n\t\t\t\tif ( rootNode.ownerDocument.activeElement === rootNode ) {\r\n\t\t\t\t\trootNode.blur();\r\n\t\t\t\t\teditor.focus();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction initialize() {\r\n\t\t\tconst { settings } = window.wpEditorL10n.tinymce;\r\n\t\t\twp.oldEditor.initialize( `editor-${ clientId }`, {\r\n\t\t\t\ttinymce: {\r\n\t\t\t\t\t...settings,\r\n\t\t\t\t\tinline: true,\r\n\t\t\t\t\tcontent_css: false,\r\n\t\t\t\t\tfixed_toolbar_container: `#toolbar-${ clientId }`,\r\n\t\t\t\t\tsetup: onSetup,\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tfunction onReadyStateChange() {\r\n\t\t\tif ( document.readyState === 'complete' ) {\r\n\t\t\t\tinitialize();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( document.readyState === 'complete' ) {\r\n\t\t\tinitialize();\r\n\t\t} else {\r\n\t\t\tdocument.addEventListener( 'readystatechange', onReadyStateChange );\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\r\n\t\t\t\t'readystatechange',\r\n\t\t\t\tonReadyStateChange\r\n\t\t\t);\r\n\t\t\twp.oldEditor.remove( `editor-${ clientId }` );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tfunction focus() {\r\n\t\tconst editor = window.tinymce.get( `editor-${ clientId }` );\r\n\t\tif ( editor ) {\r\n\t\t\teditor.focus();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onToolbarKeyDown( event ) {\r\n\t\t// Prevent WritingFlow from kicking in and allow arrows navigation on the toolbar.\r\n\t\tevent.stopPropagation();\r\n\t\t// Prevent Mousetrap from moving focus to the top toolbar when pressing `alt+f10` on this block toolbar.\r\n\t\tevent.nativeEvent.stopImmediatePropagation();\r\n\t}\r\n\r\n\t// Disable reasons:\r\n\t//\r\n\t// jsx-a11y/no-static-element-interactions\r\n\t//  - the toolbar itself is non-interactive, but must capture events\r\n\t//    from the KeyboardShortcuts component to stop their propagation.\r\n\r\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tkey=\"toolbar\"\r\n\t\t\t\tid={ `toolbar-${ clientId }` }\r\n\t\t\t\tclassName=\"block-library-classic__toolbar\"\r\n\t\t\t\tonClick={ focus }\r\n\t\t\t\tdata-placeholder={ __( 'Classic' ) }\r\n\t\t\t\tonKeyDown={ onToolbarKeyDown }\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tkey=\"editor\"\r\n\t\t\t\tid={ `editor-${ clientId }` }\r\n\t\t\t\tclassName=\"wp-block-freeform block-library-rich-text__tinymce\"\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { classic as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { content } = attributes;\r\n\r\n\treturn <RawHTML>{ content }</RawHTML>;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst code = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default code;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { pipe } from '@wordpress/compose';\r\n\r\n/**\r\n * Escapes ampersands, shortcodes, and links.\r\n *\r\n * @param {string} content The content of a code block.\r\n * @return {string} The given content with some characters escaped.\r\n */\r\nexport function escape( content ) {\r\n\treturn pipe(\r\n\t\tescapeOpeningSquareBrackets,\r\n\t\tescapeProtocolInIsolatedUrls\r\n\t)( content || '' );\r\n}\r\n\r\n/**\r\n * Returns the given content with all opening shortcode characters converted\r\n * into their HTML entity counterpart (i.e. [ => &#91;). For instance, a\r\n * shortcode like [embed] becomes &#91;embed]\r\n *\r\n * This function replicates the escaping of HTML tags, where a tag like\r\n * <strong> becomes &lt;strong>.\r\n *\r\n * @param {string} content The content of a code block.\r\n * @return {string} The given content with its opening shortcode characters\r\n *                  converted into their HTML entity counterpart\r\n *                  (i.e. [ => &#91;)\r\n */\r\nfunction escapeOpeningSquareBrackets( content ) {\r\n\treturn content.replace( /\\[/g, '&#91;' );\r\n}\r\n\r\n/**\r\n * Converts the first two forward slashes of any isolated URL into their HTML\r\n * counterparts (i.e. // => &#47;&#47;). For instance, https://youtube.com/watch?x\r\n * becomes https:&#47;&#47;youtube.com/watch?x.\r\n *\r\n * An isolated URL is a URL that sits in its own line, surrounded only by spacing\r\n * characters.\r\n *\r\n * See https://github.com/WordPress/wordpress-develop/blob/5.1.1/src/wp-includes/class-wp-embed.php#L403\r\n *\r\n * @param {string} content The content of a code block.\r\n * @return {string} The given content with its ampersands converted into\r\n *                  their HTML entity counterpart (i.e. & => &amp;)\r\n */\r\nfunction escapeProtocolInIsolatedUrls( content ) {\r\n\treturn content.replace(\r\n\t\t/^(\\s*https?:)\\/\\/([^\\s<>\"]+\\s*)$/m,\r\n\t\t'$1&#47;&#47;$2'\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { create, toHTMLString } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport { getTransformedMetadata } from '../utils/get-transformed-metadata';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'enter',\n\t\t\tregExp: /^```$/,\n\t\t\ttransform: () => createBlock( 'core/code' ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { content, metadata } ) =>\n\t\t\t\tcreateBlock( 'core/code', {\n\t\t\t\t\tcontent,\n\t\t\t\t\tmetadata: getTransformedMetadata( metadata, 'core/code' ),\n\t\t\t\t} ),\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/html' ],\n\t\t\ttransform: ( { content: text, metadata } ) => {\n\t\t\t\treturn createBlock( 'core/code', {\n\t\t\t\t\t// The HTML is plain text (with plain line breaks), so\n\t\t\t\t\t// convert it to rich text.\n\t\t\t\t\tcontent: toHTMLString( { value: create( { text } ) } ),\n\t\t\t\t\tmetadata: getTransformedMetadata( metadata, 'core/code' ),\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'raw',\n\t\t\tisMatch: ( node ) =>\n\t\t\t\tnode.nodeName === 'PRE' &&\n\t\t\t\tnode.children.length === 1 &&\n\t\t\t\tnode.firstChild.nodeName === 'CODE',\n\t\t\tschema: {\n\t\t\t\tpre: {\n\t\t\t\t\tchildren: {\n\t\t\t\t\t\tcode: {\n\t\t\t\t\t\t\tchildren: {\n\t\t\t\t\t\t\t\t'#text': {},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( { content, metadata } ) =>\n\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\tcontent,\n\t\t\t\t\tmetadata: getTransformedMetadata(\n\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\t'core/paragraph'\n\t\t\t\t\t),\n\t\t\t\t} ),\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { code as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\t/* eslint-disable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t\t// translators: Preserve \\n markers for line breaks\r\n\t\t\tcontent: __(\r\n\t\t\t\t'// A “block” is the abstract term used\\n// to describe units of markup that\\n// when composed together, form the\\n// content or layout of a page.\\nregisterBlockType( name, settings );'\r\n\t\t\t),\r\n\t\t\t/* eslint-enable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t},\r\n\t},\r\n\tmerge( attributes, attributesToMerge ) {\r\n\t\treturn {\r\n\t\t\tcontent: attributes.content + '\\n\\n' + attributesToMerge.content,\r\n\t\t};\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\nexport default function CodeEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tonRemove,\r\n\tinsertBlocksAfter,\r\n\tmergeBlocks,\r\n} ) {\r\n\tconst blockProps = useBlockProps();\r\n\treturn (\r\n\t\t<pre { ...blockProps }>\r\n\t\t\t<RichText\r\n\t\t\t\ttagName=\"code\"\r\n\t\t\t\tidentifier=\"content\"\r\n\t\t\t\tvalue={ attributes.content }\r\n\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\r\n\t\t\t\tonRemove={ onRemove }\r\n\t\t\t\tonMerge={ mergeBlocks }\r\n\t\t\t\tplaceholder={ __( 'Write code…' ) }\r\n\t\t\t\taria-label={ __( 'Code' ) }\r\n\t\t\t\tpreserveWhiteSpace\r\n\t\t\t\t__unstablePastePlainText\r\n\t\t\t\t__unstableOnSplitAtDoubleLineEnd={ () =>\r\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</pre>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { escape } from './utils';\n\nexport default function save( { attributes } ) {\n\treturn (\n\t\t<pre { ...useBlockProps.save() }>\n\t\t\t<RichText.Content\n\t\t\t\ttagName=\"code\"\n\t\t\t\t// To do: `escape` encodes characters in shortcodes and URLs to\n\t\t\t\t// prevent embedding in PHP. Ideally checks for the code block,\n\t\t\t\t// or pre/code tags, should be made on the PHP side?\n\t\t\t\tvalue={ escape(\n\t\t\t\t\ttypeof attributes.content === 'string'\n\t\t\t\t\t\t? attributes.content\n\t\t\t\t\t\t: attributes.content.toHTMLString( {\n\t\t\t\t\t\t\t\tpreserveWhiteSpace: true,\n\t\t\t\t\t\t  } )\n\t\t\t\t) }\n\t\t\t/>\n\t\t</pre>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst column = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default column;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nconst deprecated = [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tverticalAlignment: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tmin: 0,\r\n\t\t\t\tmax: 100,\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( { width } ) {\r\n\t\t\treturn isFinite( width );\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\treturn {\r\n\t\t\t\t...attributes,\r\n\t\t\t\twidth: `${ attributes.width }%`,\r\n\t\t\t};\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { verticalAlignment, width } = attributes;\r\n\r\n\t\t\tconst wrapperClasses = classnames( {\r\n\t\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\t\tverticalAlignment,\r\n\t\t\t} );\r\n\r\n\t\t\tconst style = { flexBasis: width + '%' };\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ wrapperClasses } style={ style }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { column as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tInnerBlocks,\r\n\tBlockControls,\r\n\tBlockVerticalAlignmentToolbar,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\tuseSettings,\r\n\tuseInnerBlocksProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n\tPanelBody,\r\n\t__experimentalUnitControl as UnitControl,\r\n} from '@wordpress/components';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { sprintf, __ } from '@wordpress/i18n';\r\n\r\nfunction ColumnEdit( {\r\n\tattributes: { verticalAlignment, width, templateLock, allowedBlocks },\r\n\tsetAttributes,\r\n\tclientId,\r\n} ) {\r\n\tconst classes = classnames( 'block-core-columns', {\r\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\r\n\t} );\r\n\r\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits: availableUnits || [ '%', 'px', 'em', 'rem', 'vw' ],\r\n\t} );\r\n\r\n\tconst { columnsIds, hasChildBlocks, rootClientId } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockOrder, getBlockRootClientId } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\r\n\t\t\tconst rootId = getBlockRootClientId( clientId );\r\n\r\n\t\t\treturn {\r\n\t\t\t\thasChildBlocks: getBlockOrder( clientId ).length > 0,\r\n\t\t\t\trootClientId: rootId,\r\n\t\t\t\tcolumnsIds: getBlockOrder( rootId ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\r\n\r\n\tconst updateAlignment = ( value ) => {\r\n\t\t// Update own alignment.\r\n\t\tsetAttributes( { verticalAlignment: value } );\r\n\t\t// Reset parent Columns block.\r\n\t\tupdateBlockAttributes( rootClientId, {\r\n\t\t\tverticalAlignment: null,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst widthWithUnit = Number.isFinite( width ) ? width + '%' : width;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classes,\r\n\t\tstyle: widthWithUnit ? { flexBasis: widthWithUnit } : undefined,\r\n\t} );\r\n\r\n\tconst columnsCount = columnsIds.length;\r\n\tconst currentColumnPosition = columnsIds.indexOf( clientId ) + 1;\r\n\r\n\tconst label = sprintf(\r\n\t\t/* translators: 1: Block label (i.e. \"Block: Column\"), 2: Position of the selected block, 3: Total number of sibling blocks of the same type */\r\n\t\t__( '%1$s (%2$d of %3$d)' ),\r\n\t\tblockProps[ 'aria-label' ],\r\n\t\tcurrentColumnPosition,\r\n\t\tcolumnsCount\r\n\t);\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps(\r\n\t\t{ ...blockProps, 'aria-label': label },\r\n\t\t{\r\n\t\t\ttemplateLock,\r\n\t\t\tallowedBlocks,\r\n\t\t\trenderAppender: hasChildBlocks\r\n\t\t\t\t? undefined\r\n\t\t\t\t: InnerBlocks.ButtonBlockAppender,\r\n\t\t}\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<BlockVerticalAlignmentToolbar\r\n\t\t\t\t\tonChange={ updateAlignment }\r\n\t\t\t\t\tvalue={ verticalAlignment }\r\n\t\t\t\t\tcontrols={ [ 'top', 'center', 'bottom', 'stretch' ] }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\r\n\t\t\t\t\t\tlabelPosition=\"edge\"\r\n\t\t\t\t\t\t__unstableInputWidth=\"80px\"\r\n\t\t\t\t\t\tvalue={ width || '' }\r\n\t\t\t\t\t\tonChange={ ( nextWidth ) => {\r\n\t\t\t\t\t\t\tnextWidth =\r\n\t\t\t\t\t\t\t\t0 > parseFloat( nextWidth ) ? '0' : nextWidth;\r\n\t\t\t\t\t\t\tsetAttributes( { width: nextWidth } );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...innerBlocksProps } />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ColumnEdit;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { verticalAlignment, width } = attributes;\r\n\r\n\tconst wrapperClasses = classnames( {\r\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\r\n\t} );\r\n\r\n\tlet style;\r\n\r\n\tif ( width && /\\d/.test( width ) ) {\r\n\t\t// Numbers are handled for backward compatibility as they can be still provided with templates.\r\n\t\tlet flexBasis = Number.isFinite( width ) ? width + '%' : width;\r\n\t\t// In some cases we need to round the width to a shorter float.\r\n\t\tif ( ! Number.isFinite( width ) && width?.endsWith( '%' ) ) {\r\n\t\t\tconst multiplier = 1000000000000;\r\n\t\t\t// Shrink the number back to a reasonable float.\r\n\t\t\tflexBasis =\r\n\t\t\t\tMath.round( Number.parseFloat( width ) * multiplier ) /\r\n\t\t\t\t\tmultiplier +\r\n\t\t\t\t'%';\r\n\t\t}\r\n\t\tstyle = { flexBasis };\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps.save( {\r\n\t\tclassName: wrapperClasses,\r\n\t\tstyle,\r\n\t} );\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\treturn <div { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst columns = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M15 7.5h-5v10h5v-10Zm1.5 0v10H19a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-2.5ZM6 7.5h2.5v10H6a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM6 6h13a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default columns;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { InnerBlocks, getColorClassName } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Given an HTML string for a deprecated columns inner block, returns the\r\n * column index to which the migrated inner block should be assigned. Returns\r\n * undefined if the inner block was not assigned to a column.\r\n *\r\n * @param {string} originalContent Deprecated Columns inner block HTML.\r\n *\r\n * @return {number | undefined} Column to which inner block is to be assigned.\r\n */\r\nfunction getDeprecatedLayoutColumn( originalContent ) {\r\n\tlet { doc } = getDeprecatedLayoutColumn;\r\n\tif ( ! doc ) {\r\n\t\tdoc = document.implementation.createHTMLDocument( '' );\r\n\t\tgetDeprecatedLayoutColumn.doc = doc;\r\n\t}\r\n\r\n\tlet columnMatch;\r\n\r\n\tdoc.body.innerHTML = originalContent;\r\n\tfor ( const classListItem of doc.body.firstChild.classList ) {\r\n\t\tif (\r\n\t\t\t( columnMatch = classListItem.match( /^layout-column-(\\d+)$/ ) )\r\n\t\t) {\r\n\t\t\treturn Number( columnMatch[ 1 ] ) - 1;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst migrateCustomColors = ( attributes ) => {\r\n\tif ( ! attributes.customTextColor && ! attributes.customBackgroundColor ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = { color: {} };\r\n\tif ( attributes.customTextColor ) {\r\n\t\tstyle.color.text = attributes.customTextColor;\r\n\t}\r\n\tif ( attributes.customBackgroundColor ) {\r\n\t\tstyle.color.background = attributes.customBackgroundColor;\r\n\t}\r\n\r\n\tconst { customTextColor, customBackgroundColor, ...restAttributes } =\r\n\t\tattributes;\r\n\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t\tisStackedOnMobile: true,\r\n\t};\r\n};\r\n\r\nexport default [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tverticalAlignment: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: migrateCustomColors,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t[ `are-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\t\tverticalAlignment,\r\n\t\t\t} );\r\n\r\n\t\t\tconst style = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\t\tstyle={ style }\r\n\t\t\t\t>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tcolumns: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tdefault: 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( attributes, innerBlocks ) {\r\n\t\t\t// Since isEligible is called on every valid instance of the\r\n\t\t\t// Columns block and a deprecation is the unlikely case due to\r\n\t\t\t// its subsequent migration, optimize for the `false` condition\r\n\t\t\t// by performing a naive, inaccurate pass at inner blocks.\r\n\t\t\tconst isFastPassEligible = innerBlocks.some( ( innerBlock ) =>\r\n\t\t\t\t/layout-column-\\d+/.test( innerBlock.originalContent )\r\n\t\t\t);\r\n\r\n\t\t\tif ( ! isFastPassEligible ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Only if the fast pass is considered eligible is the more\r\n\t\t\t// accurate, durable, slower condition performed.\r\n\t\t\treturn innerBlocks.some(\r\n\t\t\t\t( innerBlock ) =>\r\n\t\t\t\t\tgetDeprecatedLayoutColumn( innerBlock.originalContent ) !==\r\n\t\t\t\t\tundefined\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate( attributes, innerBlocks ) {\r\n\t\t\tconst columns = innerBlocks.reduce( ( accumulator, innerBlock ) => {\r\n\t\t\t\tconst { originalContent } = innerBlock;\r\n\r\n\t\t\t\tlet columnIndex = getDeprecatedLayoutColumn( originalContent );\r\n\t\t\t\tif ( columnIndex === undefined ) {\r\n\t\t\t\t\tcolumnIndex = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! accumulator[ columnIndex ] ) {\r\n\t\t\t\t\taccumulator[ columnIndex ] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[ columnIndex ].push( innerBlock );\r\n\r\n\t\t\t\treturn accumulator;\r\n\t\t\t}, [] );\r\n\r\n\t\t\tconst migratedInnerBlocks = columns.map( ( columnBlocks ) =>\r\n\t\t\t\tcreateBlock( 'core/column', {}, columnBlocks )\r\n\t\t\t);\r\n\r\n\t\t\tconst { columns: ignoredColumns, ...restAttributes } = attributes;\r\n\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\t...restAttributes,\r\n\t\t\t\t\tisStackedOnMobile: true,\r\n\t\t\t\t},\r\n\t\t\t\tmigratedInnerBlocks,\r\n\t\t\t];\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { columns } = attributes;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ `has-${ columns }-columns` }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tcolumns: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tdefault: 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate( attributes, innerBlocks ) {\r\n\t\t\tconst { columns, ...restAttributes } = attributes;\r\n\t\t\tattributes = {\r\n\t\t\t\t...restAttributes,\r\n\t\t\t\tisStackedOnMobile: true,\r\n\t\t\t};\r\n\r\n\t\t\treturn [ attributes, innerBlocks ];\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { verticalAlignment, columns } = attributes;\r\n\r\n\t\t\tconst wrapperClasses = classnames( `has-${ columns }-columns`, {\r\n\t\t\t\t[ `are-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\t\tverticalAlignment,\r\n\t\t\t} );\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ wrapperClasses }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n","/**\r\n * Returns a column width attribute value rounded to standard precision.\r\n * Returns `undefined` if the value is not a valid finite number.\r\n *\r\n * @param {?number} value Raw value.\r\n *\r\n * @return {number} Value rounded to standard precision.\r\n */\r\nexport const toWidthPrecision = ( value ) => {\r\n\tconst unitlessValue = parseFloat( value );\r\n\treturn Number.isFinite( unitlessValue )\r\n\t\t? parseFloat( unitlessValue.toFixed( 2 ) )\r\n\t\t: undefined;\r\n};\r\n/**\r\n * Returns an effective width for a given block. An effective width is equal to\r\n * its attribute value if set, or a computed value assuming equal distribution.\r\n *\r\n * @param {WPBlock} block           Block object.\r\n * @param {number}  totalBlockCount Total number of blocks in Columns.\r\n *\r\n * @return {number} Effective column width.\r\n */\r\nexport function getEffectiveColumnWidth( block, totalBlockCount ) {\r\n\tconst { width = 100 / totalBlockCount } = block.attributes;\r\n\treturn toWidthPrecision( width );\r\n}\r\n\r\n/**\r\n * Returns the total width occupied by the given set of column blocks.\r\n *\r\n * @param {WPBlock[]} blocks          Block objects.\r\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\r\n *                                    Defaults to number of blocks passed.\r\n *\r\n * @return {number} Total width occupied by blocks.\r\n */\r\nexport function getTotalColumnsWidth(\r\n\tblocks,\r\n\ttotalBlockCount = blocks.length\r\n) {\r\n\treturn blocks.reduce(\r\n\t\t( sum, block ) =>\r\n\t\t\tsum + getEffectiveColumnWidth( block, totalBlockCount ),\r\n\t\t0\r\n\t);\r\n}\r\n\r\n/**\r\n * Returns an object of `clientId` → `width` of effective column widths.\r\n *\r\n * @param {WPBlock[]} blocks          Block objects.\r\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\r\n *                                    Defaults to number of blocks passed.\r\n *\r\n * @return {Object<string,number>} Column widths.\r\n */\r\nexport function getColumnWidths( blocks, totalBlockCount = blocks.length ) {\r\n\treturn blocks.reduce( ( accumulator, block ) => {\r\n\t\tconst width = getEffectiveColumnWidth( block, totalBlockCount );\r\n\t\treturn Object.assign( accumulator, { [ block.clientId ]: width } );\r\n\t}, {} );\r\n}\r\n\r\n/**\r\n * Returns an object of `clientId` → `width` of column widths as redistributed\r\n * proportional to their current widths, constrained or expanded to fit within\r\n * the given available width.\r\n *\r\n * @param {WPBlock[]} blocks          Block objects.\r\n * @param {number}    availableWidth  Maximum width to fit within.\r\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\r\n *                                    Defaults to number of blocks passed.\r\n *\r\n * @return {Object<string,number>} Redistributed column widths.\r\n */\r\nexport function getRedistributedColumnWidths(\r\n\tblocks,\r\n\tavailableWidth,\r\n\ttotalBlockCount = blocks.length\r\n) {\r\n\tconst totalWidth = getTotalColumnsWidth( blocks, totalBlockCount );\r\n\r\n\treturn Object.fromEntries(\r\n\t\tObject.entries( getColumnWidths( blocks, totalBlockCount ) ).map(\r\n\t\t\t( [ clientId, width ] ) => {\r\n\t\t\t\tconst newWidth = ( availableWidth * width ) / totalWidth;\r\n\t\t\t\treturn [ clientId, toWidthPrecision( newWidth ) ];\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n}\r\n\r\n/**\r\n * Returns true if column blocks within the provided set are assigned with\r\n * explicit widths, or false otherwise.\r\n *\r\n * @param {WPBlock[]} blocks Block objects.\r\n *\r\n * @return {boolean} Whether columns have explicit widths.\r\n */\r\nexport function hasExplicitPercentColumnWidths( blocks ) {\r\n\treturn blocks.every( ( block ) => {\r\n\t\tconst blockWidth = block.attributes.width;\r\n\t\treturn Number.isFinite(\r\n\t\t\tblockWidth?.endsWith?.( '%' )\r\n\t\t\t\t? parseFloat( blockWidth )\r\n\t\t\t\t: blockWidth\r\n\t\t);\r\n\t} );\r\n}\r\n\r\n/**\r\n * Returns a copy of the given set of blocks with new widths assigned from the\r\n * provided object of redistributed column widths.\r\n *\r\n * @param {WPBlock[]}             blocks Block objects.\r\n * @param {Object<string,number>} widths Redistributed column widths.\r\n *\r\n * @return {WPBlock[]} blocks Mapped block objects.\r\n */\r\nexport function getMappedColumnWidths( blocks, widths ) {\r\n\treturn blocks.map( ( block ) => ( {\r\n\t\t...block,\r\n\t\tattributes: {\r\n\t\t\t...block.attributes,\r\n\t\t\twidth: `${ widths[ block.clientId ] }%`,\r\n\t\t},\r\n\t} ) );\r\n}\r\n\r\n/**\r\n * Returns an array with columns widths values, parsed or no depends on `withParsing` flag.\r\n *\r\n * @param {WPBlock[]} blocks      Block objects.\r\n * @param {?boolean}  withParsing Whether value has to be parsed.\r\n *\r\n * @return {Array<number,string>} Column widths.\r\n */\r\nexport function getWidths( blocks, withParsing = true ) {\r\n\treturn blocks.map( ( innerColumn ) => {\r\n\t\tconst innerColumnWidth =\r\n\t\t\tinnerColumn.attributes.width || 100 / blocks.length;\r\n\r\n\t\treturn withParsing ? parseFloat( innerColumnWidth ) : innerColumnWidth;\r\n\t} );\r\n}\r\n\r\n/**\r\n * Returns a column width with unit.\r\n *\r\n * @param {string} width Column width.\r\n * @param {string} unit  Column width unit.\r\n *\r\n * @return {string} Column width with unit.\r\n */\r\nexport function getWidthWithUnit( width, unit ) {\r\n\twidth = 0 > parseFloat( width ) ? '0' : width;\r\n\r\n\tif ( isPercentageUnit( unit ) ) {\r\n\t\twidth = Math.min( width, 100 );\r\n\t}\r\n\r\n\treturn `${ width }${ unit }`;\r\n}\r\n\r\n/**\r\n * Returns a boolean whether passed unit is percentage\r\n *\r\n * @param {string} unit Column width unit.\r\n *\r\n * @return {boolean} \tWhether unit is '%'.\r\n */\r\nexport function isPercentageUnit( unit ) {\r\n\treturn unit === '%';\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tNotice,\n\tPanelBody,\n\tRangeControl,\n\tToggleControl,\n} from '@wordpress/components';\n\nimport {\n\tInspectorControls,\n\tuseInnerBlocksProps,\n\tBlockControls,\n\tBlockVerticalAlignmentToolbar,\n\t__experimentalBlockVariationPicker,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useDispatch, useSelect, useRegistry } from '@wordpress/data';\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\thasExplicitPercentColumnWidths,\n\tgetMappedColumnWidths,\n\tgetRedistributedColumnWidths,\n\ttoWidthPrecision,\n} from './utils';\n\nconst DEFAULT_BLOCK = {\n\tname: 'core/column',\n};\n\nfunction ColumnsEditContainer( { attributes, setAttributes, clientId } ) {\n\tconst { isStackedOnMobile, verticalAlignment, templateLock } = attributes;\n\tconst { count, canInsertColumnBlock, minCount } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tcanInsertBlockType,\n\t\t\t\tcanRemoveBlock,\n\t\t\t\tgetBlocks,\n\t\t\t\tgetBlockCount,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst innerBlocks = getBlocks( clientId );\n\n\t\t\t// Get the indexes of columns for which removal is prevented.\n\t\t\t// The highest index will be used to determine the minimum column count.\n\t\t\tconst preventRemovalBlockIndexes = innerBlocks.reduce(\n\t\t\t\t( acc, block, index ) => {\n\t\t\t\t\tif ( ! canRemoveBlock( block.clientId ) ) {\n\t\t\t\t\t\tacc.push( index );\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t[]\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tcount: getBlockCount( clientId ),\n\t\t\t\tcanInsertColumnBlock: canInsertBlockType(\n\t\t\t\t\t'core/column',\n\t\t\t\t\tclientId\n\t\t\t\t),\n\t\t\t\tminCount: Math.max( ...preventRemovalBlockIndexes ) + 1,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst registry = useRegistry();\n\tconst { getBlocks, getBlockOrder } = useSelect( blockEditorStore );\n\tconst { updateBlockAttributes, replaceInnerBlocks } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst classes = classnames( {\n\t\t[ `are-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t[ `is-not-stacked-on-mobile` ]: ! isStackedOnMobile,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t} );\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\tdirectInsert: true,\n\t\torientation: 'horizontal',\n\t\trenderAppender: false,\n\t\ttemplateLock,\n\t} );\n\n\t/**\n\t * Update all child Column blocks with a new vertical alignment setting\n\t * based on whatever alignment is passed in. This allows change to parent\n\t * to overide anything set on a individual column basis.\n\t *\n\t * @param {string} newVerticalAlignment The vertical alignment setting.\n\t */\n\tfunction updateAlignment( newVerticalAlignment ) {\n\t\tconst innerBlockClientIds = getBlockOrder( clientId );\n\n\t\t// Update own and child Column block vertical alignments.\n\t\t// This is a single action; the batching prevents creating multiple history records.\n\t\tregistry.batch( () => {\n\t\t\tsetAttributes( { verticalAlignment: newVerticalAlignment } );\n\t\t\tupdateBlockAttributes( innerBlockClientIds, {\n\t\t\t\tverticalAlignment: newVerticalAlignment,\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Updates the column count, including necessary revisions to child Column\n\t * blocks to grant required or redistribute available space.\n\t *\n\t * @param {number} previousColumns Previous column count.\n\t * @param {number} newColumns      New column count.\n\t */\n\tfunction updateColumns( previousColumns, newColumns ) {\n\t\tlet innerBlocks = getBlocks( clientId );\n\t\tconst hasExplicitWidths = hasExplicitPercentColumnWidths( innerBlocks );\n\n\t\t// Redistribute available width for existing inner blocks.\n\t\tconst isAddingColumn = newColumns > previousColumns;\n\n\t\tif ( isAddingColumn && hasExplicitWidths ) {\n\t\t\t// If adding a new column, assign width to the new column equal to\n\t\t\t// as if it were `1 / columns` of the total available space.\n\t\t\tconst newColumnWidth = toWidthPrecision( 100 / newColumns );\n\t\t\tconst newlyAddedColumns = newColumns - previousColumns;\n\n\t\t\t// Redistribute in consideration of pending block insertion as\n\t\t\t// constraining the available working width.\n\t\t\tconst widths = getRedistributedColumnWidths(\n\t\t\t\tinnerBlocks,\n\t\t\t\t100 - newColumnWidth * newlyAddedColumns\n\t\t\t);\n\n\t\t\tinnerBlocks = [\n\t\t\t\t...getMappedColumnWidths( innerBlocks, widths ),\n\t\t\t\t...Array.from( {\n\t\t\t\t\tlength: newlyAddedColumns,\n\t\t\t\t} ).map( () => {\n\t\t\t\t\treturn createBlock( 'core/column', {\n\t\t\t\t\t\twidth: `${ newColumnWidth }%`,\n\t\t\t\t\t} );\n\t\t\t\t} ),\n\t\t\t];\n\t\t} else if ( isAddingColumn ) {\n\t\t\tinnerBlocks = [\n\t\t\t\t...innerBlocks,\n\t\t\t\t...Array.from( {\n\t\t\t\t\tlength: newColumns - previousColumns,\n\t\t\t\t} ).map( () => {\n\t\t\t\t\treturn createBlock( 'core/column' );\n\t\t\t\t} ),\n\t\t\t];\n\t\t} else if ( newColumns < previousColumns ) {\n\t\t\t// The removed column will be the last of the inner blocks.\n\t\t\tinnerBlocks = innerBlocks.slice(\n\t\t\t\t0,\n\t\t\t\t-( previousColumns - newColumns )\n\t\t\t);\n\t\t\tif ( hasExplicitWidths ) {\n\t\t\t\t// Redistribute as if block is already removed.\n\t\t\t\tconst widths = getRedistributedColumnWidths( innerBlocks, 100 );\n\n\t\t\t\tinnerBlocks = getMappedColumnWidths( innerBlocks, widths );\n\t\t\t}\n\t\t}\n\n\t\treplaceInnerBlocks( clientId, innerBlocks );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockVerticalAlignmentToolbar\n\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t\tvalue={ verticalAlignment }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ canInsertColumnBlock && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\t\tvalue={ count }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tupdateColumns(\n\t\t\t\t\t\t\t\t\t\tcount,\n\t\t\t\t\t\t\t\t\t\tMath.max( minCount, value )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ Math.max( 1, minCount ) }\n\t\t\t\t\t\t\t\tmax={ Math.max( 6, count ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ count > 6 && (\n\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'This column count exceeds the recommended amount and may cause visual breakage.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ /** DOUBLEEDESIGN CUSTOM: Remove \"stack on mobile\" toggle because I'm handling that at the template level */ }\n\t\t\t\t\t{ /* }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Stack on mobile' ) }\n\t\t\t\t\t\tchecked={ isStackedOnMobile }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tisStackedOnMobile: ! isStackedOnMobile,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */ }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n\nfunction Placeholder( { clientId, name, setAttributes } ) {\n\tconst { blockType, defaultVariation, variations } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockVariations,\n\t\t\t\tgetBlockType,\n\t\t\t\tgetDefaultBlockVariation,\n\t\t\t} = select( blocksStore );\n\n\t\t\treturn {\n\t\t\t\tblockType: getBlockType( name ),\n\t\t\t\tdefaultVariation: getDefaultBlockVariation( name, 'block' ),\n\t\t\t\tvariations: getBlockVariations( name, 'block' ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\tconst { replaceInnerBlocks } = useDispatch( blockEditorStore );\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<__experimentalBlockVariationPicker\n\t\t\t\ticon={ blockType?.icon?.src }\n\t\t\t\tlabel={ blockType?.title }\n\t\t\t\tvariations={ variations }\n\t\t\t\tonSelect={ ( nextVariation = defaultVariation ) => {\n\t\t\t\t\tif ( nextVariation.attributes ) {\n\t\t\t\t\t\tsetAttributes( nextVariation.attributes );\n\t\t\t\t\t}\n\t\t\t\t\tif ( nextVariation.innerBlocks ) {\n\t\t\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(\n\t\t\t\t\t\t\t\tnextVariation.innerBlocks\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tallowSkip\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nconst ColumnsEdit = ( props ) => {\n\tconst { clientId } = props;\n\tconst hasInnerBlocks = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlocks( clientId ).length > 0,\n\t\t[ clientId ]\n\t);\n\tconst Component = hasInnerBlocks ? ColumnsEditContainer : Placeholder;\n\n\treturn <Component { ...props } />;\n};\n\nexport default ColumnsEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\r\n\r\n/**\r\n * Template option choices for predefined columns layouts.\r\n *\r\n * @type {WPBlockVariation[]}\r\n */\r\nconst variations = [\r\n\t{\r\n\t\tname: 'one-column-full',\r\n\t\ttitle: __( '100' ),\r\n\t\tdescription: __( 'One column' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\td=\"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tinnerBlocks: [ [ 'core/column' ] ],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'two-columns-equal',\r\n\t\ttitle: __( '50 / 50' ),\r\n\t\tdescription: __( 'Two columns; equal split' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\td=\"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tisDefault: true,\r\n\t\tinnerBlocks: [ [ 'core/column' ], [ 'core/column' ] ],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'two-columns-one-third-two-thirds',\r\n\t\ttitle: __( '33 / 66' ),\r\n\t\tdescription: __( 'Two columns; one-third, two-thirds split' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\td=\"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tinnerBlocks: [\r\n\t\t\t[ 'core/column', { width: '33.33%' } ],\r\n\t\t\t[ 'core/column', { width: '66.66%' } ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'two-columns-two-thirds-one-third',\r\n\t\ttitle: __( '66 / 33' ),\r\n\t\tdescription: __( 'Two columns; two-thirds, one-third split' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\t\td=\"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tinnerBlocks: [\r\n\t\t\t[ 'core/column', { width: '66.66%' } ],\r\n\t\t\t[ 'core/column', { width: '33.33%' } ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'three-columns-equal',\r\n\t\ttitle: __( '33 / 33 / 33' ),\r\n\t\tdescription: __( 'Three columns; equal split' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\td=\"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tinnerBlocks: [\r\n\t\t\t[ 'core/column' ],\r\n\t\t\t[ 'core/column' ],\r\n\t\t\t[ 'core/column' ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'three-columns-wider-center',\r\n\t\ttitle: __( '25 / 50 / 25' ),\r\n\t\tdescription: __( 'Three columns; wide center column' ),\r\n\t\ticon: (\r\n\t\t\t<SVG\r\n\t\t\t\twidth=\"48\"\r\n\t\t\t\theight=\"48\"\r\n\t\t\t\tviewBox=\"0 0 48 48\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<Path\r\n\t\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\t\td=\"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z\"\r\n\t\t\t\t/>\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\tinnerBlocks: [\r\n\t\t\t[ 'core/column', { width: '25%' } ],\r\n\t\t\t[ 'core/column', { width: '50%' } ],\r\n\t\t\t[ 'core/column', { width: '25%' } ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tcreateBlock,\r\n\tcreateBlocksFromInnerBlocksTemplate,\r\n} from '@wordpress/blocks';\r\n\r\nconst MAXIMUM_SELECTED_BLOCKS = 6;\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ '*' ],\r\n\t\t\t__experimentalConvert: ( blocks ) => {\r\n\t\t\t\tconst columnWidth = +( 100 / blocks.length ).toFixed( 2 );\r\n\t\t\t\tconst innerBlocksTemplate = blocks.map(\r\n\t\t\t\t\t( { name, attributes, innerBlocks } ) => [\r\n\t\t\t\t\t\t'core/column',\r\n\t\t\t\t\t\t{ width: `${ columnWidth }%` },\r\n\t\t\t\t\t\t[ [ name, { ...attributes }, innerBlocks ] ],\r\n\t\t\t\t\t]\r\n\t\t\t\t);\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/columns',\r\n\t\t\t\t\t{},\r\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocksTemplate )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tisMatch: ( { length: selectedBlocksLength }, blocks ) => {\r\n\t\t\t\t// If a user is trying to transform a single Columns block, skip\r\n\t\t\t\t// the transformation. Enabling this functiontionality creates\r\n\t\t\t\t// nested Columns blocks resulting in an unintuitive user experience.\r\n\t\t\t\t// Multiple Columns blocks can still be transformed.\r\n\t\t\t\tif (\r\n\t\t\t\t\tblocks.length === 1 &&\r\n\t\t\t\t\tblocks[ 0 ].name === 'core/columns'\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\tselectedBlocksLength &&\r\n\t\t\t\t\tselectedBlocksLength <= MAXIMUM_SELECTED_BLOCKS\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/media-text' ],\r\n\t\t\tpriority: 1,\r\n\t\t\ttransform: ( attributes, innerBlocks ) => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tbackgroundColor,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t\tmediaAlt: alt,\r\n\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\tmediaPosition,\r\n\t\t\t\t\tmediaSizeSlug: sizeSlug,\r\n\t\t\t\t\tmediaType,\r\n\t\t\t\t\tmediaUrl: url,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\tverticalAlignment,\r\n\t\t\t\t} = attributes;\r\n\t\t\t\tlet media;\r\n\t\t\t\tif ( mediaType === 'image' || ! mediaType ) {\r\n\t\t\t\t\tconst imageAttrs = { id, alt, url, sizeSlug };\r\n\t\t\t\t\tconst linkAttrs = {\r\n\t\t\t\t\t\thref: attributes.href,\r\n\t\t\t\t\t\tlinkClass: attributes.linkClass,\r\n\t\t\t\t\t\tlinkDestination: attributes.linkDestination,\r\n\t\t\t\t\t\tlinkTarget: attributes.linkTarget,\r\n\t\t\t\t\t\trel: attributes.rel,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmedia = [ 'core/image', { ...imageAttrs, ...linkAttrs } ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmedia = [ 'core/video', { id, src: url } ];\r\n\t\t\t\t}\r\n\t\t\t\tconst innerBlocksTemplate = [\r\n\t\t\t\t\t[ 'core/column', { width: `${ mediaWidth }%` }, [ media ] ],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t'core/column',\r\n\t\t\t\t\t\t{ width: `${ 100 - mediaWidth }%` },\r\n\t\t\t\t\t\tinnerBlocks,\r\n\t\t\t\t\t],\r\n\t\t\t\t];\r\n\t\t\t\tif ( mediaPosition === 'right' ) {\r\n\t\t\t\t\tinnerBlocksTemplate.reverse();\r\n\t\t\t\t}\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/columns',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tbackgroundColor,\r\n\t\t\t\t\t\ttextColor,\r\n\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\tverticalAlignment,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocksTemplate )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tungroup: ( attributes, innerBlocks ) =>\r\n\t\tinnerBlocks.flatMap( ( innerBlock ) => innerBlock.innerBlocks ),\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { columns as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport variations from './variations';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tvariations,\r\n\texample: {\r\n\t\tviewportWidth: 600, // Columns collapse \"@media (max-width: 599px)\".\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/column',\r\n\t\t\t\tinnerBlocks: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t/* translators: example text. */\r\n\t\t\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'core/image',\r\n\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Windbuchencom.jpg',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t/* translators: example text. */\r\n\t\t\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t\t\t'Suspendisse commodo neque lacus, a dictum orci interdum et.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/column',\r\n\t\t\t\tinnerBlocks: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t/* translators: example text. */\r\n\t\t\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t\t\t'Etiam et egestas lorem. Vivamus sagittis sit amet dolor quis lobortis. Integer sed fermentum arcu, id vulputate lacus. Etiam fermentum sem eu quam hendrerit.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t/* translators: example text. */\r\n\t\t\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t\t\t'Nam risus massa, ullamcorper consectetur eros fermentum, porta aliquet ligula. Sed vel mauris nec enim.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tdeprecated,\r\n\tedit,\r\n\tsave,\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { isStackedOnMobile, verticalAlignment } = attributes;\r\n\r\n\tconst className = classnames( {\r\n\t\t[ `are-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\r\n\t\t[ `is-not-stacked-on-mobile` ]: ! isStackedOnMobile,\r\n\t} );\r\n\r\n\tconst blockProps = useBlockProps.save( { className } );\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\treturn <div { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postComments = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M14 10.1V4c0-.6-.4-1-1-1H5c-.6 0-1 .4-1 1v8.3c0 .3.2.7.6.8.1.1.2.1.3.1.2 0 .5-.1.6-.3l1.8-1.8H13c.6 0 1-.4 1-1zm-1.5-.5H6.7l-1.2 1.2V4.5h7v5.1zM19 12h-8c-.6 0-1 .4-1 1v6.1c0 .6.4 1 1 1h5.7l1.8 1.8c.1.2.4.3.6.3.1 0 .2 0 .3-.1.4-.1.6-.5.6-.8V13c0-.6-.4-1-1-1zm-.5 7.8l-1.2-1.2h-5.8v-5.1h7v6.3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postComments;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\n// v1: Deprecate the initial version of the block which was called \"Comments\r\n// Query Loop\" instead of \"Comments\".\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttagName: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'div',\r\n\t\t},\r\n\t},\r\n\tapiVersion: 3,\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t\tlink: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave( { attributes: { tagName: Tag } } ) {\r\n\t\tconst blockProps = useBlockProps.save();\r\n\t\tconst { className } = blockProps;\r\n\t\tconst classes = className?.split( ' ' ) || [];\r\n\r\n\t\t// The ID of the previous version of the block\r\n\t\t// didn't have the `wp-block-comments` class,\r\n\t\t// so we need to remove it here in order to mimic it.\r\n\t\tconst newClasses = classes?.filter(\r\n\t\t\t( cls ) => cls !== 'wp-block-comments'\r\n\t\t);\r\n\t\tconst newBlockProps = {\r\n\t\t\t...blockProps,\r\n\t\t\tclassName: newClasses.join( ' ' ),\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<Tag { ...newBlockProps }>\r\n\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\n\r\nexport default function CommentsInspectorControls( {\r\n\tattributes: { tagName },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst htmlElementMessages = {\r\n\t\tsection: __(\r\n\t\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\r\n\t\t),\r\n\t\taside: __(\r\n\t\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\r\n\t\t),\r\n\t};\r\n\treturn (\r\n\t\t<InspectorControls>\r\n\t\t\t<InspectorControls group=\"advanced\">\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\tlabel={ __( 'HTML element' ) }\r\n\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\r\n\t\t\t\t\t\t{ label: '<section>', value: 'section' },\r\n\t\t\t\t\t\t{ label: '<aside>', value: 'aside' },\r\n\t\t\t\t\t] }\r\n\t\t\t\t\tvalue={ tagName }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { tagName: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={ htmlElementMessages[ tagName ] }\r\n\t\t\t\t/>\r\n\t\t\t</InspectorControls>\r\n\t\t</InspectorControls>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x, sprintf } from '@wordpress/i18n';\r\nimport {\r\n\tWarning,\r\n\tstore as blockEditorStore,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\nimport { Button } from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nconst CommentsFormPlaceholder = () => {\r\n\tconst instanceId = useInstanceId( CommentsFormPlaceholder );\r\n\r\n\treturn (\r\n\t\t<div className=\"comment-respond\">\r\n\t\t\t<h3 className=\"comment-reply-title\">{ __( 'Leave a Reply' ) }</h3>\r\n\t\t\t<form\r\n\t\t\t\tnoValidate\r\n\t\t\t\tclassName=\"comment-form\"\r\n\t\t\t\tonSubmit={ ( event ) => event.preventDefault() }\r\n\t\t\t>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<label htmlFor={ `comment-${ instanceId }` }>\r\n\t\t\t\t\t\t{ __( 'Comment' ) }\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid={ `comment-${ instanceId }` }\r\n\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\tcols=\"45\"\r\n\t\t\t\t\t\trows=\"8\"\r\n\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t/>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"form-submit wp-block-button\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tname=\"submit\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-button__link',\r\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'button' )\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tlabel={ __( 'Post Comment' ) }\r\n\t\t\t\t\t\tvalue={ __( 'Post Comment' ) }\r\n\t\t\t\t\t\taria-disabled=\"true\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</p>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst CommentsForm = ( { postId, postType } ) => {\r\n\tconst [ commentStatus, setCommentStatus ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'comment_status',\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst isSiteEditor = postType === undefined || postId === undefined;\r\n\r\n\tconst { defaultCommentStatus } = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( blockEditorStore ).getSettings()\r\n\t\t\t\t.__experimentalDiscussionSettings\r\n\t);\r\n\r\n\tconst postTypeSupportsComments = useSelect( ( select ) =>\r\n\t\tpostType\r\n\t\t\t? !! select( coreStore ).getPostType( postType )?.supports.comments\r\n\t\t\t: false\r\n\t);\r\n\r\n\tif ( ! isSiteEditor && 'open' !== commentStatus ) {\r\n\t\tif ( 'closed' === commentStatus ) {\r\n\t\t\tconst actions = [\r\n\t\t\t\t<Button\r\n\t\t\t\t\tkey=\"enableComments\"\r\n\t\t\t\t\tonClick={ () => setCommentStatus( 'open' ) }\r\n\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{ _x(\r\n\t\t\t\t\t\t'Enable comments',\r\n\t\t\t\t\t\t'action that affects the current post'\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Button>,\r\n\t\t\t];\r\n\t\t\treturn (\r\n\t\t\t\t<Warning actions={ actions }>\r\n\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t'Post Comments Form block: Comments are not enabled for this item.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Warning>\r\n\t\t\t);\r\n\t\t} else if ( ! postTypeSupportsComments ) {\r\n\t\t\treturn (\r\n\t\t\t\t<Warning>\r\n\t\t\t\t\t{ sprintf(\r\n\t\t\t\t\t\t/* translators: 1: Post type (i.e. \"post\", \"page\") */\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'Post Comments Form block: Comments are not enabled for this post type (%s).'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tpostType\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Warning>\r\n\t\t\t);\r\n\t\t} else if ( 'open' !== defaultCommentStatus ) {\r\n\t\t\treturn (\r\n\t\t\t\t<Warning>\r\n\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t'Post Comments Form block: Comments are not enabled.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Warning>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn <CommentsFormPlaceholder />;\r\n};\r\n\r\nexport default CommentsForm;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport CommentsForm from '../../post-comments-form/form';\r\n\r\nexport default function PostCommentsPlaceholder( { postType, postId } ) {\r\n\tlet [ postTitle ] = useEntityProp( 'postType', postType, 'title', postId );\r\n\tpostTitle = postTitle || __( 'Post Title' );\r\n\r\n\tconst { avatarURL } = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( blockEditorStore ).getSettings()\r\n\t\t\t\t.__experimentalDiscussionSettings\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"wp-block-comments__legacy-placeholder\" inert=\"true\">\r\n\t\t\t<h3>\r\n\t\t\t\t{\r\n\t\t\t\t\t/* translators: %s: Post title. */\r\n\t\t\t\t\tsprintf( __( 'One response to %s' ), postTitle )\r\n\t\t\t\t}\r\n\t\t\t</h3>\r\n\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<div className=\"alignleft\">\r\n\t\t\t\t\t<a href=\"#top\">« { __( 'Older Comments' ) }</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"alignright\">\r\n\t\t\t\t\t<a href=\"#top\">{ __( 'Newer Comments' ) } »</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ol className=\"commentlist\">\r\n\t\t\t\t<li className=\"comment even thread-even depth-1\">\r\n\t\t\t\t\t<article className=\"comment-body\">\r\n\t\t\t\t\t\t<footer className=\"comment-meta\">\r\n\t\t\t\t\t\t\t<div className=\"comment-author vcard\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\talt={ __( 'Commenter Avatar' ) }\r\n\t\t\t\t\t\t\t\t\tsrc={ avatarURL }\r\n\t\t\t\t\t\t\t\t\tclassName=\"avatar avatar-32 photo\"\r\n\t\t\t\t\t\t\t\t\theight=\"32\"\r\n\t\t\t\t\t\t\t\t\twidth=\"32\"\r\n\t\t\t\t\t\t\t\t\tloading=\"lazy\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<b className=\"fn\">\r\n\t\t\t\t\t\t\t\t\t<a href=\"#top\" className=\"url\">\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'A WordPress Commenter' ) }\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</b>{ ' ' }\r\n\t\t\t\t\t\t\t\t<span className=\"says\">{ __( 'says' ) }:</span>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"comment-metadata\">\r\n\t\t\t\t\t\t\t\t<a href=\"#top\">\r\n\t\t\t\t\t\t\t\t\t<time dateTime=\"2000-01-01T00:00:00+00:00\">\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'January 1, 2000 at 00:00 am' ) }\r\n\t\t\t\t\t\t\t\t\t</time>\r\n\t\t\t\t\t\t\t\t</a>{ ' ' }\r\n\t\t\t\t\t\t\t\t<span className=\"edit-link\">\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"comment-edit-link\"\r\n\t\t\t\t\t\t\t\t\t\thref=\"#top\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{ __( 'Edit' ) }\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</footer>\r\n\r\n\t\t\t\t\t\t<div className=\"comment-content\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t{ __( 'Hi, this is a comment.' ) }\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t\t'To get started with moderating, editing, and deleting comments, please visit the Comments screen in the dashboard.'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\r\n\t\t\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t\t\t'Commenter avatars come from <a>Gravatar</a>.'\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ta: (\r\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content\r\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"https://gravatar.com/\" />\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"reply\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName=\"comment-reply-link\"\r\n\t\t\t\t\t\t\t\thref=\"#top\"\r\n\t\t\t\t\t\t\t\taria-label={ __(\r\n\t\t\t\t\t\t\t\t\t'Reply to A WordPress Commenter'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Reply' ) }\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\r\n\t\t\t<div className=\"navigation\">\r\n\t\t\t\t<div className=\"alignleft\">\r\n\t\t\t\t\t<a href=\"#top\">« { __( 'Older Comments' ) }</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"alignright\">\r\n\t\t\t\t\t<a href=\"#top\">{ __( 'Newer Comments' ) } »</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<CommentsForm postId={ postId } postType={ postType } />\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tWarning,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Button } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Placeholder from './placeholder';\r\n\r\nexport default function CommentsLegacy( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tcontext: { postType, postId },\r\n} ) {\r\n\tconst { textAlign } = attributes;\r\n\r\n\tconst actions = [\r\n\t\t<Button\r\n\t\t\tkey=\"convert\"\r\n\t\t\tonClick={ () => void setAttributes( { legacy: false } ) }\r\n\t\t\tvariant=\"primary\"\r\n\t\t>\r\n\t\t\t{ __( 'Switch to editable mode' ) }\r\n\t\t</Button>,\r\n\t];\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Warning actions={ actions }>\r\n\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t'Comments block: You’re currently using the legacy version of the block. ' +\r\n\t\t\t\t\t\t\t'The following is just a placeholder - the final styling will likely look different. ' +\r\n\t\t\t\t\t\t\t'For a better representation and more customization options, ' +\r\n\t\t\t\t\t\t\t'switch the block to its editable mode.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t</Warning>\r\n\t\t\t\t<Placeholder postId={ postId } postType={ postType } />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","const TEMPLATE = [\r\n\t[ 'core/comments-title' ],\r\n\t[\r\n\t\t'core/comment-template',\r\n\t\t{},\r\n\t\t[\r\n\t\t\t[\r\n\t\t\t\t'core/columns',\r\n\t\t\t\t{},\r\n\t\t\t\t[\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t'core/column',\r\n\t\t\t\t\t\t{ width: '40px' },\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'core/avatar',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsize: 40,\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\tborder: { radius: '20px' },\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t'core/column',\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'core/comment-author-name',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfontSize: 'small',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'core/group',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlayout: { type: 'flex' },\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\tspacing: {\r\n\t\t\t\t\t\t\t\t\t\t\tmargin: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttop: '0px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbottom: '0px',\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t'core/comment-date',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 'small',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t\t\t'core/comment-edit-link',\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 'small',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t[ 'core/comment-content' ],\r\n\t\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t\t'core/comment-reply-link',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfontSize: 'small',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t],\r\n\t\t\t\t],\r\n\t\t\t],\r\n\t\t],\r\n\t],\r\n\t[ 'core/comments-pagination' ],\r\n\t[ 'core/post-comments-form' ],\r\n];\r\n\r\nexport default TEMPLATE;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postComments as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport CommentsInspectorControls from './comments-inspector-controls';\r\nimport CommentsLegacy from './comments-legacy';\r\nimport TEMPLATE from './template';\r\n\r\nexport default function CommentsEdit( props ) {\r\n\tconst { attributes, setAttributes } = props;\r\n\tconst { tagName: TagName, legacy } = attributes;\r\n\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t} );\r\n\r\n\tif ( legacy ) {\r\n\t\treturn <CommentsLegacy { ...props } />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CommentsInspectorControls\r\n\t\t\t\tattributes={ attributes }\r\n\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t/>\r\n\t\t\t<TagName { ...innerBlocksProps } />\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes: { tagName: Tag, legacy } } ) {\r\n\tconst blockProps = useBlockProps.save();\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\t// The legacy version is dynamic (i.e. PHP rendered) and doesn't allow inner\r\n\t// blocks, so nothing is saved in that case.\r\n\treturn legacy ? null : <Tag { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentAuthorAvatar as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalGetSpacingClassesAndStyles as useSpacingProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { PanelBody, ResizableBox, RangeControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { __, isRTL } from '@wordpress/i18n';\n\nexport default function Edit( {\n\tattributes,\n\tcontext: { commentId },\n\tsetAttributes,\n\tisSelected,\n} ) {\n\tconst { height, width } = attributes;\n\n\tconst [ avatars ] = useEntityProp(\n\t\t'root',\n\t\t'comment',\n\t\t'author_avatar_urls',\n\t\tcommentId\n\t);\n\n\tconst [ authorName ] = useEntityProp(\n\t\t'root',\n\t\t'comment',\n\t\t'author_name',\n\t\tcommentId\n\t);\n\tconst avatarUrls = avatars ? Object.values( avatars ) : null;\n\tconst sizes = avatars ? Object.keys( avatars ) : null;\n\tconst minSize = sizes ? sizes[ 0 ] : 24;\n\tconst maxSize = sizes ? sizes[ sizes.length - 1 ] : 96;\n\tconst blockProps = useBlockProps();\n\tconst spacingProps = useSpacingProps( attributes );\n\tconst maxSizeBuffer = Math.floor( maxSize * 2.5 );\n\tconst { avatarURL } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { __experimentalDiscussionSettings } = getSettings();\n\t\treturn __experimentalDiscussionSettings;\n\t} );\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<RangeControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\tonChange={ ( newWidth ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t\t\theight: newWidth,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tmin={ minSize }\n\t\t\t\t\tmax={ maxSizeBuffer }\n\t\t\t\t\tinitialPosition={ width }\n\t\t\t\t\tvalue={ width }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tconst resizableAvatar = (\n\t\t<ResizableBox\n\t\t\tsize={ {\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t} }\n\t\t\tshowHandle={ isSelected }\n\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\theight: parseInt( height + delta.height, 10 ),\n\t\t\t\t\twidth: parseInt( width + delta.width, 10 ),\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tlockAspectRatio\n\t\t\tenable={ {\n\t\t\t\ttop: false,\n\t\t\t\tright: ! isRTL(),\n\t\t\t\tbottom: true,\n\t\t\t\tleft: isRTL(),\n\t\t\t} }\n\t\t\tminWidth={ minSize }\n\t\t\tmaxWidth={ maxSizeBuffer }\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc={\n\t\t\t\t\tavatarUrls ? avatarUrls[ avatarUrls.length - 1 ] : avatarURL\n\t\t\t\t}\n\t\t\t\talt={ `${ authorName } ${ __( 'Avatar' ) }` }\n\t\t\t\t{ ...blockProps }\n\t\t\t/>\n\t\t</ResizableBox>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<div { ...spacingProps }>{ resizableAvatar }</div>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path, Circle } from '@wordpress/primitives';\r\n\r\nconst commentAuthorName = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t\t<Path\r\n\t\t\td=\"M15 15V15C15 13.8954 14.1046 13 13 13L11 13C9.89543 13 9 13.8954 9 15V15\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t\t<Circle cx=\"12\" cy=\"9\" r=\"2\" fillRule=\"evenodd\" clipRule=\"evenodd\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default commentAuthorName;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tisLink: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: '_self',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentAuthorName as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\n\r\n/**\r\n * Renders the `core/comment-author-name` block on the editor.\r\n *\r\n * @param {Object} props                       React props.\r\n * @param {Object} props.setAttributes         Callback for updating block attributes.\r\n * @param {Object} props.attributes            Block attributes.\r\n * @param {string} props.attributes.isLink     Whether the author name should be linked.\r\n * @param {string} props.attributes.linkTarget Target of the link.\r\n * @param {string} props.attributes.textAlign  Text alignment.\r\n * @param {Object} props.context               Inherited context.\r\n * @param {string} props.context.commentId     The comment ID.\r\n *\r\n * @return {JSX.Element} React element.\r\n */\r\nexport default function Edit( {\r\n\tattributes: { isLink, linkTarget, textAlign },\r\n\tcontext: { commentId },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\tlet displayName = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEntityRecord } = select( coreStore );\r\n\r\n\t\t\tconst comment = getEntityRecord( 'root', 'comment', commentId );\r\n\t\t\tconst authorName = comment?.author_name; // eslint-disable-line camelcase\r\n\r\n\t\t\tif ( comment && ! authorName ) {\r\n\t\t\t\tconst user = getEntityRecord( 'root', 'user', comment.author );\r\n\t\t\t\treturn user?.name ?? __( 'Anonymous' );\r\n\t\t\t}\r\n\t\t\treturn authorName ?? '';\r\n\t\t},\r\n\t\t[ commentId ]\r\n\t);\r\n\r\n\tconst blockControls = (\r\n\t\t<BlockControls group=\"block\">\r\n\t\t\t<AlignmentControl\r\n\t\t\t\tvalue={ textAlign }\r\n\t\t\t\tonChange={ ( newAlign ) =>\r\n\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</BlockControls>\r\n\t);\r\n\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Link to authors URL' ) }\r\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\r\n\t\t\t\t\tchecked={ isLink }\r\n\t\t\t\t/>\r\n\t\t\t\t{ isLink && (\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\tif ( ! commentId || ! displayName ) {\r\n\t\tdisplayName = _x( 'Comment Author', 'block title' );\r\n\t}\r\n\r\n\tconst displayAuthor = isLink ? (\r\n\t\t<a\r\n\t\t\thref=\"#comment-author-pseudo-link\"\r\n\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t>\r\n\t\t\t{ displayName }\r\n\t\t</a>\r\n\t) : (\r\n\t\tdisplayName\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ inspectorControls }\r\n\t\t\t{ blockControls }\r\n\t\t\t<div { ...blockProps }>{ displayAuthor }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst commentContent = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default commentContent;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentContent as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\nimport { RawHTML } from '@wordpress/element';\r\nimport { Disabled } from '@wordpress/components';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Renders the `core/comment-content` block on the editor.\r\n *\r\n * @param {Object} props                      React props.\r\n * @param {Object} props.setAttributes        Callback for updating block attributes.\r\n * @param {Object} props.attributes           Block attributes.\r\n * @param {string} props.attributes.textAlign The `textAlign` attribute.\r\n * @param {Object} props.context              Inherited context.\r\n * @param {string} props.context.commentId    The comment ID.\r\n *\r\n * @return {JSX.Element} React element.\r\n */\r\nexport default function Edit( {\r\n\tsetAttributes,\r\n\tattributes: { textAlign },\r\n\tcontext: { commentId },\r\n} ) {\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\tconst [ content ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'comment',\r\n\t\t'content',\r\n\t\tcommentId\r\n\t);\r\n\r\n\tconst blockControls = (\r\n\t\t<BlockControls group=\"block\">\r\n\t\t\t<AlignmentControl\r\n\t\t\t\tvalue={ textAlign }\r\n\t\t\t\tonChange={ ( newAlign ) =>\r\n\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</BlockControls>\r\n\t);\r\n\r\n\tif ( ! commentId || ! content ) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{ blockControls }\r\n\t\t\t\t<div { ...blockProps }>\r\n\t\t\t\t\t<p>{ _x( 'Comment Content', 'block title' ) }</p>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockControls }\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t<RawHTML key=\"html\">{ content.rendered }</RawHTML>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postDate = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11.696 13.972c.356-.546.599-.958.728-1.235a1.79 1.79 0 00.203-.783c0-.264-.077-.47-.23-.618-.148-.153-.354-.23-.618-.23-.295 0-.569.07-.82.212a3.413 3.413 0 00-.738.571l-.147-1.188c.289-.234.59-.41.903-.526.313-.117.66-.175 1.041-.175.375 0 .695.08.959.24.264.153.46.362.59.626.135.265.203.556.203.876 0 .362-.08.734-.24 1.115-.154.381-.427.87-.82 1.466l-.756 1.152H14v1.106h-4l1.696-2.609z\" />\r\n\t\t<Path d=\"M19.5 7h-15v12a.5.5 0 00.5.5h14a.5.5 0 00.5-.5V7zM3 7V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V7z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postDate;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"date\"];","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tformat: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tisLink: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postDate as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { dateI18n, getSettings as getDateSettings } from '@wordpress/date';\r\nimport {\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\t__experimentalDateFormatPicker as DateFormatPicker,\r\n} from '@wordpress/block-editor';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __, _x } from '@wordpress/i18n';\r\n\r\n/**\r\n * Renders the `core/comment-date` block on the editor.\r\n *\r\n * @param {Object} props                   React props.\r\n * @param {Object} props.setAttributes     Callback for updating block attributes.\r\n * @param {Object} props.attributes        Block attributes.\r\n * @param {string} props.attributes.format Format of the date.\r\n * @param {string} props.attributes.isLink Whether the author name should be linked.\r\n * @param {Object} props.context           Inherited context.\r\n * @param {string} props.context.commentId The comment ID.\r\n *\r\n * @return {JSX.Element} React element.\r\n */\r\nexport default function Edit( {\r\n\tattributes: { format, isLink },\r\n\tcontext: { commentId },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst blockProps = useBlockProps();\r\n\tlet [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\r\n\tconst [ siteFormat = getDateSettings().formats.date ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'site',\r\n\t\t'date_format'\r\n\t);\r\n\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<DateFormatPicker\r\n\t\t\t\t\tformat={ format }\r\n\t\t\t\t\tdefaultFormat={ siteFormat }\r\n\t\t\t\t\tonChange={ ( nextFormat ) =>\r\n\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Link to comment' ) }\r\n\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\r\n\t\t\t\t\tchecked={ isLink }\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\tif ( ! commentId || ! date ) {\r\n\t\tdate = _x( 'Comment Date', 'block title' );\r\n\t}\r\n\r\n\tlet commentDate =\r\n\t\tdate instanceof Date ? (\r\n\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\r\n\t\t\t\t{ dateI18n( format || siteFormat, date ) }\r\n\t\t\t</time>\r\n\t\t) : (\r\n\t\t\t<time>{ date }</time>\r\n\t\t);\r\n\r\n\tif ( isLink ) {\r\n\t\tcommentDate = (\r\n\t\t\t<a\r\n\t\t\t\thref=\"#comment-date-pseudo-link\"\r\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t>\r\n\t\t\t\t{ commentDate }\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<div { ...blockProps }>{ commentDate }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst commentEditLink = (\r\n\t<SVG\r\n\t\twidth=\"24\"\r\n\t\theight=\"24\"\r\n\t\tviewBox=\"0 0 24 24\"\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t>\r\n\t\t<Path d=\"m6.249 11.065.44-.44h3.186l-1.5 1.5H7.31l-1.957 1.96A.792.792 0 0 1 4 13.524V5a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v1.5L12.5 8V5.5h-7v6.315l.749-.75ZM20 19.75H7v-1.5h13v1.5Zm0-12.653-8.967 9.064L8 17l.867-2.935L17.833 5 20 7.097Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default commentEditLink;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentEditLink as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function Edit( {\r\n\tattributes: { linkTarget, textAlign },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst blockControls = (\r\n\t\t<BlockControls group=\"block\">\r\n\t\t\t<AlignmentControl\r\n\t\t\t\tvalue={ textAlign }\r\n\t\t\t\tonChange={ ( newAlign ) =>\r\n\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</BlockControls>\r\n\t);\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchecked={ linkTarget === '_blank' }\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockControls }\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#edit-comment-pseudo-link\"\r\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Edit' ) }\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst commentReplyLink = (\r\n\t<SVG\r\n\t\twidth=\"24\"\r\n\t\theight=\"24\"\r\n\t\tviewBox=\"0 0 24 24\"\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t>\r\n\t\t<Path d=\"M6.68822 10.625L6.24878 11.0649L5.5 11.8145L5.5 5.5L12.5 5.5V8L14 6.5V5C14 4.44772 13.5523 4 13 4H5C4.44772 4 4 4.44771 4 5V13.5247C4 13.8173 4.16123 14.086 4.41935 14.2237C4.72711 14.3878 5.10601 14.3313 5.35252 14.0845L7.31 12.125H8.375L9.875 10.625H7.31H6.68822ZM14.5605 10.4983L11.6701 13.75H16.9975C17.9963 13.75 18.7796 14.1104 19.3553 14.7048C19.9095 15.2771 20.2299 16.0224 20.4224 16.7443C20.7645 18.0276 20.7543 19.4618 20.7487 20.2544C20.7481 20.345 20.7475 20.4272 20.7475 20.4999L19.2475 20.5001C19.2475 20.4191 19.248 20.3319 19.2484 20.2394V20.2394C19.2526 19.4274 19.259 18.2035 18.973 17.1307C18.8156 16.5401 18.586 16.0666 18.2778 15.7483C17.9909 15.4521 17.5991 15.25 16.9975 15.25H11.8106L14.5303 17.9697L13.4696 19.0303L8.96956 14.5303L13.4394 9.50171L14.5605 10.4983Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default commentReplyLink;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { commentReplyLink as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit,\r\n\ticon,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Renders the `core/comment-reply-link` block on the editor.\r\n *\r\n * @param {Object} props                      React props.\r\n * @param {Object} props.setAttributes        Callback for updating block attributes.\r\n * @param {Object} props.attributes           Block attributes.\r\n * @param {string} props.attributes.textAlign The `textAlign` attribute.\r\n *\r\n * @return {JSX.Element} React element.\r\n */\r\nfunction Edit( { setAttributes, attributes: { textAlign } } ) {\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst blockControls = (\r\n\t\t<BlockControls group=\"block\">\r\n\t\t\t<AlignmentControl\r\n\t\t\t\tvalue={ textAlign }\r\n\t\t\t\tonChange={ ( newAlign ) =>\r\n\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</BlockControls>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockControls }\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<a\r\n\t\t\t\t\thref=\"#comment-reply-pseudo-link\"\r\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Reply' ) }\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Edit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst layout = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default layout;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { useState, useEffect, useMemo } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\n// This is limited by WP REST API\r\nconst MAX_COMMENTS_PER_PAGE = 100;\r\n\r\n/**\r\n * Return an object with the query args needed to fetch the default page of\r\n * comments.\r\n *\r\n * @param {Object} props        Hook props.\r\n * @param {number} props.postId ID of the post that contains the comments.\r\n *                              discussion settings.\r\n *\r\n * @return {Object} Query args to retrieve the comments.\r\n */\r\nexport const useCommentQueryArgs = ( { postId } ) => {\r\n\t// Initialize the query args that are not going to change.\r\n\tconst queryArgs = {\r\n\t\tstatus: 'approve',\r\n\t\torder: 'asc',\r\n\t\tcontext: 'embed',\r\n\t\tparent: 0,\r\n\t\t_embed: 'children',\r\n\t};\r\n\r\n\t// Get the Discussion settings that may be needed to query the comments.\r\n\tconst {\r\n\t\tpageComments,\r\n\t\tcommentsPerPage,\r\n\t\tdefaultCommentsPage: defaultPage,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\tconst { __experimentalDiscussionSettings } = getSettings();\r\n\t\treturn __experimentalDiscussionSettings;\r\n\t} );\r\n\r\n\t// WP REST API doesn't allow fetching more than max items limit set per single page of data.\r\n\t// As for the editor performance is more important than completeness of data and fetching only the\r\n\t// max allowed for single page should be enough for the purpose of design and laying out the page.\r\n\t// Fetching over the limit would return an error here but would work with backend query.\r\n\tconst perPage = pageComments\r\n\t\t? Math.min( commentsPerPage, MAX_COMMENTS_PER_PAGE )\r\n\t\t: MAX_COMMENTS_PER_PAGE;\r\n\r\n\t// Get the number of the default page.\r\n\tconst page = useDefaultPageIndex( {\r\n\t\tdefaultPage,\r\n\t\tpostId,\r\n\t\tperPage,\r\n\t\tqueryArgs,\r\n\t} );\r\n\r\n\t// Merge, memoize and return all query arguments, unless the default page's\r\n\t// number is not known yet.\r\n\treturn useMemo( () => {\r\n\t\treturn page\r\n\t\t\t? {\r\n\t\t\t\t\t...queryArgs,\r\n\t\t\t\t\tpost: postId,\r\n\t\t\t\t\tper_page: perPage,\r\n\t\t\t\t\tpage,\r\n\t\t\t  }\r\n\t\t\t: null;\r\n\t}, [ postId, perPage, page ] );\r\n};\r\n\r\n/**\r\n * Return the index of the default page, depending on whether `defaultPage` is\r\n * `newest` or `oldest`. In the first case, the only way to know the page's\r\n * index is by using the `X-WP-TotalPages` header, which forces to make an\r\n * additional request.\r\n *\r\n * @param {Object} props             Hook props.\r\n * @param {string} props.defaultPage Page shown by default (newest/oldest).\r\n * @param {number} props.postId      ID of the post that contains the comments.\r\n * @param {number} props.perPage     The number of comments included per page.\r\n * @param {Object} props.queryArgs   Other query args.\r\n *\r\n * @return {number} Index of the default comments page.\r\n */\r\nconst useDefaultPageIndex = ( { defaultPage, postId, perPage, queryArgs } ) => {\r\n\t// Store the default page indices.\r\n\tconst [ defaultPages, setDefaultPages ] = useState( {} );\r\n\tconst key = `${ postId }_${ perPage }`;\r\n\tconst page = defaultPages[ key ] || 0;\r\n\r\n\tuseEffect( () => {\r\n\t\t// Do nothing if the page is already known or not the newest page.\r\n\t\tif ( page || defaultPage !== 'newest' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// We need to fetch comments to know the index. Use HEAD and limit\r\n\t\t// fields just to ID, to make this call as light as possible.\r\n\t\tapiFetch( {\r\n\t\t\tpath: addQueryArgs( '/wp/v2/comments', {\r\n\t\t\t\t...queryArgs,\r\n\t\t\t\tpost: postId,\r\n\t\t\t\tper_page: perPage,\r\n\t\t\t\t_fields: 'id',\r\n\t\t\t} ),\r\n\t\t\tmethod: 'HEAD',\r\n\t\t\tparse: false,\r\n\t\t} ).then( ( res ) => {\r\n\t\t\tconst pages = parseInt( res.headers.get( 'X-WP-TotalPages' ) );\r\n\t\t\tsetDefaultPages( {\r\n\t\t\t\t...defaultPages,\r\n\t\t\t\t[ key ]: pages <= 1 ? 1 : pages, // If there are 0 pages, it means that there are no comments, but there is no 0th page.\r\n\t\t\t} );\r\n\t\t} );\r\n\t}, [ defaultPage, postId, perPage, setDefaultPages ] );\r\n\r\n\t// The oldest one is always the first one.\r\n\treturn defaultPage === 'newest' ? page : 1;\r\n};\r\n\r\n/**\r\n * Generate a tree structure of comment IDs from a list of comment entities. The\r\n * children of each comment are obtained from `_embedded`.\r\n *\r\n * @typedef {{ commentId: number, children: CommentNode }} CommentNode\r\n *\r\n * @param {Object[]} topLevelComments List of comment entities.\r\n * @return {{ commentTree: CommentNode[]}} Tree of comment IDs.\r\n */\r\nexport const useCommentTree = ( topLevelComments ) => {\r\n\tconst commentTree = useMemo(\r\n\t\t() =>\r\n\t\t\ttopLevelComments?.map( ( { id, _embedded } ) => {\r\n\t\t\t\tconst [ children ] = _embedded?.children || [ [] ];\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcommentId: id,\r\n\t\t\t\t\tchildren: children.map( ( child ) => ( {\r\n\t\t\t\t\t\tcommentId: child.id,\r\n\t\t\t\t\t} ) ),\r\n\t\t\t\t};\r\n\t\t\t} ),\r\n\t\t[ topLevelComments ]\r\n\t);\r\n\r\n\treturn commentTree;\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useState, memo } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tBlockContextProvider,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tstore as blockEditorStore,\r\n\t__experimentalUseBlockPreview as useBlockPreview,\r\n} from '@wordpress/block-editor';\r\nimport { Spinner } from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useCommentQueryArgs, useCommentTree } from './hooks';\r\n\r\nconst TEMPLATE = [\r\n\t[ 'core/avatar' ],\r\n\t[ 'core/comment-author-name' ],\r\n\t[ 'core/comment-date' ],\r\n\t[ 'core/comment-content' ],\r\n\t[ 'core/comment-reply-link' ],\r\n\t[ 'core/comment-edit-link' ],\r\n];\r\n\r\n/**\r\n * Function that returns a comment structure that will be rendered with default placehoders.\r\n *\r\n * Each comment has a `commentId` property that is always a negative number in\r\n * case of the placeholders. This is to ensure that the comment does not\r\n * conflict with the actual (real) comments.\r\n *\r\n * @param {Object}  settings                       Discussion Settings.\r\n * @param {number}  [settings.perPage]             - Comments per page setting or block attribute.\r\n * @param {boolean} [settings.pageComments]        - Enable break comments into pages setting.\r\n * @param {boolean} [settings.threadComments]      - Enable threaded (nested) comments setting.\r\n * @param {number}  [settings.threadCommentsDepth] - Level deep of threaded comments.\r\n *\r\n * @typedef {{id: null, children: EmptyComment[]}} EmptyComment\r\n * @return {EmptyComment[]}                 \t\tInner blocks of the Comment Template\r\n */\r\nconst getCommentsPlaceholder = ( {\r\n\tperPage,\r\n\tpageComments,\r\n\tthreadComments,\r\n\tthreadCommentsDepth,\r\n} ) => {\r\n\t// Limit commentsDepth to 3\r\n\tconst commentsDepth = ! threadComments\r\n\t\t? 1\r\n\t\t: Math.min( threadCommentsDepth, 3 );\r\n\r\n\tconst buildChildrenComment = ( commentsLevel ) => {\r\n\t\t// Render children comments until commentsDepth is reached\r\n\t\tif ( commentsLevel < commentsDepth ) {\r\n\t\t\tconst nextLevel = commentsLevel + 1;\r\n\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tcommentId: -( commentsLevel + 3 ),\r\n\t\t\t\t\tchildren: buildChildrenComment( nextLevel ),\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t}\r\n\t\treturn [];\r\n\t};\r\n\r\n\t// Add the first comment and its children\r\n\tconst placeholderComments = [\r\n\t\t{ commentId: -1, children: buildChildrenComment( 1 ) },\r\n\t];\r\n\r\n\t// Add a second comment unless the break comments setting is active and set to less than 2, and there is one nested comment max\r\n\tif ( ( ! pageComments || perPage >= 2 ) && commentsDepth < 3 ) {\r\n\t\tplaceholderComments.push( {\r\n\t\t\tcommentId: -2,\r\n\t\t\tchildren: [],\r\n\t\t} );\r\n\t}\r\n\r\n\t// Add a third comment unless the break comments setting is active and set to less than 3, and there aren't nested comments\r\n\tif ( ( ! pageComments || perPage >= 3 ) && commentsDepth < 2 ) {\r\n\t\tplaceholderComments.push( {\r\n\t\t\tcommentId: -3,\r\n\t\t\tchildren: [],\r\n\t\t} );\r\n\t}\r\n\r\n\t// In case that the value is set but larger than 3 we truncate it to 3.\r\n\treturn placeholderComments;\r\n};\r\n\r\n/**\r\n * Component which renders the inner blocks of the Comment Template.\r\n *\r\n * @param {Object} props                      Component props.\r\n * @param {Array}  [props.comment]            - A comment object.\r\n * @param {Array}  [props.activeCommentId]    - The ID of the comment that is currently active.\r\n * @param {Array}  [props.setActiveCommentId] - The setter for activeCommentId.\r\n * @param {Array}  [props.firstCommentId]     - ID of the first comment in the array.\r\n * @param {Array}  [props.blocks]             - Array of blocks returned from\r\n *                                            getBlocks() in parent .\r\n * @return {Element}                 \t\tInner blocks of the Comment Template\r\n */\r\nfunction CommentTemplateInnerBlocks( {\r\n\tcomment,\r\n\tactiveCommentId,\r\n\tsetActiveCommentId,\r\n\tfirstCommentId,\r\n\tblocks,\r\n} ) {\r\n\tconst { children, ...innerBlocksProps } = useInnerBlocksProps(\r\n\t\t{},\r\n\t\t{ template: TEMPLATE }\r\n\t);\r\n\r\n\treturn (\r\n\t\t<li { ...innerBlocksProps }>\r\n\t\t\t{ comment.commentId === ( activeCommentId || firstCommentId )\r\n\t\t\t\t? children\r\n\t\t\t\t: null }\r\n\r\n\t\t\t{ /* To avoid flicker when switching active block contexts, a preview\r\n\t\t\t is ALWAYS rendered and the preview for the active block is hidden.\r\n\t\t\t This ensures that when switching the active block, the component is not\r\n\t\t\t mounted again but rather it only toggles the `isHidden` prop.\r\n\t\t\t The same strategy is used for preventing the flicker in the Post Template\r\n\t\t\t block. */ }\r\n\t\t\t<MemoizedCommentTemplatePreview\r\n\t\t\t\tblocks={ blocks }\r\n\t\t\t\tcommentId={ comment.commentId }\r\n\t\t\t\tsetActiveCommentId={ setActiveCommentId }\r\n\t\t\t\tisHidden={\r\n\t\t\t\t\tcomment.commentId === ( activeCommentId || firstCommentId )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t{ comment?.children?.length > 0 ? (\r\n\t\t\t\t<CommentsList\r\n\t\t\t\t\tcomments={ comment.children }\r\n\t\t\t\t\tactiveCommentId={ activeCommentId }\r\n\t\t\t\t\tsetActiveCommentId={ setActiveCommentId }\r\n\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\tfirstCommentId={ firstCommentId }\r\n\t\t\t\t/>\r\n\t\t\t) : null }\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nconst CommentTemplatePreview = ( {\r\n\tblocks,\r\n\tcommentId,\r\n\tsetActiveCommentId,\r\n\tisHidden,\r\n} ) => {\r\n\tconst blockPreviewProps = useBlockPreview( {\r\n\t\tblocks,\r\n\t} );\r\n\r\n\tconst handleOnClick = () => {\r\n\t\tsetActiveCommentId( commentId );\r\n\t};\r\n\r\n\t// We have to hide the preview block if the `comment` props points to\r\n\t// the curently active block!\r\n\r\n\t// Or, to put it differently, every preview block is visible unless it is the\r\n\t// currently active block - in this case we render its inner blocks.\r\n\tconst style = {\r\n\t\tdisplay: isHidden ? 'none' : undefined,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...blockPreviewProps }\r\n\t\t\ttabIndex={ 0 }\r\n\t\t\trole=\"button\"\r\n\t\t\tstyle={ style }\r\n\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\r\n\t\t\tonClick={ handleOnClick }\r\n\t\t\tonKeyPress={ handleOnClick }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst MemoizedCommentTemplatePreview = memo( CommentTemplatePreview );\r\n\r\n/**\r\n * Component that renders a list of (nested) comments. It is called recursively.\r\n *\r\n * @param {Object} props                      Component props.\r\n * @param {Array}  [props.comments]           - Array of comment objects.\r\n * @param {Array}  [props.blockProps]         - Props from parent's `useBlockProps()`.\r\n * @param {Array}  [props.activeCommentId]    - The ID of the comment that is currently active.\r\n * @param {Array}  [props.setActiveCommentId] - The setter for activeCommentId.\r\n * @param {Array}  [props.blocks]             - Array of blocks returned from getBlocks() in parent.\r\n * @param {Object} [props.firstCommentId]     - The ID of the first comment in the array of\r\n *                                            comment objects.\r\n * @return {Element}                 \t\tList of comments.\r\n */\r\nconst CommentsList = ( {\r\n\tcomments,\r\n\tblockProps,\r\n\tactiveCommentId,\r\n\tsetActiveCommentId,\r\n\tblocks,\r\n\tfirstCommentId,\r\n} ) => (\r\n\t<ol { ...blockProps }>\r\n\t\t{ comments &&\r\n\t\t\tcomments.map( ( { commentId, ...comment }, index ) => (\r\n\t\t\t\t<BlockContextProvider\r\n\t\t\t\t\tkey={ comment.commentId || index }\r\n\t\t\t\t\tvalue={ {\r\n\t\t\t\t\t\t// If the commentId is negative it means that this comment is a\r\n\t\t\t\t\t\t// \"placeholder\" and that the block is most likely being used in the\r\n\t\t\t\t\t\t// site editor. In this case, we have to set the commentId to `null`\r\n\t\t\t\t\t\t// because otherwise the (non-existent) comment with a negative ID\r\n\t\t\t\t\t\t// would be reqested from the REST API.\r\n\t\t\t\t\t\tcommentId: commentId < 0 ? null : commentId,\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t<CommentTemplateInnerBlocks\r\n\t\t\t\t\t\tcomment={ { commentId, ...comment } }\r\n\t\t\t\t\t\tactiveCommentId={ activeCommentId }\r\n\t\t\t\t\t\tsetActiveCommentId={ setActiveCommentId }\r\n\t\t\t\t\t\tblocks={ blocks }\r\n\t\t\t\t\t\tfirstCommentId={ firstCommentId }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BlockContextProvider>\r\n\t\t\t) ) }\r\n\t</ol>\r\n);\r\n\r\nexport default function CommentTemplateEdit( {\r\n\tclientId,\r\n\tcontext: { postId },\r\n} ) {\r\n\tconst blockProps = useBlockProps();\r\n\r\n\tconst [ activeCommentId, setActiveCommentId ] = useState();\r\n\tconst {\r\n\t\tcommentOrder,\r\n\t\tthreadCommentsDepth,\r\n\t\tthreadComments,\r\n\t\tcommentsPerPage,\r\n\t\tpageComments,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\treturn getSettings().__experimentalDiscussionSettings;\r\n\t} );\r\n\r\n\tconst commentQuery = useCommentQueryArgs( {\r\n\t\tpostId,\r\n\t} );\r\n\r\n\tconst { topLevelComments, blocks } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEntityRecords } = select( coreStore );\r\n\t\t\tconst { getBlocks } = select( blockEditorStore );\r\n\t\t\treturn {\r\n\t\t\t\t// Request only top-level comments. Replies are embedded.\r\n\t\t\t\ttopLevelComments: commentQuery\r\n\t\t\t\t\t? getEntityRecords( 'root', 'comment', commentQuery )\r\n\t\t\t\t\t: null,\r\n\t\t\t\tblocks: getBlocks( clientId ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId, commentQuery ]\r\n\t);\r\n\r\n\t// Generate a tree structure of comment IDs.\r\n\tlet commentTree = useCommentTree(\r\n\t\t// Reverse the order of top comments if needed.\r\n\t\tcommentOrder === 'desc' && topLevelComments\r\n\t\t\t? [ ...topLevelComments ].reverse()\r\n\t\t\t: topLevelComments\r\n\t);\r\n\r\n\tif ( ! topLevelComments ) {\r\n\t\treturn (\r\n\t\t\t<p { ...blockProps }>\r\n\t\t\t\t<Spinner />\r\n\t\t\t</p>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! postId ) {\r\n\t\tcommentTree = getCommentsPlaceholder( {\r\n\t\t\tperPage: commentsPerPage,\r\n\t\t\tpageComments,\r\n\t\t\tthreadComments,\r\n\t\t\tthreadCommentsDepth,\r\n\t\t} );\r\n\t}\r\n\r\n\tif ( ! commentTree.length ) {\r\n\t\treturn <p { ...blockProps }>{ __( 'No results found.' ) }</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<CommentsList\r\n\t\t\tcomments={ commentTree }\r\n\t\t\tblockProps={ blockProps }\r\n\t\t\tblocks={ blocks }\r\n\t\t\tactiveCommentId={ activeCommentId }\r\n\t\t\tsetActiveCommentId={ setActiveCommentId }\r\n\t\t\tfirstCommentId={ commentTree[ 0 ]?.commentId }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { layout as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function CommentTemplateSave() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst queryPaginationPrevious = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M16 10.5v3h3v-3h-3zm-5 3h3v-3h-3v3zM7 9l-3 3 3 3 1-1-2-2 2-2-1-1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default queryPaginationPrevious;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useBlockProps, PlainText } from '@wordpress/block-editor';\r\n\r\nconst arrowMap = {\r\n\tnone: '',\r\n\tarrow: '←',\r\n\tchevron: '«',\r\n};\r\n\r\nexport default function CommentsPaginationPreviousEdit( {\r\n\tattributes: { label },\r\n\tsetAttributes,\r\n\tcontext: { 'comments/paginationArrow': paginationArrow },\r\n} ) {\r\n\tconst displayArrow = arrowMap[ paginationArrow ];\r\n\treturn (\r\n\t\t<a\r\n\t\t\thref=\"#comments-pagination-previous-pseudo-link\"\r\n\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t{ ...useBlockProps() }\r\n\t\t>\r\n\t\t\t{ displayArrow && (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={ `wp-block-comments-pagination-previous-arrow is-arrow-${ paginationArrow }` }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ displayArrow }\r\n\t\t\t\t</span>\r\n\t\t\t) }\r\n\t\t\t<PlainText\r\n\t\t\t\t__experimentalVersion={ 2 }\r\n\t\t\t\ttagName=\"span\"\r\n\t\t\t\taria-label={ __( 'Older comments page link' ) }\r\n\t\t\t\tplaceholder={ __( 'Older Comments' ) }\r\n\t\t\t\tvalue={ label }\r\n\t\t\t\tonChange={ ( newLabel ) =>\r\n\t\t\t\t\tsetAttributes( { label: newLabel } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</a>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationPrevious as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst queryPagination = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 13.5h6v-3H4v3zm8 0h3v-3h-3v3zm5-3v3h3v-3h-3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default queryPagination;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n} from '@wordpress/components';\r\n\r\nexport function CommentsPaginationArrowControls( { value, onChange } ) {\r\n\treturn (\r\n\t\t<ToggleGroupControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Arrow' ) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'A decorative arrow appended to the next and previous comments link.'\r\n\t\t\t) }\r\n\t\t\tisBlock\r\n\t\t>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"none\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'None',\r\n\t\t\t\t\t'Arrow option for Comments Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"arrow\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'Arrow',\r\n\t\t\t\t\t'Arrow option for Comments Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"chevron\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'Chevron',\r\n\t\t\t\t\t'Arrow option for Comments Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t</ToggleGroupControl>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n\tWarning,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { CommentsPaginationArrowControls } from './comments-pagination-arrow-controls';\n\nconst TEMPLATE = [\n\t[ 'core/comments-pagination-previous' ],\n\t[ 'core/comments-pagination-numbers' ],\n\t[ 'core/comments-pagination-next' ],\n];\n\nexport default function QueryPaginationEdit( {\n\tattributes: { paginationArrow },\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst hasNextPreviousBlocks = useSelect( ( select ) => {\n\t\tconst { getBlocks } = select( blockEditorStore );\n\t\tconst innerBlocks = getBlocks( clientId );\n\t\t/**\n\t\t * Show the `paginationArrow` control only if a\n\t\t * Comments Pagination Next or Comments Pagination Previous\n\t\t * block exists.\n\t\t */\n\t\treturn innerBlocks?.find( ( innerBlock ) => {\n\t\t\treturn [\n\t\t\t\t'core/comments-pagination-previous',\n\t\t\t\t'core/comments-pagination-next',\n\t\t\t].includes( innerBlock.name );\n\t\t} );\n\t}, [] );\n\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t} );\n\n\t// Get the Discussion settings\n\tconst pageComments = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { __experimentalDiscussionSettings } = getSettings();\n\t\treturn __experimentalDiscussionSettings?.pageComments;\n\t}, [] );\n\n\t// If paging comments is not enabled in the Discussion Settings then hide the pagination\n\t// controls. We don't want to remove them from the template so that when the user enables\n\t// paging comments, the controls will be visible.\n\tif ( ! pageComments ) {\n\t\treturn (\n\t\t\t<Warning>\n\t\t\t\t{ __(\n\t\t\t\t\t'Comments Pagination block: paging comments is disabled in the Discussion Settings'\n\t\t\t\t) }\n\t\t\t</Warning>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ hasNextPreviousBlocks && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t<CommentsPaginationArrowControls\n\t\t\t\t\t\t\tvalue={ paginationArrow }\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { paginationArrow: value } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPagination as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst queryPaginationNext = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M5 13.5h3v-3H5v3zm5 0h3v-3h-3v3zM17 9l-1 1 2 2-2 2 1 1 3-3-3-3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default queryPaginationNext;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useBlockProps, PlainText } from '@wordpress/block-editor';\r\n\r\nconst arrowMap = {\r\n\tnone: '',\r\n\tarrow: '→',\r\n\tchevron: '»',\r\n};\r\n\r\nexport default function CommentsPaginationNextEdit( {\r\n\tattributes: { label },\r\n\tsetAttributes,\r\n\tcontext: { 'comments/paginationArrow': paginationArrow },\r\n} ) {\r\n\tconst displayArrow = arrowMap[ paginationArrow ];\r\n\treturn (\r\n\t\t<a\r\n\t\t\thref=\"#comments-pagination-next-pseudo-link\"\r\n\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t{ ...useBlockProps() }\r\n\t\t>\r\n\t\t\t<PlainText\r\n\t\t\t\t__experimentalVersion={ 2 }\r\n\t\t\t\ttagName=\"span\"\r\n\t\t\t\taria-label={ __( 'Newer comments page link' ) }\r\n\t\t\t\tplaceholder={ __( 'Newer Comments' ) }\r\n\t\t\t\tvalue={ label }\r\n\t\t\t\tonChange={ ( newLabel ) =>\r\n\t\t\t\t\tsetAttributes( { label: newLabel } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{ displayArrow && (\r\n\t\t\t\t<span\r\n\t\t\t\t\tclassName={ `wp-block-comments-pagination-next-arrow is-arrow-${ paginationArrow }` }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ displayArrow }\r\n\t\t\t\t</span>\r\n\t\t\t) }\r\n\t\t</a>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationNext as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst queryPaginationNumbers = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 13.5h6v-3H4v3zm8.2-2.5.8-.3V14h1V9.3l-2.2.7.4 1zm7.1-1.2c-.5-.6-1.2-.5-1.7-.4-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5h2.7v-1h-.9c.3-.6.8-1.4.9-2.1 0-.3-.1-.8-.3-1.1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default queryPaginationNumbers;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst PaginationItem = ( { content, tag: Tag = 'a', extraClass = '' } ) =>\r\n\tTag === 'a' ? (\r\n\t\t<Tag\r\n\t\t\tclassName={ `page-numbers ${ extraClass }` }\r\n\t\t\thref=\"#comments-pagination-numbers-pseudo-link\"\r\n\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t>\r\n\t\t\t{ content }\r\n\t\t</Tag>\r\n\t) : (\r\n\t\t<Tag className={ `page-numbers ${ extraClass }` }>{ content }</Tag>\r\n\t);\r\n\r\nexport default function CommentsPaginationNumbersEdit() {\r\n\treturn (\r\n\t\t<div { ...useBlockProps() }>\r\n\t\t\t<PaginationItem content=\"1\" />\r\n\t\t\t<PaginationItem content=\"2\" />\r\n\t\t\t<PaginationItem content=\"3\" tag=\"span\" extraClass=\"current\" />\r\n\t\t\t<PaginationItem content=\"4\" />\r\n\t\t\t<PaginationItem content=\"5\" />\r\n\t\t\t<PaginationItem content=\"...\" tag=\"span\" extraClass=\"dots\" />\r\n\t\t\t<PaginationItem content=\"8\" />\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationNumbers as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst title = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default title;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\n\r\nconst { attributes, supports } = metadata;\r\n\r\nexport default [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...attributes,\r\n\t\t\tsingleCommentLabel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tmultipleCommentsLabel: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports,\r\n\t\tmigrate: ( oldAttributes ) => {\r\n\t\t\tconst {\r\n\t\t\t\tsingleCommentLabel,\r\n\t\t\t\tmultipleCommentsLabel,\r\n\t\t\t\t...newAttributes\r\n\t\t\t} = oldAttributes;\r\n\t\t\treturn newAttributes;\r\n\t\t},\r\n\t\tisEligible: ( { multipleCommentsLabel, singleCommentLabel } ) =>\r\n\t\t\tmultipleCommentsLabel || singleCommentLabel,\r\n\t\tsave: () => null,\r\n\t},\r\n];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { title as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n\tInspectorControls,\r\n\tstore as blockEditorStore,\r\n\tHeadingLevelDropdown,\r\n} from '@wordpress/block-editor';\r\nimport { __, _n, sprintf } from '@wordpress/i18n';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { addQueryArgs } from '@wordpress/url';\r\n\r\nexport default function Edit( {\r\n\tattributes: { textAlign, showPostTitle, showCommentsCount, level },\r\n\tsetAttributes,\r\n\tcontext: { postType, postId },\r\n} ) {\r\n\tconst TagName = 'h' + level;\r\n\tconst [ commentsCount, setCommentsCount ] = useState();\r\n\tconst [ rawTitle ] = useEntityProp( 'postType', postType, 'title', postId );\r\n\tconst isSiteEditor = typeof postId === 'undefined';\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst {\r\n\t\tthreadCommentsDepth,\r\n\t\tthreadComments,\r\n\t\tcommentsPerPage,\r\n\t\tpageComments,\r\n\t} = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\treturn getSettings().__experimentalDiscussionSettings;\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( isSiteEditor ) {\r\n\t\t\t// Match the number of comments that will be shown in the comment-template/edit.js placeholder\r\n\r\n\t\t\tconst nestedCommentsNumber = threadComments\r\n\t\t\t\t? Math.min( threadCommentsDepth, 3 ) - 1\r\n\t\t\t\t: 0;\r\n\t\t\tconst topLevelCommentsNumber = pageComments ? commentsPerPage : 3;\r\n\r\n\t\t\tconst commentsNumber =\r\n\t\t\t\tparseInt( nestedCommentsNumber ) +\r\n\t\t\t\tparseInt( topLevelCommentsNumber );\r\n\r\n\t\t\tsetCommentsCount( Math.min( commentsNumber, 3 ) );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst currentPostId = postId;\r\n\t\tapiFetch( {\r\n\t\t\tpath: addQueryArgs( '/wp/v2/comments', {\r\n\t\t\t\tpost: postId,\r\n\t\t\t\t_fields: 'id',\r\n\t\t\t} ),\r\n\t\t\tmethod: 'HEAD',\r\n\t\t\tparse: false,\r\n\t\t} )\r\n\t\t\t.then( ( res ) => {\r\n\t\t\t\t// Stale requests will have the `currentPostId` of an older closure.\r\n\t\t\t\tif ( currentPostId === postId ) {\r\n\t\t\t\t\tsetCommentsCount(\r\n\t\t\t\t\t\tparseInt( res.headers.get( 'X-WP-Total' ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( () => {\r\n\t\t\t\tsetCommentsCount( 0 );\r\n\t\t\t} );\r\n\t}, [ postId ] );\r\n\r\n\tconst blockControls = (\r\n\t\t<BlockControls group=\"block\">\r\n\t\t\t<AlignmentControl\r\n\t\t\t\tvalue={ textAlign }\r\n\t\t\t\tonChange={ ( newAlign ) =>\r\n\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<HeadingLevelDropdown\r\n\t\t\t\tvalue={ level }\r\n\t\t\t\tonChange={ ( newLevel ) =>\r\n\t\t\t\t\tsetAttributes( { level: newLevel } )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</BlockControls>\r\n\t);\r\n\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Show post title' ) }\r\n\t\t\t\t\tchecked={ showPostTitle }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { showPostTitle: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Show comments count' ) }\r\n\t\t\t\t\tchecked={ showCommentsCount }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { showCommentsCount: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\tconst postTitle = isSiteEditor ? __( '“Post Title”' ) : `\"${ rawTitle }\"`;\r\n\r\n\tlet placeholder;\r\n\tif ( showCommentsCount && commentsCount !== undefined ) {\r\n\t\tif ( showPostTitle ) {\r\n\t\t\tif ( commentsCount === 1 ) {\r\n\t\t\t\t/* translators: %s: Post title. */\r\n\t\t\t\tplaceholder = sprintf( __( 'One response to %s' ), postTitle );\r\n\t\t\t} else {\r\n\t\t\t\tplaceholder = sprintf(\r\n\t\t\t\t\t/* translators: 1: Number of comments, 2: Post title. */\r\n\t\t\t\t\t_n(\r\n\t\t\t\t\t\t'%1$s response to %2$s',\r\n\t\t\t\t\t\t'%1$s responses to %2$s',\r\n\t\t\t\t\t\tcommentsCount\r\n\t\t\t\t\t),\r\n\t\t\t\t\tcommentsCount,\r\n\t\t\t\t\tpostTitle\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else if ( commentsCount === 1 ) {\r\n\t\t\tplaceholder = __( 'One response' );\r\n\t\t} else {\r\n\t\t\tplaceholder = sprintf(\r\n\t\t\t\t/* translators: %s: Number of comments. */\r\n\t\t\t\t_n( '%s response', '%s responses', commentsCount ),\r\n\t\t\t\tcommentsCount\r\n\t\t\t);\r\n\t\t}\r\n\t} else if ( showPostTitle ) {\r\n\t\tif ( commentsCount === 1 ) {\r\n\t\t\t/* translators: %s: Post title. */\r\n\t\t\tplaceholder = sprintf( __( 'Response to %s' ), postTitle );\r\n\t\t} else {\r\n\t\t\t/* translators: %s: Post title. */\r\n\t\t\tplaceholder = sprintf( __( 'Responses to %s' ), postTitle );\r\n\t\t}\r\n\t} else if ( commentsCount === 1 ) {\r\n\t\tplaceholder = __( 'Response' );\r\n\t} else {\r\n\t\tplaceholder = __( 'Responses' );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockControls }\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<TagName { ...blockProps }>{ placeholder }</TagName>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst cover = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h6.2v8.9l2.5-3.1 2.5 3.1V4.5h2.2c.4 0 .8.4.8.8v13.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default cover;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { getBlobTypeByURL, isBlobURL } from '@wordpress/blob';\r\n\r\nconst POSITION_CLASSNAMES = {\r\n\t'top left': 'is-position-top-left',\r\n\t'top center': 'is-position-top-center',\r\n\t'top right': 'is-position-top-right',\r\n\t'center left': 'is-position-center-left',\r\n\t'center center': 'is-position-center-center',\r\n\tcenter: 'is-position-center-center',\r\n\t'center right': 'is-position-center-right',\r\n\t'bottom left': 'is-position-bottom-left',\r\n\t'bottom center': 'is-position-bottom-center',\r\n\t'bottom right': 'is-position-bottom-right',\r\n};\r\n\r\nexport const IMAGE_BACKGROUND_TYPE = 'image';\r\nexport const VIDEO_BACKGROUND_TYPE = 'video';\r\nexport const COVER_MIN_HEIGHT = 50;\r\nexport const COVER_MAX_HEIGHT = 1000;\r\nexport const COVER_DEFAULT_HEIGHT = 300;\r\nexport const DEFAULT_FOCAL_POINT = { x: 0.5, y: 0.5 };\r\nexport const ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\r\n\r\nexport function mediaPosition( { x, y } = DEFAULT_FOCAL_POINT ) {\r\n\treturn `${ Math.round( x * 100 ) }% ${ Math.round( y * 100 ) }%`;\r\n}\r\n\r\nexport function dimRatioToClass( ratio ) {\r\n\treturn ratio === 50 || ratio === undefined\r\n\t\t? null\r\n\t\t: 'has-background-dim-' + 10 * Math.round( ratio / 10 );\r\n}\r\n\r\nexport function attributesFromMedia( media ) {\r\n\tif ( ! media || ! media.url ) {\r\n\t\treturn {\r\n\t\t\turl: undefined,\r\n\t\t\tid: undefined,\r\n\t\t};\r\n\t}\r\n\r\n\tif ( isBlobURL( media.url ) ) {\r\n\t\tmedia.type = getBlobTypeByURL( media.url );\r\n\t}\r\n\r\n\tlet mediaType;\r\n\t// For media selections originated from a file upload.\r\n\tif ( media.media_type ) {\r\n\t\tif ( media.media_type === IMAGE_BACKGROUND_TYPE ) {\r\n\t\t\tmediaType = IMAGE_BACKGROUND_TYPE;\r\n\t\t} else {\r\n\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\r\n\t\t\t// Videos contain the media type of 'file' in the object returned from the rest api.\r\n\t\t\tmediaType = VIDEO_BACKGROUND_TYPE;\r\n\t\t}\r\n\t} else {\r\n\t\t// For media selections originated from existing files in the media library.\r\n\t\tif (\r\n\t\t\tmedia.type !== IMAGE_BACKGROUND_TYPE &&\r\n\t\t\tmedia.type !== VIDEO_BACKGROUND_TYPE\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tmediaType = media.type;\r\n\t}\r\n\r\n\treturn {\r\n\t\turl: media.url,\r\n\t\tid: media.id,\r\n\t\talt: media?.alt,\r\n\t\tbackgroundType: mediaType,\r\n\t\t...( mediaType === VIDEO_BACKGROUND_TYPE\r\n\t\t\t? { hasParallax: undefined }\r\n\t\t\t: {} ),\r\n\t};\r\n}\r\n\r\n/**\r\n * Checks of the contentPosition is the center (default) position.\r\n *\r\n * @param {string} contentPosition The current content position.\r\n * @return {boolean} Whether the contentPosition is center.\r\n */\r\nexport function isContentPositionCenter( contentPosition ) {\r\n\treturn (\r\n\t\t! contentPosition ||\r\n\t\tcontentPosition === 'center center' ||\r\n\t\tcontentPosition === 'center'\r\n\t);\r\n}\r\n\r\n/**\r\n * Retrieves the className for the current contentPosition.\r\n * The default position (center) will not have a className.\r\n *\r\n * @param {string} contentPosition The current content position.\r\n * @return {string} The className assigned to the contentPosition.\r\n */\r\nexport function getPositionClassName( contentPosition ) {\r\n\t/*\r\n\t * Only render a className if the contentPosition is not center (the default).\r\n\t */\r\n\tif ( isContentPositionCenter( contentPosition ) ) return '';\r\n\r\n\treturn POSITION_CLASSNAMES[ contentPosition ];\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport {\r\n\tRichText,\r\n\tgetColorClassName,\r\n\tInnerBlocks,\r\n\t__experimentalGetGradientClass,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { compose } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tIMAGE_BACKGROUND_TYPE,\r\n\tVIDEO_BACKGROUND_TYPE,\r\n\tgetPositionClassName,\r\n\tisContentPositionCenter,\r\n\tdimRatioToClass,\r\n\tmediaPosition,\r\n} from './shared';\r\n\r\nfunction backgroundImageStyles( url ) {\r\n\treturn url ? { backgroundImage: `url(${ url })` } : {};\r\n}\r\n\r\n/**\r\n * Original function to determine the background opacity classname\r\n *\r\n * Used in deprecations: v1-7.\r\n *\r\n * @param {number} ratio ratio to use for opacity.\r\n * @return {string}       background opacity class   .\r\n */\r\nfunction dimRatioToClassV1( ratio ) {\r\n\treturn ratio === 0 || ratio === 50 || ! ratio\r\n\t\t? null\r\n\t\t: 'has-background-dim-' + 10 * Math.round( ratio / 10 );\r\n}\r\n\r\nfunction migrateDimRatio( attributes ) {\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tdimRatio: ! attributes.url ? 100 : attributes.dimRatio,\r\n\t};\r\n}\r\n\r\nfunction migrateTag( attributes ) {\r\n\tif ( ! attributes.tagName ) {\r\n\t\tattributes = {\r\n\t\t\t...attributes,\r\n\t\t\ttagName: 'div',\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\t...attributes,\r\n\t};\r\n}\r\n\r\nconst blockAttributes = {\r\n\turl: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tid: {\r\n\t\ttype: 'number',\r\n\t},\r\n\thasParallax: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n\tdimRatio: {\r\n\t\ttype: 'number',\r\n\t\tdefault: 50,\r\n\t},\r\n\toverlayColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcustomOverlayColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tbackgroundType: {\r\n\t\ttype: 'string',\r\n\t\tdefault: 'image',\r\n\t},\r\n\tfocalPoint: {\r\n\t\ttype: 'object',\r\n\t},\r\n};\r\n\r\nconst v8ToV11BlockAttributes = {\r\n\turl: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tid: {\r\n\t\ttype: 'number',\r\n\t},\r\n\talt: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'img',\r\n\t\tattribute: 'alt',\r\n\t\tdefault: '',\r\n\t},\r\n\thasParallax: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n\tisRepeated: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n\tdimRatio: {\r\n\t\ttype: 'number',\r\n\t\tdefault: 100,\r\n\t},\r\n\toverlayColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcustomOverlayColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tbackgroundType: {\r\n\t\ttype: 'string',\r\n\t\tdefault: 'image',\r\n\t},\r\n\tfocalPoint: {\r\n\t\ttype: 'object',\r\n\t},\r\n\tminHeight: {\r\n\t\ttype: 'number',\r\n\t},\r\n\tminHeightUnit: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tgradient: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcustomGradient: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcontentPosition: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tisDark: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: true,\r\n\t},\r\n\tallowedBlocks: {\r\n\t\ttype: 'array',\r\n\t},\r\n\ttemplateLock: {\r\n\t\ttype: [ 'string', 'boolean' ],\r\n\t\tenum: [ 'all', 'insert', false ],\r\n\t},\r\n};\r\n\r\nconst v12BlockAttributes = {\r\n\t...v8ToV11BlockAttributes,\r\n\tuseFeaturedImage: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n\ttagName: {\r\n\t\ttype: 'string',\r\n\t\tdefault: 'div',\r\n\t},\r\n};\r\n\r\nconst v7toV11BlockSupports = {\r\n\tanchor: true,\r\n\talign: true,\r\n\thtml: false,\r\n\tspacing: {\r\n\t\tpadding: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tpadding: true,\r\n\t\t},\r\n\t},\r\n\tcolor: {\r\n\t\t__experimentalDuotone:\r\n\t\t\t'> .wp-block-cover__image-background, > .wp-block-cover__video-background',\r\n\t\ttext: false,\r\n\t\tbackground: false,\r\n\t},\r\n};\r\n\r\nconst v12BlockSupports = {\r\n\t...v7toV11BlockSupports,\r\n\tspacing: {\r\n\t\tpadding: true,\r\n\t\tmargin: [ 'top', 'bottom' ],\r\n\t\tblockGap: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tpadding: true,\r\n\t\t\tblockGap: true,\r\n\t\t},\r\n\t},\r\n\t__experimentalBorder: {\r\n\t\tcolor: true,\r\n\t\tradius: true,\r\n\t\tstyle: true,\r\n\t\twidth: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tcolor: true,\r\n\t\t\tradius: true,\r\n\t\t\tstyle: true,\r\n\t\t\twidth: true,\r\n\t\t},\r\n\t},\r\n\tcolor: {\r\n\t\t__experimentalDuotone:\r\n\t\t\t'> .wp-block-cover__image-background, > .wp-block-cover__video-background',\r\n\t\theading: true,\r\n\t\ttext: true,\r\n\t\tbackground: false,\r\n\t\t__experimentalSkipSerialization: [ 'gradients' ],\r\n\t\tenableContrastChecker: false,\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: true,\r\n\t\tlineHeight: true,\r\n\t\t__experimentalFontFamily: true,\r\n\t\t__experimentalFontWeight: true,\r\n\t\t__experimentalFontStyle: true,\r\n\t\t__experimentalTextTransform: true,\r\n\t\t__experimentalTextDecoration: true,\r\n\t\t__experimentalLetterSpacing: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tfontSize: true,\r\n\t\t},\r\n\t},\r\n\tlayout: {\r\n\t\tallowJustification: false,\r\n\t},\r\n};\r\n\r\n// Deprecation for blocks that does not have the aria-label when the image background is fixed or repeated.\r\nconst v13 = {\r\n\tattributes: v12BlockAttributes,\r\n\tsupports: v12BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\tuseFeaturedImage,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t\ttagName: Tag,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight =\r\n\t\t\tminHeightProp && minHeightUnit\r\n\t\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t\t  ? mediaPosition(focalPoint)\r\n\t\t\t\t\t  : undefined;\r\n\r\n\t\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\t\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\tconst imgClasses = classnames(\r\n\t\t\t'wp-block-cover__image-background',\r\n\t\t\tid ? `wp-image-${ id }` : null,\r\n\t\t\t{\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst gradientValue = gradient || customGradient;\r\n\r\n\t\treturn (\r\n\t\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\t\tisImageBackground &&\r\n\t\t\t\t\turl &&\r\n\t\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// Deprecation for blocks to prevent auto overlay color from overriding previously set values.\r\nconst v12 = {\r\n\tattributes: v12BlockAttributes,\r\n\tsupports: v12BlockSupports,\r\n\tisEligible( attributes ) {\r\n\t\treturn (\r\n\t\t\tattributes.customOverlayColor !== undefined ||\r\n\t\t\tattributes.overlayColor !== undefined\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\tisUserOverlayColor: true,\r\n\t\t};\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\tuseFeaturedImage,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t\ttagName: Tag,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight =\r\n\t\t\tminHeightProp && minHeightUnit\r\n\t\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t  ? mediaPosition(focalPoint)\r\n\t\t\t  : undefined;\r\n\r\n\t\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\t\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\tconst imgClasses = classnames(\r\n\t\t\t'wp-block-cover__image-background',\r\n\t\t\tid ? `wp-image-${ id }` : null,\r\n\t\t\t{\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst gradientValue = gradient || customGradient;\r\n\r\n\t\treturn (\r\n\t\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\t\tisImageBackground &&\r\n\t\t\t\t\turl &&\r\n\t\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// Deprecation for blocks that does not have a HTML tag option.\r\nconst v11 = {\r\n\tattributes: v8ToV11BlockAttributes,\r\n\tsupports: v7toV11BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\tuseFeaturedImage,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight =\r\n\t\t\tminHeightProp && minHeightUnit\r\n\t\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t  ? mediaPosition(focalPoint)\r\n\t\t\t\t  : undefined;\r\n\r\n\t\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\t\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\tconst imgClasses = classnames(\r\n\t\t\t'wp-block-cover__image-background',\r\n\t\t\tid ? `wp-image-${ id }` : null,\r\n\t\t\t{\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst gradientValue = gradient || customGradient;\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\t\tisImageBackground &&\r\n\t\t\t\t\turl &&\r\n\t\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateTag,\r\n};\r\n\r\n// Deprecation for blocks that renders fixed background as backgroud from the main block container.\r\nconst v10 = {\r\n\tattributes: v8ToV11BlockAttributes,\r\n\tsupports: v7toV11BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\tuseFeaturedImage,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight =\r\n\t\t\tminHeightProp && minHeightUnit\r\n\t\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\t...( isImageBackground && ! isImgElement && ! useFeaturedImage\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {} ),\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t ? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round( focalPoint.y * 100 ) }%`\r\n\t\t\t\t : undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\tconst gradientValue = gradient || customGradient;\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\t\tisImageBackground &&\r\n\t\t\t\t\tisImgElement &&\r\n\t\t\t\t\turl && (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t\t'wp-block-cover__image-background',\r\n\t\t\t\t\t\t\t\tid ? `wp-image-${ id }` : null\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateTag,\r\n};\r\n\r\n// Deprecation for blocks with `minHeightUnit` set but no `minHeight`.\r\nconst v9 = {\r\n\tattributes: v8ToV11BlockAttributes,\r\n\tsupports: v7toV11BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight = minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\t...( isImageBackground && ! isImgElement\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {} ),\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t ? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round( focalPoint.y * 100 ) }%`\r\n\t\t\t\t : undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\tconst gradientValue = gradient || customGradient;\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ isImageBackground && isImgElement && url && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__image-background',\r\n\t\t\t\t\t\t\tid ? `wp-image-${ id }` : null\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateTag,\r\n};\r\n\r\n// v8: deprecated to remove duplicated gradient classes and swap `wp-block-cover__gradient-background` for `wp-block-cover__background`.\r\nconst v8 = {\r\n\tattributes: v8ToV11BlockAttributes,\r\n\tsupports: v7toV11BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\tisDark,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight = minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\t...( isImageBackground && ! isImgElement\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {} ),\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst bgStyle = {\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient ? customGradient : undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t ? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round( focalPoint.y * 100 ) }%`\r\n\t\t\t\t : undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t{\r\n\t\t\t\t'is-light': ! isDark,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t<span\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t\t'wp-block-cover__gradient-background',\r\n\t\t\t\t\t\tgradientClass,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t\t'has-background-gradient':\r\n\t\t\t\t\t\t\t\tgradient || customGradient,\r\n\t\t\t\t\t\t\t[ gradientClass ]: ! url && gradientClass,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ bgStyle }\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{ isImageBackground && isImgElement && url && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__image-background',\r\n\t\t\t\t\t\t\tid ? `wp-image-${ id }` : null\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateTag,\r\n};\r\n\r\nconst v7 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tisRepeated: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tminHeight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tminHeightUnit: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomGradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcontentPosition: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t},\r\n\tsupports: v7toV11BlockSupports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight = minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\t\tconst style = {\r\n\t\t\t...( isImageBackground && ! isImgElement\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {} ),\r\n\t\t\tbackgroundColor: ! overlayColorClass\r\n\t\t\t\t? customOverlayColor\r\n\t\t\t\t: undefined,\r\n\t\t\tbackground: customGradient && ! url ? customGradient : undefined,\r\n\t\t\tminHeight: minHeight || undefined,\r\n\t\t};\r\n\r\n\t\tconst objectPosition =\r\n\t\t\t// prettier-ignore\r\n\t\t\tfocalPoint && isImgElement\r\n\t\t\t\t\t? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round( focalPoint.y * 100 ) }%`\r\n\t\t\t\t\t: undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-background-gradient': gradient || customGradient,\r\n\t\t\t\t[ gradientClass ]: ! url && gradientClass,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background',\r\n\t\t\t\t\t\t\tgradientClass\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tcustomGradient\r\n\t\t\t\t\t\t\t\t? { background: customGradient }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isImageBackground && isImgElement && url && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__image-background',\r\n\t\t\t\t\t\t\tid ? `wp-image-${ id }` : null\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div className=\"wp-block-cover__inner-container\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: compose( migrateDimRatio, migrateTag ),\r\n};\r\n\r\nconst v6 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tisRepeated: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\tminHeight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tminHeightUnit: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomGradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcontentPosition: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcontentPosition,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\tisRepeated,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\tminHeight: minHeightProp,\r\n\t\t\tminHeightUnit,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\t\tconst minHeight = minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\t\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\t\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\t\tconst style = isImageBackground ? backgroundImageStyles( url ) : {};\r\n\t\tconst videoStyle = {};\r\n\r\n\t\tif ( ! overlayColorClass ) {\r\n\t\t\tstyle.backgroundColor = customOverlayColor;\r\n\t\t}\r\n\r\n\t\tif ( customGradient && ! url ) {\r\n\t\t\tstyle.background = customGradient;\r\n\t\t}\r\n\t\tstyle.minHeight = minHeight || undefined;\r\n\r\n\t\tlet positionValue;\r\n\r\n\t\tif ( focalPoint ) {\r\n\t\t\tpositionValue = `${ Math.round(\r\n\t\t\t\tfocalPoint.x * 100\r\n\t\t\t) }% ${ Math.round( focalPoint.y * 100 ) }%`;\r\n\r\n\t\t\tif ( isImageBackground && ! hasParallax ) {\r\n\t\t\t\tstyle.backgroundPosition = positionValue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isVideoBackground ) {\r\n\t\t\t\tvideoStyle.objectPosition = positionValue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'is-repeated': isRepeated,\r\n\t\t\t\t'has-background-gradient': gradient || customGradient,\r\n\t\t\t\t[ gradientClass ]: ! url && gradientClass,\r\n\t\t\t\t'has-custom-content-position':\r\n\t\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t\t},\r\n\t\t\tgetPositionClassName( contentPosition )\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background',\r\n\t\t\t\t\t\t\tgradientClass\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tcustomGradient\r\n\t\t\t\t\t\t\t\t? { background: customGradient }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tplaysInline\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ videoStyle }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div className=\"wp-block-cover__inner-container\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: compose( migrateDimRatio, migrateTag ),\r\n};\r\n\r\nconst v5 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tminHeight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomGradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\tminHeight,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\r\n\t\tconst style =\r\n\t\t\tbackgroundType === IMAGE_BACKGROUND_TYPE\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {};\r\n\t\tif ( ! overlayColorClass ) {\r\n\t\t\tstyle.backgroundColor = customOverlayColor;\r\n\t\t}\r\n\t\tif ( focalPoint && ! hasParallax ) {\r\n\t\t\tstyle.backgroundPosition = `${ Math.round(\r\n\t\t\t\tfocalPoint.x * 100\r\n\t\t\t) }% ${ Math.round( focalPoint.y * 100 ) }%`;\r\n\t\t}\r\n\t\tif ( customGradient && ! url ) {\r\n\t\t\tstyle.background = customGradient;\r\n\t\t}\r\n\t\tstyle.minHeight = minHeight || undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'has-background-gradient': customGradient,\r\n\t\t\t\t[ gradientClass ]: ! url && gradientClass,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={ classes } style={ style }>\r\n\t\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background',\r\n\t\t\t\t\t\t\tgradientClass\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tcustomGradient\r\n\t\t\t\t\t\t\t\t? { background: customGradient }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div className=\"wp-block-cover__inner-container\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: compose( migrateDimRatio, migrateTag ),\r\n};\r\n\r\nconst v4 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tminHeight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tgradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomGradient: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tgradient,\r\n\t\t\tcustomGradient,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\toverlayColor,\r\n\t\t\turl,\r\n\t\t\tminHeight,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\r\n\t\tconst style =\r\n\t\t\tbackgroundType === IMAGE_BACKGROUND_TYPE\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {};\r\n\t\tif ( ! overlayColorClass ) {\r\n\t\t\tstyle.backgroundColor = customOverlayColor;\r\n\t\t}\r\n\t\tif ( focalPoint && ! hasParallax ) {\r\n\t\t\tstyle.backgroundPosition = `${ focalPoint.x * 100 }% ${\r\n\t\t\t\tfocalPoint.y * 100\r\n\t\t\t}%`;\r\n\t\t}\r\n\t\tif ( customGradient && ! url ) {\r\n\t\t\tstyle.background = customGradient;\r\n\t\t}\r\n\t\tstyle.minHeight = minHeight || undefined;\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t'has-background-gradient': customGradient,\r\n\t\t\t\t[ gradientClass ]: ! url && gradientClass,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={ classes } style={ style }>\r\n\t\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t'wp-block-cover__gradient-background',\r\n\t\t\t\t\t\t\tgradientClass\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tcustomGradient\r\n\t\t\t\t\t\t\t\t? { background: customGradient }\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<div className=\"wp-block-cover__inner-container\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: compose( migrateDimRatio, migrateTag ),\r\n};\r\n\r\nconst v3 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'p',\r\n\t\t},\r\n\t\tcontentAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'center',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundType,\r\n\t\t\tcontentAlign,\r\n\t\t\tcustomOverlayColor,\r\n\t\t\tdimRatio,\r\n\t\t\tfocalPoint,\r\n\t\t\thasParallax,\r\n\t\t\toverlayColor,\r\n\t\t\ttitle,\r\n\t\t\turl,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst style =\r\n\t\t\tbackgroundType === IMAGE_BACKGROUND_TYPE\r\n\t\t\t\t? backgroundImageStyles( url )\r\n\t\t\t\t: {};\r\n\t\tif ( ! overlayColorClass ) {\r\n\t\t\tstyle.backgroundColor = customOverlayColor;\r\n\t\t}\r\n\t\tif ( focalPoint && ! hasParallax ) {\r\n\t\t\tstyle.backgroundPosition = `${ focalPoint.x * 100 }% ${\r\n\t\t\t\tfocalPoint.y * 100\r\n\t\t\t}%`;\r\n\t\t}\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={ classes } style={ style }>\r\n\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && url && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( title ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\tclassName=\"wp-block-cover-text\"\r\n\t\t\t\t\t\tvalue={ title }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tconst newAttribs = {\r\n\t\t\t...attributes,\r\n\t\t\tdimRatio: ! attributes.url ? 100 : attributes.dimRatio,\r\n\t\t\ttagName: ! attributes.tagName ? 'div' : attributes.tagName,\r\n\t\t};\r\n\r\n\t\tconst { title, contentAlign, ...restAttributes } = newAttribs;\r\n\r\n\t\treturn [\r\n\t\t\trestAttributes,\r\n\t\t\t[\r\n\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\tcontent: attributes.title,\r\n\t\t\t\t\talign: attributes.contentAlign,\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tplaceholder: __( 'Write title…' ),\r\n\t\t\t\t} ),\r\n\t\t\t],\r\n\t\t];\r\n\t},\r\n};\r\n\r\nconst v2 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'p',\r\n\t\t},\r\n\t\tcontentAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'center',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tclassName: false,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\ttitle,\r\n\t\t\thasParallax,\r\n\t\t\tdimRatio,\r\n\t\t\talign,\r\n\t\t\tcontentAlign,\r\n\t\t\toverlayColor,\r\n\t\t\tcustomOverlayColor,\r\n\t\t} = attributes;\r\n\t\tconst overlayColorClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\toverlayColor\r\n\t\t);\r\n\t\tconst style = backgroundImageStyles( url );\r\n\t\tif ( ! overlayColorClass ) {\r\n\t\t\tstyle.backgroundColor = customOverlayColor;\r\n\t\t}\r\n\r\n\t\tconst classes = classnames(\r\n\t\t\t'wp-block-cover-image',\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\toverlayColorClass,\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t\t[ `has-${ contentAlign }-content` ]: contentAlign !== 'center',\r\n\t\t\t},\r\n\t\t\talign ? `align${ align }` : null\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={ classes } style={ style }>\r\n\t\t\t\t{ ! RichText.isEmpty( title ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\tclassName=\"wp-block-cover-image-text\"\r\n\t\t\t\t\t\tvalue={ title }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tconst newAttribs = {\r\n\t\t\t...attributes,\r\n\t\t\tdimRatio: ! attributes.url ? 100 : attributes.dimRatio,\r\n\t\t\ttagName: ! attributes.tagName ? 'div' : attributes.tagName,\r\n\t\t};\r\n\r\n\t\tconst { title, contentAlign, align, ...restAttributes } = newAttribs;\r\n\r\n\t\treturn [\r\n\t\t\trestAttributes,\r\n\t\t\t[\r\n\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\tcontent: attributes.title,\r\n\t\t\t\t\talign: attributes.contentAlign,\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tplaceholder: __( 'Write title…' ),\r\n\t\t\t\t} ),\r\n\t\t\t],\r\n\t\t];\r\n\t},\r\n};\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'h2',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcontentAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'center',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tclassName: false,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { url, title, hasParallax, dimRatio, align } = attributes;\r\n\t\tconst style = backgroundImageStyles( url );\r\n\t\tconst classes = classnames(\r\n\t\t\t'wp-block-cover-image',\r\n\t\t\tdimRatioToClassV1( dimRatio ),\r\n\t\t\t{\r\n\t\t\t\t'has-background-dim': dimRatio !== 0,\r\n\t\t\t\t'has-parallax': hasParallax,\r\n\t\t\t},\r\n\t\t\talign ? `align${ align }` : null\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<section className={ classes } style={ style }>\r\n\t\t\t\t<RichText.Content tagName=\"h2\" value={ title } />\r\n\t\t\t</section>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tconst newAttribs = {\r\n\t\t\t...attributes,\r\n\t\t\tdimRatio: ! attributes.url ? 100 : attributes.dimRatio,\r\n\t\t\ttagName: ! attributes.tagName ? 'div' : attributes.tagName,\r\n\t\t};\r\n\t\tconst { title, contentAlign, align, ...restAttributes } = newAttribs;\r\n\r\n\t\treturn [\r\n\t\t\trestAttributes,\r\n\t\t\t[\r\n\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\tcontent: attributes.title,\r\n\t\t\t\t\talign: attributes.contentAlign,\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tplaceholder: __( 'Write title…' ),\r\n\t\t\t\t} ),\r\n\t\t\t],\r\n\t\t];\r\n\t},\r\n};\r\n\r\nexport default [ v13, v12, v11, v10, v9, v8, v7, v6, v5, v4, v3, v2, v1 ];\r\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport {\n\tButton,\n\tExternalLink,\n\tFocalPointPicker,\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextareaControl,\n\tToggleControl,\n\tSelectControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\tInspectorControls,\n\tuseSettings,\n\t__experimentalColorGradientSettingsDropdown as ColorGradientSettingsDropdown,\n\t__experimentalUseGradient,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { COVER_MIN_HEIGHT, mediaPosition } from '../shared';\nimport { unlock } from '../../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\nfunction CoverHeightInput( {\n\tonChange,\n\tonUnitChange,\n\tunit = 'px',\n\tvalue = '',\n} ) {\n\tconst instanceId = useInstanceId( UnitControl );\n\tconst inputId = `block-cover-height-input-${ instanceId }`;\n\tconst isPx = unit === 'px';\n\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: availableUnits || [ 'px', 'em', 'rem', 'vw', 'vh' ],\n\t\tdefaultValues: { px: 430, '%': 20, em: 20, rem: 20, vw: 20, vh: 50 },\n\t} );\n\n\tconst handleOnChange = ( unprocessedValue ) => {\n\t\tconst inputValue =\n\t\t\tunprocessedValue !== ''\n\t\t\t\t? parseFloat( unprocessedValue )\n\t\t\t\t: undefined;\n\n\t\tif ( isNaN( inputValue ) && inputValue !== undefined ) {\n\t\t\treturn;\n\t\t}\n\t\tonChange( inputValue );\n\t};\n\n\tconst computedValue = useMemo( () => {\n\t\tconst [ parsedQuantity ] = parseQuantityAndUnitFromRawValue( value );\n\t\treturn [ parsedQuantity, unit ].join( '' );\n\t}, [ unit, value ] );\n\n\tconst min = isPx ? COVER_MIN_HEIGHT : 0;\n\n\treturn (\n\t\t<UnitControl\n\t\t\tlabel={ __( 'Minimum height of cover' ) }\n\t\t\tid={ inputId }\n\t\t\tisResetValueOnUnitChange\n\t\t\tmin={ min }\n\t\t\tonChange={ handleOnChange }\n\t\t\tonUnitChange={ onUnitChange }\n\t\t\t__unstableInputWidth={ '80px' }\n\t\t\tunits={ units }\n\t\t\tvalue={ computedValue }\n\t\t/>\n\t);\n}\nexport default function CoverInspectorControls( {\n\tattributes,\n\tsetAttributes,\n\tclientId,\n\tsetOverlayColor,\n\tcoverRef,\n\tcurrentSettings,\n\tupdateDimRatio,\n\tonClearMedia,\n} ) {\n\tconst {\n\t\tuseFeaturedImage,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tisRepeated,\n\t\tminHeight,\n\t\tminHeightUnit,\n\t\talt,\n\t\ttagName,\n\t} = attributes;\n\tconst {\n\t\tisVideoBackground,\n\t\tisImageBackground,\n\t\tmediaElement,\n\t\turl,\n\t\toverlayColor,\n\t} = currentSettings;\n\n\tconst { gradientValue, setGradient } = __experimentalUseGradient();\n\n\tconst toggleParallax = () => {\n\t\tsetAttributes( {\n\t\t\thasParallax: ! hasParallax,\n\t\t\t...( ! hasParallax ? { focalPoint: undefined } : {} ),\n\t\t} );\n\t};\n\n\tconst toggleIsRepeated = () => {\n\t\tsetAttributes( {\n\t\t\tisRepeated: ! isRepeated,\n\t\t} );\n\t};\n\n\tconst showFocalPointPicker =\n\t\tisVideoBackground ||\n\t\t( isImageBackground && ( ! hasParallax || isRepeated ) );\n\n\tconst imperativeFocalPointPreview = ( value ) => {\n\t\tconst [ styleOfRef, property ] = mediaElement.current\n\t\t\t? [ mediaElement.current.style, 'objectPosition' ]\n\t\t\t: [ coverRef.current.style, 'backgroundPosition' ];\n\t\tstyleOfRef[ property ] = mediaPosition( value );\n\t};\n\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\n\tconst htmlElementMessages = {\n\t\theader: __(\n\t\t\t'The <header> element should represent introductory content, typically a group of introductory or navigational aids.'\n\t\t),\n\t\tmain: __(\n\t\t\t'The <main> element should be used for the primary content of your document only.'\n\t\t),\n\t\tsection: __(\n\t\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\n\t\t),\n\t\tarticle: __(\n\t\t\t'The <article> element should represent a self-contained, syndicatable portion of the document.'\n\t\t),\n\t\taside: __(\n\t\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\n\t\t),\n\t\tfooter: __(\n\t\t\t'The <footer> element should represent a footer for its nearest sectioning element (e.g.: <section>, <article>, <main> etc.).'\n\t\t),\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t{ !! url && (\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t{ isImageBackground && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Fixed background' ) }\n\t\t\t\t\t\t\t\t\tchecked={ hasParallax }\n\t\t\t\t\t\t\t\t\tonChange={ toggleParallax }\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Repeated background' ) }\n\t\t\t\t\t\t\t\t\tchecked={ isRepeated }\n\t\t\t\t\t\t\t\t\tonChange={ toggleIsRepeated }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showFocalPointPicker && (\n\t\t\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={ __( 'Focal point' ) }\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\tvalue={ focalPoint }\n\t\t\t\t\t\t\t\tonDragStart={ imperativeFocalPointPreview }\n\t\t\t\t\t\t\t\tonDrag={ imperativeFocalPointPreview }\n\t\t\t\t\t\t\t\tonChange={ ( newFocalPoint ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tfocalPoint: newFocalPoint,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! useFeaturedImage && url && ! isVideoBackground && (\n\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Alternative text' ) }\n\t\t\t\t\t\t\t\tvalue={ alt }\n\t\t\t\t\t\t\t\tonChange={ ( newAlt ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { alt: newAlt } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Describe the purpose of the image.'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t{ __( 'Leave empty if decorative.' ) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tclassName=\"block-library-cover__reset-button\"\n\t\t\t\t\t\t\t\tonClick={ onClearMedia }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Clear Media' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t\t{ colorGradientSettings.hasColorsOrGradients && (\n\t\t\t\t<InspectorControls group=\"color\">\n\t\t\t\t\t<ColorGradientSettingsDropdown\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\tsettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolorValue: overlayColor.color,\n\t\t\t\t\t\t\t\tgradientValue,\n\t\t\t\t\t\t\t\tlabel: __( 'Overlay' ),\n\t\t\t\t\t\t\t\tonColorChange: setOverlayColor,\n\t\t\t\t\t\t\t\tonGradientChange: setGradient,\n\t\t\t\t\t\t\t\tisShownByDefault: true,\n\t\t\t\t\t\t\t\tresetAllFilter: () => ( {\n\t\t\t\t\t\t\t\t\toverlayColor: undefined,\n\t\t\t\t\t\t\t\t\tcustomOverlayColor: undefined,\n\t\t\t\t\t\t\t\t\tgradient: undefined,\n\t\t\t\t\t\t\t\t\tcustomGradient: undefined,\n\t\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t\t{ ...colorGradientSettings }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\thasValue={ () => {\n\t\t\t\t\t\t\t// If there's a media background the dimRatio will be\n\t\t\t\t\t\t\t// defaulted to 50 whereas it will be 100 for colors.\n\t\t\t\t\t\t\treturn dimRatio === undefined\n\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t: dimRatio !== ( url ? 50 : 100 );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\t\t\tonDeselect={ () => updateDimRatio( url ? 50 : 100 ) }\n\t\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\t\tdimRatio: url ? 50 : 100,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\t\t\tonChange={ ( newDimRatio ) =>\n\t\t\t\t\t\t\t\tupdateDimRatio( newDimRatio )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<InspectorControls group=\"dimensions\">\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => !! minHeight }\n\t\t\t\t\tlabel={ __( 'Minimum height' ) }\n\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tminHeight: undefined,\n\t\t\t\t\t\t\tminHeightUnit: undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\tminHeight: undefined,\n\t\t\t\t\t\tminHeightUnit: undefined,\n\t\t\t\t\t} ) }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t>\n\t\t\t\t\t<CoverHeightInput\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tattributes?.style?.dimensions?.aspectRatio\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: minHeight\n\t\t\t\t\t\t}\n\t\t\t\t\t\tunit={ minHeightUnit }\n\t\t\t\t\t\tonChange={ ( newMinHeight ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tminHeight: newMinHeight,\n\t\t\t\t\t\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t\t\t\t\t\t...attributes?.style,\n\t\t\t\t\t\t\t\t\tdimensions: {\n\t\t\t\t\t\t\t\t\t\t...attributes?.style?.dimensions,\n\t\t\t\t\t\t\t\t\t\taspectRatio: undefined, // Reset aspect ratio when minHeight is set.\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonUnitChange={ ( nextUnit ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tminHeightUnit: nextUnit,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<SelectControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'HTML element' ) }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\n\t\t\t\t\t\t{ label: '<header>', value: 'header' },\n\t\t\t\t\t\t{ label: '<main>', value: 'main' },\n\t\t\t\t\t\t{ label: '<section>', value: 'section' },\n\t\t\t\t\t\t{ label: '<article>', value: 'article' },\n\t\t\t\t\t\t{ label: '<aside>', value: 'aside' },\n\t\t\t\t\t\t{ label: '<footer>', value: 'footer' },\n\t\t\t\t\t] }\n\t\t\t\t\tvalue={ tagName }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { tagName: value } )\n\t\t\t\t\t}\n\t\t\t\t\thelp={ htmlElementMessages[ tagName ] }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\nimport {\n\tBlockControls,\n\tMediaReplaceFlow,\n\t__experimentalBlockAlignmentMatrixControl as BlockAlignmentMatrixControl,\n\t__experimentalBlockFullHeightAligmentControl as FullHeightAlignmentControl,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ALLOWED_MEDIA_TYPES } from '../shared';\nimport { unlock } from '../../lock-unlock';\n\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\n\nexport default function CoverBlockControls( {\n\tattributes,\n\tsetAttributes,\n\tonSelectMedia,\n\tcurrentSettings,\n\ttoggleUseFeaturedImage,\n} ) {\n\tconst { contentPosition, id, useFeaturedImage, minHeight, minHeightUnit } =\n\t\tattributes;\n\tconst { hasInnerBlocks, url } = currentSettings;\n\n\tconst [ prevMinHeightValue, setPrevMinHeightValue ] = useState( minHeight );\n\tconst [ prevMinHeightUnit, setPrevMinHeightUnit ] =\n\t\tuseState( minHeightUnit );\n\tconst isMinFullHeight =\n\t\tminHeightUnit === 'vh' &&\n\t\tminHeight === 100 &&\n\t\t! attributes?.style?.dimensions?.aspectRatio;\n\tconst toggleMinFullHeight = () => {\n\t\tif ( isMinFullHeight ) {\n\t\t\t// If there aren't previous values, take the default ones.\n\t\t\tif ( prevMinHeightUnit === 'vh' && prevMinHeightValue === 100 ) {\n\t\t\t\treturn setAttributes( {\n\t\t\t\t\tminHeight: undefined,\n\t\t\t\t\tminHeightUnit: undefined,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Set the previous values of height.\n\t\t\treturn setAttributes( {\n\t\t\t\tminHeight: prevMinHeightValue,\n\t\t\t\tminHeightUnit: prevMinHeightUnit,\n\t\t\t} );\n\t\t}\n\n\t\tsetPrevMinHeightValue( minHeight );\n\t\tsetPrevMinHeightUnit( minHeightUnit );\n\n\t\t// Set full height, and clear any aspect ratio value.\n\t\treturn setAttributes( {\n\t\t\tminHeight: 100,\n\t\t\tminHeightUnit: 'vh',\n\t\t\tstyle: cleanEmptyObject( {\n\t\t\t\t...attributes?.style,\n\t\t\t\tdimensions: {\n\t\t\t\t\t...attributes?.style?.dimensions,\n\t\t\t\t\taspectRatio: undefined, // Reset aspect ratio when minHeight is set.\n\t\t\t\t},\n\t\t\t} ),\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<BlockAlignmentMatrixControl\n\t\t\t\t\tlabel={ __( 'Change content position' ) }\n\t\t\t\t\tvalue={ contentPosition }\n\t\t\t\t\tonChange={ ( nextPosition ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontentPosition: nextPosition,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t\t<FullHeightAlignmentControl\n\t\t\t\t\tisActive={ isMinFullHeight }\n\t\t\t\t\tonToggle={ toggleMinFullHeight }\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\tuseFeaturedImage={ useFeaturedImage }\n\t\t\t\t\tname={ ! url ? __( 'Add Media' ) : __( 'Replace' ) }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { BlockIcon, MediaPlaceholder } from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { cover as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { ALLOWED_MEDIA_TYPES } from '../shared';\r\n\r\nexport default function CoverPlaceholder( {\r\n\tdisableMediaButtons = false,\r\n\tchildren,\r\n\tonSelectMedia,\r\n\tonError,\r\n\tstyle,\r\n\ttoggleUseFeaturedImage,\r\n} ) {\r\n\treturn (\r\n\t\t<MediaPlaceholder\r\n\t\t\ticon={ <BlockIcon icon={ icon } /> }\r\n\t\t\tlabels={ {\r\n\t\t\t\ttitle: __( 'Cover' ),\r\n\t\t\t\tinstructions: __(\r\n\t\t\t\t\t'Drag and drop onto this block, upload, or select existing media from your library.'\r\n\t\t\t\t),\r\n\t\t\t} }\r\n\t\t\tonSelect={ onSelectMedia }\r\n\t\t\taccept=\"image/*,video/*\"\r\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\r\n\t\t\tdisableMediaButtons={ disableMediaButtons }\r\n\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\r\n\t\t\tonError={ onError }\r\n\t\t\tstyle={ style }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</MediaPlaceholder>\r\n\t);\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst RESIZABLE_BOX_ENABLE_OPTION = {\n\ttop: false,\n\tright: false,\n\tbottom: true,\n\tleft: false,\n\ttopRight: false,\n\tbottomRight: false,\n\tbottomLeft: false,\n\ttopLeft: false,\n};\n\nconst { ResizableBoxPopover } = unlock( blockEditorPrivateApis );\n\nexport default function ResizableCoverPopover( {\n\tclassName,\n\theight,\n\tminHeight,\n\tonResize,\n\tonResizeStart,\n\tonResizeStop,\n\tshowHandle,\n\tsize,\n\twidth,\n\t...props\n} ) {\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\n\tconst resizableBoxProps = {\n\t\tclassName: classnames( className, { 'is-resizing': isResizing } ),\n\t\tenable: RESIZABLE_BOX_ENABLE_OPTION,\n\t\tonResizeStart: ( _event, _direction, elt ) => {\n\t\t\tonResizeStart( elt.clientHeight );\n\t\t\tonResize( elt.clientHeight );\n\t\t},\n\t\tonResize: ( _event, _direction, elt ) => {\n\t\t\tonResize( elt.clientHeight );\n\t\t\tif ( ! isResizing ) {\n\t\t\t\tsetIsResizing( true );\n\t\t\t}\n\t\t},\n\t\tonResizeStop: ( _event, _direction, elt ) => {\n\t\t\tonResizeStop( elt.clientHeight );\n\t\t\tsetIsResizing( false );\n\t\t},\n\t\tshowHandle,\n\t\tsize,\n\t\t__experimentalShowTooltip: true,\n\t\t__experimentalTooltipProps: {\n\t\t\taxis: 'y',\n\t\t\tposition: 'bottom',\n\t\t\tisVisible: isResizing,\n\t\t},\n\t};\n\n\treturn (\n\t\t<ResizableBoxPopover\n\t\t\tclassName=\"block-library-cover__resizable-box-popover\"\n\t\t\tresizableBoxProps={ resizableBoxProps }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","/*! Fast Average Color | © 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */\nfunction toHex(num) {\n    var str = num.toString(16);\n    return str.length === 1 ? '0' + str : str;\n}\nfunction arrayToHex(arr) {\n    return '#' + arr.map(toHex).join('');\n}\nfunction isDark(color) {\n    // http://www.w3.org/TR/AERT#color-contrast\n    var result = (color[0] * 299 + color[1] * 587 + color[2] * 114) / 1000;\n    return result < 128;\n}\nfunction prepareIgnoredColor(color) {\n    if (!color) {\n        return [];\n    }\n    return isRGBArray(color) ? color : [color];\n}\nfunction isRGBArray(value) {\n    return Array.isArray(value[0]);\n}\nfunction isIgnoredColor(data, index, ignoredColor) {\n    for (var i = 0; i < ignoredColor.length; i++) {\n        if (isIgnoredColorAsNumbers(data, index, ignoredColor[i])) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction isIgnoredColorAsNumbers(data, index, ignoredColor) {\n    switch (ignoredColor.length) {\n        case 3:\n            // [red, green, blue]\n            if (isIgnoredRGBColor(data, index, ignoredColor)) {\n                return true;\n            }\n            break;\n        case 4:\n            // [red, green, blue, alpha]\n            if (isIgnoredRGBAColor(data, index, ignoredColor)) {\n                return true;\n            }\n            break;\n        case 5:\n            // [red, green, blue, alpha, threshold]\n            if (isIgnoredRGBAColorWithThreshold(data, index, ignoredColor)) {\n                return true;\n            }\n            break;\n        default:\n            return false;\n    }\n}\nfunction isIgnoredRGBColor(data, index, ignoredColor) {\n    // Ignore if the pixel are transparent.\n    if (data[index + 3] !== 255) {\n        return true;\n    }\n    if (data[index] === ignoredColor[0] &&\n        data[index + 1] === ignoredColor[1] &&\n        data[index + 2] === ignoredColor[2]) {\n        return true;\n    }\n    return false;\n}\nfunction isIgnoredRGBAColor(data, index, ignoredColor) {\n    if (data[index + 3] && ignoredColor[3]) {\n        return data[index] === ignoredColor[0] &&\n            data[index + 1] === ignoredColor[1] &&\n            data[index + 2] === ignoredColor[2] &&\n            data[index + 3] === ignoredColor[3];\n    }\n    // Ignore rgb components if the pixel are fully transparent.\n    return data[index + 3] === ignoredColor[3];\n}\nfunction inRange(colorComponent, ignoredColorComponent, value) {\n    return colorComponent >= (ignoredColorComponent - value) &&\n        colorComponent <= (ignoredColorComponent + value);\n}\nfunction isIgnoredRGBAColorWithThreshold(data, index, ignoredColor) {\n    var redIgnored = ignoredColor[0];\n    var greenIgnored = ignoredColor[1];\n    var blueIgnored = ignoredColor[2];\n    var alphaIgnored = ignoredColor[3];\n    var threshold = ignoredColor[4];\n    var alphaData = data[index + 3];\n    var alphaInRange = inRange(alphaData, alphaIgnored, threshold);\n    if (!alphaIgnored) {\n        return alphaInRange;\n    }\n    if (!alphaData && alphaInRange) {\n        return true;\n    }\n    if (inRange(data[index], redIgnored, threshold) &&\n        inRange(data[index + 1], greenIgnored, threshold) &&\n        inRange(data[index + 2], blueIgnored, threshold) &&\n        alphaInRange) {\n        return true;\n    }\n    return false;\n}\n\nfunction dominantAlgorithm(arr, len, options) {\n    var colorHash = {};\n    var divider = 24;\n    var ignoredColor = options.ignoredColor;\n    var step = options.step;\n    var max = [0, 0, 0, 0, 0];\n    for (var i = 0; i < len; i += step) {\n        var red = arr[i];\n        var green = arr[i + 1];\n        var blue = arr[i + 2];\n        var alpha = arr[i + 3];\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n        var key = Math.round(red / divider) + ',' +\n            Math.round(green / divider) + ',' +\n            Math.round(blue / divider);\n        if (colorHash[key]) {\n            colorHash[key] = [\n                colorHash[key][0] + red * alpha,\n                colorHash[key][1] + green * alpha,\n                colorHash[key][2] + blue * alpha,\n                colorHash[key][3] + alpha,\n                colorHash[key][4] + 1\n            ];\n        }\n        else {\n            colorHash[key] = [red * alpha, green * alpha, blue * alpha, alpha, 1];\n        }\n        if (max[4] < colorHash[key][4]) {\n            max = colorHash[key];\n        }\n    }\n    var redTotal = max[0];\n    var greenTotal = max[1];\n    var blueTotal = max[2];\n    var alphaTotal = max[3];\n    var count = max[4];\n    return alphaTotal ? [\n        Math.round(redTotal / alphaTotal),\n        Math.round(greenTotal / alphaTotal),\n        Math.round(blueTotal / alphaTotal),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction simpleAlgorithm(arr, len, options) {\n    var redTotal = 0;\n    var greenTotal = 0;\n    var blueTotal = 0;\n    var alphaTotal = 0;\n    var count = 0;\n    var ignoredColor = options.ignoredColor;\n    var step = options.step;\n    for (var i = 0; i < len; i += step) {\n        var alpha = arr[i + 3];\n        var red = arr[i] * alpha;\n        var green = arr[i + 1] * alpha;\n        var blue = arr[i + 2] * alpha;\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n        redTotal += red;\n        greenTotal += green;\n        blueTotal += blue;\n        alphaTotal += alpha;\n        count++;\n    }\n    return alphaTotal ? [\n        Math.round(redTotal / alphaTotal),\n        Math.round(greenTotal / alphaTotal),\n        Math.round(blueTotal / alphaTotal),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction sqrtAlgorithm(arr, len, options) {\n    var redTotal = 0;\n    var greenTotal = 0;\n    var blueTotal = 0;\n    var alphaTotal = 0;\n    var count = 0;\n    var ignoredColor = options.ignoredColor;\n    var step = options.step;\n    for (var i = 0; i < len; i += step) {\n        var red = arr[i];\n        var green = arr[i + 1];\n        var blue = arr[i + 2];\n        var alpha = arr[i + 3];\n        if (ignoredColor && isIgnoredColor(arr, i, ignoredColor)) {\n            continue;\n        }\n        redTotal += red * red * alpha;\n        greenTotal += green * green * alpha;\n        blueTotal += blue * blue * alpha;\n        alphaTotal += alpha;\n        count++;\n    }\n    return alphaTotal ? [\n        Math.round(Math.sqrt(redTotal / alphaTotal)),\n        Math.round(Math.sqrt(greenTotal / alphaTotal)),\n        Math.round(Math.sqrt(blueTotal / alphaTotal)),\n        Math.round(alphaTotal / count)\n    ] : options.defaultColor;\n}\n\nfunction getDefaultColor(options) {\n    return getOption(options, 'defaultColor', [0, 0, 0, 0]);\n}\nfunction getOption(options, name, defaultValue) {\n    return (options[name] === undefined ? defaultValue : options[name]);\n}\n\nvar MIN_SIZE = 10;\nvar MAX_SIZE = 100;\nfunction isSvg(filename) {\n    return filename.search(/\\.svg(\\?|$)/i) !== -1;\n}\nfunction getOriginalSize(resource) {\n    if (isInstanceOfHTMLImageElement(resource)) {\n        var width = resource.naturalWidth;\n        var height = resource.naturalHeight;\n        // For SVG images with only viewBox attribute\n        if (!resource.naturalWidth && isSvg(resource.src)) {\n            width = height = MAX_SIZE;\n        }\n        return {\n            width: width,\n            height: height,\n        };\n    }\n    if (isInstanceOfHTMLVideoElement(resource)) {\n        return {\n            width: resource.videoWidth,\n            height: resource.videoHeight\n        };\n    }\n    return {\n        width: resource.width,\n        height: resource.height\n    };\n}\nfunction getSrc(resource) {\n    if (isInstanceOfHTMLCanvasElement(resource)) {\n        return 'canvas';\n    }\n    if (isInstanceOfOffscreenCanvas(resource)) {\n        return 'offscreencanvas';\n    }\n    if (isInstanceOfImageBitmap(resource)) {\n        return 'imagebitmap';\n    }\n    return resource.src;\n}\nfunction isInstanceOfHTMLImageElement(resource) {\n    return typeof HTMLImageElement !== 'undefined' && resource instanceof HTMLImageElement;\n}\nfunction isInstanceOfOffscreenCanvas(resource) {\n    return typeof OffscreenCanvas !== 'undefined' && resource instanceof OffscreenCanvas;\n}\nfunction isInstanceOfHTMLVideoElement(resource) {\n    return typeof HTMLVideoElement !== 'undefined' && resource instanceof HTMLVideoElement;\n}\nfunction isInstanceOfHTMLCanvasElement(resource) {\n    return typeof HTMLCanvasElement !== 'undefined' && resource instanceof HTMLCanvasElement;\n}\nfunction isInstanceOfImageBitmap(resource) {\n    return typeof ImageBitmap !== 'undefined' && resource instanceof ImageBitmap;\n}\nfunction prepareSizeAndPosition(originalSize, options) {\n    var srcLeft = getOption(options, 'left', 0);\n    var srcTop = getOption(options, 'top', 0);\n    var srcWidth = getOption(options, 'width', originalSize.width);\n    var srcHeight = getOption(options, 'height', originalSize.height);\n    var destWidth = srcWidth;\n    var destHeight = srcHeight;\n    if (options.mode === 'precision') {\n        return {\n            srcLeft: srcLeft,\n            srcTop: srcTop,\n            srcWidth: srcWidth,\n            srcHeight: srcHeight,\n            destWidth: destWidth,\n            destHeight: destHeight\n        };\n    }\n    var factor;\n    if (srcWidth > srcHeight) {\n        factor = srcWidth / srcHeight;\n        destWidth = MAX_SIZE;\n        destHeight = Math.round(destWidth / factor);\n    }\n    else {\n        factor = srcHeight / srcWidth;\n        destHeight = MAX_SIZE;\n        destWidth = Math.round(destHeight / factor);\n    }\n    if (destWidth > srcWidth || destHeight > srcHeight ||\n        destWidth < MIN_SIZE || destHeight < MIN_SIZE) {\n        destWidth = srcWidth;\n        destHeight = srcHeight;\n    }\n    return {\n        srcLeft: srcLeft,\n        srcTop: srcTop,\n        srcWidth: srcWidth,\n        srcHeight: srcHeight,\n        destWidth: destWidth,\n        destHeight: destHeight\n    };\n}\nvar isWebWorkers = typeof window === 'undefined';\nfunction makeCanvas() {\n    return isWebWorkers ?\n        new OffscreenCanvas(1, 1) :\n        document.createElement('canvas');\n}\n\nvar ERROR_PREFIX = 'FastAverageColor: ';\nfunction outputError(message, silent, error) {\n    if (!silent) {\n        console.error(ERROR_PREFIX + message);\n        if (error) {\n            console.error(error);\n        }\n    }\n}\nfunction getError(text) {\n    return Error(ERROR_PREFIX + text);\n}\n\nvar FastAverageColor = /** @class */ (function () {\n    function FastAverageColor() {\n        this.canvas = null;\n        this.ctx = null;\n    }\n    /**\n     * Get asynchronously the average color from not loaded image.\n     */\n    FastAverageColor.prototype.getColorAsync = function (resource, options) {\n        if (!resource) {\n            return Promise.reject(getError('call .getColorAsync() without resource.'));\n        }\n        if (typeof resource === 'string') {\n            // Web workers\n            if (typeof Image === 'undefined') {\n                return Promise.reject(getError('resource as string is not supported in this environment'));\n            }\n            var img = new Image();\n            img.crossOrigin = options && options.crossOrigin || '';\n            img.src = resource;\n            return this.bindImageEvents(img, options);\n        }\n        else if (isInstanceOfHTMLImageElement(resource) && !resource.complete) {\n            return this.bindImageEvents(resource, options);\n        }\n        else {\n            var result = this.getColor(resource, options);\n            return result.error ? Promise.reject(result.error) : Promise.resolve(result);\n        }\n    };\n    /**\n     * Get the average color from images, videos and canvas.\n     */\n    FastAverageColor.prototype.getColor = function (resource, options) {\n        options = options || {};\n        var defaultColor = getDefaultColor(options);\n        if (!resource) {\n            outputError('call .getColor(null) without resource', options.silent);\n            return this.prepareResult(defaultColor);\n        }\n        var originalSize = getOriginalSize(resource);\n        var size = prepareSizeAndPosition(originalSize, options);\n        if (!size.srcWidth || !size.srcHeight || !size.destWidth || !size.destHeight) {\n            outputError(\"incorrect sizes for resource \\\"\".concat(getSrc(resource), \"\\\"\"), options.silent);\n            return this.prepareResult(defaultColor);\n        }\n        if (!this.canvas) {\n            this.canvas = makeCanvas();\n        }\n        if (!this.ctx) {\n            this.ctx = this.canvas.getContext && this.canvas.getContext('2d');\n            if (!this.ctx) {\n                outputError('Canvas Context 2D is not supported in this browser', options.silent);\n                return this.prepareResult(defaultColor);\n            }\n        }\n        this.canvas.width = size.destWidth;\n        this.canvas.height = size.destHeight;\n        var value = defaultColor;\n        try {\n            this.ctx.clearRect(0, 0, size.destWidth, size.destHeight);\n            this.ctx.drawImage(resource, size.srcLeft, size.srcTop, size.srcWidth, size.srcHeight, 0, 0, size.destWidth, size.destHeight);\n            var bitmapData = this.ctx.getImageData(0, 0, size.destWidth, size.destHeight).data;\n            value = this.getColorFromArray4(bitmapData, options);\n        }\n        catch (e) {\n            outputError(\"security error (CORS) for resource \".concat(getSrc(resource), \".\\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image\"), options.silent, e);\n        }\n        return this.prepareResult(value);\n    };\n    /**\n     * Get the average color from a array when 1 pixel is 4 bytes.\n     */\n    FastAverageColor.prototype.getColorFromArray4 = function (arr, options) {\n        options = options || {};\n        var bytesPerPixel = 4;\n        var arrLength = arr.length;\n        var defaultColor = getDefaultColor(options);\n        if (arrLength < bytesPerPixel) {\n            return defaultColor;\n        }\n        var len = arrLength - arrLength % bytesPerPixel;\n        var step = (options.step || 1) * bytesPerPixel;\n        var algorithm;\n        switch (options.algorithm || 'sqrt') {\n            case 'simple':\n                algorithm = simpleAlgorithm;\n                break;\n            case 'sqrt':\n                algorithm = sqrtAlgorithm;\n                break;\n            case 'dominant':\n                algorithm = dominantAlgorithm;\n                break;\n            default:\n                throw getError(\"\".concat(options.algorithm, \" is unknown algorithm\"));\n        }\n        return algorithm(arr, len, {\n            defaultColor: defaultColor,\n            ignoredColor: prepareIgnoredColor(options.ignoredColor),\n            step: step\n        });\n    };\n    /**\n     * Get color data from value ([r, g, b, a]).\n     */\n    FastAverageColor.prototype.prepareResult = function (value) {\n        var rgb = value.slice(0, 3);\n        var rgba = [value[0], value[1], value[2], value[3] / 255];\n        var isDarkColor = isDark(value);\n        return {\n            value: [value[0], value[1], value[2], value[3]],\n            rgb: 'rgb(' + rgb.join(',') + ')',\n            rgba: 'rgba(' + rgba.join(',') + ')',\n            hex: arrayToHex(rgb),\n            hexa: arrayToHex(value),\n            isDark: isDarkColor,\n            isLight: !isDarkColor\n        };\n    };\n    /**\n     * Destroy the instance.\n     */\n    FastAverageColor.prototype.destroy = function () {\n        if (this.canvas) {\n            this.canvas.width = 1;\n            this.canvas.height = 1;\n            this.canvas = null;\n        }\n        this.ctx = null;\n    };\n    FastAverageColor.prototype.bindImageEvents = function (resource, options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var onload = function () {\n                unbindEvents();\n                var result = _this.getColor(resource, options);\n                if (result.error) {\n                    reject(result.error);\n                }\n                else {\n                    resolve(result);\n                }\n            };\n            var onerror = function () {\n                unbindEvents();\n                reject(getError(\"Error loading image \\\"\".concat(resource.src, \"\\\".\")));\n            };\n            var onabort = function () {\n                unbindEvents();\n                reject(getError(\"Image \\\"\".concat(resource.src, \"\\\" loading aborted\")));\n            };\n            var unbindEvents = function () {\n                resource.removeEventListener('load', onload);\n                resource.removeEventListener('error', onerror);\n                resource.removeEventListener('abort', onabort);\n            };\n            resource.addEventListener('load', onload);\n            resource.addEventListener('error', onerror);\n            resource.addEventListener('abort', onabort);\n        });\n    };\n    return FastAverageColor;\n}());\n\nexport { FastAverageColor };\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","/**\r\n * External dependencies\r\n */\r\nimport { colord, extend } from 'colord';\r\nimport namesPlugin from 'colord/plugins/names';\r\nimport { FastAverageColor } from 'fast-average-color';\r\nimport memoize from 'memize';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { applyFilters } from '@wordpress/hooks';\r\n\r\n/**\r\n * @typedef {import('colord').RgbaColor} RgbaColor\r\n */\r\n\r\nextend( [ namesPlugin ] );\r\n\r\n/**\r\n * Fallback color when the average color can't be computed. The image may be\r\n * rendering as transparent, and most sites have a light color background.\r\n */\r\nexport const DEFAULT_BACKGROUND_COLOR = '#FFF';\r\n\r\n/**\r\n * Default dim color specified in style.css.\r\n */\r\nexport const DEFAULT_OVERLAY_COLOR = '#000';\r\n\r\n/**\r\n * Performs a Porter Duff composite source over operation on two rgba colors.\r\n *\r\n * @see {@link https://www.w3.org/TR/compositing-1/#porterduffcompositingoperators_srcover}\r\n *\r\n * @param {RgbaColor} source Source color.\r\n * @param {RgbaColor} dest   Destination color.\r\n *\r\n * @return {RgbaColor} Composite color.\r\n */\r\nexport function compositeSourceOver( source, dest ) {\r\n\treturn {\r\n\t\tr: source.r * source.a + dest.r * dest.a * ( 1 - source.a ),\r\n\t\tg: source.g * source.a + dest.g * dest.a * ( 1 - source.a ),\r\n\t\tb: source.b * source.a + dest.b * dest.a * ( 1 - source.a ),\r\n\t\ta: source.a + dest.a * ( 1 - source.a ),\r\n\t};\r\n}\r\n\r\n/**\r\n * Retrieves the FastAverageColor singleton.\r\n *\r\n * @return {FastAverageColor} The FastAverageColor singleton.\r\n */\r\nexport function retrieveFastAverageColor() {\r\n\tif ( ! retrieveFastAverageColor.fastAverageColor ) {\r\n\t\tretrieveFastAverageColor.fastAverageColor = new FastAverageColor();\r\n\t}\r\n\treturn retrieveFastAverageColor.fastAverageColor;\r\n}\r\n\r\n/**\r\n * Computes the average color of an image.\r\n *\r\n * @param {string} url The url of the image.\r\n *\r\n * @return {Promise<string>} Promise of an average color as a hex string.\r\n */\r\nexport const getMediaColor = memoize( async ( url ) => {\r\n\tif ( ! url ) {\r\n\t\treturn DEFAULT_BACKGROUND_COLOR;\r\n\t}\r\n\r\n\t// making the default color rgb for compat with FAC\r\n\tconst { r, g, b, a } = colord( DEFAULT_BACKGROUND_COLOR ).toRgb();\r\n\r\n\ttry {\r\n\t\tconst imgCrossOrigin = applyFilters(\r\n\t\t\t'media.crossOrigin',\r\n\t\t\tundefined,\r\n\t\t\turl\r\n\t\t);\r\n\t\tconst color = await retrieveFastAverageColor().getColorAsync( url, {\r\n\t\t\t// The default color is white, which is the color\r\n\t\t\t// that is returned if there's an error.\r\n\t\t\t// colord returns alpga 0-1, FAC needs 0-255\r\n\t\t\tdefaultColor: [ r, g, b, a * 255 ],\r\n\t\t\t// Errors that come up don't reject the promise,\r\n\t\t\t// so error logging has to be silenced\r\n\t\t\t// with this option.\r\n\t\t\tsilent: process.env.NODE_ENV === 'production',\r\n\t\t\tcrossOrigin: imgCrossOrigin,\r\n\t\t} );\r\n\t\treturn color.hex;\r\n\t} catch ( error ) {\r\n\t\t// If there's an error return the fallback color.\r\n\t\treturn DEFAULT_BACKGROUND_COLOR;\r\n\t}\r\n} );\r\n\r\n/**\r\n * Computes if the color combination of the overlay and background color is dark.\r\n *\r\n * @param {number} dimRatio        Opacity of the overlay between 0 and 100.\r\n * @param {string} overlayColor    CSS color string for the overlay.\r\n * @param {string} backgroundColor CSS color string for the background.\r\n *\r\n * @return {boolean} true if the color combination composite result is dark.\r\n */\r\nexport function compositeIsDark( dimRatio, overlayColor, backgroundColor ) {\r\n\t// Opacity doesn't matter if you're overlaying the same color on top of itself.\r\n\t// And background doesn't matter when overlay is fully opaque.\r\n\tif ( overlayColor === backgroundColor || dimRatio === 100 ) {\r\n\t\treturn colord( overlayColor ).isDark();\r\n\t}\r\n\tconst overlay = colord( overlayColor )\r\n\t\t.alpha( dimRatio / 100 )\r\n\t\t.toRgb();\r\n\tconst background = colord( backgroundColor ).toRgb();\r\n\tconst composite = compositeSourceOver( overlay, background );\r\n\treturn colord( composite ).isDark();\r\n}\r\n","export default function(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return\"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"])}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\nimport { useEffect, useMemo, useRef } from '@wordpress/element';\nimport { Placeholder, Spinner } from '@wordpress/components';\nimport { compose, useResizeObserver } from '@wordpress/compose';\nimport {\n\twithColors,\n\tColorPalette,\n\tuseBlockProps,\n\tuseSettings,\n\tuseInnerBlocksProps,\n\t__experimentalUseGradient,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { isBlobURL } from '@wordpress/blob';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport {\n\tattributesFromMedia,\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n\tmediaPosition,\n} from '../shared';\nimport CoverInspectorControls from './inspector-controls';\nimport CoverBlockControls from './block-controls';\nimport CoverPlaceholder from './cover-placeholder';\nimport ResizableCoverPopover from './resizable-cover-popover';\nimport {\n\tgetMediaColor,\n\tcompositeIsDark,\n\tDEFAULT_BACKGROUND_COLOR,\n\tDEFAULT_OVERLAY_COLOR,\n} from './color-utils';\n\nfunction getInnerBlocksTemplate( attributes ) {\n\treturn [\n\t\t[\n\t\t\t'core/paragraph',\n\t\t\t{\n\t\t\t\talign: 'center',\n\t\t\t\tplaceholder: __( 'Write title…' ),\n\t\t\t\t...attributes,\n\t\t\t},\n\t\t],\n\t];\n}\n\n/**\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily while\n * the media (image or video) is being uploaded and will not have an id allocated yet.\n *\n * @param {number} id  The id of the media.\n * @param {string} url The url of the media.\n *\n * @return {boolean} Is the URL a Blob URL.\n */\nconst isTemporaryMedia = ( id, url ) => ! id && isBlobURL( url );\n\nfunction CoverEdit( {\n\tattributes,\n\tclientId,\n\tisSelected,\n\toverlayColor,\n\tsetAttributes,\n\tsetOverlayColor,\n\ttoggleSelection,\n\tcontext: { postId, postType },\n} ) {\n\tconst {\n\t\tcontentPosition,\n\t\tid,\n\t\turl: originalUrl,\n\t\tbackgroundType: originalBackgroundType,\n\t\tuseFeaturedImage,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tisDark,\n\t\tisRepeated,\n\t\tminHeight,\n\t\tminHeightUnit,\n\t\talt,\n\t\tallowedBlocks,\n\t\ttemplateLock,\n\t\ttagName: TagName = 'div',\n\t\tisUserOverlayColor,\n\t} = attributes;\n\n\tconst [ featuredImage ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'featured_media',\n\t\tpostId\n\t);\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\tconst media = useSelect(\n\t\t( select ) =>\n\t\t\tfeaturedImage &&\n\t\t\tselect( coreStore ).getMedia( featuredImage, { context: 'view' } ),\n\t\t[ featuredImage ]\n\t);\n\tconst mediaUrl = media?.source_url;\n\n\t// User can change the featured image outside of the block, but we still\n\t// need to update the block when that happens. This effect should only\n\t// run when the featured image changes in that case. All other cases are\n\t// handled in their respective callbacks.\n\tuseEffect( () => {\n\t\t( async () => {\n\t\t\tif ( ! useFeaturedImage ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst averageBackgroundColor = await getMediaColor( mediaUrl );\n\n\t\t\tlet newOverlayColor = overlayColor.color;\n\t\t\tif ( ! isUserOverlayColor ) {\n\t\t\t\tnewOverlayColor = averageBackgroundColor;\n\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\tsetOverlayColor( newOverlayColor );\n\t\t\t}\n\n\t\t\tconst newIsDark = compositeIsDark(\n\t\t\t\tdimRatio,\n\t\t\t\tnewOverlayColor,\n\t\t\t\taverageBackgroundColor\n\t\t\t);\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( { isDark: newIsDark } );\n\t\t} )();\n\t\t// Disable reason: Update the block only when the featured image changes.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ mediaUrl ] );\n\n\t// instead of destructuring the attributes\n\t// we define the url and background type\n\t// depending on the value of the useFeaturedImage flag\n\t// to preview in edit the dynamic featured image\n\tconst url = useFeaturedImage\n\t\t? mediaUrl\n\t\t: // Ensure the url is not malformed due to sanitization through `wp_kses`.\n\t\t  originalUrl?.replaceAll( '&amp;', '&' );\n\tconst backgroundType = useFeaturedImage\n\t\t? IMAGE_BACKGROUND_TYPE\n\t\t: originalBackgroundType;\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { gradientClass, gradientValue } = __experimentalUseGradient();\n\n\tconst onSelectMedia = async ( newMedia ) => {\n\t\tconst mediaAttributes = attributesFromMedia( newMedia );\n\t\tconst isImage = [ newMedia?.type, newMedia?.media_type ].includes(\n\t\t\tIMAGE_BACKGROUND_TYPE\n\t\t);\n\n\t\tconst averageBackgroundColor = await getMediaColor(\n\t\t\tisImage ? newMedia?.url : undefined\n\t\t);\n\n\t\tlet newOverlayColor = overlayColor.color;\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tnewOverlayColor = averageBackgroundColor;\n\t\t\tsetOverlayColor( newOverlayColor );\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\t// Only set a new dimRatio if there was no previous media selected\n\t\t// to avoid resetting to 50 if it has been explicitly set to 100.\n\t\t// See issue #52835 for context.\n\t\tconst newDimRatio =\n\t\t\toriginalUrl === undefined && dimRatio === 100 ? 50 : dimRatio;\n\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\t...mediaAttributes,\n\t\t\tfocalPoint: undefined,\n\t\t\tuseFeaturedImage: undefined,\n\t\t\tdimRatio: newDimRatio,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onClearMedia = () => {\n\t\tlet newOverlayColor = overlayColor.color;\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tnewOverlayColor = DEFAULT_OVERLAY_COLOR;\n\t\t\tsetOverlayColor( undefined );\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tdimRatio,\n\t\t\tnewOverlayColor,\n\t\t\tDEFAULT_BACKGROUND_COLOR\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\turl: undefined,\n\t\t\tid: undefined,\n\t\t\tbackgroundType: undefined,\n\t\t\tfocalPoint: undefined,\n\t\t\thasParallax: undefined,\n\t\t\tisRepeated: undefined,\n\t\t\tuseFeaturedImage: undefined,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onSetOverlayColor = async ( newOverlayColor ) => {\n\t\tconst averageBackgroundColor = await getMediaColor( url );\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tdimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetOverlayColor( newOverlayColor );\n\n\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t__unstableMarkNextChangeAsNotPersistent();\n\n\t\tsetAttributes( {\n\t\t\tisUserOverlayColor: true,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onUpdateDimRatio = async ( newDimRatio ) => {\n\t\tconst averageBackgroundColor = await getMediaColor( url );\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\toverlayColor.color,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\tdimRatio: newDimRatio,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst onUploadError = ( message ) => {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t};\n\n\tconst isUploadingMedia = isTemporaryMedia( id, url );\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst [ resizeListener, { height, width } ] = useResizeObserver();\n\tconst resizableBoxDimensions = useMemo( () => {\n\t\treturn {\n\t\t\theight: minHeightUnit === 'px' ? minHeight : 'auto',\n\t\t\twidth: 'auto',\n\t\t};\n\t}, [ minHeight, minHeightUnit ] );\n\n\tconst minHeightWithUnit =\n\t\tminHeight && minHeightUnit\n\t\t\t? `${ minHeight }${ minHeightUnit }`\n\t\t\t: minHeight;\n\n\tconst isImgElement = ! ( hasParallax || isRepeated );\n\n\tconst style = {\n\t\tminHeight: minHeightWithUnit || undefined,\n\t};\n\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\n\n\tconst backgroundPosition = mediaPosition( focalPoint );\n\n\tconst bgStyle = { backgroundColor: overlayColor.color };\n\tconst mediaStyle = {\n\t\tobjectPosition:\n\t\t\tfocalPoint && isImgElement\n\t\t\t\t? mediaPosition( focalPoint )\n\t\t\t\t: undefined,\n\t};\n\n\tconst hasBackground = !! ( url || overlayColor.color || gradientValue );\n\n\tconst hasInnerBlocks = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlock( clientId ).innerBlocks.length >\n\t\t\t0,\n\t\t[ clientId ]\n\t);\n\n\tconst ref = useRef();\n\tconst blockProps = useBlockProps( { ref } );\n\n\t// Check for fontSize support before we pass a fontSize attribute to the innerBlocks.\n\tconst [ fontSizes ] = useSettings( 'typography.fontSizes' );\n\tconst hasFontSizes = fontSizes?.length > 0;\n\tconst innerBlocksTemplate = getInnerBlocksTemplate( {\n\t\tfontSize: hasFontSizes ? 'large' : undefined,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\tclassName: 'wp-block-cover__inner-container',\n\t\t},\n\t\t{\n\t\t\t// Avoid template sync when the `templateLock` value is `all` or `contentOnly`.\n\t\t\t// See: https://github.com/WordPress/gutenberg/pull/45632\n\t\t\ttemplate: ! hasInnerBlocks ? innerBlocksTemplate : undefined,\n\t\t\ttemplateInsertUpdatesSelection: true,\n\t\t\tallowedBlocks,\n\t\t\ttemplateLock,\n\t\t\tdropZoneElement: ref.current,\n\t\t}\n\t);\n\n\tconst mediaElement = useRef();\n\tconst currentSettings = {\n\t\tisVideoBackground,\n\t\tisImageBackground,\n\t\tmediaElement,\n\t\thasInnerBlocks,\n\t\turl,\n\t\tisImgElement,\n\t\toverlayColor,\n\t};\n\n\tconst toggleUseFeaturedImage = async () => {\n\t\tconst newUseFeaturedImage = ! useFeaturedImage;\n\n\t\tconst averageBackgroundColor = newUseFeaturedImage\n\t\t\t? await getMediaColor( mediaUrl )\n\t\t\t: DEFAULT_BACKGROUND_COLOR;\n\n\t\tconst newOverlayColor = ! isUserOverlayColor\n\t\t\t? averageBackgroundColor\n\t\t\t: overlayColor.color;\n\n\t\tif ( ! isUserOverlayColor ) {\n\t\t\tif ( newUseFeaturedImage ) {\n\t\t\t\tsetOverlayColor( newOverlayColor );\n\t\t\t} else {\n\t\t\t\tsetOverlayColor( undefined );\n\t\t\t}\n\n\t\t\t// Make undo revert the next setAttributes and the previous setOverlayColor.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t}\n\n\t\tconst newDimRatio = dimRatio === 100 ? 50 : dimRatio;\n\t\tconst newIsDark = compositeIsDark(\n\t\t\tnewDimRatio,\n\t\t\tnewOverlayColor,\n\t\t\taverageBackgroundColor\n\t\t);\n\n\t\tsetAttributes( {\n\t\t\tid: undefined,\n\t\t\turl: undefined,\n\t\t\tuseFeaturedImage: newUseFeaturedImage,\n\t\t\tdimRatio: newDimRatio,\n\t\t\tbackgroundType: useFeaturedImage\n\t\t\t\t? IMAGE_BACKGROUND_TYPE\n\t\t\t\t: undefined,\n\t\t\tisDark: newIsDark,\n\t\t} );\n\t};\n\n\tconst blockControls = (\n\t\t<CoverBlockControls\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\tcurrentSettings={ currentSettings }\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t/>\n\t);\n\n\tconst inspectorControls = (\n\t\t<CoverInspectorControls\n\t\t\tattributes={ attributes }\n\t\t\tsetAttributes={ setAttributes }\n\t\t\tclientId={ clientId }\n\t\t\tsetOverlayColor={ onSetOverlayColor }\n\t\t\tcoverRef={ ref }\n\t\t\tcurrentSettings={ currentSettings }\n\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\tupdateDimRatio={ onUpdateDimRatio }\n\t\t\tonClearMedia={ onClearMedia }\n\t\t/>\n\t);\n\n\tconst resizableCoverProps = {\n\t\tclassName: 'block-library-cover__resize-container',\n\t\tclientId,\n\t\theight,\n\t\tminHeight: minHeightWithUnit,\n\t\tonResizeStart: () => {\n\t\t\tsetAttributes( { minHeightUnit: 'px' } );\n\t\t\ttoggleSelection( false );\n\t\t},\n\t\tonResize: ( value ) => {\n\t\t\tsetAttributes( { minHeight: value } );\n\t\t},\n\t\tonResizeStop: ( newMinHeight ) => {\n\t\t\ttoggleSelection( true );\n\t\t\tsetAttributes( { minHeight: newMinHeight } );\n\t\t},\n\t\t// Hide the resize handle if an aspect ratio is set, as the aspect ratio takes precedence.\n\t\tshowHandle: ! attributes.style?.dimensions?.aspectRatio ? true : false,\n\t\tsize: resizableBoxDimensions,\n\t\twidth,\n\t};\n\n\tif ( ! useFeaturedImage && ! hasInnerBlocks && ! hasBackground ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ blockControls }\n\t\t\t\t{ inspectorControls }\n\t\t\t\t{ isSelected && (\n\t\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\n\t\t\t\t) }\n\t\t\t\t<TagName\n\t\t\t\t\t{ ...blockProps }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'is-placeholder',\n\t\t\t\t\t\tblockProps.className\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...blockProps.style,\n\t\t\t\t\t\tminHeight: minHeightWithUnit || undefined,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ resizeListener }\n\t\t\t\t\t<CoverPlaceholder\n\t\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"wp-block-cover__placeholder-background-options\">\n\t\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\t\tdisableCustomColors\n\t\t\t\t\t\t\t\tvalue={ overlayColor.color }\n\t\t\t\t\t\t\t\tonChange={ onSetOverlayColor }\n\t\t\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CoverPlaceholder>\n\t\t\t\t</TagName>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst classes = classnames(\n\t\t{\n\t\t\t'is-dark-theme': isDark,\n\t\t\t'is-light': ! isDark,\n\t\t\t'is-transient': isUploadingMedia,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-custom-content-position':\n\t\t\t\t! isContentPositionCenter( contentPosition ),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\tconst showOverlay =\n\t\turl || ! useFeaturedImage || ( useFeaturedImage && ! url );\n\n\treturn (\n\t\t<>\n\t\t\t{ blockControls }\n\t\t\t{ inspectorControls }\n\t\t\t<TagName\n\t\t\t\t{ ...blockProps }\n\t\t\t\tclassName={ classnames( classes, blockProps.className ) }\n\t\t\t\tstyle={ { ...style, ...blockProps.style } }\n\t\t\t\tdata-url={ url }\n\t\t\t>\n\t\t\t\t{ resizeListener }\n\t\t\t\t{ showOverlay && (\n\t\t\t\t\t<span\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'wp-block-cover__background',\n\t\t\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t[ overlayColor.class ]: overlayColor.class,\n\t\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\n\t\t\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\n\t\t\t\t\t\t\t\t// media, a gradient and a dim.\n\t\t\t\t\t\t\t\t'wp-block-cover__gradient-background':\n\t\t\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\n\t\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tstyle={ { backgroundImage: gradientValue, ...bgStyle } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ ! url && useFeaturedImage && (\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\tclassName=\"wp-block-cover__image--placeholder-image\"\n\t\t\t\t\t\twithIllustration\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ url &&\n\t\t\t\t\tisImageBackground &&\n\t\t\t\t\t( isImgElement ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\t\tclassName=\"wp-block-cover__image-background\"\n\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t\tstyle={ mediaStyle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\t\trole={ alt ? 'img' : undefined }\n\t\t\t\t\t\t\taria-label={ alt ? alt : undefined }\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\t'wp-block-cover__image-background'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ { backgroundImage, backgroundPosition } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t\t{ url && isVideoBackground && (\n\t\t\t\t\t<video\n\t\t\t\t\t\tref={ mediaElement }\n\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\tstyle={ mediaStyle }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isUploadingMedia && <Spinner /> }\n\t\t\t\t<CoverPlaceholder\n\t\t\t\t\tdisableMediaButtons\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t/>\n\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t</TagName>\n\t\t\t{ isSelected && (\n\t\t\t\t<ResizableCoverPopover { ...resizableCoverProps } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithColors( { overlayColor: 'background-color' } ),\n] )( CoverEdit );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { IMAGE_BACKGROUND_TYPE, VIDEO_BACKGROUND_TYPE } from './shared';\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( { caption, url, alt, align, id, anchor, style } ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/cover',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdimRatio: 50,\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\talt,\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tduotone: style?.color?.duotone,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: caption,\r\n\t\t\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t]\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\ttransform: ( { caption, src, align, id, anchor } ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/cover',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdimRatio: 50,\r\n\t\t\t\t\t\turl: src,\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tbackgroundType: VIDEO_BACKGROUND_TYPE,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: caption,\r\n\t\t\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t\t]\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/group' ],\r\n\t\t\ttransform: ( attributes, innerBlocks ) => {\r\n\t\t\t\tconst { align, anchor, backgroundColor, gradient, style } =\r\n\t\t\t\t\tattributes;\r\n\r\n\t\t\t\t// If the Group block being transformed has a Cover block as its\r\n\t\t\t\t// only child return that Cover block.\r\n\t\t\t\tif (\r\n\t\t\t\t\tinnerBlocks?.length === 1 &&\r\n\t\t\t\t\tinnerBlocks[ 0 ]?.name === 'core/cover'\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t'core/cover',\r\n\t\t\t\t\t\tinnerBlocks[ 0 ].attributes,\r\n\t\t\t\t\t\tinnerBlocks[ 0 ].innerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If no background or gradient color is provided, default to 50% opacity.\r\n\t\t\t\t// This matches the styling of a Cover block with a background image,\r\n\t\t\t\t// in the state where a background image has been removed.\r\n\t\t\t\tconst dimRatio =\r\n\t\t\t\t\tbackgroundColor ||\r\n\t\t\t\t\tgradient ||\r\n\t\t\t\t\tstyle?.color?.background ||\r\n\t\t\t\t\tstyle?.color?.gradient\r\n\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t: 50;\r\n\r\n\t\t\t\t// Move the background or gradient color to the parent Cover block.\r\n\t\t\t\tconst parentAttributes = {\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tdimRatio,\r\n\t\t\t\t\toverlayColor: backgroundColor,\r\n\t\t\t\t\tcustomOverlayColor: style?.color?.background,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tcustomGradient: style?.color?.gradient,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst attributesWithoutBackgroundColors = {\r\n\t\t\t\t\t...attributes,\r\n\t\t\t\t\tbackgroundColor: undefined,\r\n\t\t\t\t\tgradient: undefined,\r\n\t\t\t\t\tstyle: cleanEmptyObject( {\r\n\t\t\t\t\t\t...attributes?.style,\r\n\t\t\t\t\t\tcolor: style?.color\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t...style?.color,\r\n\t\t\t\t\t\t\t\t\tbackground: undefined,\r\n\t\t\t\t\t\t\t\t\tgradient: undefined,\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Preserve the block by nesting it within the Cover block,\r\n\t\t\t\t// instead of converting the Group block directly to the Cover block.\r\n\t\t\t\treturn createBlock( 'core/cover', parentAttributes, [\r\n\t\t\t\t\tcreateBlock(\r\n\t\t\t\t\t\t'core/group',\r\n\t\t\t\t\t\tattributesWithoutBackgroundColors,\r\n\t\t\t\t\t\tinnerBlocks\r\n\t\t\t\t\t),\r\n\t\t\t\t] );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\tisMatch: ( {\r\n\t\t\t\tbackgroundType,\r\n\t\t\t\turl,\r\n\t\t\t\toverlayColor,\r\n\t\t\t\tcustomOverlayColor,\r\n\t\t\t\tgradient,\r\n\t\t\t\tcustomGradient,\r\n\t\t\t} ) => {\r\n\t\t\t\tif ( url ) {\r\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents an image background.\r\n\t\t\t\t\treturn backgroundType === IMAGE_BACKGROUND_TYPE;\r\n\t\t\t\t}\r\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t! overlayColor &&\r\n\t\t\t\t\t! customOverlayColor &&\r\n\t\t\t\t\t! gradient &&\r\n\t\t\t\t\t! customGradient\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform: ( { title, url, alt, align, id, anchor, style } ) =>\r\n\t\t\t\tcreateBlock( 'core/image', {\r\n\t\t\t\t\tcaption: title,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\talt,\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\tduotone: style?.color?.duotone,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\tisMatch: ( {\r\n\t\t\t\tbackgroundType,\r\n\t\t\t\turl,\r\n\t\t\t\toverlayColor,\r\n\t\t\t\tcustomOverlayColor,\r\n\t\t\t\tgradient,\r\n\t\t\t\tcustomGradient,\r\n\t\t\t} ) => {\r\n\t\t\t\tif ( url ) {\r\n\t\t\t\t\t// If a url exists the transform could happen if that URL represents a video background.\r\n\t\t\t\t\treturn backgroundType === VIDEO_BACKGROUND_TYPE;\r\n\t\t\t\t}\r\n\t\t\t\t// If a url is not set the transform could happen if the cover has no background color or gradient;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t! overlayColor &&\r\n\t\t\t\t\t! customOverlayColor &&\r\n\t\t\t\t\t! gradient &&\r\n\t\t\t\t\t! customGradient\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform: ( { title, url, align, id, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/video', {\r\n\t\t\t\t\tcaption: title,\r\n\t\t\t\t\tsrc: url,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/group' ],\r\n\t\t\tisMatch: ( { url, useFeaturedImage } ) => {\r\n\t\t\t\t// If the Cover block uses background media, skip this transform,\r\n\t\t\t\t// and instead use the Group block's default transform.\r\n\t\t\t\tif ( url || useFeaturedImage ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\ttransform: ( attributes, innerBlocks ) => {\r\n\t\t\t\t// Convert Cover overlay colors to comparable Group background colors.\r\n\t\t\t\tconst transformedColorAttributes = {\r\n\t\t\t\t\tbackgroundColor: attributes?.overlayColor,\r\n\t\t\t\t\tgradient: attributes?.gradient,\r\n\t\t\t\t\tstyle: cleanEmptyObject( {\r\n\t\t\t\t\t\t...attributes?.style,\r\n\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\tattributes?.customOverlayColor ||\r\n\t\t\t\t\t\t\tattributes?.customGradient ||\r\n\t\t\t\t\t\t\tattributes?.style?.color\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\tattributes?.customOverlayColor,\r\n\t\t\t\t\t\t\t\t\t\tgradient: attributes?.customGradient,\r\n\t\t\t\t\t\t\t\t\t\t...attributes?.style?.color,\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// If the Cover block contains only a single Group block as a direct child,\r\n\t\t\t\t// then attempt to merge the Cover's background colors with the child Group block,\r\n\t\t\t\t// and remove the Cover block as the wrapper.\r\n\t\t\t\tif (\r\n\t\t\t\t\tinnerBlocks?.length === 1 &&\r\n\t\t\t\t\tinnerBlocks[ 0 ]?.name === 'core/group'\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst groupAttributes = cleanEmptyObject(\r\n\t\t\t\t\t\tinnerBlocks[ 0 ].attributes || {}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// If the Group block contains any kind of background color or gradient,\r\n\t\t\t\t\t// skip merging Cover background colors, and preserve the Group block's colors.\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tgroupAttributes?.backgroundColor ||\r\n\t\t\t\t\t\tgroupAttributes?.gradient ||\r\n\t\t\t\t\t\tgroupAttributes?.style?.color?.background ||\r\n\t\t\t\t\t\tgroupAttributes?.style?.color?.gradient\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t\t'core/group',\r\n\t\t\t\t\t\t\tgroupAttributes,\r\n\t\t\t\t\t\t\tinnerBlocks[ 0 ]?.innerBlocks\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t'core/group',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t...transformedColorAttributes,\r\n\t\t\t\t\t\t\t...groupAttributes,\r\n\t\t\t\t\t\t\tstyle: cleanEmptyObject( {\r\n\t\t\t\t\t\t\t\t...groupAttributes?.style,\r\n\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\ttransformedColorAttributes?.style?.color ||\r\n\t\t\t\t\t\t\t\t\tgroupAttributes?.style?.color\r\n\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\t...transformedColorAttributes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.style?.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t...groupAttributes?.style\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.color,\r\n\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinnerBlocks[ 0 ]?.innerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// In all other cases, transform the Cover block directly to a Group block.\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/group',\r\n\t\t\t\t\t{ ...attributes, ...transformedColorAttributes },\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { cover } from '@wordpress/icons';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'cover',\r\n\t\ttitle: __( 'Cover' ),\r\n\t\tdescription: __( 'Add an image or video with a text overlay.' ),\r\n\t\tattributes: { layout: { type: 'constrained' } },\r\n\t\tisDefault: true,\r\n\t\ticon: cover,\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { cover as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcustomOverlayColor: '#065174',\r\n\t\t\tdimRatio: 40,\r\n\t\t\turl: 'https://s.w.org/images/core/5.3/Windbuchencom.jpg',\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcontent: __( '<strong>Snow Patrol</strong>' ),\r\n\t\t\t\t\talign: 'center',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\ttypography: {\r\n\t\t\t\t\t\t\tfontSize: 48,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\ttext: 'white',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tsave,\r\n\tedit,\r\n\tdeprecated,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tuseInnerBlocksProps,\r\n\tgetColorClassName,\r\n\t__experimentalGetGradientClass,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tIMAGE_BACKGROUND_TYPE,\r\n\tVIDEO_BACKGROUND_TYPE,\r\n\tdimRatioToClass,\r\n\tisContentPositionCenter,\r\n\tgetPositionClassName,\r\n\tmediaPosition,\r\n} from './shared';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst {\r\n\t\tbackgroundType,\r\n\t\tgradient,\r\n\t\tcontentPosition,\r\n\t\tcustomGradient,\r\n\t\tcustomOverlayColor,\r\n\t\tdimRatio,\r\n\t\tfocalPoint,\r\n\t\tuseFeaturedImage,\r\n\t\thasParallax,\r\n\t\tisDark,\r\n\t\tisRepeated,\r\n\t\toverlayColor,\r\n\t\turl,\r\n\t\talt,\r\n\t\tid,\r\n\t\tminHeight: minHeightProp,\r\n\t\tminHeightUnit,\r\n\t\ttagName: Tag,\r\n\t} = attributes;\r\n\tconst overlayColorClass = getColorClassName(\r\n\t\t'background-color',\r\n\t\toverlayColor\r\n\t);\r\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\r\n\tconst minHeight =\r\n\t\tminHeightProp && minHeightUnit\r\n\t\t\t? `${ minHeightProp }${ minHeightUnit }`\r\n\t\t\t: minHeightProp;\r\n\r\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\r\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\r\n\r\n\tconst isImgElement = ! ( hasParallax || isRepeated );\r\n\r\n\tconst style = {\r\n\t\tminHeight: minHeight || undefined,\r\n\t};\r\n\r\n\tconst bgStyle = {\r\n\t\tbackgroundColor: ! overlayColorClass ? customOverlayColor : undefined,\r\n\t\tbackground: customGradient ? customGradient : undefined,\r\n\t};\r\n\r\n\tconst objectPosition =\r\n\t\t// prettier-ignore\r\n\t\tfocalPoint && isImgElement\r\n\t\t\t  ? mediaPosition(focalPoint)\r\n\t\t\t  : undefined;\r\n\r\n\tconst backgroundImage = url ? `url(${ url })` : undefined;\r\n\r\n\tconst backgroundPosition = mediaPosition( focalPoint );\r\n\r\n\tconst classes = classnames(\r\n\t\t{\r\n\t\t\t'is-light': ! isDark,\r\n\t\t\t'has-parallax': hasParallax,\r\n\t\t\t'is-repeated': isRepeated,\r\n\t\t\t'has-custom-content-position':\r\n\t\t\t\t! isContentPositionCenter( contentPosition ),\r\n\t\t},\r\n\t\tgetPositionClassName( contentPosition )\r\n\t);\r\n\r\n\tconst imgClasses = classnames(\r\n\t\t'wp-block-cover__image-background',\r\n\t\tid ? `wp-image-${ id }` : null,\r\n\t\t{\r\n\t\t\t'has-parallax': hasParallax,\r\n\t\t\t'is-repeated': isRepeated,\r\n\t\t}\r\n\t);\r\n\r\n\tconst gradientValue = gradient || customGradient;\r\n\r\n\treturn (\r\n\t\t<Tag { ...useBlockProps.save( { className: classes, style } ) }>\r\n\t\t\t<span\r\n\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t'wp-block-cover__background',\r\n\t\t\t\t\toverlayColorClass,\r\n\t\t\t\t\tdimRatioToClass( dimRatio ),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\r\n\t\t\t\t\t\t// For backwards compatibility. Former versions of the Cover Block applied\r\n\t\t\t\t\t\t// `.wp-block-cover__gradient-background` in the presence of\r\n\t\t\t\t\t\t// media, a gradient and a dim.\r\n\t\t\t\t\t\t'wp-block-cover__gradient-background':\r\n\t\t\t\t\t\t\turl && gradientValue && dimRatio !== 0,\r\n\t\t\t\t\t\t'has-background-gradient': gradientValue,\r\n\t\t\t\t\t\t[ gradientClass ]: gradientClass,\r\n\t\t\t\t\t}\r\n\t\t\t\t) }\r\n\t\t\t\tstyle={ bgStyle }\r\n\t\t\t/>\r\n\r\n\t\t\t{ ! useFeaturedImage &&\r\n\t\t\t\tisImageBackground &&\r\n\t\t\t\turl &&\r\n\t\t\t\t( isImgElement ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\talt={ alt }\r\n\t\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\trole={ alt ? 'img' : undefined }\r\n\t\t\t\t\t\taria-label={ alt ? alt : undefined }\r\n\t\t\t\t\t\tclassName={ imgClasses }\r\n\t\t\t\t\t\tstyle={ { backgroundPosition, backgroundImage } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) ) }\r\n\t\t\t{ isVideoBackground && url && (\r\n\t\t\t\t<video\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'wp-block-cover__video-background',\r\n\t\t\t\t\t\t'intrinsic-ignore'\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tautoPlay\r\n\t\t\t\t\tmuted\r\n\t\t\t\t\tloop\r\n\t\t\t\t\tplaysInline\r\n\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\tstyle={ { objectPosition } }\r\n\t\t\t\t\tdata-object-fit=\"cover\"\r\n\t\t\t\t\tdata-object-position={ objectPosition }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t<div\r\n\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\tclassName: 'wp-block-cover__inner-container',\r\n\t\t\t\t} ) }\r\n\t\t\t/>\r\n\t\t</Tag>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst details = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M4 16h10v1.5H4V16Zm0-4.5h16V13H4v-1.5ZM10 7h10v1.5H10V7Z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t\t<Path d=\"m4 5.25 4 2.5-4 2.5v-5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default details;\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\tplaceholder: __( 'Type / to add a hidden block' ),\n\t\t},\n\t],\n];\n\nfunction DetailsEdit( { attributes, setAttributes, clientId } ) {\n\tconst { showContent, summary } = attributes;\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\t__experimentalCaptureToolbars: true,\n\t} );\n\n\t// Check if either the block or the inner blocks are selected.\n\tconst hasSelection = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isBlockSelected, hasSelectedInnerBlock } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\t/* Sets deep to true to also find blocks inside the details content block. */\n\t\t\treturn (\n\t\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\t\tisBlockSelected( clientId )\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Open by default' ) }\n\t\t\t\t\t\tchecked={ showContent }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowContent: ! showContent,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<details\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t\topen={ hasSelection || showContent }\n\t\t\t>\n\t\t\t\t<summary onClick={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"summary\"\n\t\t\t\t\t\taria-label={ __( 'Write summary' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write summary…' ) }\n\t\t\t\t\t\tallowedFormats={ [] }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tvalue={ summary }\n\t\t\t\t\t\tonChange={ ( newSummary ) =>\n\t\t\t\t\t\t\tsetAttributes( { summary: newSummary } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</summary>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t</details>\n\t\t</>\n\t);\n}\n\nexport default DetailsEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { details as icon } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tsummary: 'La Mancha',\r\n\t\t\tshowContent: true,\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t'In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.'\r\n\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tsave,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps, InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { showContent } = attributes;\r\n\tconst summary = attributes.summary ? attributes.summary : 'Details';\r\n\tconst blockProps = useBlockProps.save();\r\n\r\n\treturn (\r\n\t\t<details { ...blockProps } open={ showContent }>\r\n\t\t\t<summary>\r\n\t\t\t\t<RichText.Content value={ summary } />\r\n\t\t\t</summary>\r\n\t\t\t<InnerBlocks.Content />\r\n\t\t</details>\r\n\t);\r\n}\r\n","/**\r\n * Internal dependencies\r\n */\r\n\r\nimport { default as pencil } from './pencil';\r\nexport default pencil;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst pencil = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pencil;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tToolbarButton,\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tToolbarGroup,\r\n} from '@wordpress/components';\r\nimport { BlockControls, InspectorControls } from '@wordpress/block-editor';\r\nimport { edit } from '@wordpress/icons';\r\n\r\nfunction getResponsiveHelp( checked ) {\r\n\treturn checked\r\n\t\t? __(\r\n\t\t\t\t'This embed will preserve its aspect ratio when the browser is resized.'\r\n\t\t  )\r\n\t\t: __(\r\n\t\t\t\t'This embed may not preserve its aspect ratio when the browser is resized.'\r\n\t\t  );\r\n}\r\n\r\nconst EmbedControls = ( {\r\n\tblockSupportsResponsive,\r\n\tshowEditButton,\r\n\tthemeSupportsResponsive,\r\n\tallowResponsive,\r\n\ttoggleResponsive,\r\n\tswitchBackToURLInput,\r\n} ) => (\r\n\t<>\r\n\t\t<BlockControls>\r\n\t\t\t<ToolbarGroup>\r\n\t\t\t\t{ showEditButton && (\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tclassName=\"components-toolbar__control\"\r\n\t\t\t\t\t\tlabel={ __( 'Edit URL' ) }\r\n\t\t\t\t\t\ticon={ edit }\r\n\t\t\t\t\t\tonClick={ switchBackToURLInput }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</ToolbarGroup>\r\n\t\t</BlockControls>\r\n\t\t{ themeSupportsResponsive && blockSupportsResponsive && (\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody\r\n\t\t\t\t\ttitle={ __( 'Media settings' ) }\r\n\t\t\t\t\tclassName=\"blocks-responsive\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Resize for smaller devices' ) }\r\n\t\t\t\t\t\tchecked={ allowResponsive }\r\n\t\t\t\t\t\thelp={ getResponsiveHelp }\r\n\t\t\t\t\t\tonChange={ toggleResponsive }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t) }\r\n\t</>\r\n);\r\n\r\nexport default EmbedControls;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { G, Path, SVG } from '@wordpress/components';\r\n\r\nexport const embedContentIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zm-6-9.5L16 12l-2.5 2.8 1.1 1L18 12l-3.5-3.5-1 1zm-3 0l-1-1L6 12l3.5 3.8 1.1-1L8 12l2.5-2.5z\" />\r\n\t</SVG>\r\n);\r\nexport const embedAudioIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zM13.2 7.7c-.4.4-.7 1.1-.7 1.9v3.7c-.4-.3-.8-.4-1.3-.4-1.2 0-2.2 1-2.2 2.2 0 1.2 1 2.2 2.2 2.2.5 0 1-.2 1.4-.5.9-.6 1.4-1.6 1.4-2.6V9.6c0-.4.1-.6.2-.8.3-.3 1-.3 1.6-.3h.2V7h-.2c-.7 0-1.8 0-2.6.7z\" />\r\n\t</SVG>\r\n);\r\nexport const embedPhotoIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9.2 4.5H19c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V9.8l4.6-5.3zm9.8 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z\" />\r\n\t</SVG>\r\n);\r\nexport const embedVideoIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l4.7-5.3H19c.3 0 .5.2.5.5v14zM10 15l5-3-5-3v6z\" />\r\n\t</SVG>\r\n);\r\nexport const embedTwitterIcon = {\r\n\tforeground: '#1da1f2',\r\n\tsrc: (\r\n\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t\t<G>\r\n\t\t\t\t<Path d=\"M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z\"></Path>\r\n\t\t\t</G>\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedYouTubeIcon = {\r\n\tforeground: '#ff0000',\r\n\tsrc: (\r\n\t\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t\t<Path d=\"M21.8 8s-.195-1.377-.795-1.984c-.76-.797-1.613-.8-2.004-.847-2.798-.203-6.996-.203-6.996-.203h-.01s-4.197 0-6.996.202c-.39.046-1.242.05-2.003.846C2.395 6.623 2.2 8 2.2 8S2 9.62 2 11.24v1.517c0 1.618.2 3.237.2 3.237s.195 1.378.795 1.985c.76.797 1.76.77 2.205.855 1.6.153 6.8.2 6.8.2s4.203-.005 7-.208c.392-.047 1.244-.05 2.005-.847.6-.607.795-1.985.795-1.985s.2-1.618.2-3.237v-1.517C22 9.62 21.8 8 21.8 8zM9.935 14.595v-5.62l5.403 2.82-5.403 2.8z\" />\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedFacebookIcon = {\r\n\tforeground: '#3b5998',\r\n\tsrc: (\r\n\t\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t\t<Path d=\"M20 3H4c-.6 0-1 .4-1 1v16c0 .5.4 1 1 1h8.6v-7h-2.3v-2.7h2.3v-2c0-2.3 1.4-3.6 3.5-3.6 1 0 1.8.1 2.1.1v2.4h-1.4c-1.1 0-1.3.5-1.3 1.3v1.7h2.7l-.4 2.8h-2.3v7H20c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1z\" />\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedInstagramIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<G>\r\n\t\t\t<Path d=\"M12 4.622c2.403 0 2.688.01 3.637.052.877.04 1.354.187 1.67.31.42.163.72.358 1.036.673.315.315.51.615.673 1.035.123.317.27.794.31 1.67.043.95.052 1.235.052 3.638s-.01 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.67-.163.42-.358.72-.673 1.036-.315.315-.615.51-1.035.673-.317.123-.794.27-1.67.31-.95.043-1.234.052-3.638.052s-2.688-.01-3.637-.052c-.877-.04-1.354-.187-1.67-.31-.42-.163-.72-.358-1.036-.673-.315-.315-.51-.615-.673-1.035-.123-.317-.27-.794-.31-1.67-.043-.95-.052-1.235-.052-3.638s.01-2.688.052-3.637c.04-.877.187-1.354.31-1.67.163-.42.358-.72.673-1.036.315-.315.615-.51 1.035-.673.317-.123.794-.27 1.67-.31.95-.043 1.235-.052 3.638-.052M12 3c-2.444 0-2.75.01-3.71.054s-1.613.196-2.185.418c-.592.23-1.094.538-1.594 1.04-.5.5-.807 1-1.037 1.593-.223.572-.375 1.226-.42 2.184C3.01 9.25 3 9.555 3 12s.01 2.75.054 3.71.196 1.613.418 2.186c.23.592.538 1.094 1.038 1.594s1.002.808 1.594 1.038c.572.222 1.227.375 2.185.418.96.044 1.266.054 3.71.054s2.75-.01 3.71-.054 1.613-.196 2.186-.418c.592-.23 1.094-.538 1.594-1.038s.808-1.002 1.038-1.594c.222-.572.375-1.227.418-2.185.044-.96.054-1.266.054-3.71s-.01-2.75-.054-3.71-.196-1.613-.418-2.186c-.23-.592-.538-1.094-1.038-1.594s-1.002-.808-1.594-1.038c-.572-.222-1.227-.375-2.185-.418C14.75 3.01 14.445 3 12 3zm0 4.378c-2.552 0-4.622 2.07-4.622 4.622s2.07 4.622 4.622 4.622 4.622-2.07 4.622-4.622S14.552 7.378 12 7.378zM12 15c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3zm4.804-8.884c-.596 0-1.08.484-1.08 1.08s.484 1.08 1.08 1.08c.596 0 1.08-.484 1.08-1.08s-.483-1.08-1.08-1.08z\"></Path>\r\n\t\t</G>\r\n\t</SVG>\r\n);\r\nexport const embedWordPressIcon = {\r\n\tforeground: '#0073AA',\r\n\tsrc: (\r\n\t\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t\t<G>\r\n\t\t\t\t<Path d=\"M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z\"></Path>\r\n\t\t\t</G>\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedSpotifyIcon = {\r\n\tforeground: '#1db954',\r\n\tsrc: (\r\n\t\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t\t<Path d=\"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2m4.586 14.424c-.18.295-.563.387-.857.207-2.35-1.434-5.305-1.76-8.786-.963-.335.077-.67-.133-.746-.47-.077-.334.132-.67.47-.745 3.808-.87 7.076-.496 9.712 1.115.293.18.386.563.206.857M17.81 13.7c-.226.367-.706.482-1.072.257-2.687-1.652-6.785-2.13-9.965-1.166-.413.127-.848-.106-.973-.517-.125-.413.108-.848.52-.973 3.632-1.102 8.147-.568 11.234 1.328.366.226.48.707.256 1.072m.105-2.835C14.692 8.95 9.375 8.775 6.297 9.71c-.493.15-1.016-.13-1.166-.624-.148-.495.13-1.017.625-1.167 3.532-1.073 9.404-.866 13.115 1.337.445.264.59.838.327 1.282-.264.443-.838.59-1.282.325\" />\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedFlickrIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m6.5 7c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5zm11 0c-2.75 0-5 2.25-5 5s2.25 5 5 5 5-2.25 5-5-2.25-5-5-5z\" />\r\n\t</SVG>\r\n);\r\nexport const embedVimeoIcon = {\r\n\tforeground: '#1ab7ea',\r\n\tsrc: (\r\n\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t\t<G>\r\n\t\t\t\t<Path d=\"M22.396 7.164c-.093 2.026-1.507 4.8-4.245 8.32C15.323 19.16 12.93 21 10.97 21c-1.214 0-2.24-1.12-3.08-3.36-.56-2.052-1.118-4.105-1.68-6.158-.622-2.24-1.29-3.36-2.004-3.36-.156 0-.7.328-1.634.98l-.978-1.26c1.027-.903 2.04-1.806 3.037-2.71C6 3.95 7.03 3.328 7.716 3.265c1.62-.156 2.616.95 2.99 3.32.404 2.558.685 4.148.84 4.77.468 2.12.982 3.18 1.543 3.18.435 0 1.09-.687 1.963-2.064.872-1.376 1.34-2.422 1.402-3.142.125-1.187-.343-1.782-1.4-1.782-.5 0-1.013.115-1.542.34 1.023-3.35 2.977-4.976 5.862-4.883 2.14.063 3.148 1.45 3.024 4.16z\"></Path>\r\n\t\t\t</G>\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedRedditIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M22 12.068a2.184 2.184 0 0 0-2.186-2.186c-.592 0-1.13.233-1.524.609-1.505-1.075-3.566-1.774-5.86-1.864l1.004-4.695 3.261.699A1.56 1.56 0 1 0 18.255 3c-.61-.001-1.147.357-1.398.877l-3.638-.77a.382.382 0 0 0-.287.053.348.348 0 0 0-.161.251l-1.112 5.233c-2.33.072-4.426.77-5.95 1.864a2.201 2.201 0 0 0-1.523-.61 2.184 2.184 0 0 0-.896 4.176c-.036.215-.053.43-.053.663 0 3.37 3.924 6.111 8.763 6.111s8.763-2.724 8.763-6.11c0-.216-.017-.449-.053-.664A2.207 2.207 0 0 0 22 12.068Zm-15.018 1.56a1.56 1.56 0 0 1 3.118 0c0 .86-.699 1.558-1.559 1.558-.86.018-1.559-.699-1.559-1.559Zm8.728 4.139c-1.076 1.075-3.119 1.147-3.71 1.147-.61 0-2.652-.09-3.71-1.147a.4.4 0 0 1 0-.573.4.4 0 0 1 .574 0c.68.68 2.114.914 3.136.914 1.022 0 2.473-.233 3.136-.914a.4.4 0 0 1 .574 0 .436.436 0 0 1 0 .573Zm-.287-2.563a1.56 1.56 0 0 1 0-3.118c.86 0 1.56.699 1.56 1.56 0 .841-.7 1.558-1.56 1.558Z\" />\r\n\t</SVG>\r\n);\r\nexport const embedTumblrIcon = {\r\n\tforeground: '#35465c',\r\n\tsrc: (\r\n\t\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t\t<Path d=\"M19 3H5a2 2 0 00-2 2v14c0 1.1.9 2 2 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-5.69 14.66c-2.72 0-3.1-1.9-3.1-3.16v-3.56H8.49V8.99c1.7-.62 2.54-1.99 2.64-2.87 0-.06.06-.41.06-.58h1.9v3.1h2.17v2.3h-2.18v3.1c0 .47.13 1.3 1.2 1.26h1.1v2.36c-1.01.02-2.07 0-2.07 0z\" />\r\n\t\t</SVG>\r\n\t),\r\n};\r\nexport const embedAmazonIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18.42 14.58c-.51-.66-1.05-1.23-1.05-2.5V7.87c0-1.8.15-3.45-1.2-4.68-1.05-1.02-2.79-1.35-4.14-1.35-2.6 0-5.52.96-6.12 4.14-.06.36.18.54.4.57l2.66.3c.24-.03.42-.27.48-.5.24-1.12 1.17-1.63 2.2-1.63.56 0 1.22.21 1.55.7.4.56.33 1.31.33 1.97v.36c-1.59.18-3.66.27-5.16.93a4.63 4.63 0 0 0-2.93 4.44c0 2.82 1.8 4.23 4.1 4.23 1.95 0 3.03-.45 4.53-1.98.51.72.66 1.08 1.59 1.83.18.09.45.09.63-.1v.04l2.1-1.8c.24-.21.2-.48.03-.75zm-5.4-1.2c-.45.75-1.14 1.23-1.92 1.23-1.05 0-1.65-.81-1.65-1.98 0-2.31 2.1-2.73 4.08-2.73v.6c0 1.05.03 1.92-.5 2.88z\" />\r\n\t\t<Path d=\"M21.69 19.2a17.62 17.62 0 0 1-21.6-1.57c-.23-.2 0-.5.28-.33a23.88 23.88 0 0 0 20.93 1.3c.45-.19.84.3.39.6z\" />\r\n\t\t<Path d=\"M22.8 17.96c-.36-.45-2.22-.2-3.1-.12-.23.03-.3-.18-.05-.36 1.5-1.05 3.96-.75 4.26-.39.3.36-.1 2.82-1.5 4.02-.21.18-.42.1-.3-.15.3-.8 1.02-2.58.69-3z\" />\r\n\t</SVG>\r\n);\r\nexport const embedAnimotoIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\td=\"m.0206909 21 19.8160091-13.07806 3.5831 6.20826z\"\r\n\t\t\tfill=\"#4bc7ee\"\r\n\t\t/>\r\n\t\t<Path\r\n\t\t\td=\"m23.7254 19.0205-10.1074-17.18468c-.6421-1.114428-1.7087-1.114428-2.3249 0l-11.2931 19.16418h22.5655c1.279 0 1.8019-.8905 1.1599-1.9795z\"\r\n\t\t\tfill=\"#d4cdcb\"\r\n\t\t/>\r\n\t\t<Path\r\n\t\t\td=\"m.0206909 21 15.2439091-16.38571 4.3029 7.32271z\"\r\n\t\t\tfill=\"#c3d82e\"\r\n\t\t/>\r\n\t\t<Path\r\n\t\t\td=\"m13.618 1.83582c-.6421-1.114428-1.7087-1.114428-2.3249 0l-11.2931 19.16418 15.2646-16.38573z\"\r\n\t\t\tfill=\"#e4ecb0\"\r\n\t\t/>\r\n\t\t<Path d=\"m.0206909 21 19.5468091-9.063 1.6621 2.8344z\" fill=\"#209dbd\" />\r\n\t\t<Path\r\n\t\t\td=\"m.0206909 21 17.9209091-11.82623 1.6259 2.76323z\"\r\n\t\t\tfill=\"#7cb3c9\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\nexport const embedDailymotionIcon = (\r\n\t<SVG viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\td=\"M11.903 16.568c-1.82 0-3.124-1.281-3.124-2.967a2.987 2.987 0 0 1 2.989-2.989c1.663 0 2.944 1.304 2.944 3.034 0 1.663-1.281 2.922-2.81 2.922ZM17.997 3l-3.308.73v5.107c-.809-1.034-2.045-1.37-3.505-1.37-1.529 0-2.9.561-4.023 1.662-1.259 1.214-1.933 2.764-1.933 4.495 0 1.888.72 3.506 2.113 4.742 1.056.944 2.314 1.415 3.775 1.415 1.438 0 2.517-.382 3.573-1.415v1.415h3.308V3Z\"\r\n\t\t\tfill=\"#333436\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\nexport const embedPinterestIcon = (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12.289,2C6.617,2,3.606,5.648,3.606,9.622c0,1.846,1.025,4.146,2.666,4.878c0.25,0.111,0.381,0.063,0.439-0.169 c0.044-0.175,0.267-1.029,0.365-1.428c0.032-0.128,0.017-0.237-0.091-0.362C6.445,11.911,6.01,10.75,6.01,9.668 c0-2.777,2.194-5.464,5.933-5.464c3.23,0,5.49,2.108,5.49,5.122c0,3.407-1.794,5.768-4.13,5.768c-1.291,0-2.257-1.021-1.948-2.277 c0.372-1.495,1.089-3.112,1.089-4.191c0-0.967-0.542-1.775-1.663-1.775c-1.319,0-2.379,1.309-2.379,3.059 c0,1.115,0.394,1.869,0.394,1.869s-1.302,5.279-1.54,6.261c-0.405,1.666,0.053,4.368,0.094,4.604 c0.021,0.126,0.167,0.169,0.25,0.063c0.129-0.165,1.699-2.419,2.142-4.051c0.158-0.59,0.817-2.995,0.817-2.995 c0.43,0.784,1.681,1.446,3.013,1.446c3.963,0,6.822-3.494,6.822-7.833C20.394,5.112,16.849,2,12.289,2\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const embedWolframIcon = (\r\n\t<SVG viewBox=\"0 0 44 44\">\r\n\t\t<Path d=\"M32.59521,22.001l4.31885-4.84473-6.34131-1.38379.646-6.459-5.94336,2.61035L22,6.31934l-3.27344,5.60351L12.78418,9.3125l.645,6.458L7.08643,17.15234,11.40479,21.999,7.08594,26.84375l6.34131,1.38379-.64551,6.458,5.94287-2.60938L22,37.68066l3.27344-5.60351,5.94287,2.61035-.64551-6.458,6.34277-1.38183Zm.44385,2.75244L30.772,23.97827l-1.59558-2.07391,1.97888.735Zm-8.82147,6.1579L22.75,33.424V30.88977l1.52228-2.22168ZM18.56226,13.48816,19.819,15.09534l-2.49219-.88642L15.94037,12.337Zm6.87719.00116,2.62043-1.15027-1.38654,1.86981L24.183,15.0946Zm3.59357,2.6029-1.22546,1.7381.07525-2.73486,1.44507-1.94867ZM22,29.33008l-2.16406-3.15686L22,23.23688l2.16406,2.93634Zm-4.25458-9.582-.10528-3.836,3.60986,1.284v3.73242Zm5.00458-2.552,3.60986-1.284-.10528,3.836L22.75,20.92853Zm-7.78174-1.10559-.29352-2.94263,1.44245,1.94739.07519,2.73321Zm2.30982,5.08319,3.50817,1.18164-2.16247,2.9342-3.678-1.08447Zm2.4486,7.49285L21.25,30.88977v2.53485L19.78052,30.91Zm3.48707-6.31121,3.50817-1.18164,2.33228,3.03137-3.678,1.08447Zm10.87219-4.28113-2.714,3.04529L28.16418,19.928l1.92176-2.72565ZM24.06036,12.81769l-2.06012,2.6322-2.059-2.63318L22,9.292ZM9.91455,18.07227l4.00079-.87195,1.921,2.72735-3.20794,1.19019Zm2.93024,4.565,1.9801-.73462L13.228,23.97827l-2.26838.77429Zm-1.55591,3.58819L13.701,25.4021l2.64935.78058-2.14447.67853Zm3.64868,1.977L18.19,27.17334l.08313,3.46332L14.52979,32.2793Zm10.7876,2.43549.08447-3.464,3.25165,1.03052.407,4.07684Zm4.06824-3.77478-2.14545-.68,2.65063-.781,2.41266.825Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const embedPocketCastsIcon = {\r\n\tforeground: '#f43e37',\r\n\tsrc: (\r\n\t\t<SVG\r\n\t\t\twidth=\"24\"\r\n\t\t\theight=\"24\"\r\n\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\tfill=\"none\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t>\r\n\t\t\t<Path\r\n\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\td=\"M24,12A12,12,0,1,1,12,0,12,12,0,0,1,24,12Z\"\r\n\t\t\t/>\r\n\t\t\t<Path\r\n\t\t\t\tfillRule=\"evenodd\"\r\n\t\t\t\tclipRule=\"evenodd\"\r\n\t\t\t\td=\"M2.67,12a9.33,9.33,0,0,1,18.66,0H19a7,7,0,1,0-7,7v2.33A9.33,9.33,0,0,1,2.67,12ZM12,17.6A5.6,5.6,0,1,1,17.6,12h-2A3.56,3.56,0,1,0,12,15.56Z\"\r\n\t\t\t\tfill=\"#fff\"\r\n\t\t\t/>\r\n\t\t</SVG>\r\n\t),\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Spinner } from '@wordpress/components';\r\n\r\nconst EmbedLoading = () => (\r\n\t<div className=\"wp-block-embed is-loading\">\r\n\t\t<Spinner />\r\n\t</div>\r\n);\r\n\r\nexport default EmbedLoading;\r\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Button, Placeholder, ExternalLink } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\n\nconst EmbedPlaceholder = ( {\n\ticon,\n\tlabel,\n\tvalue,\n\tonSubmit,\n\tonChange,\n\tcannotEmbed,\n\tfallback,\n\ttryAgain,\n} ) => {\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\n\t\t\tlabel={ label }\n\t\t\tclassName=\"wp-block-embed\"\n\t\t\tinstructions={ __(\n\t\t\t\t'Paste a link to the content you want to display on your site.'\n\t\t\t) }\n\t\t>\n\t\t\t<form onSubmit={ onSubmit }>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\taria-label={ label }\n\t\t\t\t\tplaceholder={ __( 'Enter URL to embed here…' ) }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t{ _x( 'Embed', 'button label' ) }\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t\t<div className=\"wp-block-embed__learn-more\">\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/embeds/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Learn more about embeds' ) }\n\t\t\t\t</ExternalLink>\n\t\t\t</div>\n\t\t\t{ cannotEmbed && (\n\t\t\t\t<div className=\"components-placeholder__error\">\n\t\t\t\t\t<div className=\"components-placeholder__instructions\">\n\t\t\t\t\t\t{ __( 'Sorry, this content could not be embedded.' ) }\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={ tryAgain }>\n\t\t\t\t\t\t{ _x( 'Try again', 'button label' ) }\n\t\t\t\t\t</Button>{ ' ' }\n\t\t\t\t\t<Button variant=\"secondary\" onClick={ fallback }>\n\t\t\t\t\t\t{ _x( 'Convert to link', 'button label' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</Placeholder>\n\t);\n};\n\nexport default EmbedPlaceholder;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useMergeRefs, useFocusableIframe } from '@wordpress/compose';\r\nimport { useRef, useEffect, useMemo } from '@wordpress/element';\r\n\r\n/** @typedef {import('react').SyntheticEvent} SyntheticEvent */\r\n\r\nconst attributeMap = {\r\n\tclass: 'className',\r\n\tframeborder: 'frameBorder',\r\n\tmarginheight: 'marginHeight',\r\n\tmarginwidth: 'marginWidth',\r\n};\r\n\r\nexport default function WpEmbedPreview( { html } ) {\r\n\tconst ref = useRef();\r\n\tconst props = useMemo( () => {\r\n\t\tconst doc = new window.DOMParser().parseFromString( html, 'text/html' );\r\n\t\tconst iframe = doc.querySelector( 'iframe' );\r\n\t\tconst iframeProps = {};\r\n\r\n\t\tif ( ! iframe ) return iframeProps;\r\n\r\n\t\tArray.from( iframe.attributes ).forEach( ( { name, value } ) => {\r\n\t\t\tif ( name === 'style' ) return;\r\n\t\t\tiframeProps[ attributeMap[ name ] || name ] = value;\r\n\t\t} );\r\n\r\n\t\treturn iframeProps;\r\n\t}, [ html ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tconst { ownerDocument } = ref.current;\r\n\t\tconst { defaultView } = ownerDocument;\r\n\r\n\t\t/**\r\n\t\t * Checks for WordPress embed events signaling the height change when\r\n\t\t * iframe content loads or iframe's window is resized.  The event is\r\n\t\t * sent from WordPress core via the window.postMessage API.\r\n\t\t *\r\n\t\t * References:\r\n\t\t * window.postMessage:\r\n\t\t * https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\r\n\t\t * WordPress core embed-template on load:\r\n\t\t * https://github.com/WordPress/WordPress/blob/HEAD/wp-includes/js/wp-embed-template.js#L143\r\n\t\t * WordPress core embed-template on resize:\r\n\t\t * https://github.com/WordPress/WordPress/blob/HEAD/wp-includes/js/wp-embed-template.js#L187\r\n\t\t *\r\n\t\t * @param {MessageEvent} event Message event.\r\n\t\t */\r\n\t\tfunction resizeWPembeds( { data: { secret, message, value } = {} } ) {\r\n\t\t\tif ( message !== 'height' || secret !== props[ 'data-secret' ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tref.current.height = value;\r\n\t\t}\r\n\r\n\t\tdefaultView.addEventListener( 'message', resizeWPembeds );\r\n\t\treturn () => {\r\n\t\t\tdefaultView.removeEventListener( 'message', resizeWPembeds );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\treturn (\r\n\t\t<div className=\"wp-block-embed__wrapper\">\r\n\t\t\t<iframe\r\n\t\t\t\tref={ useMergeRefs( [ ref, useFocusableIframe() ] ) }\r\n\t\t\t\ttitle={ props.title }\r\n\t\t\t\t{ ...props }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport { getPhotoHtml } from './util';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames/dedupe';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Placeholder, SandBox } from '@wordpress/components';\r\nimport {\r\n\tRichText,\r\n\tBlockIcon,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\nimport { Component } from '@wordpress/element';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport WpEmbedPreview from './wp-embed-preview';\r\n\r\nclass EmbedPreview extends Component {\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\t\tthis.hideOverlay = this.hideOverlay.bind( this );\r\n\t\tthis.state = {\r\n\t\t\tinteractive: false,\r\n\t\t};\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps( nextProps, state ) {\r\n\t\tif ( ! nextProps.isSelected && state.interactive ) {\r\n\t\t\t// We only want to change this when the block is not selected, because changing it when\r\n\t\t\t// the block becomes selected makes the overlap disappear too early. Hiding the overlay\r\n\t\t\t// happens on mouseup when the overlay is clicked.\r\n\t\t\treturn { interactive: false };\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\thideOverlay() {\r\n\t\t// This is called onMouseUp on the overlay. We can't respond to the `isSelected` prop\r\n\t\t// changing, because that happens on mouse down, and the overlay immediately disappears,\r\n\t\t// and the mouse event can end up in the preview content. We can't use onClick on\r\n\t\t// the overlay to hide it either, because then the editor misses the mouseup event, and\r\n\t\t// thinks we're multi-selecting blocks.\r\n\t\tthis.setState( { interactive: true } );\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tpreview,\r\n\t\t\tpreviewable,\r\n\t\t\turl,\r\n\t\t\ttype,\r\n\t\t\tcaption,\r\n\t\t\tonCaptionChange,\r\n\t\t\tisSelected,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\tlabel,\r\n\t\t\tinsertBlocksAfter,\r\n\t\t} = this.props;\r\n\t\tconst { scripts } = preview;\r\n\t\tconst { interactive } = this.state;\r\n\r\n\t\tconst html = 'photo' === type ? getPhotoHtml( preview ) : preview.html;\r\n\t\tconst parsedHost = new URL( url ).host.split( '.' );\r\n\t\tconst parsedHostBaseUrl = parsedHost\r\n\t\t\t.splice( parsedHost.length - 2, parsedHost.length - 1 )\r\n\t\t\t.join( '.' );\r\n\t\tconst iframeTitle = sprintf(\r\n\t\t\t// translators: %s: host providing embed content e.g: www.youtube.com\r\n\t\t\t__( 'Embedded content from %s' ),\r\n\t\t\tparsedHostBaseUrl\r\n\t\t);\r\n\t\tconst sandboxClassnames = classnames(\r\n\t\t\ttype,\r\n\t\t\tclassName,\r\n\t\t\t'wp-block-embed__wrapper'\r\n\t\t);\r\n\r\n\t\t// Disabled because the overlay div doesn't actually have a role or functionality\r\n\t\t// as far as the user is concerned. We're just catching the first click so that\r\n\t\t// the block can be selected without interacting with the embed preview that the overlay covers.\r\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\r\n\t\tconst embedWrapper =\r\n\t\t\t'wp-embed' === type ? (\r\n\t\t\t\t<WpEmbedPreview html={ html } />\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"wp-block-embed__wrapper\">\r\n\t\t\t\t\t<SandBox\r\n\t\t\t\t\t\thtml={ html }\r\n\t\t\t\t\t\tscripts={ scripts }\r\n\t\t\t\t\t\ttitle={ iframeTitle }\r\n\t\t\t\t\t\ttype={ sandboxClassnames }\r\n\t\t\t\t\t\tonFocus={ this.hideOverlay }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ ! interactive && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"block-library-embed__interactive-overlay\"\r\n\t\t\t\t\t\t\tonMouseUp={ this.hideOverlay }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\tclassName={ classnames( className, 'wp-block-embed', {\r\n\t\t\t\t\t'is-type-video': 'video' === type,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t{ previewable ? (\r\n\t\t\t\t\tembedWrapper\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Placeholder\r\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p className=\"components-placeholder__error\">\r\n\t\t\t\t\t\t\t<a href={ url }>{ url }</a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"components-placeholder__error\">\r\n\t\t\t\t\t\t\t{ sprintf(\r\n\t\t\t\t\t\t\t\t/* translators: %s: host providing embed content e.g: www.youtube.com */\r\n\t\t\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t\t\t\"Embedded content from %s can't be previewed in the editor.\"\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tparsedHostBaseUrl\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Placeholder>\r\n\t\t\t\t) }\r\n\t\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tidentifier=\"caption\"\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tplaceholder={ __( 'Add caption' ) }\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t\tonChange={ onCaptionChange }\r\n\t\t\t\t\t\tinlineToolbar\r\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\r\n\t\t\t\t\t\t\tinsertBlocksAfter(\r\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EmbedPreview;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\n\r\nconst { name: EMBED_BLOCK } = metadata;\r\n\r\n/**\r\n * Default transforms for generic embeds.\r\n */\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.nodeName === 'P' &&\r\n\t\t\t\t/^\\s*(https?:\\/\\/\\S+)\\s*$/i.test( node.textContent ) &&\r\n\t\t\t\tnode.textContent?.match( /https/gi )?.length === 1,\r\n\t\t\ttransform: ( node ) => {\r\n\t\t\t\treturn createBlock( EMBED_BLOCK, {\r\n\t\t\t\t\turl: node.textContent.trim(),\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\tisMatch: ( { url } ) => !! url,\r\n\t\t\ttransform: ( { url, caption } ) => {\r\n\t\t\t\tlet value = `<a href=\"${ url }\">${ url }</a>`;\r\n\t\t\t\tif ( caption?.trim() ) {\r\n\t\t\t\t\tvalue += `<br />${ caption }`;\r\n\t\t\t\t}\r\n\t\t\t\treturn createBlock( 'core/paragraph', {\r\n\t\t\t\t\tcontent: value,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tembedContentIcon,\r\n\tembedAudioIcon,\r\n\tembedPhotoIcon,\r\n\tembedVideoIcon,\r\n\tembedTwitterIcon,\r\n\tembedYouTubeIcon,\r\n\tembedFacebookIcon,\r\n\tembedInstagramIcon,\r\n\tembedWordPressIcon,\r\n\tembedSpotifyIcon,\r\n\tembedFlickrIcon,\r\n\tembedVimeoIcon,\r\n\tembedRedditIcon,\r\n\tembedTumblrIcon,\r\n\tembedAmazonIcon,\r\n\tembedAnimotoIcon,\r\n\tembedDailymotionIcon,\r\n\tembedPinterestIcon,\r\n\tembedWolframIcon,\r\n\tembedPocketCastsIcon,\r\n} from './icons';\r\n\r\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\r\n\r\n/**\r\n * The embed provider services.\r\n *\r\n * @type {WPBlockVariation[]}\r\n */\r\nconst variations = [\r\n\t{\r\n\t\tname: 'twitter',\r\n\t\ttitle: 'Twitter',\r\n\t\ticon: embedTwitterIcon,\r\n\t\tkeywords: [ 'tweet', __( 'social' ) ],\r\n\t\tdescription: __( 'Embed a tweet.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?twitter\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'twitter', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'youtube',\r\n\t\ttitle: 'YouTube',\r\n\t\ticon: embedYouTubeIcon,\r\n\t\tkeywords: [ __( 'music' ), __( 'video' ) ],\r\n\t\tdescription: __( 'Embed a YouTube video.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/((m|www)\\.)?youtube\\.com\\/.+/i,\r\n\t\t\t/^https?:\\/\\/youtu\\.be\\/.+/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'youtube', responsive: true },\r\n\t},\r\n\t{\r\n\t\t// Deprecate Facebook Embed per FB policy\r\n\t\t// See: https://developers.facebook.com/docs/plugins/oembed-legacy\r\n\t\tname: 'facebook',\r\n\t\ttitle: 'Facebook',\r\n\t\ticon: embedFacebookIcon,\r\n\t\tkeywords: [ __( 'social' ) ],\r\n\t\tdescription: __( 'Embed a Facebook post.' ),\r\n\t\tscope: [ 'block' ],\r\n\t\tpatterns: [],\r\n\t\tattributes: {\r\n\t\t\tproviderNameSlug: 'facebook',\r\n\t\t\tpreviewable: false,\r\n\t\t\tresponsive: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// Deprecate Instagram per FB policy\r\n\t\t// See: https://developers.facebook.com/docs/instagram/oembed-legacy\r\n\t\tname: 'instagram',\r\n\t\ttitle: 'Instagram',\r\n\t\ticon: embedInstagramIcon,\r\n\t\tkeywords: [ __( 'image' ), __( 'social' ) ],\r\n\t\tdescription: __( 'Embed an Instagram post.' ),\r\n\t\tscope: [ 'block' ],\r\n\t\tpatterns: [],\r\n\t\tattributes: { providerNameSlug: 'instagram', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'wordpress',\r\n\t\ttitle: 'WordPress',\r\n\t\ticon: embedWordPressIcon,\r\n\t\tkeywords: [ __( 'post' ), __( 'blog' ) ],\r\n\t\tdescription: __( 'Embed a WordPress post.' ),\r\n\t\tattributes: {\r\n\t\t\tproviderNameSlug: 'wordpress',\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'soundcloud',\r\n\t\ttitle: 'SoundCloud',\r\n\t\ticon: embedAudioIcon,\r\n\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\r\n\t\tdescription: __( 'Embed SoundCloud content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?soundcloud\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'soundcloud', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'spotify',\r\n\t\ttitle: 'Spotify',\r\n\t\ticon: embedSpotifyIcon,\r\n\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\r\n\t\tdescription: __( 'Embed Spotify content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(open|play)\\.spotify\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'spotify', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'flickr',\r\n\t\ttitle: 'Flickr',\r\n\t\ticon: embedFlickrIcon,\r\n\t\tkeywords: [ __( 'image' ) ],\r\n\t\tdescription: __( 'Embed Flickr content.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/(www\\.)?flickr\\.com\\/.+/i,\r\n\t\t\t/^https?:\\/\\/flic\\.kr\\/.+/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'flickr', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'vimeo',\r\n\t\ttitle: 'Vimeo',\r\n\t\ticon: embedVimeoIcon,\r\n\t\tkeywords: [ __( 'video' ) ],\r\n\t\tdescription: __( 'Embed a Vimeo video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?vimeo\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'vimeo', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'animoto',\r\n\t\ttitle: 'Animoto',\r\n\t\ticon: embedAnimotoIcon,\r\n\t\tdescription: __( 'Embed an Animoto video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?(animoto|video214)\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'animoto', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'cloudup',\r\n\t\ttitle: 'Cloudup',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Cloudup content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/cloudup\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'cloudup', responsive: true },\r\n\t},\r\n\t{\r\n\t\t// Deprecated since CollegeHumor content is now powered by YouTube.\r\n\t\tname: 'collegehumor',\r\n\t\ttitle: 'CollegeHumor',\r\n\t\ticon: embedVideoIcon,\r\n\t\tdescription: __( 'Embed CollegeHumor content.' ),\r\n\t\tscope: [ 'block' ],\r\n\t\tpatterns: [],\r\n\t\tattributes: { providerNameSlug: 'collegehumor', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'crowdsignal',\r\n\t\ttitle: 'Crowdsignal',\r\n\t\ticon: embedContentIcon,\r\n\t\tkeywords: [ 'polldaddy', __( 'survey' ) ],\r\n\t\tdescription: __( 'Embed Crowdsignal (formerly Polldaddy) content.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/((.+\\.)?polldaddy\\.com|poll\\.fm|.+\\.crowdsignal\\.net|.+\\.survey\\.fm)\\/.+/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'crowdsignal', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'dailymotion',\r\n\t\ttitle: 'Dailymotion',\r\n\t\ticon: embedDailymotionIcon,\r\n\t\tkeywords: [ __( 'video' ) ],\r\n\t\tdescription: __( 'Embed a Dailymotion video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?dailymotion\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'dailymotion', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'imgur',\r\n\t\ttitle: 'Imgur',\r\n\t\ticon: embedPhotoIcon,\r\n\t\tdescription: __( 'Embed Imgur content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(.+\\.)?imgur\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'imgur', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'issuu',\r\n\t\ttitle: 'Issuu',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Issuu content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?issuu\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'issuu', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'kickstarter',\r\n\t\ttitle: 'Kickstarter',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Kickstarter content.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/(www\\.)?kickstarter\\.com\\/.+/i,\r\n\t\t\t/^https?:\\/\\/kck\\.st\\/.+/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'kickstarter', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'mixcloud',\r\n\t\ttitle: 'Mixcloud',\r\n\t\ticon: embedAudioIcon,\r\n\t\tkeywords: [ __( 'music' ), __( 'audio' ) ],\r\n\t\tdescription: __( 'Embed Mixcloud content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?mixcloud\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'mixcloud', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'pocket-casts',\r\n\t\ttitle: 'Pocket Casts',\r\n\t\ticon: embedPocketCastsIcon,\r\n\t\tkeywords: [ __( 'podcast' ), __( 'audio' ) ],\r\n\t\tdescription: __( 'Embed a podcast player from Pocket Casts.' ),\r\n\t\tpatterns: [ /^https:\\/\\/pca.st\\/\\w+/i ],\r\n\t\tattributes: { providerNameSlug: 'pocket-casts', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'reddit',\r\n\t\ttitle: 'Reddit',\r\n\t\ticon: embedRedditIcon,\r\n\t\tdescription: __( 'Embed a Reddit thread.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?reddit\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'reddit', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'reverbnation',\r\n\t\ttitle: 'ReverbNation',\r\n\t\ticon: embedAudioIcon,\r\n\t\tdescription: __( 'Embed ReverbNation content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?reverbnation\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'reverbnation', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'screencast',\r\n\t\ttitle: 'Screencast',\r\n\t\ticon: embedVideoIcon,\r\n\t\tdescription: __( 'Embed Screencast content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?screencast\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'screencast', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'scribd',\r\n\t\ttitle: 'Scribd',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Scribd content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?scribd\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'scribd', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'slideshare',\r\n\t\ttitle: 'Slideshare',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Slideshare content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(.+?\\.)?slideshare\\.net\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'slideshare', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'smugmug',\r\n\t\ttitle: 'SmugMug',\r\n\t\ticon: embedPhotoIcon,\r\n\t\tdescription: __( 'Embed SmugMug content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(.+\\.)?smugmug\\.com\\/.*/i ],\r\n\t\tattributes: {\r\n\t\t\tproviderNameSlug: 'smugmug',\r\n\t\t\tpreviewable: false,\r\n\t\t\tresponsive: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'speaker-deck',\r\n\t\ttitle: 'Speaker Deck',\r\n\t\ticon: embedContentIcon,\r\n\t\tdescription: __( 'Embed Speaker Deck content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?speakerdeck\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'speaker-deck', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'tiktok',\r\n\t\ttitle: 'TikTok',\r\n\t\ticon: embedVideoIcon,\r\n\t\tkeywords: [ __( 'video' ) ],\r\n\t\tdescription: __( 'Embed a TikTok video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?tiktok\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'tiktok', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'ted',\r\n\t\ttitle: 'TED',\r\n\t\ticon: embedVideoIcon,\r\n\t\tdescription: __( 'Embed a TED video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.|embed\\.)?ted\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'ted', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'tumblr',\r\n\t\ttitle: 'Tumblr',\r\n\t\ticon: embedTumblrIcon,\r\n\t\tkeywords: [ __( 'social' ) ],\r\n\t\tdescription: __( 'Embed a Tumblr post.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(.+)\\.tumblr\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'tumblr', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'videopress',\r\n\t\ttitle: 'VideoPress',\r\n\t\ticon: embedVideoIcon,\r\n\t\tkeywords: [ __( 'video' ) ],\r\n\t\tdescription: __( 'Embed a VideoPress video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/videopress\\.com\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'videopress', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'wordpress-tv',\r\n\t\ttitle: 'WordPress.tv',\r\n\t\ticon: embedVideoIcon,\r\n\t\tdescription: __( 'Embed a WordPress.tv video.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/wordpress\\.tv\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'wordpress-tv', responsive: true },\r\n\t},\r\n\t{\r\n\t\tname: 'amazon-kindle',\r\n\t\ttitle: 'Amazon Kindle',\r\n\t\ticon: embedAmazonIcon,\r\n\t\tkeywords: [ __( 'ebook' ) ],\r\n\t\tdescription: __( 'Embed Amazon Kindle content.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/([a-z0-9-]+\\.)?(amazon|amzn)(\\.[a-z]{2,4})+\\/.+/i,\r\n\t\t\t/^https?:\\/\\/(www\\.)?(a\\.co|z\\.cn)\\/.+/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'amazon-kindle' },\r\n\t},\r\n\t{\r\n\t\tname: 'pinterest',\r\n\t\ttitle: 'Pinterest',\r\n\t\ticon: embedPinterestIcon,\r\n\t\tkeywords: [ __( 'social' ), __( 'bookmark' ) ],\r\n\t\tdescription: __( 'Embed Pinterest pins, boards, and profiles.' ),\r\n\t\tpatterns: [\r\n\t\t\t/^https?:\\/\\/([a-z]{2}|www)\\.pinterest\\.com(\\.(au|mx))?\\/.*/i,\r\n\t\t],\r\n\t\tattributes: { providerNameSlug: 'pinterest' },\r\n\t},\r\n\t{\r\n\t\tname: 'wolfram-cloud',\r\n\t\ttitle: 'Wolfram',\r\n\t\ticon: embedWolframIcon,\r\n\t\tdescription: __( 'Embed Wolfram notebook content.' ),\r\n\t\tpatterns: [ /^https?:\\/\\/(www\\.)?wolframcloud\\.com\\/obj\\/.+/i ],\r\n\t\tattributes: { providerNameSlug: 'wolfram-cloud', responsive: true },\r\n\t},\r\n];\r\n\r\n/**\r\n * Add `isActive` function to all `embed` variations, if not defined.\r\n * `isActive` function is used to find a variation match from a created\r\n *  Block by providing its attributes.\r\n */\r\nvariations.forEach( ( variation ) => {\r\n\tif ( variation.isActive ) return;\r\n\tvariation.isActive = ( blockAttributes, variationAttributes ) =>\r\n\t\tblockAttributes.providerNameSlug ===\r\n\t\tvariationAttributes.providerNameSlug;\r\n} );\r\n\r\nexport default variations;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst { attributes: blockAttributes } = metadata;\r\n\r\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\r\n// to the embed figcaption element.\r\nconst v2 = {\r\n\tattributes: blockAttributes,\r\n\tsave( { attributes } ) {\r\n\t\tconst { url, caption, type, providerNameSlug } = attributes;\r\n\r\n\t\tif ( ! url ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst className = classnames( 'wp-block-embed', {\r\n\t\t\t[ `is-type-${ type }` ]: type,\r\n\t\t\t[ `is-provider-${ providerNameSlug }` ]: providerNameSlug,\r\n\t\t\t[ `wp-block-embed-${ providerNameSlug }` ]: providerNameSlug,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className } ) }>\r\n\t\t\t\t<div className=\"wp-block-embed__wrapper\">\r\n\t\t\t\t\t{ `\\n${ url }\\n` /* URL needs to be on its own line. */ }\r\n\t\t\t\t</div>\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v1 = {\r\n\tattributes: blockAttributes,\r\n\tsave( { attributes: { url, caption, type, providerNameSlug } } ) {\r\n\t\tif ( ! url ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst embedClassName = classnames( 'wp-block-embed', {\r\n\t\t\t[ `is-type-${ type }` ]: type,\r\n\t\t\t[ `is-provider-${ providerNameSlug }` ]: providerNameSlug,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<figure className={ embedClassName }>\r\n\t\t\t\t{ `\\n${ url }\\n` /* URL needs to be on its own line. */ }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst deprecated = [ v2, v1 ];\r\n\r\nexport default deprecated;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport metadata from './block.json';\r\nimport transforms from './transforms';\r\nimport variations from './variations';\r\nimport deprecated from './deprecated';\r\nimport { embedContentIcon } from './icons';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon: embedContentIcon,\r\n\tedit,\r\n\tsave,\r\n\ttransforms,\r\n\tvariations,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * Internal dependencies\n */\nimport {\n\tcreateUpgradedEmbedBlock,\n\tgetClassNames,\n\tremoveAspectRatioClasses,\n\tfallback,\n\tgetEmbedInfoByProvider,\n\tgetMergedAttributesWithPreview,\n} from './util';\nimport EmbedControls from './embed-controls';\nimport { embedContentIcon } from './icons';\nimport EmbedLoading from './embed-loading';\nimport EmbedPlaceholder from './embed-placeholder';\nimport EmbedPreview from './embed-preview';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useBlockProps } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { View } from '@wordpress/primitives';\nimport { getAuthority } from '@wordpress/url';\n\nconst EmbedEdit = ( props ) => {\n\tconst {\n\t\tattributes: {\n\t\t\tproviderNameSlug,\n\t\t\tpreviewable,\n\t\t\tresponsive,\n\t\t\turl: attributesUrl,\n\t\t},\n\t\tattributes,\n\t\tisSelected,\n\t\tonReplace,\n\t\tsetAttributes,\n\t\tinsertBlocksAfter,\n\t\tonFocus,\n\t} = props;\n\n\tconst defaultEmbedInfo = {\n\t\ttitle: _x( 'Embed', 'block title' ),\n\t\ticon: embedContentIcon,\n\t};\n\tconst { icon, title } =\n\t\tgetEmbedInfoByProvider( providerNameSlug ) || defaultEmbedInfo;\n\n\tconst [ url, setURL ] = useState( attributesUrl );\n\tconst [ isEditingURL, setIsEditingURL ] = useState( false );\n\tconst { invalidateResolution } = useDispatch( coreStore );\n\n\tconst { preview, fetching, themeSupportsResponsive, cannotEmbed } =\n\t\tuseSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst {\n\t\t\t\t\tgetEmbedPreview,\n\t\t\t\t\tisPreviewEmbedFallback,\n\t\t\t\t\tisRequestingEmbedPreview,\n\t\t\t\t\tgetThemeSupports,\n\t\t\t\t} = select( coreStore );\n\t\t\t\tif ( ! attributesUrl ) {\n\t\t\t\t\treturn { fetching: false, cannotEmbed: false };\n\t\t\t\t}\n\n\t\t\t\tconst embedPreview = getEmbedPreview( attributesUrl );\n\t\t\t\tconst previewIsFallback =\n\t\t\t\t\tisPreviewEmbedFallback( attributesUrl );\n\n\t\t\t\t// The external oEmbed provider does not exist. We got no type info and no html.\n\t\t\t\tconst badEmbedProvider =\n\t\t\t\t\tembedPreview?.html === false &&\n\t\t\t\t\tembedPreview?.type === undefined;\n\t\t\t\t// Some WordPress URLs that can't be embedded will cause the API to return\n\t\t\t\t// a valid JSON response with no HTML and `data.status` set to 404, rather\n\t\t\t\t// than generating a fallback response as other embeds do.\n\t\t\t\tconst wordpressCantEmbed = embedPreview?.data?.status === 404;\n\t\t\t\tconst validPreview =\n\t\t\t\t\t!! embedPreview &&\n\t\t\t\t\t! badEmbedProvider &&\n\t\t\t\t\t! wordpressCantEmbed;\n\t\t\t\treturn {\n\t\t\t\t\tpreview: validPreview ? embedPreview : undefined,\n\t\t\t\t\tfetching: isRequestingEmbedPreview( attributesUrl ),\n\t\t\t\t\tthemeSupportsResponsive:\n\t\t\t\t\t\tgetThemeSupports()[ 'responsive-embeds' ],\n\t\t\t\t\tcannotEmbed: ! validPreview || previewIsFallback,\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ attributesUrl ]\n\t\t);\n\n\t/**\n\t * Returns the attributes derived from the preview, merged with the current attributes.\n\t *\n\t * @return {Object} Merged attributes.\n\t */\n\tconst getMergedAttributes = () =>\n\t\tgetMergedAttributesWithPreview(\n\t\t\tattributes,\n\t\t\tpreview,\n\t\t\ttitle,\n\t\t\tresponsive\n\t\t);\n\n\tconst toggleResponsive = () => {\n\t\tconst { allowResponsive, className } = attributes;\n\t\tconst { html } = preview;\n\t\tconst newAllowResponsive = ! allowResponsive;\n\n\t\tsetAttributes( {\n\t\t\tallowResponsive: newAllowResponsive,\n\t\t\tclassName: getClassNames(\n\t\t\t\thtml,\n\t\t\t\tclassName,\n\t\t\t\tresponsive && newAllowResponsive\n\t\t\t),\n\t\t} );\n\t};\n\n\tuseEffect( () => {\n\t\tif ( preview?.html || ! cannotEmbed || fetching ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// At this stage, we're not fetching the preview and know it can't be embedded,\n\t\t// so try removing any trailing slash, and resubmit.\n\t\tconst newURL = attributesUrl.replace( /\\/$/, '' );\n\t\tsetURL( newURL );\n\t\tsetIsEditingURL( false );\n\t\tsetAttributes( { url: newURL } );\n\t}, [ preview?.html, attributesUrl, cannotEmbed, fetching, setAttributes ] );\n\n\t// Try a different provider in case the embed url is not supported.\n\tuseEffect( () => {\n\t\tif ( ! cannotEmbed || fetching || ! url ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Until X provider is supported in WordPress, as a workaround we use Twitter provider.\n\t\tif ( getAuthority( url ) === 'x.com' ) {\n\t\t\tconst newURL = new URL( url );\n\t\t\tnewURL.host = 'twitter.com';\n\t\t\tsetAttributes( { url: newURL.toString() } );\n\t\t}\n\t}, [ url, cannotEmbed, fetching, setAttributes ] );\n\n\t// Handle incoming preview.\n\tuseEffect( () => {\n\t\tif ( preview && ! isEditingURL ) {\n\t\t\t// When obtaining an incoming preview,\n\t\t\t// we set the attributes derived from the preview data.\n\t\t\tconst mergedAttributes = getMergedAttributes();\n\t\t\tsetAttributes( mergedAttributes );\n\n\t\t\tif ( onReplace ) {\n\t\t\t\tconst upgradedBlock = createUpgradedEmbedBlock(\n\t\t\t\t\tprops,\n\t\t\t\t\tmergedAttributes\n\t\t\t\t);\n\n\t\t\t\tif ( upgradedBlock ) {\n\t\t\t\t\tonReplace( upgradedBlock );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [ preview, isEditingURL ] );\n\n\tconst blockProps = useBlockProps();\n\n\tif ( fetching ) {\n\t\treturn (\n\t\t\t<View { ...blockProps }>\n\t\t\t\t<EmbedLoading />\n\t\t\t</View>\n\t\t);\n\t}\n\n\t// translators: %s: type of embed e.g: \"YouTube\", \"Twitter\", etc. \"Embed\" is used when no specific type exists\n\tconst label = sprintf( __( '%s URL' ), title );\n\n\t// No preview, or we can't embed the current URL, or we've clicked the edit button.\n\tconst showEmbedPlaceholder = ! preview || cannotEmbed || isEditingURL;\n\n\tif ( showEmbedPlaceholder ) {\n\t\treturn (\n\t\t\t<View { ...blockProps }>\n\t\t\t\t<EmbedPlaceholder\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\t\tif ( event ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the embed URL was changed, we need to reset the aspect ratio class.\n\t\t\t\t\t\t// To do this we have to remove the existing ratio class so it can be recalculated.\n\t\t\t\t\t\tconst blockClass = removeAspectRatioClasses(\n\t\t\t\t\t\t\tattributes.className\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tsetIsEditingURL( false );\n\t\t\t\t\t\tsetAttributes( { url, className: blockClass } );\n\t\t\t\t\t} }\n\t\t\t\t\tvalue={ url }\n\t\t\t\t\tcannotEmbed={ cannotEmbed }\n\t\t\t\t\tonChange={ ( event ) => setURL( event.target.value ) }\n\t\t\t\t\tfallback={ () => fallback( url, onReplace ) }\n\t\t\t\t\ttryAgain={ () => {\n\t\t\t\t\t\tinvalidateResolution( 'getEmbedPreview', [ url ] );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</View>\n\t\t);\n\t}\n\n\t// Even though we set attributes that get derived from the preview,\n\t// we don't access them directly because for the initial render,\n\t// the `setAttributes` call will not have taken effect. If we're\n\t// rendering responsive content, setting the responsive classes\n\t// after the preview has been rendered can result in unwanted\n\t// clipping or scrollbars. The `getAttributesFromPreview` function\n\t// that `getMergedAttributes` uses is memoized so that we're not\n\t// calculating them on every render.\n\tconst {\n\t\tcaption,\n\t\ttype,\n\t\tallowResponsive,\n\t\tclassName: classFromPreview,\n\t} = getMergedAttributes();\n\tconst className = classnames( classFromPreview, props.className );\n\n\treturn (\n\t\t<>\n\t\t\t<EmbedControls\n\t\t\t\tshowEditButton={ preview && ! cannotEmbed }\n\t\t\t\tthemeSupportsResponsive={ themeSupportsResponsive }\n\t\t\t\tblockSupportsResponsive={ responsive }\n\t\t\t\tallowResponsive={ allowResponsive }\n\t\t\t\ttoggleResponsive={ toggleResponsive }\n\t\t\t\tswitchBackToURLInput={ () => setIsEditingURL( true ) }\n\t\t\t/>\n\t\t\t<View { ...blockProps }>\n\t\t\t\t<EmbedPreview\n\t\t\t\t\tpreview={ preview }\n\t\t\t\t\tpreviewable={ previewable }\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\turl={ url }\n\t\t\t\t\ttype={ type }\n\t\t\t\t\tcaption={ caption }\n\t\t\t\t\tonCaptionChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t}\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\t/>\n\t\t\t</View>\n\t\t</>\n\t);\n};\n\nexport default EmbedEdit;\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames/dedupe';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { url, caption, type, providerNameSlug } = attributes;\r\n\r\n\tif ( ! url ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst className = classnames( 'wp-block-embed', {\r\n\t\t[ `is-type-${ type }` ]: type,\r\n\t\t[ `is-provider-${ providerNameSlug }` ]: providerNameSlug,\r\n\t\t[ `wp-block-embed-${ providerNameSlug }` ]: providerNameSlug,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<figure { ...useBlockProps.save( { className } ) }>\r\n\t\t\t<div className=\"wp-block-embed__wrapper\">\r\n\t\t\t\t{ `\\n${ url }\\n` /* URL needs to be on its own line. */ }\r\n\t\t\t</div>\r\n\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\tclassName={ __experimentalGetElementClassName( 'caption' ) }\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst file = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M12.848 8a1 1 0 0 1-.914-.594l-.723-1.63a.5.5 0 0 0-.447-.276H5a.5.5 0 0 0-.5.5v11.5a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5v-9A.5.5 0 0 0 19 8h-6.152Zm.612-1.5a.5.5 0 0 1-.462-.31l-.445-1.084A2 2 0 0 0 10.763 4H5a2 2 0 0 0-2 2v11.5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-5.54Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default file;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalGetElementClassName,\n\tRichText,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { __, sprintf } from '@wordpress/i18n';\n\n// Version of the file block without PR#43050 removing the translated aria-label.\nconst v3 = {\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\thref: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tfileId: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'id',\n\t\t},\n\t\tfileName: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a:not([download])',\n\t\t},\n\t\ttextLinkHref: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'href',\n\t\t},\n\t\ttextLinkTarget: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'target',\n\t\t},\n\t\tshowDownloadButton: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdownloadButtonText: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a[download]',\n\t\t},\n\t\tdisplayPreview: {\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreviewHeight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 600,\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\thref,\n\t\t\tfileId,\n\t\t\tfileName,\n\t\t\ttextLinkHref,\n\t\t\ttextLinkTarget,\n\t\t\tshowDownloadButton,\n\t\t\tdownloadButtonText,\n\t\t\tdisplayPreview,\n\t\t\tpreviewHeight,\n\t\t} = attributes;\n\n\t\tconst pdfEmbedLabel = RichText.isEmpty( fileName )\n\t\t\t? __( 'PDF embed' )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %s: filename. */\n\t\t\t\t\t__( 'Embed of %s.' ),\n\t\t\t\t\tfileName\n\t\t\t  );\n\n\t\tconst hasFilename = ! RichText.isEmpty( fileName );\n\n\t\t// Only output an `aria-describedby` when the element it's referring to is\n\t\t// actually rendered.\n\t\tconst describedById = hasFilename ? fileId : undefined;\n\n\t\treturn (\n\t\t\thref && (\n\t\t\t\t<div { ...useBlockProps.save() }>\n\t\t\t\t\t{ displayPreview && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<object\n\t\t\t\t\t\t\t\tclassName=\"wp-block-file__embed\"\n\t\t\t\t\t\t\t\tdata={ href }\n\t\t\t\t\t\t\t\ttype=\"application/pdf\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\theight: `${ previewHeight }px`,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-label={ pdfEmbedLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasFilename && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tid={ describedById }\n\t\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\t\t\trel={\n\t\t\t\t\t\t\t\ttextLinkTarget\n\t\t\t\t\t\t\t\t\t? 'noreferrer noopener'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ fileName } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'wp-block-file__button',\n\t\t\t\t\t\t\t\t__experimentalGetElementClassName( 'button' )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tdownload\n\t\t\t\t\t\t\taria-describedby={ describedById }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ downloadButtonText } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t},\n};\n\n// In #41239 the button was made an element button which added a `wp-element-button` classname\n// to the download link element.\nconst v2 = {\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\thref: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tfileId: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'id',\n\t\t},\n\t\tfileName: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a:not([download])',\n\t\t},\n\t\ttextLinkHref: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'href',\n\t\t},\n\t\ttextLinkTarget: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'target',\n\t\t},\n\t\tshowDownloadButton: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdownloadButtonText: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a[download]',\n\t\t},\n\t\tdisplayPreview: {\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreviewHeight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 600,\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\thref,\n\t\t\tfileId,\n\t\t\tfileName,\n\t\t\ttextLinkHref,\n\t\t\ttextLinkTarget,\n\t\t\tshowDownloadButton,\n\t\t\tdownloadButtonText,\n\t\t\tdisplayPreview,\n\t\t\tpreviewHeight,\n\t\t} = attributes;\n\n\t\tconst pdfEmbedLabel = RichText.isEmpty( fileName )\n\t\t\t? __( 'PDF embed' )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %s: filename. */\n\t\t\t\t\t__( 'Embed of %s.' ),\n\t\t\t\t\tfileName\n\t\t\t  );\n\n\t\tconst hasFilename = ! RichText.isEmpty( fileName );\n\n\t\t// Only output an `aria-describedby` when the element it's referring to is\n\t\t// actually rendered.\n\t\tconst describedById = hasFilename ? fileId : undefined;\n\n\t\treturn (\n\t\t\thref && (\n\t\t\t\t<div { ...useBlockProps.save() }>\n\t\t\t\t\t{ displayPreview && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<object\n\t\t\t\t\t\t\t\tclassName=\"wp-block-file__embed\"\n\t\t\t\t\t\t\t\tdata={ href }\n\t\t\t\t\t\t\t\ttype=\"application/pdf\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\theight: `${ previewHeight }px`,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-label={ pdfEmbedLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ hasFilename && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tid={ describedById }\n\t\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\t\t\trel={\n\t\t\t\t\t\t\t\ttextLinkTarget\n\t\t\t\t\t\t\t\t\t? 'noreferrer noopener'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ fileName } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\t\tclassName=\"wp-block-file__button\"\n\t\t\t\t\t\t\tdownload\n\t\t\t\t\t\t\taria-describedby={ describedById }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ downloadButtonText } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t},\n};\n\n// Version of the file block without PR#28062 accessibility fix.\nconst v1 = {\n\tattributes: {\n\t\tid: {\n\t\t\ttype: 'number',\n\t\t},\n\t\thref: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tfileName: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a:not([download])',\n\t\t},\n\t\ttextLinkHref: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'href',\n\t\t},\n\t\ttextLinkTarget: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'a:not([download])',\n\t\t\tattribute: 'target',\n\t\t},\n\t\tshowDownloadButton: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdownloadButtonText: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'a[download]',\n\t\t},\n\t\tdisplayPreview: {\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreviewHeight: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 600,\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\thref,\n\t\t\tfileName,\n\t\t\ttextLinkHref,\n\t\t\ttextLinkTarget,\n\t\t\tshowDownloadButton,\n\t\t\tdownloadButtonText,\n\t\t\tdisplayPreview,\n\t\t\tpreviewHeight,\n\t\t} = attributes;\n\n\t\tconst pdfEmbedLabel = RichText.isEmpty( fileName )\n\t\t\t? __( 'PDF embed' )\n\t\t\t: sprintf(\n\t\t\t\t\t/* translators: %s: filename. */\n\t\t\t\t\t__( 'Embed of %s.' ),\n\t\t\t\t\tfileName\n\t\t\t  );\n\n\t\treturn (\n\t\t\thref && (\n\t\t\t\t<div { ...useBlockProps.save() }>\n\t\t\t\t\t{ displayPreview && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<object\n\t\t\t\t\t\t\t\tclassName=\"wp-block-file__embed\"\n\t\t\t\t\t\t\t\tdata={ href }\n\t\t\t\t\t\t\t\ttype=\"application/pdf\"\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\theight: `${ previewHeight }px`,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\taria-label={ pdfEmbedLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! RichText.isEmpty( fileName ) && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\t\t\trel={\n\t\t\t\t\t\t\t\ttextLinkTarget\n\t\t\t\t\t\t\t\t\t? 'noreferrer noopener'\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ fileName } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\t\tclassName=\"wp-block-file__button\"\n\t\t\t\t\t\t\tdownload\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RichText.Content value={ downloadButtonText } />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t},\n};\n\nconst deprecated = [ v3, v2, v1 ];\n\nexport default deprecated;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tPanelBody,\r\n\tRangeControl,\r\n\tSelectControl,\r\n\tToggleControl,\r\n} from '@wordpress/components';\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { MIN_PREVIEW_HEIGHT, MAX_PREVIEW_HEIGHT } from './edit';\r\n\r\nexport default function FileBlockInspector( {\r\n\threfs,\r\n\topenInNewWindow,\r\n\tshowDownloadButton,\r\n\tchangeLinkDestinationOption,\r\n\tchangeOpenInNewWindow,\r\n\tchangeShowDownloadButton,\r\n\tdisplayPreview,\r\n\tchangeDisplayPreview,\r\n\tpreviewHeight,\r\n\tchangePreviewHeight,\r\n} ) {\r\n\tconst { href, textLinkHref, attachmentPage } = hrefs;\r\n\r\n\tlet linkDestinationOptions = [ { value: href, label: __( 'URL' ) } ];\r\n\tif ( attachmentPage ) {\r\n\t\tlinkDestinationOptions = [\r\n\t\t\t{ value: href, label: __( 'Media file' ) },\r\n\t\t\t{ value: attachmentPage, label: __( 'Attachment page' ) },\r\n\t\t];\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t{ href.endsWith( '.pdf' ) && (\r\n\t\t\t\t\t<PanelBody title={ __( 'PDF settings' ) }>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Show inline embed' ) }\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tdisplayPreview\r\n\t\t\t\t\t\t\t\t\t? __(\r\n\t\t\t\t\t\t\t\t\t\t\t\"Note: Most phone and tablet browsers won't display embedded PDFs.\"\r\n\t\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tchecked={ !! displayPreview }\r\n\t\t\t\t\t\t\tonChange={ changeDisplayPreview }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{ displayPreview && (\r\n\t\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Height in pixels' ) }\r\n\t\t\t\t\t\t\t\tmin={ MIN_PREVIEW_HEIGHT }\r\n\t\t\t\t\t\t\t\tmax={ Math.max(\r\n\t\t\t\t\t\t\t\t\tMAX_PREVIEW_HEIGHT,\r\n\t\t\t\t\t\t\t\t\tpreviewHeight\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tvalue={ previewHeight }\r\n\t\t\t\t\t\t\t\tonChange={ changePreviewHeight }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t) }\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Link to' ) }\r\n\t\t\t\t\t\tvalue={ textLinkHref }\r\n\t\t\t\t\t\toptions={ linkDestinationOptions }\r\n\t\t\t\t\t\tonChange={ changeLinkDestinationOption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\r\n\t\t\t\t\t\tchecked={ openInNewWindow }\r\n\t\t\t\t\t\tonChange={ changeOpenInNewWindow }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Show download button' ) }\r\n\t\t\t\t\t\tchecked={ showDownloadButton }\r\n\t\t\t\t\t\tonChange={ changeShowDownloadButton }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * Uses a combination of user agent matching and feature detection to determine whether\r\n * the current browser supports rendering PDFs inline.\r\n *\r\n * @return {boolean} Whether or not the browser supports inline PDFs.\r\n */\r\nexport const browserSupportsPdfs = () => {\r\n\t// Most mobile devices include \"Mobi\" in their UA.\r\n\tif ( window.navigator.userAgent.indexOf( 'Mobi' ) > -1 ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Android tablets are the noteable exception.\r\n\tif ( window.navigator.userAgent.indexOf( 'Android' ) > -1 ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// iPad pretends to be a Mac.\r\n\tif (\r\n\t\twindow.navigator.userAgent.indexOf( 'Macintosh' ) > -1 &&\r\n\t\twindow.navigator.maxTouchPoints &&\r\n\t\twindow.navigator.maxTouchPoints > 2\r\n\t) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// IE only supports PDFs when there's an ActiveX object available for it.\r\n\tif (\r\n\t\t!! ( window.ActiveXObject || 'ActiveXObject' in window ) &&\r\n\t\t! (\r\n\t\t\tcreateActiveXObject( 'AcroPDF.PDF' ) ||\r\n\t\t\tcreateActiveXObject( 'PDF.PdfCtrl' )\r\n\t\t)\r\n\t) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\n/**\r\n * Helper function for creating ActiveX objects, catching any errors that are thrown\r\n * when it's generated.\r\n *\r\n * @param {string} type The name of the ActiveX object to create.\r\n * @return {window.ActiveXObject|undefined} The generated ActiveXObject, or null if it failed.\r\n */\r\nconst createActiveXObject = ( type ) => {\r\n\tlet ax;\r\n\ttry {\r\n\t\tax = new window.ActiveXObject( type );\r\n\t} catch ( e ) {\r\n\t\tax = undefined;\r\n\t}\r\n\treturn ax;\r\n};\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\t__unstableGetAnimateClassName as getAnimateClassName,\n\tResizableBox,\n\tToolbarButton,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\tRichText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { __, _x } from '@wordpress/i18n';\nimport { file as icon } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport FileBlockInspector from './inspector';\nimport { browserSupportsPdfs } from './utils';\nimport removeAnchorTag from '../utils/remove-anchor-tag';\nimport { useUploadMediaFromBlobURL } from '../utils/hooks';\n\nexport const MIN_PREVIEW_HEIGHT = 200;\nexport const MAX_PREVIEW_HEIGHT = 2000;\n\nfunction ClipboardToolbarButton( { text, disabled } ) {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst ref = useCopyToClipboard( text, () => {\n\t\tcreateNotice( 'info', __( 'Copied URL to clipboard.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\n\treturn (\n\t\t<ToolbarButton\n\t\t\tclassName=\"components-clipboard-toolbar-button\"\n\t\t\tref={ ref }\n\t\t\tdisabled={ disabled }\n\t\t>\n\t\t\t{ __( 'Copy URL' ) }\n\t\t</ToolbarButton>\n\t);\n}\n\nfunction FileEdit( { attributes, isSelected, setAttributes, clientId } ) {\n\tconst {\n\t\tid,\n\t\tfileName,\n\t\thref,\n\t\ttextLinkHref,\n\t\ttextLinkTarget,\n\t\tshowDownloadButton,\n\t\tdownloadButtonText,\n\t\tdisplayPreview,\n\t\tpreviewHeight,\n\t} = attributes;\n\tconst { media } = useSelect(\n\t\t( select ) => ( {\n\t\t\tmedia:\n\t\t\t\tid === undefined\n\t\t\t\t\t? undefined\n\t\t\t\t\t: select( coreStore ).getMedia( id ),\n\t\t} ),\n\t\t[ id ]\n\t);\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { toggleSelection } = useDispatch( blockEditorStore );\n\n\tuseUploadMediaFromBlobURL( {\n\t\turl: href,\n\t\tonChange: onSelectFile,\n\t\tonError: onUploadError,\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( RichText.isEmpty( downloadButtonText ) ) {\n\t\t\tsetAttributes( {\n\t\t\t\tdownloadButtonText: _x( 'Download', 'button label' ),\n\t\t\t} );\n\t\t}\n\t}, [] );\n\n\tfunction onSelectFile( newMedia ) {\n\t\tif ( ! newMedia || ! newMedia.url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isPdf = newMedia.url.endsWith( '.pdf' );\n\t\tsetAttributes( {\n\t\t\thref: newMedia.url,\n\t\t\tfileName: newMedia.title,\n\t\t\ttextLinkHref: newMedia.url,\n\t\t\tid: newMedia.id,\n\t\t\tdisplayPreview: isPdf ? true : undefined,\n\t\t\tpreviewHeight: isPdf ? 600 : undefined,\n\t\t\tfileId: `wp-block-file--media-${ clientId }`,\n\t\t} );\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tsetAttributes( { href: undefined } );\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tfunction changeLinkDestinationOption( newHref ) {\n\t\t// Choose Media File or Attachment Page (when file is in Media Library).\n\t\tsetAttributes( { textLinkHref: newHref } );\n\t}\n\n\tfunction changeOpenInNewWindow( newValue ) {\n\t\tsetAttributes( {\n\t\t\ttextLinkTarget: newValue ? '_blank' : false,\n\t\t} );\n\t}\n\n\tfunction changeShowDownloadButton( newValue ) {\n\t\tsetAttributes( { showDownloadButton: newValue } );\n\t}\n\n\tfunction changeDisplayPreview( newValue ) {\n\t\tsetAttributes( { displayPreview: newValue } );\n\t}\n\n\tfunction handleOnResizeStop( event, direction, elt, delta ) {\n\t\ttoggleSelection( true );\n\n\t\tconst newHeight = parseInt( previewHeight + delta.height, 10 );\n\t\tsetAttributes( { previewHeight: newHeight } );\n\t}\n\n\tfunction changePreviewHeight( newValue ) {\n\t\tconst newHeight = Math.max(\n\t\t\tparseInt( newValue, 10 ),\n\t\t\tMIN_PREVIEW_HEIGHT\n\t\t);\n\t\tsetAttributes( { previewHeight: newHeight } );\n\t}\n\n\tconst attachmentPage = media && media.link;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames(\n\t\t\tisBlobURL( href ) && getAnimateClassName( { type: 'loading' } ),\n\t\t\t{\n\t\t\t\t'is-transient': isBlobURL( href ),\n\t\t\t}\n\t\t),\n\t} );\n\n\tconst displayPreviewInEditor = browserSupportsPdfs() && displayPreview;\n\n\tif ( ! href ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: __( 'File' ),\n\t\t\t\t\t\tinstructions: __(\n\t\t\t\t\t\t\t'Upload a file or pick one from your media library.'\n\t\t\t\t\t\t),\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ onSelectFile }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\taccept=\"*\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<FileBlockInspector\n\t\t\t\threfs={ { href, textLinkHref, attachmentPage } }\n\t\t\t\t{ ...{\n\t\t\t\t\topenInNewWindow: !! textLinkTarget,\n\t\t\t\t\tshowDownloadButton,\n\t\t\t\t\tchangeLinkDestinationOption,\n\t\t\t\t\tchangeOpenInNewWindow,\n\t\t\t\t\tchangeShowDownloadButton,\n\t\t\t\t\tdisplayPreview,\n\t\t\t\t\tchangeDisplayPreview,\n\t\t\t\t\tpreviewHeight,\n\t\t\t\t\tchangePreviewHeight,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ href }\n\t\t\t\t\taccept=\"*\"\n\t\t\t\t\tonSelect={ onSelectFile }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t/>\n\t\t\t\t<ClipboardToolbarButton\n\t\t\t\t\ttext={ href }\n\t\t\t\t\tdisabled={ isBlobURL( href ) }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ displayPreviewInEditor && (\n\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\tsize={ { height: previewHeight } }\n\t\t\t\t\t\tminHeight={ MIN_PREVIEW_HEIGHT }\n\t\t\t\t\t\tmaxHeight={ MAX_PREVIEW_HEIGHT }\n\t\t\t\t\t\tminWidth=\"100%\"\n\t\t\t\t\t\tgrid={ [ 10, 10 ] }\n\t\t\t\t\t\tenable={ {\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tright: false,\n\t\t\t\t\t\t\tbottom: true,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\ttopRight: false,\n\t\t\t\t\t\t\tbottomRight: false,\n\t\t\t\t\t\t\tbottomLeft: false,\n\t\t\t\t\t\t\ttopLeft: false,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonResizeStart={ () => toggleSelection( false ) }\n\t\t\t\t\t\tonResizeStop={ handleOnResizeStop }\n\t\t\t\t\t\tshowHandle={ isSelected }\n\t\t\t\t\t>\n\t\t\t\t\t\t<object\n\t\t\t\t\t\t\tclassName=\"wp-block-file__preview\"\n\t\t\t\t\t\t\tdata={ href }\n\t\t\t\t\t\t\ttype=\"application/pdf\"\n\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t'Embed of the selected PDF file.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ ! isSelected && (\n\t\t\t\t\t\t\t<div className=\"wp-block-file__preview-overlay\" />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ResizableBox>\n\t\t\t\t) }\n\t\t\t\t<div className={ 'wp-block-file__content-wrapper' }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"fileName\"\n\t\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\t\tvalue={ fileName }\n\t\t\t\t\t\tplaceholder={ __( 'Write file name…' ) }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tonChange={ ( text ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tfileName: removeAnchorTag( text ),\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t/>\n\t\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'wp-block-file__button-richtext-wrapper'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ /* Using RichText here instead of PlainText so that it can be styled like a button. */ }\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\tidentifier=\"downloadButtonText\"\n\t\t\t\t\t\t\t\ttagName=\"div\" // Must be block-level or else cursor disappears.\n\t\t\t\t\t\t\t\taria-label={ __( 'Download button text' ) }\n\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t'wp-block-file__button',\n\t\t\t\t\t\t\t\t\t__experimentalGetElementClassName(\n\t\t\t\t\t\t\t\t\t\t'button'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ downloadButtonText }\n\t\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Add text…' ) }\n\t\t\t\t\t\t\t\tonChange={ ( text ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tdownloadButtonText:\n\t\t\t\t\t\t\t\t\t\t\tremoveAnchorTag( text ),\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default FileEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlobURL } from '@wordpress/blob';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { select } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { getFilename } from '@wordpress/url';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'files',\r\n\t\t\tisMatch( files ) {\r\n\t\t\t\treturn files.length > 0;\r\n\t\t\t},\r\n\t\t\t// We define a lower priorty (higher number) than the default of 10. This\r\n\t\t\t// ensures that the File block is only created as a fallback.\r\n\t\t\tpriority: 15,\r\n\t\t\ttransform: ( files ) => {\r\n\t\t\t\tconst blocks = [];\r\n\r\n\t\t\t\tfiles.forEach( ( file ) => {\r\n\t\t\t\t\tconst blobURL = createBlobURL( file );\r\n\r\n\t\t\t\t\t// File will be uploaded in componentDidMount()\r\n\t\t\t\t\tblocks.push(\r\n\t\t\t\t\t\tcreateBlock( 'core/file', {\r\n\t\t\t\t\t\t\thref: blobURL,\r\n\t\t\t\t\t\t\tfileName: file.name,\r\n\t\t\t\t\t\t\ttextLinkHref: blobURL,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn blocks;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/audio' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/file', {\r\n\t\t\t\t\thref: attributes.src,\r\n\t\t\t\t\tfileName: attributes.caption,\r\n\t\t\t\t\ttextLinkHref: attributes.src,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/file', {\r\n\t\t\t\t\thref: attributes.src,\r\n\t\t\t\t\tfileName: attributes.caption,\r\n\t\t\t\t\ttextLinkHref: attributes.src,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/file', {\r\n\t\t\t\t\thref: attributes.url,\r\n\t\t\t\t\tfileName:\r\n\t\t\t\t\t\tattributes.caption || getFilename( attributes.url ),\r\n\t\t\t\t\ttextLinkHref: attributes.url,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/audio' ],\r\n\t\t\tisMatch: ( { id } ) => {\r\n\t\t\t\tif ( ! id ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst { getMedia } = select( coreStore );\r\n\t\t\t\tconst media = getMedia( id );\r\n\t\t\t\treturn !! media && media.mime_type.includes( 'audio' );\r\n\t\t\t},\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/audio', {\r\n\t\t\t\t\tsrc: attributes.href,\r\n\t\t\t\t\tcaption: attributes.fileName,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\tisMatch: ( { id } ) => {\r\n\t\t\t\tif ( ! id ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst { getMedia } = select( coreStore );\r\n\t\t\t\tconst media = getMedia( id );\r\n\t\t\t\treturn !! media && media.mime_type.includes( 'video' );\r\n\t\t\t},\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/video', {\r\n\t\t\t\t\tsrc: attributes.href,\r\n\t\t\t\t\tcaption: attributes.fileName,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\tisMatch: ( { id } ) => {\r\n\t\t\t\tif ( ! id ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst { getMedia } = select( coreStore );\r\n\t\t\t\tconst media = getMedia( id );\r\n\t\t\t\treturn !! media && media.mime_type.includes( 'image' );\r\n\t\t\t},\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/image', {\r\n\t\t\t\t\turl: attributes.href,\r\n\t\t\t\t\tcaption: attributes.fileName,\r\n\t\t\t\t\tid: attributes.id,\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\nimport { file as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\thref: 'https://upload.wikimedia.org/wikipedia/commons/d/dd/Armstrong_Small_Step.ogg',\r\n\t\t\tfileName: _x( 'Armstrong_Small_Step', 'Name of the file' ),\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tdeprecated,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\thref,\n\t\tfileId,\n\t\tfileName,\n\t\ttextLinkHref,\n\t\ttextLinkTarget,\n\t\tshowDownloadButton,\n\t\tdownloadButtonText,\n\t\tdisplayPreview,\n\t\tpreviewHeight,\n\t} = attributes;\n\n\tconst pdfEmbedLabel = RichText.isEmpty( fileName )\n\t\t? 'PDF embed'\n\t\t: // To do: use toPlainText, but we need ensure it's RichTextData. See\n\t\t  // https://github.com/WordPress/gutenberg/pull/56710.\n\t\t  fileName.toString();\n\n\tconst hasFilename = ! RichText.isEmpty( fileName );\n\n\t// Only output an `aria-describedby` when the element it's referring to is\n\t// actually rendered.\n\tconst describedById = hasFilename ? fileId : undefined;\n\n\treturn (\n\t\thref && (\n\t\t\t<div { ...useBlockProps.save() }>\n\t\t\t\t{ displayPreview && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<object\n\t\t\t\t\t\t\tclassName=\"wp-block-file__embed\"\n\t\t\t\t\t\t\tdata={ href }\n\t\t\t\t\t\t\ttype=\"application/pdf\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\theight: `${ previewHeight }px`,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\taria-label={ pdfEmbedLabel }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ hasFilename && (\n\t\t\t\t\t<a\n\t\t\t\t\t\tid={ describedById }\n\t\t\t\t\t\thref={ textLinkHref }\n\t\t\t\t\t\ttarget={ textLinkTarget }\n\t\t\t\t\t\trel={\n\t\t\t\t\t\t\ttextLinkTarget ? 'noreferrer noopener' : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content value={ fileName } />\n\t\t\t\t\t</a>\n\t\t\t\t) }\n\t\t\t\t{ showDownloadButton && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ href }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'wp-block-file__button',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'button' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdownload\n\t\t\t\t\t\taria-describedby={ describedById }\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText.Content value={ downloadButtonText } />\n\t\t\t\t\t</a>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t)\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport const formSubmissionNotificationSuccess = [\r\n\t'core/form-submission-notification',\r\n\t{\r\n\t\ttype: 'success',\r\n\t},\r\n\t[\r\n\t\t[\r\n\t\t\t'core/paragraph',\r\n\t\t\t{\r\n\t\t\t\tcontent:\r\n\t\t\t\t\t'<mark style=\"background-color:rgba(0, 0, 0, 0);color:#345C00\" class=\"has-inline-color\">' +\r\n\t\t\t\t\t__( 'Your form has been submitted successfully' ) +\r\n\t\t\t\t\t'</mark>',\r\n\t\t\t},\r\n\t\t],\r\n\t],\r\n];\r\nexport const formSubmissionNotificationError = [\r\n\t'core/form-submission-notification',\r\n\t{\r\n\t\ttype: 'error',\r\n\t},\r\n\t[\r\n\t\t[\r\n\t\t\t'core/paragraph',\r\n\t\t\t{\r\n\t\t\t\tcontent:\r\n\t\t\t\t\t'<mark style=\"background-color:rgba(0, 0, 0, 0);color:#CF2E2E\" class=\"has-inline-color\">' +\r\n\t\t\t\t\t__( 'There was an error submitting your form.' ) +\r\n\t\t\t\t\t'</mark>',\r\n\t\t\t},\r\n\t\t],\r\n\t],\r\n];\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { TextControl, SelectControl, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n} from './utils.js';\n\nconst TEMPLATE = [\n\tformSubmissionNotificationSuccess,\n\tformSubmissionNotificationError,\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'text',\n\t\t\tlabel: __( 'Name' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'email',\n\t\t\tlabel: __( 'Email' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[\n\t\t'core/form-input',\n\t\t{\n\t\t\ttype: 'textarea',\n\t\t\tlabel: __( 'Comment' ),\n\t\t\trequired: true,\n\t\t},\n\t],\n\t[ 'core/form-submit-button', {} ],\n];\n\nconst Edit = ( { attributes, setAttributes, clientId } ) => {\n\tconst { action, method, email, submissionMethod } = attributes;\n\tconst blockProps = useBlockProps();\n\n\tconst { hasInnerBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\trenderAppender: hasInnerBlocks\n\t\t\t? undefined\n\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t// __nextHasNoMarginBottom\n\t\t\t\t\t\t// size={ '__unstable-large' }\n\t\t\t\t\t\tlabel={ __( 'Submissions method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t// TODO: Allow plugins to add their own submission methods.\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Send email' ),\n\t\t\t\t\t\t\t\tvalue: 'email',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( '- Custom -' ),\n\t\t\t\t\t\t\t\tvalue: 'custom',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ submissionMethod }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { submissionMethod: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tsubmissionMethod === 'custom'\n\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions. Additional options for the \"custom\" mode can be found in the \"Advanced\" section.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ submissionMethod === 'email' && (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tlabel={ __( 'Email for form submissions' ) }\n\t\t\t\t\t\t\tvalue={ email }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { email: value } );\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\taction: `mailto:${ value }`,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tsetAttributes( { method: 'post' } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'The email address where form submissions will be sent. Separate multiple email addresses with a comma.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ submissionMethod !== 'email' && (\n\t\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Method' ) }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: 'Get', value: 'get' },\n\t\t\t\t\t\t\t{ label: 'Post', value: 'post' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tvalue={ method }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { method: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Select the method to use for form submissions.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tlabel={ __( 'Form action' ) }\n\t\t\t\t\t\tvalue={ action }\n\t\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\taction: newVal,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The URL where the form should be submitted.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<form\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t\tclassName=\"wp-block-form\"\n\t\t\t\tencType={ submissionMethod === 'email' ? 'text/plain' : null }\n\t\t\t/>\n\t\t</>\n\t);\n};\nexport default Edit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tformSubmissionNotificationSuccess,\r\n\tformSubmissionNotificationError,\r\n} from './utils.js';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'comment-form',\r\n\t\ttitle: __( 'Experimental Comment form' ),\r\n\t\tdescription: __( 'A comment form for posts and pages.' ),\r\n\t\tattributes: {\r\n\t\t\tsubmissionMethod: 'custom',\r\n\t\t\taction: '{SITE_URL}/wp-comments-post.php',\r\n\t\t\tmethod: 'post',\r\n\t\t\tanchor: 'comment-form',\r\n\t\t},\r\n\t\tisDefault: false,\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\tname: 'author',\r\n\t\t\t\t\tlabel: __( 'Name' ),\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvisibilityPermissions: 'logged-out',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\tname: 'email',\r\n\t\t\t\t\tlabel: __( 'Email' ),\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvisibilityPermissions: 'logged-out',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'textarea',\r\n\t\t\t\t\tname: 'comment',\r\n\t\t\t\t\tlabel: __( 'Comment' ),\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvisibilityPermissions: 'all',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[ 'core/form-submit-button', {} ],\r\n\t\t],\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\t! blockAttributes?.type || blockAttributes?.type === 'text',\r\n\t},\r\n\t{\r\n\t\tname: 'wp-privacy-form',\r\n\t\ttitle: __( 'Experimental privacy request form' ),\r\n\t\tkeywords: [ 'GDPR' ],\r\n\t\tdescription: __( 'A form to request data exports and/or deletion.' ),\r\n\t\tattributes: {\r\n\t\t\tsubmissionMethod: 'custom',\r\n\t\t\taction: '',\r\n\t\t\tmethod: 'post',\r\n\t\t\tanchor: 'gdpr-form',\r\n\t\t},\r\n\t\tisDefault: false,\r\n\t\tinnerBlocks: [\r\n\t\t\tformSubmissionNotificationSuccess,\r\n\t\t\tformSubmissionNotificationError,\r\n\t\t\t[\r\n\t\t\t\t'core/paragraph',\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t'To request an export or deletion of your personal data on this site, please fill-in the form below. You can define the type of request you wish to perform, and your email address. Once the form is submitted, you will receive a confirmation email with instructions on the next steps.'\r\n\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\tname: 'email',\r\n\t\t\t\t\tlabel: __( 'Enter your email address.' ),\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvisibilityPermissions: 'all',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\tname: 'export_personal_data',\r\n\t\t\t\t\tlabel: __( 'Request data export' ),\r\n\t\t\t\t\trequired: false,\r\n\t\t\t\t\tvisibilityPermissions: 'all',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\tname: 'remove_personal_data',\r\n\t\t\t\t\tlabel: __( 'Request data deletion' ),\r\n\t\t\t\t\trequired: false,\r\n\t\t\t\t\tvisibilityPermissions: 'all',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[ 'core/form-submit-button', {} ],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\tname: 'wp-action',\r\n\t\t\t\t\tvalue: 'wp_privacy_send_request',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t'core/form-input',\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'hidden',\r\n\t\t\t\t\tname: 'wp-privacy-request',\r\n\t\t\t\t\tvalue: '1',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t],\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\t! blockAttributes?.type || blockAttributes?.type === 'text',\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport variations from './variations';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { addFilter } from '@wordpress/hooks';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit,\r\n\tsave,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => {\r\n\t// Prevent adding forms inside forms.\r\n\tconst DISALLOWED_PARENTS = [ 'core/form' ];\r\n\taddFilter(\r\n\t\t'blockEditor.__unstableCanInsertBlockType',\r\n\t\t'core/block-library/preventInsertingFormIntoAnotherForm',\r\n\t\t(\r\n\t\t\tcanInsert,\r\n\t\t\tblockType,\r\n\t\t\trootClientId,\r\n\t\t\t{ getBlock, getBlockParentsByBlockName }\r\n\t\t) => {\r\n\t\t\tif ( blockType.name !== 'core/form' ) {\r\n\t\t\t\treturn canInsert;\r\n\t\t\t}\r\n\r\n\t\t\tfor ( const disallowedParentType of DISALLOWED_PARENTS ) {\r\n\t\t\t\tconst hasDisallowedParent =\r\n\t\t\t\t\tgetBlock( rootClientId )?.name === disallowedParentType ||\r\n\t\t\t\t\tgetBlockParentsByBlockName(\r\n\t\t\t\t\t\trootClientId,\r\n\t\t\t\t\t\tdisallowedParentType\r\n\t\t\t\t\t).length;\r\n\t\t\t\tif ( hasDisallowedParent ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t);\r\n\r\n\treturn initBlock( { name, metadata, settings } );\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst Save = ( { attributes } ) => {\r\n\tconst blockProps = useBlockProps.save();\r\n\tconst { submissionMethod } = attributes;\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\t{ ...blockProps }\r\n\t\t\tclassName=\"wp-block-form\"\r\n\t\t\tencType={ submissionMethod === 'email' ? 'text/plain' : null }\r\n\t\t>\r\n\t\t\t<InnerBlocks.Content />\r\n\t\t</form>\r\n\t);\r\n};\r\nexport default Save;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"dom\"];","/**\r\n * External dependencies\r\n */\r\nimport classNames from 'classnames';\r\nimport removeAccents from 'remove-accents';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\r\n\r\nconst getNameFromLabelV1 = ( content ) => {\r\n\treturn (\r\n\t\tremoveAccents( stripHTML( content ) )\r\n\t\t\t// Convert anything that's not a letter or number to a hyphen.\r\n\t\t\t.replace( /[^\\p{L}\\p{N}]+/gu, '-' )\r\n\t\t\t// Convert to lowercase\r\n\t\t\t.toLowerCase()\r\n\t\t\t// Remove any remaining leading or trailing hyphens.\r\n\t\t\t.replace( /(^-+)|(-+$)/g, '' )\r\n\t);\r\n};\r\n\r\n// Version without wrapper div in saved markup\r\n// See: https://github.com/WordPress/gutenberg/pull/56507\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttype: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'text',\r\n\t\t},\r\n\t\tname: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'Label',\r\n\t\t\tselector: '.wp-block-form-input__label-content',\r\n\t\t\tsource: 'html',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tinlineLabel: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\trequired: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t\tselector: '.wp-block-form-input__input',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tattribute: 'required',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t\tselector: '.wp-block-form-input__input',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tattribute: 'placeholder',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: '',\r\n\t\t\tselector: 'input',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tattribute: 'value',\r\n\t\t},\r\n\t\tvisibilityPermissions: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'all',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tclassName: false,\r\n\t\tanchor: true,\r\n\t\treusable: false,\r\n\t\tspacing: {\r\n\t\t\tmargin: [ 'top', 'bottom' ],\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tradius: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tradius: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { type, name, label, inlineLabel, required, placeholder, value } =\r\n\t\t\tattributes;\r\n\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\r\n\t\tconst inputStyle = {\r\n\t\t\t...borderProps.style,\r\n\t\t\t...colorProps.style,\r\n\t\t};\r\n\r\n\t\tconst inputClasses = classNames(\r\n\t\t\t'wp-block-form-input__input',\r\n\t\t\tcolorProps.className,\r\n\t\t\tborderProps.className\r\n\t\t);\r\n\t\tconst TagName = type === 'textarea' ? 'textarea' : 'input';\r\n\r\n\t\tif ( 'hidden' === type ) {\r\n\t\t\treturn <input type={ type } name={ name } value={ value } />;\r\n\t\t}\r\n\r\n\t\t/* eslint-disable jsx-a11y/label-has-associated-control */\r\n\t\treturn (\r\n\t\t\t<label\r\n\t\t\t\tclassName={ classNames( 'wp-block-form-input__label', {\r\n\t\t\t\t\t'is-label-inline': inlineLabel,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<span className=\"wp-block-form-input__label-content\">\r\n\t\t\t\t\t<RichText.Content value={ label } />\r\n\t\t\t\t</span>\r\n\t\t\t\t<TagName\r\n\t\t\t\t\tclassName={ inputClasses }\r\n\t\t\t\t\ttype={ 'textarea' === type ? undefined : type }\r\n\t\t\t\t\tname={ name || getNameFromLabelV1( label ) }\r\n\t\t\t\t\trequired={ required }\r\n\t\t\t\t\taria-required={ required }\r\n\t\t\t\t\tplaceholder={ placeholder || undefined }\r\n\t\t\t\t\tstyle={ inputStyle }\r\n\t\t\t\t/>\r\n\t\t\t</label>\r\n\t\t);\r\n\t\t/* eslint-enable jsx-a11y/label-has-associated-control */\r\n\t},\r\n};\r\n\r\nconst deprecated = [ v1 ];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'text',\r\n\t\ttitle: __( 'Text Input' ),\r\n\t\ticon: 'edit-page',\r\n\t\tdescription: __( 'A generic text input.' ),\r\n\t\tattributes: { type: 'text' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\t! blockAttributes?.type || blockAttributes?.type === 'text',\r\n\t},\r\n\t{\r\n\t\tname: 'textarea',\r\n\t\ttitle: __( 'Textarea Input' ),\r\n\t\ticon: 'testimonial',\r\n\t\tdescription: __(\r\n\t\t\t'A textarea input to allow entering multiple lines of text.'\r\n\t\t),\r\n\t\tattributes: { type: 'textarea' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'textarea',\r\n\t},\r\n\t{\r\n\t\tname: 'checkbox',\r\n\t\ttitle: __( 'Checkbox Input' ),\r\n\t\tdescription: __( 'A simple checkbox input.' ),\r\n\t\ticon: 'forms',\r\n\t\tattributes: { type: 'checkbox', inlineLabel: true },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'checkbox',\r\n\t},\r\n\t{\r\n\t\tname: 'email',\r\n\t\ttitle: __( 'Email Input' ),\r\n\t\ticon: 'email',\r\n\t\tdescription: __( 'Used for email addresses.' ),\r\n\t\tattributes: { type: 'email' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'email',\r\n\t},\r\n\t{\r\n\t\tname: 'url',\r\n\t\ttitle: __( 'URL Input' ),\r\n\t\ticon: 'admin-site',\r\n\t\tdescription: __( 'Used for URLs.' ),\r\n\t\tattributes: { type: 'url' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'url',\r\n\t},\r\n\t{\r\n\t\tname: 'tel',\r\n\t\ttitle: __( 'Telephone Input' ),\r\n\t\ticon: 'phone',\r\n\t\tdescription: __( 'Used for phone numbers.' ),\r\n\t\tattributes: { type: 'tel' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'tel',\r\n\t},\r\n\t{\r\n\t\tname: 'number',\r\n\t\ttitle: __( 'Number Input' ),\r\n\t\ticon: 'edit-page',\r\n\t\tdescription: __( 'A numeric input.' ),\r\n\t\tattributes: { type: 'number' },\r\n\t\tisDefault: true,\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) => blockAttributes?.type === 'number',\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tdeprecated,\r\n\tedit,\r\n\tsave,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalUseColorProps as useColorProps,\n} from '@wordpress/block-editor';\nimport { PanelBody, TextControl, CheckboxControl } from '@wordpress/components';\n\nimport { useRef } from '@wordpress/element';\n\nfunction InputFieldBlock( { attributes, setAttributes, className } ) {\n\tconst { type, name, label, inlineLabel, required, placeholder, value } =\n\t\tattributes;\n\tconst blockProps = useBlockProps();\n\tconst ref = useRef();\n\tconst TagName = type === 'textarea' ? 'textarea' : 'input';\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst colorProps = useColorProps( attributes );\n\tif ( ref.current ) {\n\t\tref.current.focus();\n\t}\n\n\tconst controls = (\n\t\t<>\n\t\t\t{ 'hidden' !== type && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t{ 'checkbox' !== type && (\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Inline label' ) }\n\t\t\t\t\t\t\t\tchecked={ inlineLabel }\n\t\t\t\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tinlineLabel: newVal,\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\tlabel={ __( 'Required' ) }\n\t\t\t\t\t\t\tchecked={ required }\n\t\t\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\trequired: newVal,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ name }\n\t\t\t\t\tonChange={ ( newVal ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tname: newVal,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Affects the \"name\" atribute of the input element, and is used as a name for the form submission results.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tif ( 'hidden' === type ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ controls }\n\t\t\t\t<input\n\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\tclassName={ classNames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t'wp-block-form-input__input',\n\t\t\t\t\t\tcolorProps.className,\n\t\t\t\t\t\tborderProps.className\n\t\t\t\t\t) }\n\t\t\t\t\taria-label={ __( 'Value' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ ( event ) =>\n\t\t\t\t\t\tsetAttributes( { value: event.target.value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{ controls }\n\t\t\t<span\n\t\t\t\tclassName={ classNames( 'wp-block-form-input__label', {\n\t\t\t\t\t'is-label-inline': inlineLabel || 'checkbox' === type,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\tclassName=\"wp-block-form-input__label-content\"\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\n\t\t\t\t\t}\n\t\t\t\t\taria-label={ label ? __( 'Label' ) : __( 'Empty label' ) }\n\t\t\t\t\tdata-empty={ label ? false : true }\n\t\t\t\t\tplaceholder={ __( 'Type the label for this input' ) }\n\t\t\t\t/>\n\t\t\t\t<TagName\n\t\t\t\t\ttype={ 'textarea' === type ? undefined : type }\n\t\t\t\t\tclassName={ classNames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t'wp-block-form-input__input',\n\t\t\t\t\t\tcolorProps.className,\n\t\t\t\t\t\tborderProps.className\n\t\t\t\t\t) }\n\t\t\t\t\taria-label={ __( 'Optional placeholder text' ) }\n\t\t\t\t\t// We hide the placeholder field's placeholder when there is a value. This\n\t\t\t\t\t// stops screen readers from reading the placeholder field's placeholder\n\t\t\t\t\t// which is confusing.\n\t\t\t\t\tplaceholder={\n\t\t\t\t\t\tplaceholder ? undefined : __( 'Optional placeholder…' )\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ placeholder }\n\t\t\t\t\tonChange={ ( event ) =>\n\t\t\t\t\t\tsetAttributes( { placeholder: event.target.value } )\n\t\t\t\t\t}\n\t\t\t\t\taria-required={ required }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...borderProps.style,\n\t\t\t\t\t\t...colorProps.style,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</span>\n\t\t</div>\n\t);\n}\n\nexport default InputFieldBlock;\n","/**\r\n * External dependencies\r\n */\r\nimport classNames from 'classnames';\r\nimport removeAccents from 'remove-accents';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\r\n\r\n/**\r\n * Get the name attribute from a content string.\r\n *\r\n * @param {string} content The block content.\r\n *\r\n * @return {string} Returns the slug.\r\n */\r\nconst getNameFromLabel = ( content ) => {\r\n\treturn (\r\n\t\tremoveAccents( stripHTML( content ) )\r\n\t\t\t// Convert anything that's not a letter or number to a hyphen.\r\n\t\t\t.replace( /[^\\p{L}\\p{N}]+/gu, '-' )\r\n\t\t\t// Convert to lowercase\r\n\t\t\t.toLowerCase()\r\n\t\t\t// Remove any remaining leading or trailing hyphens.\r\n\t\t\t.replace( /(^-+)|(-+$)/g, '' )\r\n\t);\r\n};\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { type, name, label, inlineLabel, required, placeholder, value } =\r\n\t\tattributes;\r\n\r\n\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\r\n\tconst inputStyle = {\r\n\t\t...borderProps.style,\r\n\t\t...colorProps.style,\r\n\t};\r\n\r\n\tconst inputClasses = classNames(\r\n\t\t'wp-block-form-input__input',\r\n\t\tcolorProps.className,\r\n\t\tborderProps.className\r\n\t);\r\n\tconst TagName = type === 'textarea' ? 'textarea' : 'input';\r\n\r\n\tconst blockProps = useBlockProps.save();\r\n\r\n\tif ( 'hidden' === type ) {\r\n\t\treturn <input type={ type } name={ name } value={ value } />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t{ /* eslint-disable jsx-a11y/label-has-associated-control */ }\r\n\t\t\t<label\r\n\t\t\t\tclassName={ classNames( 'wp-block-form-input__label', {\r\n\t\t\t\t\t'is-label-inline': inlineLabel,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<span className=\"wp-block-form-input__label-content\">\r\n\t\t\t\t\t<RichText.Content value={ label } />\r\n\t\t\t\t</span>\r\n\t\t\t\t<TagName\r\n\t\t\t\t\tclassName={ inputClasses }\r\n\t\t\t\t\ttype={ 'textarea' === type ? undefined : type }\r\n\t\t\t\t\tname={ name || getNameFromLabel( label ) }\r\n\t\t\t\t\trequired={ required }\r\n\t\t\t\t\taria-required={ required }\r\n\t\t\t\t\tplaceholder={ placeholder || undefined }\r\n\t\t\t\t\tstyle={ inputStyle }\r\n\t\t\t\t/>\r\n\t\t\t</label>\r\n\t\t\t{ /* eslint-enable jsx-a11y/label-has-associated-control */ }\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\n\nconst TEMPLATE = [\n\t[\n\t\t'core/buttons',\n\t\t{},\n\t\t[\n\t\t\t[\n\t\t\t\t'core/button',\n\t\t\t\t{\n\t\t\t\t\ttext: __( 'Submit' ),\n\t\t\t\t\ttagName: 'button',\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t},\n\t\t\t],\n\t\t],\n\t],\n];\nconst Edit = () => {\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\ttemplateLock: 'all',\n\t} );\n\treturn (\n\t\t<div className=\"wp-block-form-submit-wrapper\" { ...innerBlocksProps } />\n\t);\n};\nexport default Edit;\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, InnerBlocks } from '@wordpress/block-editor';\r\n\r\nconst Save = () => {\r\n\tconst blockProps = useBlockProps.save();\r\n\treturn (\r\n\t\t<div className=\"wp-block-form-submit-wrapper\" { ...blockProps }>\r\n\t\t\t<InnerBlocks.Content />\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Save;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst group = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default group;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInnerBlocks,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\nconst TEMPLATE = [\r\n\t[\r\n\t\t'core/paragraph',\r\n\t\t{\r\n\t\t\tcontent: __(\r\n\t\t\t\t\"Enter the message you wish displayed for form submission error/success, and select the type of the message (success/error) from the block's options.\"\r\n\t\t\t),\r\n\t\t},\r\n\t],\r\n];\r\n\r\nconst Edit = ( { attributes, clientId } ) => {\r\n\tconst { type } = attributes;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( 'wp-block-form-submission-notification', {\r\n\t\t\t[ `form-notification-type-${ type }` ]: type,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst { hasInnerBlocks } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlock } = select( blockEditorStore );\r\n\t\t\tconst block = getBlock( clientId );\r\n\t\t\treturn {\r\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t\trenderAppender: hasInnerBlocks\r\n\t\t\t? undefined\r\n\t\t\t: InnerBlocks.ButtonBlockAppender,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...innerBlocksProps }\r\n\t\t\tdata-message-success={ __( 'Submission success notification' ) }\r\n\t\t\tdata-message-error={ __( 'Submission error notification' ) }\r\n\t\t/>\r\n\t);\r\n};\r\nexport default Edit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'form-submission-success',\r\n\t\ttitle: __( 'Form Submission Success' ),\r\n\t\tdescription: __( 'Success message for form submissions.' ),\r\n\t\tattributes: {\r\n\t\t\ttype: 'success',\r\n\t\t},\r\n\t\tisDefault: true,\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/paragraph',\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent: __( 'Your form has been submitted successfully.' ),\r\n\t\t\t\t\tbackgroundColor: '#00D084',\r\n\t\t\t\t\ttextColor: '#000000',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\telements: { link: { color: { text: '#000000' } } },\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t],\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\t! blockAttributes?.type || blockAttributes?.type === 'success',\r\n\t},\r\n\t{\r\n\t\tname: 'form-submission-error',\r\n\t\ttitle: __( 'Form Submission Error' ),\r\n\t\tdescription: __( 'Error/failure message for form submissions.' ),\r\n\t\tattributes: {\r\n\t\t\ttype: 'error',\r\n\t\t},\r\n\t\tisDefault: false,\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/paragraph',\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent: __( 'There was an error submitting your form.' ),\r\n\t\t\t\t\tbackgroundColor: '#CF2E2E',\r\n\t\t\t\t\ttextColor: '#FFFFFF',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\telements: { link: { color: { text: '#FFFFFF' } } },\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t],\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\t! blockAttributes?.type || blockAttributes?.type === 'error',\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { group as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { type } = attributes;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...useInnerBlocksProps.save(\r\n\t\t\t\tuseBlockProps.save( {\r\n\t\t\t\t\tclassName: classnames(\r\n\t\t\t\t\t\t'wp-block-form-submission-notification',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t[ `form-notification-type-${ type }` ]: type,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t),\r\n\t\t\t\t} )\r\n\t\t\t) }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const gallery = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default gallery;\r\n","export const LINK_DESTINATION_NONE = 'none';\r\nexport const LINK_DESTINATION_MEDIA = 'media';\r\nexport const LINK_DESTINATION_ATTACHMENT = 'attachment';\r\nexport const LINK_DESTINATION_MEDIA_WP_CORE = 'file';\r\nexport const LINK_DESTINATION_ATTACHMENT_WP_CORE = 'post';\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Platform } from '@wordpress/element';\r\n\r\nexport function defaultColumnsNumber( imageCount ) {\r\n\treturn imageCount ? Math.min( 3, imageCount ) : 3;\r\n}\r\n\r\nexport const pickRelevantMediaFiles = ( image, sizeSlug = 'large' ) => {\r\n\tconst imageProps = Object.fromEntries(\r\n\t\tObject.entries( image ?? {} ).filter( ( [ key ] ) =>\r\n\t\t\t[ 'alt', 'id', 'link' ].includes( key )\r\n\t\t)\r\n\t);\r\n\r\n\timageProps.url =\r\n\t\timage?.sizes?.[ sizeSlug ]?.url ||\r\n\t\timage?.media_details?.sizes?.[ sizeSlug ]?.source_url ||\r\n\t\timage?.url ||\r\n\t\timage?.source_url;\r\n\tconst fullUrl =\r\n\t\timage?.sizes?.full?.url ||\r\n\t\timage?.media_details?.sizes?.full?.source_url;\r\n\tif ( fullUrl ) {\r\n\t\timageProps.fullUrl = fullUrl;\r\n\t}\r\n\treturn imageProps;\r\n};\r\n\r\nfunction getGalleryBlockV2Enabled() {\r\n\t// We want to fail early here, at least during beta testing phase, to ensure\r\n\t// there aren't instances where undefined values cause false negatives.\r\n\tif ( ! window.wp || typeof window.wp.galleryBlockV2Enabled !== 'boolean' ) {\r\n\t\tthrow 'window.wp.galleryBlockV2Enabled is not defined';\r\n\t}\r\n\treturn window.wp.galleryBlockV2Enabled;\r\n}\r\n\r\n/**\r\n * The new gallery block format is not compatible with the use_BalanceTags option\r\n * in WP versions <= 5.8 https://core.trac.wordpress.org/ticket/54130. The\r\n * window.wp.galleryBlockV2Enabled flag is set in lib/compat.php. This method\r\n * can be removed when minimum supported WP version >=5.9.\r\n */\r\nexport function isGalleryV2Enabled() {\r\n\tif ( Platform.isNative ) {\r\n\t\treturn getGalleryBlockV2Enabled();\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n} from '@wordpress/block-editor';\r\n\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA,\r\n\tLINK_DESTINATION_NONE,\r\n} from './constants';\r\nimport { isGalleryV2Enabled } from './shared';\r\n\r\nconst DEPRECATED_LINK_DESTINATION_MEDIA = 'file';\r\nconst DEPRECATED_LINK_DESTINATION_ATTACHMENT = 'post';\r\n\r\n/**\r\n * Original function to determine default number of columns from a block's\r\n * attributes.\r\n *\r\n * Used in deprecations: v1-6, for versions of the gallery block that didn't use inner blocks.\r\n *\r\n * @param {Object} attributes Block attributes.\r\n * @return {number}           Default number of columns for the gallery.\r\n */\r\nexport function defaultColumnsNumberV1( attributes ) {\r\n\treturn Math.min( 3, attributes?.images?.length );\r\n}\r\n\r\n/**\r\n * Original function to determine new href and linkDestination values for an image block from the\r\n * supplied Gallery link destination.\r\n *\r\n * Used in deprecations: v1-6.\r\n *\r\n * @param {Object} image       Gallery image.\r\n * @param {string} destination Gallery's selected link destination.\r\n * @return {Object}            New attributes to assign to image block.\r\n */\r\nexport function getHrefAndDestination( image, destination ) {\r\n\t// Need to determine the URL that the selected destination maps to.\r\n\t// Gutenberg and WordPress use different constants so the new link\r\n\t// destination also needs to be tweaked.\r\n\tswitch ( destination ) {\r\n\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\r\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\r\n\t\t\t};\r\n\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.link,\r\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\r\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.link,\r\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_NONE:\r\n\t\t\treturn {\r\n\t\t\t\thref: undefined,\r\n\t\t\t\tlinkDestination: LINK_DESTINATION_NONE,\r\n\t\t\t};\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n\r\nfunction runV2Migration( attributes ) {\r\n\tlet linkTo = attributes.linkTo ? attributes.linkTo : 'none';\r\n\r\n\tif ( linkTo === 'post' ) {\r\n\t\tlinkTo = 'attachment';\r\n\t} else if ( linkTo === 'file' ) {\r\n\t\tlinkTo = 'media';\r\n\t}\r\n\r\n\tconst imageBlocks = attributes.images.map( ( image ) => {\r\n\t\treturn getImageBlock( image, attributes.sizeSlug, linkTo );\r\n\t} );\r\n\r\n\tconst { images, ids, ...restAttributes } = attributes;\r\n\r\n\treturn [\r\n\t\t{\r\n\t\t\t...restAttributes,\r\n\t\t\tlinkTo,\r\n\t\t\tallowResize: false,\r\n\t\t},\r\n\t\timageBlocks,\r\n\t];\r\n}\r\n/**\r\n * Gets an Image block from gallery image data\r\n *\r\n * Used to migrate Galleries to nested Image InnerBlocks.\r\n *\r\n * @param {Object} image    Image properties.\r\n * @param {string} sizeSlug Gallery sizeSlug attribute.\r\n * @param {string} linkTo   Gallery linkTo attribute.\r\n * @return {Object}         Image block.\r\n */\r\nexport function getImageBlock( image, sizeSlug, linkTo ) {\r\n\treturn createBlock( 'core/image', {\r\n\t\t...( image.id && { id: parseInt( image.id ) } ),\r\n\t\turl: image.url,\r\n\t\talt: image.alt,\r\n\t\tcaption: image.caption,\r\n\t\tsizeSlug,\r\n\t\t...getHrefAndDestination( image, linkTo ),\r\n\t} );\r\n}\r\n\r\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\r\n// to the gallery figcaption element.\r\nconst v7 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: '.blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\tfullUrl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-full-url',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tids: {\r\n\t\t\ttype: 'array',\r\n\t\t\titems: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t\tshortCodeTransforms: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\titems: {\r\n\t\t\t\ttype: 'object',\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t\tminimum: 1,\r\n\t\t\tmaximum: 8,\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: '.blocks-gallery-caption',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tfixedHeight: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'large',\r\n\t\t},\r\n\t\tallowResize: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { caption, columns, imageCrop } = attributes;\r\n\r\n\t\tconst className = classnames( 'has-nested-images', {\r\n\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\r\n\t\t\t[ `columns-default` ]: columns === undefined,\r\n\t\t\t'is-cropped': imageCrop,\r\n\t\t} );\r\n\t\tconst blockProps = useBlockProps.save( { className } );\r\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...innerBlocksProps }>\r\n\t\t\t\t{ innerBlocksProps.children }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v6 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: '.blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\tfullUrl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-full-url',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tids: {\r\n\t\t\ttype: 'array',\r\n\t\t\titems: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t\tminimum: 1,\r\n\t\t\tmaximum: 8,\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: '.blocks-gallery-caption',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tfixedHeight: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'large',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\timageCrop,\r\n\t\t\tcaption,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\t\tconst className = `columns-${ columns } ${\r\n\t\t\timageCrop ? 'is-cropped' : ''\r\n\t\t}`;\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className } ) }>\r\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\r\n\t\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\r\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\r\n\t\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\r\n\t\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t\t{ href ? (\r\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\timg\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\r\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</ul>\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\r\n\t\treturn attributes;\r\n\t},\r\n};\r\nconst v5 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: '.blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\tfullUrl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-full-url',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tids: {\r\n\t\t\ttype: 'array',\r\n\t\t\titems: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t\tminimum: 1,\r\n\t\t\tmaximum: 8,\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: '.blocks-gallery-caption',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'large',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tisEligible( { linkTo } ) {\r\n\t\treturn ! linkTo || linkTo === 'attachment' || linkTo === 'media';\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\r\n\t\tlet linkTo = attributes.linkTo;\r\n\r\n\t\tif ( ! attributes.linkTo ) {\r\n\t\t\tlinkTo = 'none';\r\n\t\t} else if ( attributes.linkTo === 'attachment' ) {\r\n\t\t\tlinkTo = 'post';\r\n\t\t} else if ( attributes.linkTo === 'media' ) {\r\n\t\t\tlinkTo = 'file';\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\tlinkTo,\r\n\t\t};\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\timageCrop,\r\n\t\t\tcaption,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\tclassName={ `columns-${ columns } ${\r\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\r\n\t\t\t\t}` }\r\n\t\t\t>\r\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\r\n\t\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\t\tcase 'media':\r\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'attachment':\r\n\t\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\r\n\t\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t\t{ href ? (\r\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\timg\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\r\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</ul>\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v4 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: '.blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\tfullUrl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-full-url',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tids: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: '.blocks-gallery-caption',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tisEligible( { ids } ) {\r\n\t\treturn ids && ids.some( ( id ) => typeof id === 'string' );\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\tids: ( attributes.ids ?? [] ).map( ( id ) => {\r\n\t\t\t\tconst parsedId = parseInt( id, 10 );\r\n\t\t\t\treturn Number.isInteger( parsedId ) ? parsedId : null;\r\n\t\t\t} ),\r\n\t\t};\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\timageCrop,\r\n\t\t\tcaption,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\tclassName={ `columns-${ columns } ${\r\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\r\n\t\t\t\t}` }\r\n\t\t\t>\r\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\r\n\t\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\t\tcase 'media':\r\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'attachment':\r\n\t\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\r\n\t\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t\t{ href ? (\r\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\timg\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\r\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</ul>\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\nconst v3 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\tfullUrl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-full-url',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: 'figcaption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tids: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\timageCrop,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tclassName={ `columns-${ columns } ${\r\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\r\n\t\t\t\t}` }\r\n\t\t\t>\r\n\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\tcase 'media':\r\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'attachment':\r\n\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\r\n\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\r\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</ul>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\t\treturn attributes;\r\n\t},\r\n};\r\nconst v2 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t\tlink: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t\tattribute: 'data-link',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'html',\r\n\t\t\t\t\tselector: 'figcaption',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\tisEligible( { images, ids } ) {\r\n\t\treturn (\r\n\t\t\timages &&\r\n\t\t\timages.length > 0 &&\r\n\t\t\t( ( ! ids && images ) ||\r\n\t\t\t\t( ids && images && ids.length !== images.length ) ||\r\n\t\t\t\timages.some( ( id, index ) => {\r\n\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\r\n\t\t\t\t} ) )\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\tids: ( attributes.images ?? [] ).map( ( { id } ) => {\r\n\t\t\t\tif ( ! id ) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\treturn parseInt( id, 10 );\r\n\t\t\t} ),\r\n\t\t};\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\timageCrop,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tclassName={ `columns-${ columns } ${\r\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\r\n\t\t\t\t}` }\r\n\t\t\t>\r\n\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\tcase 'media':\r\n\t\t\t\t\t\t\thref = image.url;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'attachment':\r\n\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\r\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</ul>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\timages: {\r\n\t\t\ttype: 'array',\r\n\t\t\tdefault: [],\r\n\t\t\tsource: 'query',\r\n\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\r\n\t\t\tquery: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tdefault: '',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tattribute: 'data-id',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolumns: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\timageCrop: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTo: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\timages,\r\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\t\talign,\r\n\t\t\timageCrop,\r\n\t\t\tlinkTo,\r\n\t\t} = attributes;\r\n\t\tconst className = classnames( `columns-${ columns }`, {\r\n\t\t\talignnone: align === 'none',\r\n\t\t\t'is-cropped': imageCrop,\r\n\t\t} );\r\n\t\treturn (\r\n\t\t\t<div className={ className }>\r\n\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\tcase 'media':\r\n\t\t\t\t\t\t\thref = image.url;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'attachment':\r\n\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<figure\r\n\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-image\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\r\n\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\treturn runV2Migration( attributes );\r\n\t\t}\r\n\r\n\t\treturn attributes;\r\n\t},\r\n};\r\n\r\nexport default [ v7, v6, v5, v4, v3, v2, v1 ];\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { BlockIcon } from '@wordpress/block-editor';\r\nimport { gallery as icon } from '@wordpress/icons';\r\n\r\nexport const sharedIcon = <BlockIcon icon={ icon } />;\r\n","export const MIN_SIZE = 20;\r\nexport const LINK_DESTINATION_NONE = 'none';\r\nexport const LINK_DESTINATION_MEDIA = 'media';\r\nexport const LINK_DESTINATION_ATTACHMENT = 'attachment';\r\nexport const LINK_DESTINATION_CUSTOM = 'custom';\r\nexport const NEW_TAB_REL = [ 'noreferrer', 'noopener' ];\r\nexport const ALLOWED_MEDIA_TYPES = [ 'image' ];\r\nexport const MEDIA_ID_NO_FEATURED_IMAGE_SET = 0;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA,\r\n\tLINK_DESTINATION_NONE,\r\n\tLINK_DESTINATION_MEDIA_WP_CORE,\r\n\tLINK_DESTINATION_ATTACHMENT_WP_CORE,\r\n} from './constants';\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT as IMAGE_LINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA as IMAGE_LINK_DESTINATION_MEDIA,\r\n\tLINK_DESTINATION_NONE as IMAGE_LINK_DESTINATION_NONE,\r\n} from '../image/constants';\r\n\r\n/**\r\n * Determines new href and linkDestination values for an Image block from the\r\n * supplied Gallery link destination, or falls back to the Image blocks link.\r\n *\r\n * @param {Object} image              Gallery image.\r\n * @param {string} galleryDestination Gallery's selected link destination.\r\n * @param {Object} imageDestination   Image blocks attributes.\r\n * @return {Object}            New attributes to assign to image block.\r\n */\r\nexport function getHrefAndDestination(\r\n\timage,\r\n\tgalleryDestination,\r\n\timageDestination\r\n) {\r\n\t// Gutenberg and WordPress use different constants so if image_default_link_type\r\n\t// option is set we need to map from the WP Core values.\r\n\tswitch ( imageDestination ? imageDestination : galleryDestination ) {\r\n\t\tcase LINK_DESTINATION_MEDIA_WP_CORE:\r\n\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_MEDIA,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_ATTACHMENT_WP_CORE:\r\n\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\treturn {\r\n\t\t\t\thref: image?.link,\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_ATTACHMENT,\r\n\t\t\t};\r\n\t\tcase LINK_DESTINATION_NONE:\r\n\t\t\treturn {\r\n\t\t\t\thref: undefined,\r\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_NONE,\r\n\t\t\t};\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport { NEW_TAB_REL } from './constants';\r\n\r\n/**\r\n * Evaluates a CSS aspect-ratio property value as a number.\r\n *\r\n * Degenerate or invalid ratios behave as 'auto'. And 'auto' ratios return NaN.\r\n *\r\n * @see https://drafts.csswg.org/css-sizing-4/#aspect-ratio\r\n *\r\n * @param {string} value CSS aspect-ratio property value.\r\n * @return {number} Numerical aspect ratio or NaN if invalid.\r\n */\r\nexport function evalAspectRatio( value ) {\r\n\tconst [ width, height = 1 ] = value.split( '/' ).map( Number );\r\n\tconst aspectRatio = width / height;\r\n\treturn aspectRatio === Infinity || aspectRatio === 0 ? NaN : aspectRatio;\r\n}\r\n\r\nexport function removeNewTabRel( currentRel ) {\r\n\tlet newRel = currentRel;\r\n\r\n\tif ( currentRel !== undefined && newRel ) {\r\n\t\tNEW_TAB_REL.forEach( ( relVal ) => {\r\n\t\t\tconst regExp = new RegExp( '\\\\b' + relVal + '\\\\b', 'gi' );\r\n\t\t\tnewRel = newRel.replace( regExp, '' );\r\n\t\t} );\r\n\r\n\t\t// Only trim if NEW_TAB_REL values was replaced.\r\n\t\tif ( newRel !== currentRel ) {\r\n\t\t\tnewRel = newRel.trim();\r\n\t\t}\r\n\r\n\t\tif ( ! newRel ) {\r\n\t\t\tnewRel = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\treturn newRel;\r\n}\r\n\r\n/**\r\n * Helper to get the link target settings to be stored.\r\n *\r\n * @param {boolean} value          The new link target value.\r\n * @param {Object}  attributes     Block attributes.\r\n * @param {Object}  attributes.rel Image block's rel attribute.\r\n *\r\n * @return {Object} Updated link target settings.\r\n */\r\nexport function getUpdatedLinkTargetSettings( value, { rel } ) {\r\n\tconst linkTarget = value ? '_blank' : undefined;\r\n\r\n\tlet updatedRel;\r\n\tif ( ! linkTarget && ! rel ) {\r\n\t\tupdatedRel = undefined;\r\n\t} else {\r\n\t\tupdatedRel = removeNewTabRel( rel );\r\n\t}\r\n\r\n\treturn {\r\n\t\tlinkTarget,\r\n\t\trel: updatedRel,\r\n\t};\r\n}\r\n\r\n/**\r\n * Determines new Image block attributes size selection.\r\n *\r\n * @param {Object} image Media file object for gallery image.\r\n * @param {string} size  Selected size slug to apply.\r\n */\r\nexport function getImageSizeAttributes( image, size ) {\r\n\tconst url = image?.media_details?.sizes?.[ size ]?.source_url;\r\n\r\n\tif ( url ) {\r\n\t\treturn { url, width: undefined, height: undefined, sizeSlug: size };\r\n\t}\r\n\r\n\treturn {};\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { View } from '@wordpress/primitives';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { Caption } from '../utils/caption';\r\n\r\nexport default function Gallery( props ) {\r\n\tconst {\r\n\t\tattributes,\r\n\t\tisSelected,\r\n\t\tsetAttributes,\r\n\t\tmediaPlaceholder,\r\n\t\tinsertBlocksAfter,\r\n\t\tblockProps,\r\n\t\t__unstableLayoutClassNames: layoutClassNames,\r\n\t\tisContentLocked,\r\n\t\tmultiGallerySelection,\r\n\t} = props;\r\n\r\n\tconst { align, columns, imageCrop } = attributes;\r\n\r\n\treturn (\r\n\t\t<figure\r\n\t\t\t{ ...blockProps }\r\n\t\t\tclassName={ classnames(\r\n\t\t\t\tblockProps.className,\r\n\t\t\t\tlayoutClassNames,\r\n\t\t\t\t'blocks-gallery-grid',\r\n\t\t\t\t{\r\n\t\t\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\r\n\t\t\t\t\t[ `columns-default` ]: columns === undefined,\r\n\t\t\t\t\t'is-cropped': imageCrop,\r\n\t\t\t\t}\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t{ blockProps.children }\r\n\t\t\t{ isSelected && ! blockProps.children && (\r\n\t\t\t\t<View className=\"blocks-gallery-media-placeholder-wrapper\">\r\n\t\t\t\t\t{ mediaPlaceholder }\r\n\t\t\t\t</View>\r\n\t\t\t) }\r\n\t\t\t<Caption\r\n\t\t\t\tattributes={ attributes }\r\n\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\tisSelected={ isSelected }\r\n\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\r\n\t\t\t\tshowToolbarButton={\r\n\t\t\t\t\t! multiGallerySelection && ! isContentLocked\r\n\t\t\t\t}\r\n\t\t\t\tclassName=\"blocks-gallery-caption\"\r\n\t\t\t\tlabel={ __( 'Gallery caption text' ) }\r\n\t\t\t\tplaceholder={ __( 'Add gallery caption' ) }\r\n\t\t\t/>\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\nconst EMPTY_IMAGE_MEDIA = [];\r\n\r\n/**\r\n * Retrieves the extended media info for each gallery image from the store. This is used to\r\n * determine which image size options are available for the current gallery.\r\n *\r\n * @param {Array} innerBlockImages An array of the innerBlock images currently in the gallery.\r\n *\r\n * @return {Array} An array of media info options for each gallery image.\r\n */\r\nexport default function useGetMedia( innerBlockImages ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst imageIds = innerBlockImages\r\n\t\t\t\t.map( ( imageBlock ) => imageBlock.attributes.id )\r\n\t\t\t\t.filter( ( id ) => id !== undefined );\r\n\r\n\t\t\tif ( imageIds.length === 0 ) {\r\n\t\t\t\treturn EMPTY_IMAGE_MEDIA;\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\tselect( coreStore ).getMediaItems( {\r\n\t\t\t\t\tinclude: imageIds.join( ',' ),\r\n\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\torderby: 'include',\r\n\t\t\t\t} ) ?? EMPTY_IMAGE_MEDIA\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ innerBlockImages ]\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\t__experimentalGetGapCSSValue as getGapCSSValue,\r\n\tprivateApis as blockEditorPrivateApis,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { useStyleOverride } = unlock( blockEditorPrivateApis );\r\n\r\nexport default function GapStyles( { blockGap, clientId } ) {\r\n\t// --gallery-block--gutter-size is deprecated. --wp--style--gallery-gap-default should be used by themes that want to set a default\r\n\t// gap on the gallery.\r\n\tconst fallbackValue = `var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) )`;\r\n\tlet gapValue = fallbackValue;\r\n\tlet column = fallbackValue;\r\n\tlet row;\r\n\r\n\t// Check for the possibility of split block gap values. See: https://github.com/WordPress/gutenberg/pull/37736\r\n\tif ( !! blockGap ) {\r\n\t\trow =\r\n\t\t\ttypeof blockGap === 'string'\r\n\t\t\t\t? getGapCSSValue( blockGap )\r\n\t\t\t\t: getGapCSSValue( blockGap?.top ) || fallbackValue;\r\n\t\tcolumn =\r\n\t\t\ttypeof blockGap === 'string'\r\n\t\t\t\t? getGapCSSValue( blockGap )\r\n\t\t\t\t: getGapCSSValue( blockGap?.left ) || fallbackValue;\r\n\t\tgapValue = row === column ? row : `${ row } ${ column }`;\r\n\t}\r\n\r\n\t// The unstable gallery gap calculation requires a real value (such as `0px`) and not `0`.\r\n\tconst gap = `#block-${ clientId } {\r\n\t\t--wp--style--unstable-gallery-gap: ${ column === '0' ? '0px' : column };\r\n\t\tgap: ${ gapValue }\r\n\t}`;\r\n\r\n\tuseStyleOverride( { css: gap } );\r\n\r\n\treturn null;\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport {\n\tBaseControl,\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n\tRangeControl,\n\tSpinner,\n} from '@wordpress/components';\nimport {\n\tstore as blockEditorStore,\n\tMediaPlaceholder,\n\tInspectorControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tBlockControls,\n\tMediaReplaceFlow,\n} from '@wordpress/block-editor';\nimport { Platform, useEffect, useMemo } from '@wordpress/element';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { View } from '@wordpress/primitives';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { sharedIcon } from './shared-icon';\nimport { defaultColumnsNumber, pickRelevantMediaFiles } from './shared';\nimport { getHrefAndDestination } from './utils';\nimport {\n\tgetUpdatedLinkTargetSettings,\n\tgetImageSizeAttributes,\n} from '../image/utils';\nimport Gallery from './gallery';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\nimport useImageSizes from './use-image-sizes';\nimport useGetNewImages from './use-get-new-images';\nimport useGetMedia from './use-get-media';\nimport GapStyles from './gap-styles';\n\nconst MAX_COLUMNS = 8;\nconst linkOptions = [\n\t{ value: LINK_DESTINATION_ATTACHMENT, label: __( 'Attachment Page' ) },\n\t{ value: LINK_DESTINATION_MEDIA, label: __( 'Media File' ) },\n\t{\n\t\tvalue: LINK_DESTINATION_NONE,\n\t\tlabel: _x( 'None', 'Media item link option' ),\n\t},\n];\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst PLACEHOLDER_TEXT = Platform.isNative\n\t? __( 'Add media' )\n\t: __( 'Drag images, upload new ones or select files from your library.' );\n\nconst MOBILE_CONTROL_PROPS_RANGE_CONTROL = Platform.isNative\n\t? { type: 'stepper' }\n\t: {};\n\nconst DEFAULT_BLOCK = { name: 'core/image' };\nconst EMPTY_ARRAY = [];\n\nfunction GalleryEdit( props ) {\n\tconst {\n\t\tsetAttributes,\n\t\tattributes,\n\t\tclassName,\n\t\tclientId,\n\t\tisSelected,\n\t\tinsertBlocksAfter,\n\t\tisContentLocked,\n\t\tonFocus,\n\t} = props;\n\n\tconst { columns, imageCrop, randomOrder, linkTarget, linkTo, sizeSlug } =\n\t\tattributes;\n\n\tconst {\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\treplaceInnerBlocks,\n\t\tupdateBlockAttributes,\n\t\tselectBlock,\n\t} = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst {\n\t\tgetBlock,\n\t\tgetSettings,\n\t\tinnerBlockImages,\n\t\tblockWasJustInserted,\n\t\tmultiGallerySelection,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockName,\n\t\t\t\tgetMultiSelectedBlockClientIds,\n\t\t\t\tgetSettings: _getSettings,\n\t\t\t\tgetBlock: _getBlock,\n\t\t\t\twasBlockJustInserted,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst multiSelectedClientIds = getMultiSelectedBlockClientIds();\n\n\t\t\treturn {\n\t\t\t\tgetBlock: _getBlock,\n\t\t\t\tgetSettings: _getSettings,\n\t\t\t\tinnerBlockImages:\n\t\t\t\t\t_getBlock( clientId )?.innerBlocks ?? EMPTY_ARRAY,\n\t\t\t\tblockWasJustInserted: wasBlockJustInserted(\n\t\t\t\t\tclientId,\n\t\t\t\t\t'inserter_menu'\n\t\t\t\t),\n\t\t\t\tmultiGallerySelection:\n\t\t\t\t\tmultiSelectedClientIds.length &&\n\t\t\t\t\tmultiSelectedClientIds.every(\n\t\t\t\t\t\t( _clientId ) =>\n\t\t\t\t\t\t\tgetBlockName( _clientId ) === 'core/gallery'\n\t\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst images = useMemo(\n\t\t() =>\n\t\t\tinnerBlockImages?.map( ( block ) => ( {\n\t\t\t\tclientId: block.clientId,\n\t\t\t\tid: block.attributes.id,\n\t\t\t\turl: block.attributes.url,\n\t\t\t\tattributes: block.attributes,\n\t\t\t\tfromSavedContent: Boolean( block.originalContent ),\n\t\t\t} ) ),\n\t\t[ innerBlockImages ]\n\t);\n\n\tconst imageData = useGetMedia( innerBlockImages );\n\n\tconst newImages = useGetNewImages( images, imageData );\n\n\tuseEffect( () => {\n\t\tnewImages?.forEach( ( newImage ) => {\n\t\t\t// Update the images data without creating new undo levels.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tupdateBlockAttributes( newImage.clientId, {\n\t\t\t\t...buildImageAttributes( newImage.attributes ),\n\t\t\t\tid: newImage.id,\n\t\t\t\talign: undefined,\n\t\t\t} );\n\t\t} );\n\t}, [ newImages ] );\n\n\tconst imageSizeOptions = useImageSizes(\n\t\timageData,\n\t\tisSelected,\n\t\tgetSettings\n\t);\n\n\t/**\n\t * Determines the image attributes that should be applied to an image block\n\t * after the gallery updates.\n\t *\n\t * The gallery will receive the full collection of images when a new image\n\t * is added. As a result we need to reapply the image's original settings if\n\t * it already existed in the gallery. If the image is in fact new, we need\n\t * to apply the gallery's current settings to the image.\n\t *\n\t * @param {Object} imageAttributes Media object for the actual image.\n\t * @return {Object}                Attributes to set on the new image block.\n\t */\n\tfunction buildImageAttributes( imageAttributes ) {\n\t\tconst image = imageAttributes.id\n\t\t\t? imageData.find( ( { id } ) => id === imageAttributes.id )\n\t\t\t: null;\n\n\t\tlet newClassName;\n\t\tif ( imageAttributes.className && imageAttributes.className !== '' ) {\n\t\t\tnewClassName = imageAttributes.className;\n\t\t}\n\n\t\tlet newLinkTarget;\n\t\tif ( imageAttributes.linkTarget || imageAttributes.rel ) {\n\t\t\t// When transformed from image blocks, the link destination and rel attributes are inherited.\n\t\t\tnewLinkTarget = {\n\t\t\t\tlinkTarget: imageAttributes.linkTarget,\n\t\t\t\trel: imageAttributes.rel,\n\t\t\t};\n\t\t} else {\n\t\t\t// When an image is added, update the link destination and rel attributes according to the gallery settings\n\t\t\tnewLinkTarget = getUpdatedLinkTargetSettings(\n\t\t\t\tlinkTarget,\n\t\t\t\tattributes\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\t...pickRelevantMediaFiles( image, sizeSlug ),\n\t\t\t...getHrefAndDestination(\n\t\t\t\timage,\n\t\t\t\tlinkTo,\n\t\t\t\timageAttributes?.linkDestination\n\t\t\t),\n\t\t\t...newLinkTarget,\n\t\t\tclassName: newClassName,\n\t\t\tsizeSlug,\n\t\t\tcaption: imageAttributes.caption || image.caption?.raw,\n\t\t\talt: imageAttributes.alt || image.alt_text,\n\t\t};\n\t}\n\n\tfunction isValidFileType( file ) {\n\t\t// It's necessary to retrieve the media type from the raw image data for already-uploaded images on native.\n\t\tconst nativeFileData =\n\t\t\tPlatform.isNative && file.id\n\t\t\t\t? imageData.find( ( { id } ) => id === file.id )\n\t\t\t\t: null;\n\n\t\tconst mediaTypeSelector = nativeFileData\n\t\t\t? nativeFileData?.media_type\n\t\t\t: file.type;\n\n\t\treturn (\n\t\t\tALLOWED_MEDIA_TYPES.some(\n\t\t\t\t( mediaType ) => mediaTypeSelector?.indexOf( mediaType ) === 0\n\t\t\t) || file.url?.indexOf( 'blob:' ) === 0\n\t\t);\n\t}\n\n\tfunction updateImages( selectedImages ) {\n\t\tconst newFileUploads =\n\t\t\tObject.prototype.toString.call( selectedImages ) ===\n\t\t\t'[object FileList]';\n\n\t\tconst imageArray = newFileUploads\n\t\t\t? Array.from( selectedImages ).map( ( file ) => {\n\t\t\t\t\tif ( ! file.url ) {\n\t\t\t\t\t\treturn pickRelevantMediaFiles( {\n\t\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn file;\n\t\t\t  } )\n\t\t\t: selectedImages;\n\n\t\tif ( ! imageArray.every( isValidFileType ) ) {\n\t\t\tcreateErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'If uploading to a gallery all files need to be image formats'\n\t\t\t\t),\n\t\t\t\t{ id: 'gallery-upload-invalid-file', type: 'snackbar' }\n\t\t\t);\n\t\t}\n\n\t\tconst processedImages = imageArray\n\t\t\t.filter( ( file ) => file.url || isValidFileType( file ) )\n\t\t\t.map( ( file ) => {\n\t\t\t\tif ( ! file.url ) {\n\t\t\t\t\treturn pickRelevantMediaFiles( {\n\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn file;\n\t\t\t} );\n\n\t\t// Because we are reusing existing innerImage blocks any reordering\n\t\t// done in the media library will be lost so we need to reapply that ordering\n\t\t// once the new image blocks are merged in with existing.\n\t\tconst newOrderMap = processedImages.reduce(\n\t\t\t( result, image, index ) => (\n\t\t\t\t( result[ image.id ] = index ), result\n\t\t\t),\n\t\t\t{}\n\t\t);\n\n\t\tconst existingImageBlocks = ! newFileUploads\n\t\t\t? innerBlockImages.filter( ( block ) =>\n\t\t\t\t\tprocessedImages.find(\n\t\t\t\t\t\t( img ) => img.id === block.attributes.id\n\t\t\t\t\t)\n\t\t\t  )\n\t\t\t: innerBlockImages;\n\n\t\tconst newImageList = processedImages.filter(\n\t\t\t( img ) =>\n\t\t\t\t! existingImageBlocks.find(\n\t\t\t\t\t( existingImg ) => img.id === existingImg.attributes.id\n\t\t\t\t)\n\t\t);\n\n\t\tconst newBlocks = newImageList.map( ( image ) => {\n\t\t\treturn createBlock( 'core/image', {\n\t\t\t\tid: image.id,\n\t\t\t\turl: image.url,\n\t\t\t\tcaption: image.caption,\n\t\t\t\talt: image.alt,\n\t\t\t} );\n\t\t} );\n\n\t\treplaceInnerBlocks(\n\t\t\tclientId,\n\t\t\texistingImageBlocks\n\t\t\t\t.concat( newBlocks )\n\t\t\t\t.sort(\n\t\t\t\t\t( a, b ) =>\n\t\t\t\t\t\tnewOrderMap[ a.attributes.id ] -\n\t\t\t\t\t\tnewOrderMap[ b.attributes.id ]\n\t\t\t\t)\n\t\t);\n\n\t\t// Select the first block to scroll into view when new blocks are added.\n\t\tif ( newBlocks?.length > 0 ) {\n\t\t\tselectBlock( newBlocks[ 0 ].clientId );\n\t\t}\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tfunction setLinkTo( value ) {\n\t\tsetAttributes( { linkTo: value } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tconst image = block.attributes.id\n\t\t\t\t? imageData.find( ( { id } ) => id === block.attributes.id )\n\t\t\t\t: null;\n\t\t\tchangedAttributes[ block.clientId ] = getHrefAndDestination(\n\t\t\t\timage,\n\t\t\t\tvalue\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst linkToText = [ ...linkOptions ].find(\n\t\t\t( linkType ) => linkType.value === value\n\t\t);\n\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: image size settings */\n\t\t\t\t__( 'All gallery image links updated to: %s' ),\n\t\t\t\tlinkToText.label\n\t\t\t),\n\t\t\t{\n\t\t\t\tid: 'gallery-attributes-linkTo',\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction setColumnsNumber( value ) {\n\t\tsetAttributes( { columns: value } );\n\t}\n\n\tfunction toggleImageCrop() {\n\t\tsetAttributes( { imageCrop: ! imageCrop } );\n\t}\n\n\tfunction toggleRandomOrder() {\n\t\tsetAttributes( { randomOrder: ! randomOrder } );\n\t}\n\n\tfunction toggleOpenInNewTab( openInNewTab ) {\n\t\tconst newLinkTarget = openInNewTab ? '_blank' : undefined;\n\t\tsetAttributes( { linkTarget: newLinkTarget } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tchangedAttributes[ block.clientId ] = getUpdatedLinkTargetSettings(\n\t\t\t\tnewLinkTarget,\n\t\t\t\tblock.attributes\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst noticeText = openInNewTab\n\t\t\t? __( 'All gallery images updated to open in new tab' )\n\t\t\t: __( 'All gallery images updated to not open in new tab' );\n\t\tcreateSuccessNotice( noticeText, {\n\t\t\tid: 'gallery-attributes-openInNewTab',\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tfunction updateImagesSize( newSizeSlug ) {\n\t\tsetAttributes( { sizeSlug: newSizeSlug } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tconst image = block.attributes.id\n\t\t\t\t? imageData.find( ( { id } ) => id === block.attributes.id )\n\t\t\t\t: null;\n\t\t\tchangedAttributes[ block.clientId ] = getImageSizeAttributes(\n\t\t\t\timage,\n\t\t\t\tnewSizeSlug\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst imageSize = imageSizeOptions.find(\n\t\t\t( size ) => size.value === newSizeSlug\n\t\t);\n\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: image size settings */\n\t\t\t\t__( 'All gallery image sizes updated to: %s' ),\n\t\t\t\timageSize.label\n\t\t\t),\n\t\t\t{\n\t\t\t\tid: 'gallery-attributes-sizeSlug',\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t}\n\n\tuseEffect( () => {\n\t\t// linkTo attribute must be saved so blocks don't break when changing image_default_link_type in options.php.\n\t\tif ( ! linkTo ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTo:\n\t\t\t\t\twindow?.wp?.media?.view?.settings?.defaultProps?.link ||\n\t\t\t\t\tLINK_DESTINATION_NONE,\n\t\t\t} );\n\t\t}\n\t}, [ linkTo ] );\n\n\tconst hasImages = !! images.length;\n\tconst hasImageIds = hasImages && images.some( ( image ) => !! image.id );\n\tconst imagesUploading = images.some( ( img ) =>\n\t\t! Platform.isNative\n\t\t\t? ! img.id && img.url?.indexOf( 'blob:' ) === 0\n\t\t\t: img.url?.indexOf( 'file:' ) === 0\n\t);\n\n\t// MediaPlaceholder props are different between web and native hence, we provide a platform-specific set.\n\tconst mediaPlaceholderProps = Platform.select( {\n\t\tweb: {\n\t\t\taddToGallery: false,\n\t\t\tdisableMediaButtons: imagesUploading,\n\t\t\tvalue: {},\n\t\t},\n\t\tnative: {\n\t\t\taddToGallery: hasImageIds,\n\t\t\tisAppender: hasImages,\n\t\t\tdisableMediaButtons:\n\t\t\t\t( hasImages && ! isSelected ) || imagesUploading,\n\t\t\tvalue: hasImageIds ? images : {},\n\t\t\tautoOpenMediaUpload:\n\t\t\t\t! hasImages && isSelected && blockWasJustInserted,\n\t\t\tonFocus,\n\t\t},\n\t} );\n\tconst mediaPlaceholder = (\n\t\t<MediaPlaceholder\n\t\t\thandleUpload={ false }\n\t\t\ticon={ sharedIcon }\n\t\t\tlabels={ {\n\t\t\t\ttitle: __( 'Gallery' ),\n\t\t\t\tinstructions: PLACEHOLDER_TEXT,\n\t\t\t} }\n\t\t\tonSelect={ updateImages }\n\t\t\taccept=\"image/*\"\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\tmultiple\n\t\t\tonError={ onUploadError }\n\t\t\t{ ...mediaPlaceholderProps }\n\t\t/>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( className, 'has-nested-images' ),\n\t} );\n\n\tconst nativeInnerBlockProps = Platform.isNative && {\n\t\tmarginHorizontal: 0,\n\t\tmarginVertical: 0,\n\t};\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\tdirectInsert: true,\n\t\torientation: 'horizontal',\n\t\trenderAppender: false,\n\t\t...nativeInnerBlockProps,\n\t} );\n\n\tif ( ! hasImages ) {\n\t\treturn (\n\t\t\t<View { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ mediaPlaceholder }\n\t\t\t</View>\n\t\t);\n\t}\n\n\tconst hasLinkTo = linkTo && linkTo !== 'none';\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ images.length > 1 && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tcolumns\n\t\t\t\t\t\t\t\t\t? columns\n\t\t\t\t\t\t\t\t\t: defaultColumnsNumber( images.length )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={ setColumnsNumber }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ Math.min( MAX_COLUMNS, images.length ) }\n\t\t\t\t\t\t\t{ ...MOBILE_CONTROL_PROPS_RANGE_CONTROL }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ imageSizeOptions?.length > 0 && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Resolution' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Select the size of the source images.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ sizeSlug }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t\tonChange={ updateImagesSize }\n\t\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link to' ) }\n\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\tonChange={ setLinkTo }\n\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Crop images to fit' ) }\n\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\tonChange={ toggleImageCrop }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Randomize order' ) }\n\t\t\t\t\t\tchecked={ !! randomOrder }\n\t\t\t\t\t\tonChange={ toggleRandomOrder }\n\t\t\t\t\t/>\n\t\t\t\t\t{ hasLinkTo && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Open images in new tab' ) }\n\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\tonChange={ toggleOpenInNewTab }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ Platform.isWeb && ! imageSizeOptions && hasImageIds && (\n\t\t\t\t\t\t<BaseControl className={ 'gallery-image-sizes' }>\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Resolution' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<View className={ 'gallery-image-sizes__loading' }>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t{ __( 'Loading options…' ) }\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ Platform.isWeb && (\n\t\t\t\t<>\n\t\t\t\t\t{ ! multiGallerySelection && (\n\t\t\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\thandleUpload={ false }\n\t\t\t\t\t\t\t\tonSelect={ updateImages }\n\t\t\t\t\t\t\t\tname={ __( 'Add' ) }\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tmediaIds={ images\n\t\t\t\t\t\t\t\t\t.filter( ( image ) => image.id )\n\t\t\t\t\t\t\t\t\t.map( ( image ) => image.id ) }\n\t\t\t\t\t\t\t\taddToGallery={ hasImageIds }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t) }\n\t\t\t\t\t<GapStyles\n\t\t\t\t\t\tblockGap={ attributes.style?.spacing?.blockGap }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<Gallery\n\t\t\t\t{ ...props }\n\t\t\t\tisContentLocked={ isContentLocked }\n\t\t\t\timages={ images }\n\t\t\t\tmediaPlaceholder={\n\t\t\t\t\t! hasImages || Platform.isNative\n\t\t\t\t\t\t? mediaPlaceholder\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tblockProps={ innerBlocksProps }\n\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\tmultiGallerySelection={ multiGallerySelection }\n\t\t\t/>\n\t\t</>\n\t);\n}\nexport default compose( [ withViewportMatch( { isNarrow: '< small' } ) ] )(\n\tGalleryEdit\n);\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo, useState } from '@wordpress/element';\r\n\r\n/**\r\n * Keeps track of images already in the gallery to allow new innerBlocks to be identified. This\r\n * is required so default gallery attributes can be applied without overwriting any custom\r\n * attributes applied to existing images.\r\n *\r\n * @param {Array} images    Basic image block data taken from current gallery innerBlock\r\n * @param {Array} imageData The related image data for each of the current gallery images.\r\n *\r\n * @return {Array} An array of any new images that have been added to the gallery.\r\n */\r\nexport default function useGetNewImages( images, imageData ) {\r\n\tconst [ currentImages, setCurrentImages ] = useState( [] );\r\n\r\n\treturn useMemo( () => getNewImages(), [ images, imageData ] );\r\n\r\n\tfunction getNewImages() {\r\n\t\tlet imagesUpdated = false;\r\n\r\n\t\t// First lets check if any images have been deleted.\r\n\t\tconst newCurrentImages = currentImages.filter( ( currentImg ) =>\r\n\t\t\timages.find( ( img ) => {\r\n\t\t\t\treturn currentImg.clientId === img.clientId;\r\n\t\t\t} )\r\n\t\t);\r\n\r\n\t\tif ( newCurrentImages.length < currentImages.length ) {\r\n\t\t\timagesUpdated = true;\r\n\t\t}\r\n\r\n\t\t// Now lets see if we have any images hydrated from saved content and if so\r\n\t\t// add them to currentImages state.\r\n\t\timages.forEach( ( image ) => {\r\n\t\t\tif (\r\n\t\t\t\timage.fromSavedContent &&\r\n\t\t\t\t! newCurrentImages.find(\r\n\t\t\t\t\t( currentImage ) => currentImage.id === image.id\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\timagesUpdated = true;\r\n\t\t\t\tnewCurrentImages.push( image );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\t// Now check for any new images that have been added to InnerBlocks and for which\r\n\t\t// we have the imageData we need for setting default block attributes.\r\n\t\tconst newImages = images.filter(\r\n\t\t\t( image ) =>\r\n\t\t\t\t! newCurrentImages.find(\r\n\t\t\t\t\t( currentImage ) =>\r\n\t\t\t\t\t\timage.clientId &&\r\n\t\t\t\t\t\tcurrentImage.clientId === image.clientId\r\n\t\t\t\t) &&\r\n\t\t\t\timageData?.find( ( img ) => img.id === image.id ) &&\r\n\t\t\t\t! image.fromSavedConent\r\n\t\t);\r\n\r\n\t\tif ( imagesUpdated || newImages?.length > 0 ) {\r\n\t\t\tsetCurrentImages( [ ...newCurrentImages, ...newImages ] );\r\n\t\t}\r\n\r\n\t\treturn newImages.length > 0 ? newImages : null;\r\n\t}\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/**\r\n * Calculates the image sizes that are avaible for the current gallery images in order to\r\n * populate the 'Resolution' selector.\r\n *\r\n * @param {Array}    images      Basic image block data taken from current gallery innerBlock\r\n * @param {boolean}  isSelected  Is the block currently selected in the editor.\r\n * @param {Function} getSettings Block editor store selector.\r\n *\r\n * @return {Array} An array of image size options.\r\n */\r\nexport default function useImageSizes( images, isSelected, getSettings ) {\r\n\treturn useMemo( () => getImageSizing(), [ images, isSelected ] );\r\n\r\n\tfunction getImageSizing() {\r\n\t\tif ( ! images || images.length === 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst { imageSizes } = getSettings();\r\n\t\tlet resizedImages = {};\r\n\r\n\t\tif ( isSelected ) {\r\n\t\t\tresizedImages = images.reduce( ( currentResizedImages, img ) => {\r\n\t\t\t\tif ( ! img.id ) {\r\n\t\t\t\t\treturn currentResizedImages;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst sizes = imageSizes.reduce( ( currentSizes, size ) => {\r\n\t\t\t\t\tconst defaultUrl = img.sizes?.[ size.slug ]?.url;\r\n\t\t\t\t\tconst mediaDetailsUrl =\r\n\t\t\t\t\t\timg.media_details?.sizes?.[ size.slug ]?.source_url;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...currentSizes,\r\n\t\t\t\t\t\t[ size.slug ]: defaultUrl || mediaDetailsUrl,\r\n\t\t\t\t\t};\r\n\t\t\t\t}, {} );\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...currentResizedImages,\r\n\t\t\t\t\t[ parseInt( img.id, 10 ) ]: sizes,\r\n\t\t\t\t};\r\n\t\t\t}, {} );\r\n\t\t}\r\n\t\tconst resizedImageSizes = Object.values( resizedImages );\r\n\t\treturn imageSizes\r\n\t\t\t.filter( ( { slug } ) =>\r\n\t\t\t\tresizedImageSizes.some( ( sizes ) => sizes[ slug ] )\r\n\t\t\t)\r\n\t\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\r\n\t}\r\n}\r\n","export const pickRelevantMediaFiles = ( image, sizeSlug = 'large' ) => {\r\n\tconst imageProps = Object.fromEntries(\r\n\t\tObject.entries( image ?? {} ).filter( ( [ key ] ) =>\r\n\t\t\t[ 'alt', 'id', 'link', 'caption' ].includes( key )\r\n\t\t)\r\n\t);\r\n\r\n\timageProps.url =\r\n\t\timage?.sizes?.[ sizeSlug ]?.url ||\r\n\t\timage?.media_details?.sizes?.[ sizeSlug ]?.source_url ||\r\n\t\timage?.url;\r\n\tconst fullUrl =\r\n\t\timage?.sizes?.full?.url ||\r\n\t\timage?.media_details?.sizes?.full?.source_url;\r\n\tif ( fullUrl ) {\r\n\t\timageProps.fullUrl = fullUrl;\r\n\t}\r\n\treturn imageProps;\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst image = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default image;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst chevronLeft = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default chevronLeft;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst chevronRight = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default chevronRight;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst closeSmall = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default closeSmall;\r\n","export const LINK_DESTINATION_NONE = 'none';\r\nexport const LINK_DESTINATION_MEDIA = 'file';\r\nexport const LINK_DESTINATION_ATTACHMENT = 'post';\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { Component } from '@wordpress/element';\r\nimport { Button, Spinner, ButtonGroup } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\nimport {\r\n\tRichText,\r\n\tMediaPlaceholder,\r\n\tstore as blockEditorStore,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\nimport { isBlobURL } from '@wordpress/blob';\r\nimport { compose } from '@wordpress/compose';\r\nimport {\r\n\tcloseSmall,\r\n\tchevronLeft,\r\n\tchevronRight,\r\n\tedit,\r\n\timage as imageIcon,\r\n} from '@wordpress/icons';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { pickRelevantMediaFiles } from './shared';\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA,\r\n} from './constants';\r\n\r\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\r\n\r\nclass GalleryImage extends Component {\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\r\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\r\n\t\tthis.onRemoveImage = this.onRemoveImage.bind( this );\r\n\t\tthis.bindContainer = this.bindContainer.bind( this );\r\n\t\tthis.onEdit = this.onEdit.bind( this );\r\n\t\tthis.onSelectImageFromLibrary =\r\n\t\t\tthis.onSelectImageFromLibrary.bind( this );\r\n\t\tthis.onSelectCustomURL = this.onSelectCustomURL.bind( this );\r\n\t\tthis.state = {\r\n\t\t\tisEditing: false,\r\n\t\t};\r\n\t}\r\n\r\n\tbindContainer( ref ) {\r\n\t\tthis.container = ref;\r\n\t}\r\n\r\n\tonSelectImage() {\r\n\t\tif ( ! this.props.isSelected ) {\r\n\t\t\tthis.props.onSelect();\r\n\t\t}\r\n\t}\r\n\r\n\tonRemoveImage( event ) {\r\n\t\tif (\r\n\t\t\tthis.container === this.container.ownerDocument.activeElement &&\r\n\t\t\tthis.props.isSelected &&\r\n\t\t\t[ BACKSPACE, DELETE ].indexOf( event.keyCode ) !== -1\r\n\t\t) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.props.onRemove();\r\n\t\t}\r\n\t}\r\n\r\n\tonEdit() {\r\n\t\tthis.setState( {\r\n\t\t\tisEditing: true,\r\n\t\t} );\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tconst { image, url, __unstableMarkNextChangeAsNotPersistent } =\r\n\t\t\tthis.props;\r\n\t\tif ( image && ! url ) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tthis.props.setAttributes( {\r\n\t\t\t\turl: image.source_url,\r\n\t\t\t\talt: image.alt_text,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\tdeselectOnBlur() {\r\n\t\tthis.props.onDeselect();\r\n\t}\r\n\r\n\tonSelectImageFromLibrary( media ) {\r\n\t\tconst { setAttributes, id, url, alt, caption, sizeSlug } = this.props;\r\n\t\tif ( ! media || ! media.url ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet mediaAttributes = pickRelevantMediaFiles( media, sizeSlug );\r\n\r\n\t\t// If the current image is temporary but an alt text was meanwhile\r\n\t\t// written by the user, make sure the text is not overwritten.\r\n\t\tif ( isTemporaryImage( id, url ) ) {\r\n\t\t\tif ( alt ) {\r\n\t\t\t\tconst { alt: omittedAlt, ...restMediaAttributes } =\r\n\t\t\t\t\tmediaAttributes;\r\n\t\t\t\tmediaAttributes = restMediaAttributes;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If a caption text was meanwhile written by the user,\r\n\t\t// make sure the text is not overwritten by empty captions.\r\n\t\tif ( caption && ! mediaAttributes.caption ) {\r\n\t\t\tconst { caption: omittedCaption, ...restMediaAttributes } =\r\n\t\t\t\tmediaAttributes;\r\n\t\t\tmediaAttributes = restMediaAttributes;\r\n\t\t}\r\n\r\n\t\tsetAttributes( mediaAttributes );\r\n\t\tthis.setState( {\r\n\t\t\tisEditing: false,\r\n\t\t} );\r\n\t}\r\n\r\n\tonSelectCustomURL( newURL ) {\r\n\t\tconst { setAttributes, url } = this.props;\r\n\t\tif ( newURL !== url ) {\r\n\t\t\tsetAttributes( {\r\n\t\t\t\turl: newURL,\r\n\t\t\t\tid: undefined,\r\n\t\t\t} );\r\n\t\t\tthis.setState( {\r\n\t\t\t\tisEditing: false,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tid,\r\n\t\t\tlinkTo,\r\n\t\t\tlink,\r\n\t\t\tisFirstItem,\r\n\t\t\tisLastItem,\r\n\t\t\tisSelected,\r\n\t\t\tcaption,\r\n\t\t\tonRemove,\r\n\t\t\tonMoveForward,\r\n\t\t\tonMoveBackward,\r\n\t\t\tsetAttributes,\r\n\t\t\t'aria-label': ariaLabel,\r\n\t\t} = this.props;\r\n\t\tconst { isEditing } = this.state;\r\n\r\n\t\tlet href;\r\n\r\n\t\tswitch ( linkTo ) {\r\n\t\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\t\thref = url;\r\n\t\t\t\tbreak;\r\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\t\thref = link;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tconst img = (\r\n\t\t\t// Disable reason: Image itself is not meant to be interactive, but should\r\n\t\t\t// direct image selection and unfocus caption fields.\r\n\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\r\n\t\t\t<>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={ url }\r\n\t\t\t\t\talt={ alt }\r\n\t\t\t\t\tdata-id={ id }\r\n\t\t\t\t\tonKeyDown={ this.onRemoveImage }\r\n\t\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\t\taria-label={ ariaLabel }\r\n\t\t\t\t\tref={ this.bindContainer }\r\n\t\t\t\t/>\r\n\t\t\t\t{ isBlobURL( url ) && <Spinner /> }\r\n\t\t\t</>\r\n\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\r\n\t\t);\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t'is-selected': isSelected,\r\n\t\t\t'is-transient': isBlobURL( url ),\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t// eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions\r\n\t\t\t<figure\r\n\t\t\t\tclassName={ className }\r\n\t\t\t\tonClick={ this.onSelectImage }\r\n\t\t\t\tonFocus={ this.onSelectImage }\r\n\t\t\t>\r\n\t\t\t\t{ ! isEditing && ( href ? <a href={ href }>{ img }</a> : img ) }\r\n\t\t\t\t{ isEditing && (\r\n\t\t\t\t\t<MediaPlaceholder\r\n\t\t\t\t\t\tlabels={ { title: __( 'Edit gallery image' ) } }\r\n\t\t\t\t\t\ticon={ imageIcon }\r\n\t\t\t\t\t\tonSelect={ this.onSelectImageFromLibrary }\r\n\t\t\t\t\t\tonSelectURL={ this.onSelectCustomURL }\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\r\n\t\t\t\t\t\tvalue={ { id, src: url } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-left\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon={ chevronLeft }\r\n\t\t\t\t\t\tonClick={ isFirstItem ? undefined : onMoveBackward }\r\n\t\t\t\t\t\tlabel={ __( 'Move image backward' ) }\r\n\t\t\t\t\t\taria-disabled={ isFirstItem }\r\n\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon={ chevronRight }\r\n\t\t\t\t\t\tonClick={ isLastItem ? undefined : onMoveForward }\r\n\t\t\t\t\t\tlabel={ __( 'Move image forward' ) }\r\n\t\t\t\t\t\taria-disabled={ isLastItem }\r\n\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-right\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon={ edit }\r\n\t\t\t\t\t\tonClick={ this.onEdit }\r\n\t\t\t\t\t\tlabel={ __( 'Replace image' ) }\r\n\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\tonClick={ onRemove }\r\n\t\t\t\t\t\tlabel={ __( 'Remove image' ) }\r\n\t\t\t\t\t\tdisabled={ ! isSelected }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t\t{ ! isEditing && ( isSelected || caption ) && (\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\taria-label={ __( 'Image caption text' ) }\r\n\t\t\t\t\t\tplaceholder={ isSelected ? __( 'Add caption' ) : null }\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t\tonChange={ ( newCaption ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { caption: newCaption } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tinlineToolbar\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose( [\r\n\twithSelect( ( select, ownProps ) => {\r\n\t\tconst { getMedia } = select( coreStore );\r\n\t\tconst { id } = ownProps;\r\n\r\n\t\treturn {\r\n\t\t\timage: id ? getMedia( parseInt( id, 10 ) ) : null,\r\n\t\t};\r\n\t} ),\r\n\twithDispatch( ( dispatch ) => {\r\n\t\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\t\tdispatch( blockEditorStore );\r\n\t\treturn {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\r\n\t\t};\r\n\t} ),\r\n] )( GalleryImage );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\nimport { VisuallyHidden } from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport GalleryImage from './gallery-image';\r\nimport { defaultColumnsNumberV1 } from '../deprecated';\r\n\r\nexport const Gallery = ( props ) => {\r\n\tconst {\r\n\t\tattributes,\r\n\t\tisSelected,\r\n\t\tsetAttributes,\r\n\t\tselectedImage,\r\n\t\tmediaPlaceholder,\r\n\t\tonMoveBackward,\r\n\t\tonMoveForward,\r\n\t\tonRemoveImage,\r\n\t\tonSelectImage,\r\n\t\tonDeselectImage,\r\n\t\tonSetImageAttributes,\r\n\t\tinsertBlocksAfter,\r\n\t\tblockProps,\r\n\t} = props;\r\n\r\n\tconst {\r\n\t\talign,\r\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\tcaption,\r\n\t\timageCrop,\r\n\t\timages,\r\n\t} = attributes;\r\n\r\n\treturn (\r\n\t\t<figure\r\n\t\t\t{ ...blockProps }\r\n\t\t\tclassName={ classnames( blockProps.className, {\r\n\t\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t\t[ `columns-${ columns }` ]: columns,\r\n\t\t\t\t'is-cropped': imageCrop,\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t<ul className=\"blocks-gallery-grid\">\r\n\t\t\t\t{ images.map( ( img, index ) => {\r\n\t\t\t\t\tconst ariaLabel = sprintf(\r\n\t\t\t\t\t\t/* translators: 1: the order number of the image. 2: the total number of images. */\r\n\t\t\t\t\t\t__( 'image %1$d of %2$d in gallery' ),\r\n\t\t\t\t\t\tindex + 1,\r\n\t\t\t\t\t\timages.length\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t\tkey={ img.id ? `${ img.id }-${ index }` : img.url }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GalleryImage\r\n\t\t\t\t\t\t\t\turl={ img.url }\r\n\t\t\t\t\t\t\t\talt={ img.alt }\r\n\t\t\t\t\t\t\t\tid={ img.id }\r\n\t\t\t\t\t\t\t\tisFirstItem={ index === 0 }\r\n\t\t\t\t\t\t\t\tisLastItem={ index + 1 === images.length }\r\n\t\t\t\t\t\t\t\tisSelected={\r\n\t\t\t\t\t\t\t\t\tisSelected && selectedImage === index\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonMoveBackward={ onMoveBackward( index ) }\r\n\t\t\t\t\t\t\t\tonMoveForward={ onMoveForward( index ) }\r\n\t\t\t\t\t\t\t\tonRemove={ onRemoveImage( index ) }\r\n\t\t\t\t\t\t\t\tonSelect={ onSelectImage( index ) }\r\n\t\t\t\t\t\t\t\tonDeselect={ onDeselectImage( index ) }\r\n\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) =>\r\n\t\t\t\t\t\t\t\t\tonSetImageAttributes( index, attrs )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcaption={ img.caption }\r\n\t\t\t\t\t\t\t\taria-label={ ariaLabel }\r\n\t\t\t\t\t\t\t\tsizeSlug={ attributes.sizeSlug }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</ul>\r\n\t\t\t{ mediaPlaceholder }\r\n\t\t\t<RichTextVisibilityHelper\r\n\t\t\t\tisHidden={ ! isSelected && RichText.isEmpty( caption ) }\r\n\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t'blocks-gallery-caption',\r\n\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\r\n\t\t\t\t) }\r\n\t\t\t\taria-label={ __( 'Gallery caption text' ) }\r\n\t\t\t\tplaceholder={ __( 'Write gallery caption…' ) }\r\n\t\t\t\tvalue={ caption }\r\n\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\r\n\t\t\t\tinlineToolbar\r\n\t\t\t\t__unstableOnSplitAtEnd={ () =>\r\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</figure>\r\n\t);\r\n};\r\n\r\nfunction RichTextVisibilityHelper( { isHidden, ...richTextProps } ) {\r\n\treturn isHidden ? (\r\n\t\t<VisuallyHidden as={ RichText } { ...richTextProps } />\r\n\t) : (\r\n\t\t<RichText { ...richTextProps } />\r\n\t);\r\n}\r\n\r\nexport default Gallery;\r\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport {\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n\twithNotices,\n\tRangeControl,\n} from '@wordpress/components';\nimport {\n\tMediaPlaceholder,\n\tInspectorControls,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Platform, useEffect, useState, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getBlobByURL, isBlobURL, revokeBlobURL } from '@wordpress/blob';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { View } from '@wordpress/primitives';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { sharedIcon } from '../shared-icon';\nimport { pickRelevantMediaFiles } from './shared';\nimport { defaultColumnsNumberV1 } from '../deprecated';\nimport Gallery from './gallery';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\n\nconst MAX_COLUMNS = 8;\nconst linkOptions = [\n\t{ value: LINK_DESTINATION_ATTACHMENT, label: __( 'Attachment Page' ) },\n\t{ value: LINK_DESTINATION_MEDIA, label: __( 'Media File' ) },\n\t{ value: LINK_DESTINATION_NONE, label: __( 'None' ) },\n];\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst PLACEHOLDER_TEXT = Platform.select( {\n\tweb: __(\n\t\t'Drag images, upload new ones or select files from your library.'\n\t),\n\tnative: __( 'ADD MEDIA' ),\n} );\n\nconst MOBILE_CONTROL_PROPS_RANGE_CONTROL = Platform.select( {\n\tweb: {},\n\tnative: { type: 'stepper' },\n} );\n\nfunction GalleryEdit( props ) {\n\tconst {\n\t\tattributes,\n\t\tclientId,\n\t\tisSelected,\n\t\tnoticeUI,\n\t\tnoticeOperations,\n\t\tonFocus,\n\t} = props;\n\tconst {\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\timageCrop,\n\t\timages,\n\t\tlinkTo,\n\t\tsizeSlug,\n\t} = attributes;\n\tconst [ selectedImage, setSelectedImage ] = useState();\n\tconst [ attachmentCaptions, setAttachmentCaptions ] = useState();\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst { imageSizes, mediaUpload, getMedia, wasBlockJustInserted } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\n\t\t\treturn {\n\t\t\t\timageSizes: settings.imageSizes,\n\t\t\t\tmediaUpload: settings.mediaUpload,\n\t\t\t\tgetMedia: select( coreStore ).getMedia,\n\t\t\t\twasBlockJustInserted: select(\n\t\t\t\t\tblockEditorStore\n\t\t\t\t).wasBlockJustInserted( clientId, 'inserter_menu' ),\n\t\t\t};\n\t\t} );\n\n\tconst resizedImages = useMemo( () => {\n\t\tif ( isSelected ) {\n\t\t\treturn ( attributes.ids ?? [] ).reduce(\n\t\t\t\t( currentResizedImages, id ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn currentResizedImages;\n\t\t\t\t\t}\n\t\t\t\t\tconst image = getMedia( id );\n\t\t\t\t\tconst sizes = imageSizes.reduce( ( currentSizes, size ) => {\n\t\t\t\t\t\tconst defaultUrl = image?.sizes?.[ size.slug ]?.url;\n\t\t\t\t\t\tconst mediaDetailsUrl =\n\t\t\t\t\t\t\timage?.media_details?.sizes?.[ size.slug ]\n\t\t\t\t\t\t\t\t?.source_url;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...currentSizes,\n\t\t\t\t\t\t\t[ size.slug ]: defaultUrl || mediaDetailsUrl,\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {} );\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...currentResizedImages,\n\t\t\t\t\t\t[ parseInt( id, 10 ) ]: sizes,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t}\n\t\treturn {};\n\t}, [ isSelected, attributes.ids, imageSizes ] );\n\n\tfunction onFocusGalleryCaption() {\n\t\tsetSelectedImage();\n\t}\n\n\tfunction setAttributes( newAttrs ) {\n\t\tif ( newAttrs.ids ) {\n\t\t\tthrow new Error(\n\t\t\t\t'The \"ids\" attribute should not be changed directly. It is managed automatically when \"images\" attribute changes'\n\t\t\t);\n\t\t}\n\n\t\tif ( newAttrs.images ) {\n\t\t\tnewAttrs = {\n\t\t\t\t...newAttrs,\n\t\t\t\t// Unlike images[ n ].id which is a string, always ensure the\n\t\t\t\t// ids array contains numbers as per its attribute type.\n\t\t\t\tids: newAttrs.images.map( ( { id } ) => parseInt( id, 10 ) ),\n\t\t\t};\n\t\t}\n\n\t\tprops.setAttributes( newAttrs );\n\t}\n\n\tfunction onSelectImage( index ) {\n\t\treturn () => {\n\t\t\tsetSelectedImage( index );\n\t\t};\n\t}\n\n\tfunction onDeselectImage() {\n\t\treturn () => {\n\t\t\tsetSelectedImage();\n\t\t};\n\t}\n\n\tfunction onMove( oldIndex, newIndex ) {\n\t\tconst newImages = [ ...images ];\n\t\tnewImages.splice( newIndex, 1, images[ oldIndex ] );\n\t\tnewImages.splice( oldIndex, 1, images[ newIndex ] );\n\t\tsetSelectedImage( newIndex );\n\t\tsetAttributes( { images: newImages } );\n\t}\n\n\tfunction onMoveForward( oldIndex ) {\n\t\treturn () => {\n\t\t\tif ( oldIndex === images.length - 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonMove( oldIndex, oldIndex + 1 );\n\t\t};\n\t}\n\n\tfunction onMoveBackward( oldIndex ) {\n\t\treturn () => {\n\t\t\tif ( oldIndex === 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonMove( oldIndex, oldIndex - 1 );\n\t\t};\n\t}\n\n\tfunction onRemoveImage( index ) {\n\t\treturn () => {\n\t\t\tconst newImages = images.filter( ( img, i ) => index !== i );\n\t\t\tsetSelectedImage();\n\t\t\tsetAttributes( {\n\t\t\t\timages: newImages,\n\t\t\t\tcolumns: attributes.columns\n\t\t\t\t\t? Math.min( newImages.length, attributes.columns )\n\t\t\t\t\t: attributes.columns,\n\t\t\t} );\n\t\t};\n\t}\n\n\tfunction selectCaption( newImage ) {\n\t\t// The image id in both the images and attachmentCaptions arrays is a\n\t\t// string, so ensure comparison works correctly by converting the\n\t\t// newImage.id to a string.\n\t\tconst newImageId = newImage.id.toString();\n\t\tconst currentImage = images.find( ( { id } ) => id === newImageId );\n\t\tconst currentImageCaption = currentImage\n\t\t\t? currentImage.caption\n\t\t\t: newImage.caption;\n\n\t\tif ( ! attachmentCaptions ) {\n\t\t\treturn currentImageCaption;\n\t\t}\n\n\t\tconst attachment = attachmentCaptions.find(\n\t\t\t( { id } ) => id === newImageId\n\t\t);\n\n\t\t// If the attachment caption is updated.\n\t\tif ( attachment && attachment.caption !== newImage.caption ) {\n\t\t\treturn newImage.caption;\n\t\t}\n\n\t\treturn currentImageCaption;\n\t}\n\n\tfunction onSelectImages( newImages ) {\n\t\tsetAttachmentCaptions(\n\t\t\tnewImages.map( ( newImage ) => ( {\n\t\t\t\t// Store the attachmentCaption id as a string for consistency\n\t\t\t\t// with the type of the id in the images attribute.\n\t\t\t\tid: newImage.id.toString(),\n\t\t\t\tcaption: newImage.caption,\n\t\t\t} ) )\n\t\t);\n\t\tsetAttributes( {\n\t\t\timages: newImages.map( ( newImage ) => ( {\n\t\t\t\t...pickRelevantMediaFiles( newImage, sizeSlug ),\n\t\t\t\tcaption: selectCaption( newImage, images, attachmentCaptions ),\n\t\t\t\t// The id value is stored in a data attribute, so when the\n\t\t\t\t// block is parsed it's converted to a string. Converting\n\t\t\t\t// to a string here ensures it's type is consistent.\n\t\t\t\tid: newImage.id.toString(),\n\t\t\t} ) ),\n\t\t\tcolumns: attributes.columns\n\t\t\t\t? Math.min( newImages.length, attributes.columns )\n\t\t\t\t: attributes.columns,\n\t\t} );\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tnoticeOperations.removeAllNotices();\n\t\tnoticeOperations.createErrorNotice( message );\n\t}\n\n\tfunction setLinkTo( value ) {\n\t\tsetAttributes( { linkTo: value } );\n\t}\n\n\tfunction setColumnsNumber( value ) {\n\t\tsetAttributes( { columns: value } );\n\t}\n\n\tfunction toggleImageCrop() {\n\t\tsetAttributes( { imageCrop: ! imageCrop } );\n\t}\n\n\tfunction getImageCropHelp( checked ) {\n\t\treturn checked\n\t\t\t? __( 'Thumbnails are cropped to align.' )\n\t\t\t: __( 'Thumbnails are not cropped.' );\n\t}\n\n\tfunction setImageAttributes( index, newAttributes ) {\n\t\tif ( ! images[ index ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\timages: [\n\t\t\t\t...images.slice( 0, index ),\n\t\t\t\t{\n\t\t\t\t\t...images[ index ],\n\t\t\t\t\t...newAttributes,\n\t\t\t\t},\n\t\t\t\t...images.slice( index + 1 ),\n\t\t\t],\n\t\t} );\n\t}\n\n\tfunction getImagesSizeOptions() {\n\t\tconst resizedImageSizes = Object.values( resizedImages );\n\t\treturn imageSizes\n\t\t\t.filter( ( { slug } ) =>\n\t\t\t\tresizedImageSizes.some( ( sizes ) => sizes[ slug ] )\n\t\t\t)\n\t\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\n\t}\n\n\tfunction updateImagesSize( newSizeSlug ) {\n\t\tconst updatedImages = ( images ?? [] ).map( ( image ) => {\n\t\t\tif ( ! image.id ) {\n\t\t\t\treturn image;\n\t\t\t}\n\t\t\tconst url =\n\t\t\t\tresizedImages[ parseInt( image.id, 10 ) ]?.[ newSizeSlug ];\n\t\t\treturn {\n\t\t\t\t...image,\n\t\t\t\t...( url && { url } ),\n\t\t\t};\n\t\t} );\n\n\t\tsetAttributes( { images: updatedImages, sizeSlug: newSizeSlug } );\n\t}\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tPlatform.OS === 'web' &&\n\t\t\timages &&\n\t\t\timages.length > 0 &&\n\t\t\timages.every( ( { url } ) => isBlobURL( url ) )\n\t\t) {\n\t\t\tconst filesList = images.map( ( { url } ) => getBlobByURL( url ) );\n\t\t\timages.forEach( ( { url } ) => revokeBlobURL( url ) );\n\t\t\tmediaUpload( {\n\t\t\t\tfilesList,\n\t\t\t\tonFileChange: onSelectImages,\n\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t} );\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t// Deselect images when deselecting the block.\n\t\tif ( ! isSelected ) {\n\t\t\tsetSelectedImage();\n\t\t}\n\t}, [ isSelected ] );\n\n\tuseEffect( () => {\n\t\t// linkTo attribute must be saved so blocks don't break when changing\n\t\t// image_default_link_type in options.php.\n\t\tif ( ! linkTo ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTo:\n\t\t\t\t\twindow?.wp?.media?.view?.settings?.defaultProps?.link ||\n\t\t\t\t\tLINK_DESTINATION_NONE,\n\t\t\t} );\n\t\t}\n\t}, [ linkTo ] );\n\n\tconst hasImages = !! images.length;\n\tconst hasImageIds = hasImages && images.some( ( image ) => !! image.id );\n\n\tconst mediaPlaceholder = (\n\t\t<MediaPlaceholder\n\t\t\taddToGallery={ hasImageIds }\n\t\t\tisAppender={ hasImages }\n\t\t\tdisableMediaButtons={ hasImages && ! isSelected }\n\t\t\ticon={ ! hasImages && sharedIcon }\n\t\t\tlabels={ {\n\t\t\t\ttitle: ! hasImages && __( 'Gallery' ),\n\t\t\t\tinstructions: ! hasImages && PLACEHOLDER_TEXT,\n\t\t\t} }\n\t\t\tonSelect={ onSelectImages }\n\t\t\taccept=\"image/*\"\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\tmultiple\n\t\t\tvalue={ hasImageIds ? images : {} }\n\t\t\tonError={ onUploadError }\n\t\t\tnotices={ hasImages ? undefined : noticeUI }\n\t\t\tonFocus={ onFocus }\n\t\t\tautoOpenMediaUpload={\n\t\t\t\t! hasImages && isSelected && wasBlockJustInserted\n\t\t\t}\n\t\t/>\n\t);\n\n\tconst blockProps = useBlockProps();\n\n\tif ( ! hasImages ) {\n\t\treturn <View { ...blockProps }>{ mediaPlaceholder }</View>;\n\t}\n\n\tconst imageSizeOptions = getImagesSizeOptions();\n\tconst shouldShowSizeOptions = hasImages && imageSizeOptions.length > 0;\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ images.length > 1 && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ setColumnsNumber }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ Math.min( MAX_COLUMNS, images.length ) }\n\t\t\t\t\t\t\t{ ...MOBILE_CONTROL_PROPS_RANGE_CONTROL }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Crop images' ) }\n\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\tonChange={ toggleImageCrop }\n\t\t\t\t\t\thelp={ getImageCropHelp }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link to' ) }\n\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\tonChange={ setLinkTo }\n\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t/>\n\t\t\t\t\t{ shouldShowSizeOptions && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\t\tvalue={ sizeSlug }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t\tonChange={ updateImagesSize }\n\t\t\t\t\t\t\thideCancelButton\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ noticeUI }\n\t\t\t<Gallery\n\t\t\t\t{ ...props }\n\t\t\t\tselectedImage={ selectedImage }\n\t\t\t\tmediaPlaceholder={ mediaPlaceholder }\n\t\t\t\tonMoveBackward={ onMoveBackward }\n\t\t\t\tonMoveForward={ onMoveForward }\n\t\t\t\tonRemoveImage={ onRemoveImage }\n\t\t\t\tonSelectImage={ onSelectImage }\n\t\t\t\tonDeselectImage={ onDeselectImage }\n\t\t\t\tonSetImageAttributes={ setImageAttributes }\n\t\t\t\tblockProps={ blockProps }\n\t\t\t\t// This prop is used by gallery.native.js.\n\t\t\t\tonFocusGalleryCaption={ onFocusGalleryCaption }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithNotices,\n\twithViewportMatch( { isNarrow: '< small' } ),\n] )( GalleryEdit );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { compose } from '@wordpress/compose';\r\nimport { withNotices } from '@wordpress/components';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport EditWithInnerBlocks from './edit';\r\nimport EditWithoutInnerBlocks from './v1/edit';\r\nimport { isGalleryV2Enabled } from './shared';\r\n\r\n/*\r\n * Using a wrapper around the logic to load the edit for v1 of Gallery block\r\n * or the refactored version with InnerBlocks. This is to prevent conditional\r\n * use of hooks lint errors if adding this logic to the top of the edit component.\r\n */\r\nfunction GalleryEditWrapper( props ) {\r\n\tif ( ! isGalleryV2Enabled() ) {\r\n\t\treturn <EditWithoutInnerBlocks { ...props } />;\r\n\t}\r\n\r\n\treturn <EditWithInnerBlocks { ...props } />;\r\n}\r\n\r\nexport default compose( [ withNotices ] )( GalleryEditWrapper );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { createBlobURL } from '@wordpress/blob';\r\nimport { addFilter } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_NONE,\r\n\tLINK_DESTINATION_MEDIA,\r\n} from './constants';\r\nimport { pickRelevantMediaFiles, isGalleryV2Enabled } from './shared';\r\n\r\nconst parseShortcodeIds = ( ids ) => {\r\n\tif ( ! ids ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn ids.split( ',' ).map( ( id ) => parseInt( id, 10 ) );\r\n};\r\n\r\n/**\r\n * Third party block plugins don't have an easy way to detect if the\r\n * innerBlocks version of the Gallery is running when they run a\r\n * 3rdPartyBlock -> GalleryBlock transform so this tranform filter\r\n * will handle this. Once the innerBlocks version is the default\r\n * in a core release, this could be deprecated and removed after\r\n * plugin authors have been given time to update transforms.\r\n *\r\n * @typedef  {Object} Attributes\r\n * @typedef  {Object} Block\r\n * @property {Attributes} attributes The attributes of the block.\r\n * @param    {Block}      block      The transformed block.\r\n * @return   {Block}                 The transformed block.\r\n */\r\nfunction updateThirdPartyTransformToGallery( block ) {\r\n\tif (\r\n\t\tisGalleryV2Enabled() &&\r\n\t\tblock.name === 'core/gallery' &&\r\n\t\tblock.attributes?.images.length > 0\r\n\t) {\r\n\t\tconst innerBlocks = block.attributes.images.map(\r\n\t\t\t( { url, id, alt } ) => {\r\n\t\t\t\treturn createBlock( 'core/image', {\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tid: id ? parseInt( id, 10 ) : null,\r\n\t\t\t\t\talt,\r\n\t\t\t\t\tsizeSlug: block.attributes.sizeSlug,\r\n\t\t\t\t\tlinkDestination: block.attributes.linkDestination,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tdelete block.attributes.ids;\r\n\t\tdelete block.attributes.images;\r\n\t\tblock.innerBlocks = innerBlocks;\r\n\t}\r\n\r\n\treturn block;\r\n}\r\naddFilter(\r\n\t'blocks.switchToBlockType.transformedBlock',\r\n\t'core/gallery/update-third-party-transform-to',\r\n\tupdateThirdPartyTransformToGallery\r\n);\r\n\r\n/**\r\n * Third party block plugins don't have an easy way to detect if the\r\n * innerBlocks version of the Gallery is running when they run a\r\n * GalleryBlock -> 3rdPartyBlock transform so this transform filter\r\n * will handle this. Once the innerBlocks version is the default\r\n * in a core release, this could be deprecated and removed after\r\n * plugin authors have been given time to update transforms.\r\n *\r\n * @typedef  {Object} Attributes\r\n * @typedef  {Object} Block\r\n * @property {Attributes} attributes The attributes of the block.\r\n * @param    {Block}      toBlock    The block to transform to.\r\n * @param    {Block[]}    fromBlocks The blocks to transform from.\r\n * @return   {Block}                 The transformed block.\r\n */\r\nfunction updateThirdPartyTransformFromGallery( toBlock, fromBlocks ) {\r\n\tconst from = Array.isArray( fromBlocks ) ? fromBlocks : [ fromBlocks ];\r\n\tconst galleryBlock = from.find(\r\n\t\t( transformedBlock ) =>\r\n\t\t\ttransformedBlock.name === 'core/gallery' &&\r\n\t\t\ttransformedBlock.innerBlocks.length > 0 &&\r\n\t\t\t! transformedBlock.attributes.images?.length > 0 &&\r\n\t\t\t! toBlock.name.includes( 'core/' )\r\n\t);\r\n\r\n\tif ( galleryBlock ) {\r\n\t\tconst images = galleryBlock.innerBlocks.map(\r\n\t\t\t( { attributes: { url, id, alt } } ) => ( {\r\n\t\t\t\turl,\r\n\t\t\t\tid: id ? parseInt( id, 10 ) : null,\r\n\t\t\t\talt,\r\n\t\t\t} )\r\n\t\t);\r\n\t\tconst ids = images.map( ( { id } ) => id );\r\n\t\tgalleryBlock.attributes.images = images;\r\n\t\tgalleryBlock.attributes.ids = ids;\r\n\t}\r\n\r\n\treturn toBlock;\r\n}\r\naddFilter(\r\n\t'blocks.switchToBlockType.transformedBlock',\r\n\t'core/gallery/update-third-party-transform-from',\r\n\tupdateThirdPartyTransformFromGallery\r\n);\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\t// Init the align and size from the first item which may be either the placeholder or an image.\r\n\t\t\t\tlet { align, sizeSlug } = attributes[ 0 ];\r\n\t\t\t\t// Loop through all the images and check if they have the same align and size.\r\n\t\t\t\talign = attributes.every(\r\n\t\t\t\t\t( attribute ) => attribute.align === align\r\n\t\t\t\t)\r\n\t\t\t\t\t? align\r\n\t\t\t\t\t: undefined;\r\n\t\t\t\tsizeSlug = attributes.every(\r\n\t\t\t\t\t( attribute ) => attribute.sizeSlug === sizeSlug\r\n\t\t\t\t)\r\n\t\t\t\t\t? sizeSlug\r\n\t\t\t\t\t: undefined;\r\n\r\n\t\t\t\tconst validImages = attributes.filter( ( { url } ) => url );\r\n\r\n\t\t\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\t\t\tconst innerBlocks = validImages.map( ( image ) => {\r\n\t\t\t\t\t\t// Gallery images can't currently be resized so make sure height and width are undefined.\r\n\t\t\t\t\t\timage.width = undefined;\r\n\t\t\t\t\t\timage.height = undefined;\r\n\t\t\t\t\t\treturn createBlock( 'core/image', image );\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\t'core/gallery',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t\t\tsizeSlug,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinnerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBlock( 'core/gallery', {\r\n\t\t\t\t\timages: validImages.map(\r\n\t\t\t\t\t\t( { id, url, alt, caption } ) => ( {\r\n\t\t\t\t\t\t\tid: id.toString(),\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\talt,\r\n\t\t\t\t\t\t\tcaption,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t),\r\n\t\t\t\t\tids: validImages.map( ( { id } ) => parseInt( id, 10 ) ),\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tsizeSlug,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'shortcode',\r\n\t\t\ttag: 'gallery',\r\n\t\t\ttransform( { named: { ids, columns = 3, link, orderby } } ) {\r\n\t\t\t\tconst imageIds = parseShortcodeIds( ids ).map( ( id ) =>\r\n\t\t\t\t\tparseInt( id, 10 )\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet linkTo = LINK_DESTINATION_NONE;\r\n\t\t\t\tif ( link === 'post' ) {\r\n\t\t\t\t\tlinkTo = LINK_DESTINATION_ATTACHMENT;\r\n\t\t\t\t} else if ( link === 'file' ) {\r\n\t\t\t\t\tlinkTo = LINK_DESTINATION_MEDIA;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst galleryBlock = createBlock(\r\n\t\t\t\t\t'core/gallery',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumns: parseInt( columns, 10 ),\r\n\t\t\t\t\t\tlinkTo,\r\n\t\t\t\t\t\trandomOrder: orderby === 'rand',\r\n\t\t\t\t\t},\r\n\t\t\t\t\timageIds.map( ( imageId ) =>\r\n\t\t\t\t\t\tcreateBlock( 'core/image', { id: imageId } )\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn galleryBlock;\r\n\t\t\t},\r\n\t\t\tisMatch( { named } ) {\r\n\t\t\t\treturn undefined !== named.ids;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\t// When created by drag and dropping multiple files on an insertion point. Because multiple\r\n\t\t\t// files must not be transformed to a gallery when dropped within a gallery there is another transform\r\n\t\t\t// within the image block to handle that case. Therefore this transform has to have priority 1\r\n\t\t\t// set so that it overrrides the image block transformation when mulitple images are dropped outside\r\n\t\t\t// of a gallery block.\r\n\t\t\ttype: 'files',\r\n\t\t\tpriority: 1,\r\n\t\t\tisMatch( files ) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tfiles.length !== 1 &&\r\n\t\t\t\t\tfiles.every(\r\n\t\t\t\t\t\t( file ) => file.type.indexOf( 'image/' ) === 0\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform( files ) {\r\n\t\t\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\t\t\tconst innerBlocks = files.map( ( file ) =>\r\n\t\t\t\t\t\tcreateBlock( 'core/image', {\r\n\t\t\t\t\t\t\turl: createBlobURL( file ),\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn createBlock( 'core/gallery', {}, innerBlocks );\r\n\t\t\t\t}\r\n\t\t\t\tconst block = createBlock( 'core/gallery', {\r\n\t\t\t\t\timages: files.map( ( file ) =>\r\n\t\t\t\t\t\tpickRelevantMediaFiles( {\r\n\t\t\t\t\t\t\turl: createBlobURL( file ),\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t),\r\n\t\t\t\t} );\r\n\t\t\t\treturn block;\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( { align, images, ids, sizeSlug }, innerBlocks ) => {\r\n\t\t\t\tif ( isGalleryV2Enabled() ) {\r\n\t\t\t\t\tif ( innerBlocks.length > 0 ) {\r\n\t\t\t\t\t\treturn innerBlocks.map(\r\n\t\t\t\t\t\t\t( {\r\n\t\t\t\t\t\t\t\tattributes: {\r\n\t\t\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\t\t\talt,\r\n\t\t\t\t\t\t\t\t\tcaption,\r\n\t\t\t\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\t\t\t\thref,\r\n\t\t\t\t\t\t\t\t\trel,\r\n\t\t\t\t\t\t\t\t\tlinkClass,\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\tsizeSlug: imageSizeSlug,\r\n\t\t\t\t\t\t\t\t\tlinkDestination,\r\n\t\t\t\t\t\t\t\t\tlinkTarget,\r\n\t\t\t\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t} ) =>\r\n\t\t\t\t\t\t\t\tcreateBlock( 'core/image', {\r\n\t\t\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\t\t\talt,\r\n\t\t\t\t\t\t\t\t\tcaption,\r\n\t\t\t\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\t\t\t\thref,\r\n\t\t\t\t\t\t\t\t\trel,\r\n\t\t\t\t\t\t\t\t\tlinkClass,\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\tsizeSlug: imageSizeSlug,\r\n\t\t\t\t\t\t\t\t\tlinkDestination,\r\n\t\t\t\t\t\t\t\t\tlinkTarget,\r\n\t\t\t\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn createBlock( 'core/image', { align } );\r\n\t\t\t\t}\r\n\t\t\t\tif ( images.length > 0 ) {\r\n\t\t\t\t\treturn images.map( ( { url, alt, caption }, index ) =>\r\n\t\t\t\t\t\tcreateBlock( 'core/image', {\r\n\t\t\t\t\t\t\tid: ids[ index ],\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\talt,\r\n\t\t\t\t\t\t\tcaption,\r\n\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t\t\tsizeSlug,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn createBlock( 'core/image', { align } );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { gallery as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit-wrapper';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcolumns: 2,\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/image',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/image',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Sediment_off_the_Yucatan_Peninsula.jpg',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport saveWithoutInnerBlocks from './v1/save';\r\nimport { isGalleryV2Enabled } from './shared';\r\n\r\nexport default function saveWithInnerBlocks( { attributes } ) {\r\n\tif ( ! isGalleryV2Enabled() ) {\r\n\t\treturn saveWithoutInnerBlocks( { attributes } );\r\n\t}\r\n\r\n\tconst { caption, columns, imageCrop } = attributes;\r\n\r\n\tconst className = classnames( 'has-nested-images', {\r\n\t\t[ `columns-${ columns }` ]: columns !== undefined,\r\n\t\t[ `columns-default` ]: columns === undefined,\r\n\t\t'is-cropped': imageCrop,\r\n\t} );\r\n\tconst blockProps = useBlockProps.save( { className } );\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\treturn (\r\n\t\t<figure { ...innerBlocksProps }>\r\n\t\t\t{ innerBlocksProps.children }\r\n\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'blocks-gallery-caption',\r\n\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { defaultColumnsNumberV1 } from '../deprecated';\r\nimport {\r\n\tLINK_DESTINATION_ATTACHMENT,\r\n\tLINK_DESTINATION_MEDIA,\r\n} from './constants';\r\n\r\nexport default function saveV1( { attributes } ) {\r\n\tconst {\r\n\t\timages,\r\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\r\n\t\timageCrop,\r\n\t\tcaption,\r\n\t\tlinkTo,\r\n\t} = attributes;\r\n\tconst className = `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }`;\r\n\r\n\treturn (\r\n\t\t<figure { ...useBlockProps.save( { className } ) }>\r\n\t\t\t<ul className=\"blocks-gallery-grid\">\r\n\t\t\t\t{ images.map( ( image ) => {\r\n\t\t\t\t\tlet href;\r\n\r\n\t\t\t\t\tswitch ( linkTo ) {\r\n\t\t\t\t\t\tcase LINK_DESTINATION_MEDIA:\r\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase LINK_DESTINATION_ATTACHMENT:\r\n\t\t\t\t\t\t\thref = image.link;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst img = (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={ image.url }\r\n\t\t\t\t\t\t\talt={ image.alt }\r\n\t\t\t\t\t\t\tdata-id={ image.id }\r\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\r\n\t\t\t\t\t\t\tdata-link={ image.link }\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tkey={ image.id || image.url }\r\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<figure>\r\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\r\n\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\r\n\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t'blocks-gallery-item__caption',\r\n\t\t\t\t\t\t\t\t\t\t\t__experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</figure>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</ul>\r\n\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t'blocks-gallery-caption',\r\n\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tInnerBlocks,\r\n\tgetColorClassName,\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n} from '@wordpress/block-editor';\r\n\r\nconst migrateAttributes = ( attributes ) => {\r\n\tif ( ! attributes.tagName ) {\r\n\t\tattributes = {\r\n\t\t\t...attributes,\r\n\t\t\ttagName: 'div',\r\n\t\t};\r\n\t}\r\n\r\n\tif ( ! attributes.customTextColor && ! attributes.customBackgroundColor ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = { color: {} };\r\n\tif ( attributes.customTextColor ) {\r\n\t\tstyle.color.text = attributes.customTextColor;\r\n\t}\r\n\tif ( attributes.customBackgroundColor ) {\r\n\t\tstyle.color.background = attributes.customBackgroundColor;\r\n\t}\r\n\r\n\tconst { customTextColor, customBackgroundColor, ...restAttributes } =\r\n\t\tattributes;\r\n\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t};\r\n};\r\n\r\nconst deprecated = [\r\n\t// Version with default layout.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\ttagName: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'div',\r\n\t\t\t},\r\n\t\t\ttemplateLock: {\r\n\t\t\t\ttype: [ 'string', 'boolean' ],\r\n\t\t\t\tenum: [ 'all', 'insert', false ],\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\t__experimentalOnEnter: true,\r\n\t\t\t__experimentalSettings: true,\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\tariaLabel: true,\r\n\t\t\thtml: false,\r\n\t\t\tcolor: {\r\n\t\t\t\tgradients: true,\r\n\t\t\t\tlink: true,\r\n\t\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\t\tbackground: true,\r\n\t\t\t\t\ttext: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tspacing: {\r\n\t\t\t\tmargin: [ 'top', 'bottom' ],\r\n\t\t\t\tpadding: true,\r\n\t\t\t\tblockGap: true,\r\n\t\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\t\tpadding: true,\r\n\t\t\t\t\tblockGap: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t__experimentalBorder: {\r\n\t\t\t\tcolor: true,\r\n\t\t\t\tradius: true,\r\n\t\t\t\tstyle: true,\r\n\t\t\t\twidth: true,\r\n\t\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\t\tcolor: true,\r\n\t\t\t\t\tradius: true,\r\n\t\t\t\t\tstyle: true,\r\n\t\t\t\t\twidth: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ttypography: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t\tlineHeight: true,\r\n\t\t\t\t__experimentalFontStyle: true,\r\n\t\t\t\t__experimentalFontWeight: true,\r\n\t\t\t\t__experimentalLetterSpacing: true,\r\n\t\t\t\t__experimentalTextTransform: true,\r\n\t\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\t\tfontSize: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tlayout: true,\r\n\t\t},\r\n\t\tsave( { attributes: { tagName: Tag } } ) {\r\n\t\t\treturn (\r\n\t\t\t\t<Tag { ...useInnerBlocksProps.save( useBlockProps.save() ) } />\r\n\t\t\t);\r\n\t\t},\r\n\t\tisEligible: ( { layout } ) =>\r\n\t\t\t! layout ||\r\n\t\t\tlayout.inherit ||\r\n\t\t\t( layout.contentSize && layout.type !== 'constrained' ),\r\n\t\tmigrate: ( attributes ) => {\r\n\t\t\tconst { layout = null } = attributes;\r\n\t\t\tif ( ! layout ) {\r\n\t\t\t\treturn attributes;\r\n\t\t\t}\r\n\t\t\tif ( layout.inherit || layout.contentSize ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...attributes,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t...layout,\r\n\t\t\t\t\t\ttype: 'constrained',\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\t// Version of the block with the double div.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\ttagName: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'div',\r\n\t\t\t},\r\n\t\t\ttemplateLock: {\r\n\t\t\t\ttype: [ 'string', 'boolean' ],\r\n\t\t\t\tenum: [ 'all', 'insert', false ],\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\tcolor: {\r\n\t\t\t\tgradients: true,\r\n\t\t\t\tlink: true,\r\n\t\t\t},\r\n\t\t\tspacing: {\r\n\t\t\t\tpadding: true,\r\n\t\t\t},\r\n\t\t\t__experimentalBorder: {\r\n\t\t\t\tradius: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { tagName: Tag } = attributes;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Tag { ...useBlockProps.save() }>\r\n\t\t\t\t\t<div className=\"wp-block-group__inner-container\">\r\n\t\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Tag>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t// Version of the block without global styles support\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t},\r\n\t\tmigrate: migrateAttributes,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst className = classnames( backgroundClass, textClass, {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ className } style={ styles }>\r\n\t\t\t\t\t<div className=\"wp-block-group__inner-container\">\r\n\t\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t// Version of the group block with a bug that made text color class not applied.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: migrateAttributes,\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst className = classnames( backgroundClass, {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ className } style={ styles }>\r\n\t\t\t\t\t<div className=\"wp-block-group__inner-container\">\r\n\t\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t// v1 of group block. Deprecated to add an inner-container div around `InnerBlocks.Content`.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t},\r\n\t\tmigrate: migrateAttributes,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { backgroundColor, customBackgroundColor } = attributes;\r\n\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst className = classnames( backgroundClass, {\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div className={ className } style={ styles }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as blocksStore } from '@wordpress/blocks';\r\nimport { Path, SVG, Button, Placeholder } from '@wordpress/components';\r\nimport { useState, useEffect } from '@wordpress/element';\r\n\r\n/**\r\n * Returns a custom variation icon.\r\n *\r\n * @param {string} name The block variation name.\r\n *\r\n * @return {JSX.Element} The SVG element.\r\n */\r\nconst getGroupPlaceholderIcons = ( name = 'group' ) => {\r\n\tconst icons = {\r\n\t\tgroup: (\r\n\t\t\t<SVG\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\twidth=\"44\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\tviewBox=\"0 0 44 32\"\r\n\t\t\t>\r\n\t\t\t\t<Path d=\"M42 0H2C.9 0 0 .9 0 2v28c0 1.1.9 2 2 2h40c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2z\" />\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\t'group-row': (\r\n\t\t\t<SVG\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\twidth=\"44\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\tviewBox=\"0 0 44 32\"\r\n\t\t\t>\r\n\t\t\t\t<Path d=\"M42 0H23.5c-.6 0-1 .4-1 1v30c0 .6.4 1 1 1H42c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM20.5 0H2C.9 0 0 .9 0 2v28c0 1.1.9 2 2 2h18.5c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1z\" />\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\t'group-stack': (\r\n\t\t\t<SVG\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\twidth=\"44\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\tviewBox=\"0 0 44 32\"\r\n\t\t\t>\r\n\t\t\t\t<Path d=\"M42 0H2C.9 0 0 .9 0 2v12.5c0 .6.4 1 1 1h42c.6 0 1-.4 1-1V2c0-1.1-.9-2-2-2zm1 16.5H1c-.6 0-1 .4-1 1V30c0 1.1.9 2 2 2h40c1.1 0 2-.9 2-2V17.5c0-.6-.4-1-1-1z\" />\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t\t'group-grid': (\r\n\t\t\t<SVG\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\twidth=\"44\"\r\n\t\t\t\theight=\"32\"\r\n\t\t\t\tviewBox=\"0 0 44 32\"\r\n\t\t\t>\r\n\t\t\t\t<Path d=\"m20.30137,-0.00025l-18.9728,0c-0.86524,0.07234 -1.41711,0.79149 -1.41711,1.89149l0,12.64468c0,0.6 0.73401,0.96383 1.0304,0.96383l19.67469,0.03617c0.29639,0 1.0304,-0.4 1.0304,-1l-0.03576,-12.7532c0,-1.1 -0.76644,-1.78297 -1.30983,-1.78297zm0.52975,16.60851l-19.99654,-0.03617c-0.29639,0 -0.92312,0.36383 -0.92312,0.96383l-0.03576,12.68085c0,1.1 0.8022,1.81915 1.34559,1.81915l19.00857,0c0.54339,0 1.45287,-0.71915 1.45287,-1.81915l0,-12.53617c0,-0.6 -0.5552,-1.07234 -0.8516,-1.07234z\" />\r\n\t\t\t\t<Path d=\"m42.73056,-0.03617l-18.59217,0c-0.84788,0.07234 -1.38868,0.79149 -1.38868,1.89149l0,12.64468c0,0.6 0.71928,0.96383 1.00973,0.96383l19.27997,0.03617c0.29045,0 1.00973,-0.4 1.00973,-1l-0.03504,-12.7532c0,-1.1 -0.75106,-1.78297 -1.28355,-1.78297zm0.51912,16.60851l-19.59537,-0.03617c-0.29045,0 -0.9046,0.36383 -0.9046,0.96383l-0.03504,12.68085c0,1.1 0.78611,1.81915 1.31859,1.81915l18.62721,0c0.53249,0 1.42372,-0.71915 1.42372,-1.81915l0,-12.53617c0,-0.6 -0.54407,-1.07234 -0.83451,-1.07234z\" />\r\n\t\t\t</SVG>\r\n\t\t),\r\n\t};\r\n\treturn icons?.[ name ];\r\n};\r\n\r\n/**\r\n * A custom hook to tell the Group block whether to show the variation placeholder.\r\n *\r\n * @param {Object}  props                  Arguments to pass to hook.\r\n * @param {Object}  [props.attributes]     The block's attributes.\r\n * @param {string}  [props.usedLayoutType] The block's current layout type.\r\n * @param {boolean} [props.hasInnerBlocks] Whether the block has inner blocks.\r\n *\r\n * @return {[boolean, Function]} A state value and setter function.\r\n */\r\nexport function useShouldShowPlaceHolder( {\r\n\tattributes = {\r\n\t\tstyle: undefined,\r\n\t\tbackgroundColor: undefined,\r\n\t\ttextColor: undefined,\r\n\t\tfontSize: undefined,\r\n\t},\r\n\tusedLayoutType = '',\r\n\thasInnerBlocks = false,\r\n} ) {\r\n\tconst { style, backgroundColor, textColor, fontSize } = attributes;\r\n\t/*\r\n\t * Shows the placeholder when no known styles are set,\r\n\t * or when a non-default layout has been selected.\r\n\t * Should the Group block support more style presets in the\r\n\t * future, e.g., attributes.spacingSize, we can add them to the\r\n\t * condition.\r\n\t */\r\n\tconst [ showPlaceholder, setShowPlaceholder ] = useState(\r\n\t\t! hasInnerBlocks &&\r\n\t\t\t! backgroundColor &&\r\n\t\t\t! fontSize &&\r\n\t\t\t! textColor &&\r\n\t\t\t! style &&\r\n\t\t\tusedLayoutType !== 'flex' &&\r\n\t\t\tusedLayoutType !== 'grid'\r\n\t);\r\n\r\n\tuseEffect( () => {\r\n\t\tif (\r\n\t\t\t!! hasInnerBlocks ||\r\n\t\t\t!! backgroundColor ||\r\n\t\t\t!! fontSize ||\r\n\t\t\t!! textColor ||\r\n\t\t\t!! style ||\r\n\t\t\tusedLayoutType === 'flex'\r\n\t\t) {\r\n\t\t\tsetShowPlaceholder( false );\r\n\t\t}\r\n\t}, [\r\n\t\tbackgroundColor,\r\n\t\tfontSize,\r\n\t\ttextColor,\r\n\t\tstyle,\r\n\t\tusedLayoutType,\r\n\t\thasInnerBlocks,\r\n\t] );\r\n\r\n\treturn [ showPlaceholder, setShowPlaceholder ];\r\n}\r\n\r\n/**\r\n * Display group variations if none is selected.\r\n *\r\n * @param {Object}   props          Component props.\r\n * @param {string}   props.name     The block's name.\r\n * @param {Function} props.onSelect Function to set block's attributes.\r\n *\r\n * @return {JSX.Element}                The placeholder.\r\n */\r\nfunction GroupPlaceHolder( { name, onSelect } ) {\r\n\tconst variations = useSelect(\r\n\t\t( select ) => select( blocksStore ).getBlockVariations( name, 'block' ),\r\n\t\t[ name ]\r\n\t);\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: 'wp-block-group__placeholder',\r\n\t} );\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Placeholder\r\n\t\t\t\tinstructions={ __( 'Group blocks together. Select a layout:' ) }\r\n\t\t\t>\r\n\t\t\t\t{ /*\r\n\t\t\t\t * Taken from BlockVariationPicker component.\r\n\t\t\t\t * Disable reason: The `list` ARIA role is redundant but\r\n\t\t\t\t * Safari+VoiceOver won't announce the list otherwise.\r\n\t\t\t\t */\r\n\t\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t\t<ul\r\n\t\t\t\t\trole=\"list\"\r\n\t\t\t\t\tclassName=\"wp-block-group-placeholder__variations\"\r\n\t\t\t\t\taria-label={ __( 'Block variations' ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ variations.map( ( variation ) => (\r\n\t\t\t\t\t\t<li key={ variation.name }>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\t\t\ticon={ getGroupPlaceholderIcons(\r\n\t\t\t\t\t\t\t\t\tvariation.name\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\ticonSize={ 44 }\r\n\t\t\t\t\t\t\t\tonClick={ () => onSelect( variation ) }\r\n\t\t\t\t\t\t\t\tclassName=\"wp-block-group-placeholder__variation-button\"\r\n\t\t\t\t\t\t\t\tlabel={ `${ variation.title }: ${ variation.description }` }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) ) }\r\n\t\t\t\t</ul>\r\n\t\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\r\n\t\t\t</Placeholder>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default GroupPlaceHolder;\r\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tInspectorControls,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { SelectControl } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { View } from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nimport GroupPlaceHolder, { useShouldShowPlaceHolder } from './placeholder';\n\n/**\n * Render inspector controls for the Group block.\n *\n * @param {Object}   props                 Component props.\n * @param {string}   props.tagName         The HTML tag name.\n * @param {Function} props.onSelectTagName onChange function for the SelectControl.\n *\n * @return {JSX.Element}                The control group.\n */\nfunction GroupEditControls( { tagName, onSelectTagName } ) {\n\tconst htmlElementMessages = {\n\t\theader: __(\n\t\t\t'The <header> element should represent introductory content, typically a group of introductory or navigational aids.'\n\t\t),\n\t\tmain: __(\n\t\t\t'The <main> element should be used for the primary content of your document only. '\n\t\t),\n\t\tsection: __(\n\t\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\n\t\t),\n\t\tarticle: __(\n\t\t\t'The <article> element should represent a self-contained, syndicatable portion of the document.'\n\t\t),\n\t\taside: __(\n\t\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\n\t\t),\n\t\tfooter: __(\n\t\t\t'The <footer> element should represent a footer for its nearest sectioning element (e.g.: <section>, <article>, <main> etc.).'\n\t\t),\n\t};\n\treturn (\n\t\t<InspectorControls group=\"advanced\">\n\t\t\t{ /** DOUBLEEDESIGN CUSTOM: Do not show HTML element selector */ }\n\t\t\t{ /*<SelectControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={ __( 'HTML element' ) }\n\t\t\t\toptions={ [\n\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\n\t\t\t\t\t{ label: '<header>', value: 'header' },\n\t\t\t\t\t{ label: '<main>', value: 'main' },\n\t\t\t\t\t{ label: '<section>', value: 'section' },\n\t\t\t\t\t{ label: '<article>', value: 'article' },\n\t\t\t\t\t{ label: '<aside>', value: 'aside' },\n\t\t\t\t\t{ label: '<footer>', value: 'footer' },\n\t\t\t\t] }\n\t\t\t\tvalue={ tagName }\n\t\t\t\tonChange={ onSelectTagName }\n\t\t\t\thelp={ htmlElementMessages[ tagName ] }\n\t\t\t/> */ }\n\t\t</InspectorControls>\n\t);\n}\n\nfunction GroupEdit( { attributes, name, setAttributes, clientId } ) {\n\tconst { hasInnerBlocks, themeSupportsLayout } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock, getSettings } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t\tthemeSupportsLayout: getSettings()?.supportsLayout,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst {\n\t\ttagName: TagName = 'div',\n\t\ttemplateLock,\n\t\tallowedBlocks,\n\t\tlayout = {},\n\t} = attributes;\n\n\t// Layout settings.\n\tconst { type = 'default' } = layout;\n\tconst layoutSupportEnabled =\n\t\tthemeSupportsLayout || type === 'flex' || type === 'grid';\n\n\t// Hooks.\n\tconst ref = useRef();\n\tconst blockProps = useBlockProps( { ref } );\n\n\tconst [ showPlaceholder, setShowPlaceholder ] = useShouldShowPlaceHolder( {\n\t\tattributes,\n\t\tusedLayoutType: type,\n\t\thasInnerBlocks,\n\t} );\n\n\t// Default to the regular appender being rendered.\n\tlet renderAppender;\n\tif ( showPlaceholder ) {\n\t\t// In the placeholder state, ensure the appender is not rendered.\n\t\t// This is needed because `...innerBlocksProps` is used in the placeholder\n\t\t// state so that blocks can dragged onto the placeholder area\n\t\t// from both the list view and in the editor canvas.\n\t\trenderAppender = false;\n\t} else if ( ! hasInnerBlocks ) {\n\t\t// When there is no placeholder, but the block is also empty,\n\t\t// use the larger button appender.\n\t\trenderAppender = InnerBlocks.ButtonBlockAppender;\n\t}\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\tlayoutSupportEnabled\n\t\t\t? blockProps\n\t\t\t: { className: 'wp-block-group__inner-container' },\n\t\t{\n\t\t\tdropZoneElement: ref.current,\n\t\t\ttemplateLock,\n\t\t\tallowedBlocks,\n\t\t\trenderAppender,\n\t\t}\n\t);\n\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\tconst selectVariation = ( nextVariation ) => {\n\t\tsetAttributes( nextVariation.attributes );\n\t\tselectBlock( clientId, -1 );\n\t\tsetShowPlaceholder( false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<GroupEditControls\n\t\t\t\ttagName={ TagName }\n\t\t\t\tonSelectTagName={ ( value ) =>\n\t\t\t\t\tsetAttributes( { tagName: value } )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ showPlaceholder && (\n\t\t\t\t<View>\n\t\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t\t<GroupPlaceHolder\n\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\tonSelect={ selectVariation }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t\t{ layoutSupportEnabled && ! showPlaceholder && (\n\t\t\t\t<TagName { ...innerBlocksProps } />\n\t\t\t) }\n\t\t\t{ /* Ideally this is not needed but it's there for backward compatibility reason\n\t\t\t\tto keep this div for themes that might rely on its presence */ }\n\t\t\t{ ! layoutSupportEnabled && ! showPlaceholder && (\n\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t\t</TagName>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default GroupEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ '*' ],\r\n\t\t\t__experimentalConvert( blocks ) {\r\n\t\t\t\tconst alignments = [ 'wide', 'full' ];\r\n\r\n\t\t\t\t// Determine the widest setting of all the blocks to be grouped\r\n\t\t\t\tconst widestAlignment = blocks.reduce(\r\n\t\t\t\t\t( accumulator, block ) => {\r\n\t\t\t\t\t\tconst { align } = block.attributes;\r\n\t\t\t\t\t\treturn alignments.indexOf( align ) >\r\n\t\t\t\t\t\t\talignments.indexOf( accumulator )\r\n\t\t\t\t\t\t\t? align\r\n\t\t\t\t\t\t\t: accumulator;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tundefined\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Clone the Blocks to be Grouped\r\n\t\t\t\t// Failing to create new block references causes the original blocks\r\n\t\t\t\t// to be replaced in the switchToBlockType call thereby meaning they\r\n\t\t\t\t// are removed both from their original location and within the\r\n\t\t\t\t// new group block.\r\n\t\t\t\tconst groupInnerBlocks = blocks.map( ( block ) => {\r\n\t\t\t\t\treturn createBlock(\r\n\t\t\t\t\t\tblock.name,\r\n\t\t\t\t\t\tblock.attributes,\r\n\t\t\t\t\t\tblock.innerBlocks\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/group',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign: widestAlignment,\r\n\t\t\t\t\t\tlayout: { type: 'constrained' },\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgroupInnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst row = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 6.5h5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4V16h5a.5.5 0 0 0 .5-.5v-7A.5.5 0 0 0 9 8H4V6.5Zm16 0h-5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h5V16h-5a.5.5 0 0 1-.5-.5v-7A.5.5 0 0 1 15 8h5V6.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default row;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst stack = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M17.5 4v5a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V4H8v5a.5.5 0 0 0 .5.5h7A.5.5 0 0 0 16 9V4h1.5Zm0 16v-5a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v5H8v-5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v5h1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default stack;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst grid = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\td=\"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default grid;\r\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { group, row, stack, grid } from '@wordpress/icons';\n\nconst variations = [\n\t{\n\t\tname: 'group',\n\t\ttitle: __( 'Group' ),\n\t\tdescription: __( 'Gather blocks in a container.' ),\n\t\tattributes: { layout: { type: 'constrained' } },\n\t\tisDefault: true,\n\t\tscope: [ 'block', 'inserter', 'transform' ],\n\t\tisActive: ( blockAttributes ) =>\n\t\t\t! blockAttributes.layout ||\n\t\t\t! blockAttributes.layout?.type ||\n\t\t\tblockAttributes.layout?.type === 'default' ||\n\t\t\tblockAttributes.layout?.type === 'constrained',\n\t\ticon: group,\n\t},\n\t{\n\t\tname: 'group-row',\n\t\ttitle: _x( 'Row', 'single horizontal line' ),\n\t\tdescription: __( 'Arrange blocks horizontally.' ),\n\t\tattributes: { layout: { type: 'flex', flexWrap: 'nowrap' } },\n\t\tscope: [ 'block', 'inserter', 'transform' ],\n\t\tisActive: ( blockAttributes ) =>\n\t\t\tblockAttributes.layout?.type === 'flex' &&\n\t\t\t( ! blockAttributes.layout?.orientation ||\n\t\t\t\tblockAttributes.layout?.orientation === 'horizontal' ),\n\t\ticon: row,\n\t},\n\t{\n\t\tname: 'group-stack',\n\t\ttitle: __( 'Stack' ),\n\t\tdescription: __( 'Arrange blocks vertically.' ),\n\t\tattributes: { layout: { type: 'flex', orientation: 'vertical' } },\n\t\tscope: [ 'block', 'inserter', 'transform' ],\n\t\tisActive: ( blockAttributes ) =>\n\t\t\tblockAttributes.layout?.type === 'flex' &&\n\t\t\tblockAttributes.layout?.orientation === 'vertical',\n\t\ticon: stack,\n\t},\n\t{\n\t\tname: 'group-grid',\n\t\ttitle: __( 'Grid' ),\n\t\tdescription: __( 'Arrange blocks in a grid.' ),\n\t\tattributes: { layout: { type: 'grid' } },\n\t\tscope: [ 'block', 'inserter', 'transform' ],\n\t\tisActive: ( blockAttributes ) =>\n\t\t\tblockAttributes.layout?.type === 'grid',\n\t\ticon: grid,\n\t},\n];\n\nexport default variations;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { group as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tstyle: {\r\n\t\t\t\tcolor: {\r\n\t\t\t\t\ttext: '#000000',\r\n\t\t\t\t\tbackground: '#ffffff',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#cf2e2e',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'One.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#ff6900',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'Two.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#fcb900',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'Three.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#00d084',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'Four.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#0693e3',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'Five.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcustomTextColor: '#9b51e0',\r\n\t\t\t\t\tfontSize: 'large',\r\n\t\t\t\t\tcontent: __( 'Six.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes: { tagName: Tag } } ) {\r\n\treturn <Tag { ...useInnerBlocksProps.save( useBlockProps.save() ) } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst heading = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default heading;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tgetColorClassName,\r\n\tRichText,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\nconst blockSupports = {\r\n\tclassName: false,\r\n\tanchor: true,\r\n};\r\n\r\nconst blockAttributes = {\r\n\talign: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcontent: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'html',\r\n\t\tselector: 'h1,h2,h3,h4,h5,h6',\r\n\t\tdefault: '',\r\n\t},\r\n\tlevel: {\r\n\t\ttype: 'number',\r\n\t\tdefault: 2,\r\n\t},\r\n\tplaceholder: {\r\n\t\ttype: 'string',\r\n\t},\r\n};\r\n\r\nconst migrateCustomColors = ( attributes ) => {\r\n\tif ( ! attributes.customTextColor ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = {\r\n\t\tcolor: {\r\n\t\t\ttext: attributes.customTextColor,\r\n\t\t},\r\n\t};\r\n\r\n\tconst { customTextColor, ...restAttributes } = attributes;\r\n\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t};\r\n};\r\n\r\nconst TEXT_ALIGN_OPTIONS = [ 'left', 'right', 'center' ];\r\n\r\nconst migrateTextAlign = ( attributes ) => {\r\n\tconst { align, ...rest } = attributes;\r\n\treturn TEXT_ALIGN_OPTIONS.includes( align )\r\n\t\t? { ...rest, textAlign: align }\r\n\t\t: attributes;\r\n};\r\n\r\nconst v1 = {\r\n\tsupports: blockSupports,\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tmigrate: ( attributes ) =>\r\n\t\tmigrateCustomColors( migrateTextAlign( attributes ) ),\r\n\tsave( { attributes } ) {\r\n\t\tconst { align, level, content, textColor, customTextColor } =\r\n\t\t\tattributes;\r\n\t\tconst tagName = 'h' + level;\r\n\r\n\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ textClass ]: textClass,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<RichText.Content\r\n\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\ttagName={ tagName }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\ttextAlign: align,\r\n\t\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\t} }\r\n\t\t\t\tvalue={ content }\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n};\r\nconst v2 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tmigrate: ( attributes ) =>\r\n\t\tmigrateCustomColors( migrateTextAlign( attributes ) ),\r\n\tsave( { attributes } ) {\r\n\t\tconst { align, content, customTextColor, level, textColor } =\r\n\t\t\tattributes;\r\n\t\tconst tagName = 'h' + level;\r\n\r\n\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ textClass ]: textClass,\r\n\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<RichText.Content\r\n\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\ttagName={ tagName }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\t} }\r\n\t\t\t\tvalue={ content }\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n\tsupports: blockSupports,\r\n};\r\nconst v3 = {\r\n\tsupports: blockSupports,\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tmigrate: ( attributes ) =>\r\n\t\tmigrateCustomColors( migrateTextAlign( attributes ) ),\r\n\tsave( { attributes } ) {\r\n\t\tconst { align, content, customTextColor, level, textColor } =\r\n\t\t\tattributes;\r\n\t\tconst tagName = 'h' + level;\r\n\r\n\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ textClass ]: textClass,\r\n\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<RichText.Content\r\n\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\ttagName={ tagName }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\t} }\r\n\t\t\t\tvalue={ content }\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n};\r\nconst v4 = {\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\tclassName: false,\r\n\t\tcolor: { link: true },\r\n\t\tfontSize: true,\r\n\t\tlineHeight: true,\r\n\t\t__experimentalSelector: {\r\n\t\t\t'core/heading/h1': 'h1',\r\n\t\t\t'core/heading/h2': 'h2',\r\n\t\t\t'core/heading/h3': 'h3',\r\n\t\t\t'core/heading/h4': 'h4',\r\n\t\t\t'core/heading/h5': 'h5',\r\n\t\t\t'core/heading/h6': 'h6',\r\n\t\t},\r\n\t\t__unstablePasteTextInline: true,\r\n\t},\r\n\tattributes: blockAttributes,\r\n\tisEligible: ( { align } ) => TEXT_ALIGN_OPTIONS.includes( align ),\r\n\tmigrate: migrateTextAlign,\r\n\tsave( { attributes } ) {\r\n\t\tconst { align, content, level } = attributes;\r\n\t\tconst TagName = 'h' + level;\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<TagName { ...useBlockProps.save( { className } ) }>\r\n\t\t\t\t<RichText.Content value={ content } />\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// This deprecation covers the serialization of the `wp-block-heading` class\r\n// into the block's markup after className support was enabled.\r\nconst v5 = {\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\tclassName: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t\tpadding: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t\tfontAppearance: true,\r\n\t\t\t\ttextTransform: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__experimentalSelector: 'h1,h2,h3,h4,h5,h6',\r\n\t\t__unstablePasteTextInline: true,\r\n\t\t__experimentalSlashInserter: true,\r\n\t},\r\n\tattributes: {\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\ttype: 'number',\r\n\t\t\tdefault: 2,\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { textAlign, content, level } = attributes;\r\n\t\tconst TagName = 'h' + level;\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<TagName { ...useBlockProps.save( { className } ) }>\r\n\t\t\t\t<RichText.Content value={ content } />\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst deprecated = [ v5, v4, v3, v2, v1 ];\r\n\r\nexport default deprecated;\r\n","/**\r\n * External dependencies\r\n */\r\nimport removeAccents from 'remove-accents';\r\n\r\n/**\r\n * Object map tracking anchors.\r\n *\r\n * @type {Record<string, string | null>}\r\n */\r\nconst anchors = {};\r\n\r\n/**\r\n * Returns the text without markup.\r\n *\r\n * @param {string} text The text.\r\n *\r\n * @return {string} The text without markup.\r\n */\r\nconst getTextWithoutMarkup = ( text ) => {\r\n\tconst dummyElement = document.createElement( 'div' );\r\n\tdummyElement.innerHTML = text;\r\n\treturn dummyElement.innerText;\r\n};\r\n\r\n/**\r\n * Get the slug from the content.\r\n *\r\n * @param {string} content The block content.\r\n *\r\n * @return {string} Returns the slug.\r\n */\r\nconst getSlug = ( content ) => {\r\n\t// Get the slug.\r\n\treturn (\r\n\t\tremoveAccents( getTextWithoutMarkup( content ) )\r\n\t\t\t// Convert anything that's not a letter or number to a hyphen.\r\n\t\t\t.replace( /[^\\p{L}\\p{N}]+/gu, '-' )\r\n\t\t\t// Convert to lowercase\r\n\t\t\t.toLowerCase()\r\n\t\t\t// Remove any remaining leading or trailing hyphens.\r\n\t\t\t.replace( /(^-+)|(-+$)/g, '' )\r\n\t);\r\n};\r\n\r\n/**\r\n * Generate the anchor for a heading.\r\n *\r\n * @param {string} clientId The block ID.\r\n * @param {string} content  The block content.\r\n *\r\n * @return {string|null} Return the heading anchor.\r\n */\r\nexport const generateAnchor = ( clientId, content ) => {\r\n\tconst slug = getSlug( content );\r\n\t// If slug is empty, then return null.\r\n\t// Returning null instead of an empty string allows us to check again when the content changes.\r\n\tif ( '' === slug ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tdelete anchors[ clientId ];\r\n\r\n\tlet anchor = slug;\r\n\tlet i = 0;\r\n\r\n\t// If the anchor already exists in another heading, append -i.\r\n\twhile ( Object.values( anchors ).includes( anchor ) ) {\r\n\t\ti += 1;\r\n\t\tanchor = slug + '-' + i;\r\n\t}\r\n\r\n\treturn anchor;\r\n};\r\n\r\n/**\r\n * Set the anchor for a heading.\r\n *\r\n * @param {string}      clientId The block ID.\r\n * @param {string|null} anchor   The block anchor.\r\n */\r\nexport const setAnchor = ( clientId, anchor ) => {\r\n\tanchors[ clientId ] = anchor;\r\n};\r\n","/**\n * WordPress dependencies\n */\nimport { createBlock, getBlockAttributes } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { getLevelFromHeadingNodeName } from './shared';\nimport { getTransformedMetadata } from '../utils/get-transformed-metadata';\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) =>\n\t\t\t\tattributes.map(\n\t\t\t\t\t( { content, anchor, align: textAlign, metadata } ) =>\n\t\t\t\t\t\tcreateBlock( 'core/heading', {\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tanchor,\n\t\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\t\tmetadata: getTransformedMetadata(\n\t\t\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\t\t( { content: contentBinding } ) => ( {\n\t\t\t\t\t\t\t\t\tcontent: contentBinding,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t} )\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: 'raw',\n\t\t\tselector: 'h1,h2,h3,h4,h5,h6',\n\t\t\tschema: ( { phrasingContentSchema, isPaste } ) => {\n\t\t\t\tconst schema = {\n\t\t\t\t\tchildren: phrasingContentSchema,\n\t\t\t\t\tattributes: isPaste ? [] : [ 'style', 'id' ],\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\th1: schema,\n\t\t\t\t\th2: schema,\n\t\t\t\t\th3: schema,\n\t\t\t\t\th4: schema,\n\t\t\t\t\th5: schema,\n\t\t\t\t\th6: schema,\n\t\t\t\t};\n\t\t\t},\n\t\t\ttransform( node ) {\n\t\t\t\tconst attributes = getBlockAttributes(\n\t\t\t\t\t'core/heading',\n\t\t\t\t\tnode.outerHTML\n\t\t\t\t);\n\t\t\t\tconst { textAlign } = node.style || {};\n\n\t\t\t\tattributes.level = getLevelFromHeadingNodeName( node.nodeName );\n\n\t\t\t\tif (\n\t\t\t\t\ttextAlign === 'left' ||\n\t\t\t\t\ttextAlign === 'center' ||\n\t\t\t\t\ttextAlign === 'right'\n\t\t\t\t) {\n\t\t\t\t\tattributes.align = textAlign;\n\t\t\t\t}\n\n\t\t\t\treturn createBlock( 'core/heading', attributes );\n\t\t\t},\n\t\t},\n\t\t...[ 1, 2, 3, 4, 5, 6 ].map( ( level ) => ( {\n\t\t\ttype: 'prefix',\n\t\t\tprefix: Array( level + 1 ).join( '#' ),\n\t\t\ttransform( content ) {\n\t\t\t\treturn createBlock( 'core/heading', {\n\t\t\t\t\tlevel,\n\t\t\t\t\tcontent,\n\t\t\t\t} );\n\t\t\t},\n\t\t} ) ),\n\t\t...[ 1, 2, 3, 4, 5, 6 ].map( ( level ) => ( {\n\t\t\ttype: 'enter',\n\t\t\tregExp: new RegExp( `^/(h|H)${ level }$` ),\n\t\t\ttransform: () => createBlock( 'core/heading', { level } ),\n\t\t} ) ),\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/paragraph' ],\n\t\t\ttransform: ( attributes ) =>\n\t\t\t\tattributes.map( ( { content, textAlign: align, metadata } ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', {\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t\talign,\n\t\t\t\t\t\tmetadata: getTransformedMetadata(\n\t\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t\t( { content: contentBinding } ) => ( {\n\t\t\t\t\t\t\t\tcontent: contentBinding,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t),\n\t\t\t\t\t} )\n\t\t\t\t),\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\r\n * Given a node name string for a heading node, returns its numeric level.\r\n *\r\n * @param {string} nodeName Heading node name.\r\n *\r\n * @return {number} Heading level.\r\n */\r\nexport function getLevelFromHeadingNodeName( nodeName ) {\r\n\treturn Number( nodeName.substr( 1 ) );\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { heading as icon } from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport deprecated from './deprecated';\nimport edit from './edit';\nimport metadata from './block.json';\nimport save from './save';\nimport transforms from './transforms';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\ticon,\n\texample: {\n\t\tattributes: {\n\t\t\tcontent: __( 'Code is Poetry' ),\n\t\t\tlevel: 2,\n\t\t},\n\t},\n\t__experimentalLabel( attributes, { context } ) {\n\t\tconst { content, level } = attributes;\n\n\t\tconst customName = attributes?.metadata?.name;\n\t\tconst hasContent = content?.trim().length > 0;\n\n\t\t// In the list view, use the block's content as the label.\n\t\t// If the content is empty, fall back to the default label.\n\t\tif ( context === 'list-view' && ( customName || hasContent ) ) {\n\t\t\treturn customName || content;\n\t\t}\n\n\t\tif ( context === 'accessibility' ) {\n\t\t\treturn ! hasContent\n\t\t\t\t? sprintf(\n\t\t\t\t\t\t/* translators: accessibility text. %s: heading level. */\n\t\t\t\t\t\t__( 'Level %s. Empty.' ),\n\t\t\t\t\t\tlevel\n\t\t\t\t  )\n\t\t\t\t: sprintf(\n\t\t\t\t\t\t/* translators: accessibility text. 1: heading level. 2: heading content. */\n\t\t\t\t\t\t__( 'Level %1$s. %2$s' ),\n\t\t\t\t\t\tlevel,\n\t\t\t\t\t\tcontent\n\t\t\t\t  );\n\t\t}\n\t},\n\ttransforms,\n\tdeprecated,\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\tcontent:\n\t\t\t\t( attributes.content || '' ) +\n\t\t\t\t( attributesToMerge.content || '' ),\n\t\t};\n\t},\n\tedit,\n\tsave,\n};\n\nexport const init = () => initBlock( { name, metadata, settings } );\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, Platform } from '@wordpress/element';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n\tHeadingLevelDropdown,\r\n\tuseBlockEditingMode,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { generateAnchor, setAnchor } from './autogenerate-anchors';\r\n\r\nfunction HeadingEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tmergeBlocks,\r\n\tonReplace,\r\n\tstyle,\r\n\tclientId,\r\n} ) {\r\n\tconst { textAlign, content, level, placeholder, anchor } = attributes;\r\n\tconst tagName = 'h' + level;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t\tstyle,\r\n\t} );\r\n\tconst blockEditingMode = useBlockEditingMode();\r\n\r\n\tconst { canGenerateAnchors } = useSelect( ( select ) => {\r\n\t\tconst { getGlobalBlockCount, getSettings } = select( blockEditorStore );\r\n\t\tconst settings = getSettings();\r\n\r\n\t\treturn {\r\n\t\t\tcanGenerateAnchors:\r\n\t\t\t\t!! settings.generateAnchors ||\r\n\t\t\t\tgetGlobalBlockCount( 'core/table-of-contents' ) > 0,\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\t// Initially set anchor for headings that have content but no anchor set.\r\n\t// This is used when transforming a block to heading, or for legacy anchors.\r\n\tuseEffect( () => {\r\n\t\tif ( ! canGenerateAnchors ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( ! anchor && content ) {\r\n\t\t\t// This side-effect should not create an undo level.\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes( {\r\n\t\t\t\tanchor: generateAnchor( clientId, content ),\r\n\t\t\t} );\r\n\t\t}\r\n\t\tsetAnchor( clientId, anchor );\r\n\r\n\t\t// Remove anchor map when block unmounts.\r\n\t\treturn () => setAnchor( clientId, null );\r\n\t}, [ anchor, content, clientId, canGenerateAnchors ] );\r\n\r\n\tconst onContentChange = ( value ) => {\r\n\t\tconst newAttrs = { content: value };\r\n\t\tif (\r\n\t\t\tcanGenerateAnchors &&\r\n\t\t\t( ! anchor ||\r\n\t\t\t\t! value ||\r\n\t\t\t\tgenerateAnchor( clientId, content ) === anchor )\r\n\t\t) {\r\n\t\t\tnewAttrs.anchor = generateAnchor( clientId, value );\r\n\t\t}\r\n\t\tsetAttributes( newAttrs );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ blockEditingMode === 'default' && (\r\n\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t<HeadingLevelDropdown\r\n\t\t\t\t\t\tvalue={ level }\r\n\t\t\t\t\t\tonChange={ ( newLevel ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { level: newLevel } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AlignmentControl\r\n\t\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BlockControls>\r\n\t\t\t) }\r\n\t\t\t<RichText\r\n\t\t\t\tidentifier=\"content\"\r\n\t\t\t\ttagName={ tagName }\r\n\t\t\t\tvalue={ content }\r\n\t\t\t\tonChange={ onContentChange }\r\n\t\t\t\tonMerge={ mergeBlocks }\r\n\t\t\t\tonSplit={ ( value, isOriginal ) => {\r\n\t\t\t\t\tlet block;\r\n\r\n\t\t\t\t\tif ( isOriginal || value ) {\r\n\t\t\t\t\t\tblock = createBlock( 'core/heading', {\r\n\t\t\t\t\t\t\t...attributes,\r\n\t\t\t\t\t\t\tcontent: value,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tblock = createBlock(\r\n\t\t\t\t\t\t\tgetDefaultBlockName() ?? 'core/heading'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( isOriginal ) {\r\n\t\t\t\t\t\tblock.clientId = clientId;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn block;\r\n\t\t\t\t} }\r\n\t\t\t\tonReplace={ onReplace }\r\n\t\t\t\tonRemove={ () => onReplace( [] ) }\r\n\t\t\t\tplaceholder={ placeholder || __( 'Heading' ) }\r\n\t\t\t\ttextAlign={ textAlign }\r\n\t\t\t\t{ ...( Platform.isNative && { deleteEnter: true } ) } // setup RichText on native mobile to delete the \"Enter\" key as it's handled by the JS/RN side\r\n\t\t\t\t{ ...blockProps }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default HeadingEdit;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { textAlign, content, level } = attributes;\r\n\tconst TagName = 'h' + level;\r\n\r\n\tconst className = classnames( {\r\n\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<TagName { ...useBlockProps.save( { className } ) }>\r\n\t\t\t<RichText.Content value={ content } />\r\n\t\t</TagName>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst home = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default home;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useEffect } from '@wordpress/element';\r\n\r\nconst preventDefault = ( event ) => event.preventDefault();\r\n\r\nexport default function HomeEdit( { attributes, setAttributes, context } ) {\r\n\tconst { homeUrl } = useSelect( ( select ) => {\r\n\t\tconst {\r\n\t\t\tgetUnstableBase, // Site index.\r\n\t\t} = select( coreStore );\r\n\t\treturn {\r\n\t\t\thomeUrl: getUnstableBase()?.home,\r\n\t\t};\r\n\t}, [] );\r\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst { textColor, backgroundColor, style } = context;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( 'wp-block-navigation-item', {\r\n\t\t\t'has-text-color': !! textColor || !! style?.color?.text,\r\n\t\t\t[ `has-${ textColor }-color` ]: !! textColor,\r\n\t\t\t'has-background': !! backgroundColor || !! style?.color?.background,\r\n\t\t\t[ `has-${ backgroundColor }-background-color` ]: !! backgroundColor,\r\n\t\t} ),\r\n\t\tstyle: {\r\n\t\t\tcolor: style?.color?.text,\r\n\t\t\tbackgroundColor: style?.color?.background,\r\n\t\t},\r\n\t} );\r\n\r\n\tconst { label } = attributes;\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( label === undefined ) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes( { label: __( 'Home' ) } );\r\n\t\t}\r\n\t}, [ label ] );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName=\"wp-block-home-link__content wp-block-navigation-item__content\"\r\n\t\t\t\t\thref={ homeUrl }\r\n\t\t\t\t\tonClick={ preventDefault }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tidentifier=\"label\"\r\n\t\t\t\t\t\tclassName=\"wp-block-home-link__label\"\r\n\t\t\t\t\t\tvalue={ label }\r\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\r\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\taria-label={ __( 'Home link text' ) }\r\n\t\t\t\t\t\tplaceholder={ __( 'Add home link' ) }\r\n\t\t\t\t\t\twithoutInteractiveFormatting\r\n\t\t\t\t\t\tallowedFormats={ [\r\n\t\t\t\t\t\t\t'core/bold',\r\n\t\t\t\t\t\t\t'core/italic',\r\n\t\t\t\t\t\t\t'core/image',\r\n\t\t\t\t\t\t\t'core/strikethrough',\r\n\t\t\t\t\t\t] }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\nimport { home } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon: home,\r\n\r\n\tedit,\r\n\r\n\tsave,\r\n\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tlabel: _x( 'Home Link', 'block example' ),\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst html = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M4.8 11.4H2.1V9H1v6h1.1v-2.6h2.7V15h1.1V9H4.8v2.4zm1.9-1.3h1.7V15h1.1v-4.9h1.7V9H6.7v1.1zM16.2 9l-1.5 2.7L13.3 9h-.9l-.8 6h1.1l.5-4 1.5 2.8 1.5-2.8.5 4h1.1L17 9h-.8zm3.8 5V9h-1.1v6h3.6v-1H20z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default html;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useMemo } from '@wordpress/element';\r\nimport {\r\n\ttransformStyles,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { SandBox } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n// Default styles used to unset some of the styles\r\n// that might be inherited from the editor style.\r\nconst DEFAULT_STYLES = `\r\n\thtml,body,:root {\r\n\t\tmargin: 0 !important;\r\n\t\tpadding: 0 !important;\r\n\t\toverflow: visible !important;\r\n\t\tmin-height: auto !important;\r\n\t}\r\n`;\r\n\r\nexport default function HTMLEditPreview( { content, isSelected } ) {\r\n\tconst settingStyles = useSelect(\r\n\t\t( select ) => select( blockEditorStore ).getSettings().styles\r\n\t);\r\n\r\n\tconst styles = useMemo(\r\n\t\t() => [\r\n\t\t\tDEFAULT_STYLES,\r\n\t\t\t...transformStyles(\r\n\t\t\t\tsettingStyles.filter( ( style ) => style.css )\r\n\t\t\t),\r\n\t\t],\r\n\t\t[ settingStyles ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SandBox\r\n\t\t\t\thtml={ content }\r\n\t\t\t\tstyles={ styles }\r\n\t\t\t\ttitle={ __( 'Custom HTML Preview' ) }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t/>\r\n\t\t\t{ /*\r\n\t\t\t\tAn overlay is added when the block is not selected in order to register click events.\r\n\t\t\t\tSome browsers do not bubble up the clicks from the sandboxed iframe, which makes it\r\n\t\t\t\tdifficult to reselect the block.\r\n\t\t\t*/ }\r\n\t\t\t{ ! isSelected && (\r\n\t\t\t\t<div className=\"block-library-html__preview-overlay\"></div>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { create } from '@wordpress/rich-text';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/code' ],\r\n\t\t\ttransform: ( { content: html } ) => {\r\n\t\t\t\treturn createBlock( 'core/html', {\r\n\t\t\t\t\t// The code block may output HTML formatting, so convert it\r\n\t\t\t\t\t// to plain text.\r\n\t\t\t\t\tcontent: create( { html } ).text,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { html as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcontent:\r\n\t\t\t\t'<marquee>' +\r\n\t\t\t\t__( 'Welcome to the wonderful world of blocks…' ) +\r\n\t\t\t\t'</marquee>',\r\n\t\t},\r\n\t},\r\n\tedit,\r\n\tsave,\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useContext, useState } from '@wordpress/element';\r\nimport {\r\n\tBlockControls,\r\n\tPlainText,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tToolbarButton,\r\n\tDisabled,\r\n\tToolbarGroup,\r\n\tVisuallyHidden,\r\n} from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Preview from './preview';\r\n\r\nexport default function HTMLEdit( { attributes, setAttributes, isSelected } ) {\r\n\tconst [ isPreview, setIsPreview ] = useState();\r\n\tconst isDisabled = useContext( Disabled.Context );\r\n\r\n\tconst instanceId = useInstanceId( HTMLEdit, 'html-edit-desc' );\r\n\r\n\tfunction switchToPreview() {\r\n\t\tsetIsPreview( true );\r\n\t}\r\n\r\n\tfunction switchToHTML() {\r\n\t\tsetIsPreview( false );\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: 'block-library-html__edit',\r\n\t\t'aria-describedby': isPreview ? instanceId : undefined,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tclassName=\"components-tab-button\"\r\n\t\t\t\t\t\tisPressed={ ! isPreview }\r\n\t\t\t\t\t\tonClick={ switchToHTML }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tHTML\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tclassName=\"components-tab-button\"\r\n\t\t\t\t\t\tisPressed={ isPreview }\r\n\t\t\t\t\t\tonClick={ switchToPreview }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Preview' ) }\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t</BlockControls>\r\n\t\t\t{ isPreview || isDisabled ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Preview\r\n\t\t\t\t\t\tcontent={ attributes.content }\r\n\t\t\t\t\t\tisSelected={ isSelected }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<VisuallyHidden id={ instanceId }>\r\n\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t'HTML preview is not yet fully accessible. Please switch screen reader to virtualized mode to navigate the below iFrame.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</VisuallyHidden>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<PlainText\r\n\t\t\t\t\tvalue={ attributes.content }\r\n\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\r\n\t\t\t\t\tplaceholder={ __( 'Write HTML…' ) }\r\n\t\t\t\t\taria-label={ __( 'HTML' ) }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save( { attributes } ) {\r\n\treturn <RawHTML>{ attributes.content }</RawHTML>;\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetElementClassName,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Deprecation for adding the `wp-image-${id}` class to the image block for\r\n * responsive images.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/4898\r\n */\r\nconst v1 = {\r\n\tattributes: {\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'array',\r\n\t\t\tsource: 'children',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { url, alt, caption, align, href, width, height } = attributes;\r\n\t\tconst extraImageProps = width || height ? { width, height } : {};\r\n\t\tconst image = <img src={ url } alt={ alt } { ...extraImageProps } />;\r\n\r\n\t\tlet figureStyle = {};\r\n\r\n\t\tif ( width ) {\r\n\t\t\tfigureStyle = { width };\r\n\t\t} else if ( align === 'left' || align === 'right' ) {\r\n\t\t\tfigureStyle = { maxWidth: '50%' };\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\tclassName={ align ? `align${ align }` : null }\r\n\t\t\t\tstyle={ figureStyle }\r\n\t\t\t>\r\n\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for adding the `is-resized` class to the image block to fix\r\n * captions on resized images.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/6496\r\n */\r\nconst v2 = {\r\n\tattributes: {\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'array',\r\n\t\t\tsource: 'children',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { url, alt, caption, align, href, width, height, id } =\r\n\t\t\tattributes;\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure className={ align ? `align${ align }` : null }>\r\n\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for image floats including a wrapping div.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/7721\r\n */\r\nconst v3 = {\r\n\tattributes: {\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'array',\r\n\t\t\tsource: 'children',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { url, alt, caption, align, href, width, height, id } =\r\n\t\t\tattributes;\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t'is-resized': width || height,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure className={ classes }>\r\n\t\t\t\t{ href ? <a href={ href }>{ image }</a> : image }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for removing the outer div wrapper around aligned images.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/38657\r\n */\r\nconst v4 = {\r\n\tattributes: {\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'title',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tcaption,\r\n\t\t\talign,\r\n\t\t\thref,\r\n\t\t\trel,\r\n\t\t\tlinkClass,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tid,\r\n\t\t\tlinkTarget,\r\n\t\t\tsizeSlug,\r\n\t\t\ttitle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\r\n\t\t\t'is-resized': width || height,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tconst figure = (\r\n\t\t\t<>\r\n\t\t\t\t{ href ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ href }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ newRel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ image }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\timage\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\tif ( 'left' === align || 'right' === align || 'center' === align ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save() }>\r\n\t\t\t\t\t<figure className={ classes }>{ figure }</figure>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\r\n\t\t\t\t{ figure }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for moving existing border radius styles onto the inner img\r\n * element where new border block support styles must be applied.\r\n * It will also add a new `.has-custom-border` class for existing blocks\r\n * with border radii set. This class is required to improve caption position\r\n * and styling when an image within a gallery has a custom border or\r\n * rounded corners.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/31366\r\n */\r\nconst v5 = {\r\n\tattributes: {\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'title',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tcolor: {\r\n\t\t\t__experimentalDuotone: 'img',\r\n\t\t\ttext: false,\r\n\t\t\tbackground: false,\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tradius: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tradius: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__experimentalStyle: {\r\n\t\t\tspacing: {\r\n\t\t\t\tmargin: '0 0 1em 0',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tcaption,\r\n\t\t\talign,\r\n\t\t\thref,\r\n\t\t\trel,\r\n\t\t\tlinkClass,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tid,\r\n\t\t\tlinkTarget,\r\n\t\t\tsizeSlug,\r\n\t\t\ttitle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\r\n\t\t\t'is-resized': width || height,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ id ? `wp-image-${ id }` : null }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tconst figure = (\r\n\t\t\t<>\r\n\t\t\t\t{ href ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ href }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ newRel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ image }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\timage\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\r\n\t\t\t\t{ figure }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for adding width and height as style rules on the inner img.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/31366\r\n */\r\nconst v6 = {\r\n\tattributes: {\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'title',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\taspectRatio: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tcolor: {\r\n\t\t\ttext: false,\r\n\t\t\tbackground: false,\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tduotone: true,\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tcolor: true,\r\n\t\t\tradius: true,\r\n\t\t\twidth: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tcolor: true,\r\n\t\t\t\tradius: true,\r\n\t\t\t\twidth: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tconst { height, width } = attributes;\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\twidth: typeof width === 'number' ? `${ width }px` : width,\r\n\t\t\theight: typeof height === 'number' ? `${ height }px` : height,\r\n\t\t};\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tcaption,\r\n\t\t\talign,\r\n\t\t\thref,\r\n\t\t\trel,\r\n\t\t\tlinkClass,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\taspectRatio,\r\n\t\t\tscale,\r\n\t\t\tid,\r\n\t\t\tlinkTarget,\r\n\t\t\tsizeSlug,\r\n\t\t\ttitle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\r\n\t\t\t'is-resized': width || height,\r\n\t\t\t'has-custom-border':\r\n\t\t\t\t!! borderProps.className ||\r\n\t\t\t\t( borderProps.style &&\r\n\t\t\t\t\tObject.keys( borderProps.style ).length > 0 ),\r\n\t\t} );\r\n\r\n\t\tconst imageClasses = classnames( borderProps.className, {\r\n\t\t\t[ `wp-image-${ id }` ]: !! id,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ imageClasses || undefined }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\t...borderProps.style,\r\n\t\t\t\t\taspectRatio,\r\n\t\t\t\t\tobjectFit: scale,\r\n\t\t\t\t} }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tconst figure = (\r\n\t\t\t<>\r\n\t\t\t\t{ href ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ href }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ newRel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ image }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\timage\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\r\n\t\t\t\t{ figure }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n/**\r\n * Deprecation for converting to string width and height block attributes and\r\n * removing the width and height img element attributes which are not needed\r\n * as they get added by the TODO hook.\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/53274\r\n */\r\nconst v7 = {\r\n\tattributes: {\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'title',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\taspectRatio: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tcolor: {\r\n\t\t\ttext: false,\r\n\t\t\tbackground: false,\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tduotone: true,\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tcolor: true,\r\n\t\t\tradius: true,\r\n\t\t\twidth: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tcolor: true,\r\n\t\t\t\tradius: true,\r\n\t\t\t\twidth: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmigrate( { width, height, ...attributes } ) {\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\twidth: `${ width }px`,\r\n\t\t\theight: `${ height }px`,\r\n\t\t};\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tcaption,\r\n\t\t\talign,\r\n\t\t\thref,\r\n\t\t\trel,\r\n\t\t\tlinkClass,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\taspectRatio,\r\n\t\t\tscale,\r\n\t\t\tid,\r\n\t\t\tlinkTarget,\r\n\t\t\tsizeSlug,\r\n\t\t\ttitle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\r\n\t\t\t'is-resized': width || height,\r\n\t\t\t'has-custom-border':\r\n\t\t\t\t!! borderProps.className ||\r\n\t\t\t\t( borderProps.style &&\r\n\t\t\t\t\tObject.keys( borderProps.style ).length > 0 ),\r\n\t\t} );\r\n\r\n\t\tconst imageClasses = classnames( borderProps.className, {\r\n\t\t\t[ `wp-image-${ id }` ]: !! id,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ imageClasses || undefined }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\t...borderProps.style,\r\n\t\t\t\t\taspectRatio,\r\n\t\t\t\t\tobjectFit: scale,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t} }\r\n\t\t\t\twidth={ width }\r\n\t\t\t\theight={ height }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tconst figure = (\r\n\t\t\t<>\r\n\t\t\t\t{ href ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ href }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ newRel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ image }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\timage\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\r\n\t\t\t\t{ figure }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v8 = {\r\n\tattributes: {\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbehaviors: {\r\n\t\t\ttype: 'object',\r\n\t\t},\r\n\t\turl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'src',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\talt: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'alt',\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tcaption: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'figcaption',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'img',\r\n\t\t\tattribute: 'title',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'href',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tid: {\r\n\t\t\ttype: 'number',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\taspectRatio: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tsizeSlug: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure > a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tcolor: {\r\n\t\t\ttext: false,\r\n\t\t\tbackground: false,\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tduotone: true,\r\n\t\t},\r\n\t\t__experimentalBorder: {\r\n\t\t\tcolor: true,\r\n\t\t\tradius: true,\r\n\t\t\twidth: true,\r\n\t\t\t__experimentalSkipSerialization: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tcolor: true,\r\n\t\t\t\tradius: true,\r\n\t\t\t\twidth: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmigrate( { width, height, ...attributes } ) {\r\n\t\t// We need to perform a check here because in cases\r\n\t\t// where attributes are added dynamically to blocks,\r\n\t\t// block invalidation overrides the isEligible() method\r\n\t\t// and forces the migration to run, so it's not guaranteed\r\n\t\t// that `behaviors` or `behaviors.lightbox` will be defined.\r\n\t\tif ( ! attributes.behaviors?.lightbox ) {\r\n\t\t\treturn attributes;\r\n\t\t}\r\n\t\tconst {\r\n\t\t\tbehaviors: {\r\n\t\t\t\tlightbox: { enabled },\r\n\t\t\t},\r\n\t\t} = attributes;\r\n\t\tconst newAttributes = {\r\n\t\t\t...attributes,\r\n\t\t\tlightbox: {\r\n\t\t\t\tenabled,\r\n\t\t\t},\r\n\t\t};\r\n\t\tdelete newAttributes.behaviors;\r\n\t\treturn newAttributes;\r\n\t},\r\n\tisEligible( attributes ) {\r\n\t\treturn !! attributes.behaviors;\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\turl,\r\n\t\t\talt,\r\n\t\t\tcaption,\r\n\t\t\talign,\r\n\t\t\thref,\r\n\t\t\trel,\r\n\t\t\tlinkClass,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\taspectRatio,\r\n\t\t\tscale,\r\n\t\t\tid,\r\n\t\t\tlinkTarget,\r\n\t\t\tsizeSlug,\r\n\t\t\ttitle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\r\n\t\tconst classes = classnames( {\r\n\t\t\t[ `align${ align }` ]: align,\r\n\t\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\r\n\t\t\t'is-resized': width || height,\r\n\t\t\t'has-custom-border':\r\n\t\t\t\t!! borderProps.className ||\r\n\t\t\t\t( borderProps.style &&\r\n\t\t\t\t\tObject.keys( borderProps.style ).length > 0 ),\r\n\t\t} );\r\n\r\n\t\tconst imageClasses = classnames( borderProps.className, {\r\n\t\t\t[ `wp-image-${ id }` ]: !! id,\r\n\t\t} );\r\n\r\n\t\tconst image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ url }\r\n\t\t\t\talt={ alt }\r\n\t\t\t\tclassName={ imageClasses || undefined }\r\n\t\t\t\tstyle={ {\r\n\t\t\t\t\t...borderProps.style,\r\n\t\t\t\t\taspectRatio,\r\n\t\t\t\t\tobjectFit: scale,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t} }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tconst figure = (\r\n\t\t\t<>\r\n\t\t\t\t{ href ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\t\thref={ href }\r\n\t\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\t\trel={ newRel }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ image }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\timage\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\r\n\t\t\t\t\t\t\t'caption'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\r\n\t\t\t\t{ figure }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nexport default [ v8, v7, v6, v5, v4, v3, v2, v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst plugins = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default plugins;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst crop = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18 20v-2h2v-1.5H7.75a.25.25 0 0 1-.25-.25V4H6v2H4v1.5h2v8.75c0 .966.784 1.75 1.75 1.75h8.75v2H18ZM9.273 7.5h6.977a.25.25 0 0 1 .25.25v6.977H18V7.75A1.75 1.75 0 0 0 16.25 6H9.273v1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default crop;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst overlayText = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12-9.8c.4 0 .8-.3.9-.7l1.1-3h3.6l.5 1.7h1.9L13 9h-2.2l-3.4 9.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12H20V6c0-1.1-.9-2-2-2zm-6 7l1.4 3.9h-2.7L12 11z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default overlayText;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst upload = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default upload;\r\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\n\nexport default function useClientWidth( ref, dependencies ) {\n\tconst [ clientWidth, setClientWidth ] = useState();\n\n\tfunction calculateClientWidth() {\n\t\tsetClientWidth( ref.current?.clientWidth );\n\t}\n\n\tuseEffect( calculateClientWidth, dependencies );\n\tuseEffect( () => {\n\t\tconst { defaultView } = ref.current.ownerDocument;\n\n\t\tdefaultView.addEventListener( 'resize', calculateClientWidth );\n\n\t\treturn () => {\n\t\t\tdefaultView.removeEventListener( 'resize', calculateClientWidth );\n\t\t};\n\t}, [] );\n\n\treturn clientWidth;\n}\n","// The following dropdown menu props aim to provide a consistent offset and\r\n// placement for ToolsPanel menus for block controls to match color popovers.\r\nexport const TOOLSPANEL_DROPDOWNMENU_PROPS = {\r\n\tpopoverProps: {\r\n\t\tplacement: 'left-start',\r\n\t\toffset: 259, // Inner sidebar width (248px) - button width (24px) - border (1px) + padding (16px) + spacing (20px)\r\n\t},\r\n};\r\n","/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\tExternalLink,\n\tResizableBox,\n\tSpinner,\n\tTextareaControl,\n\tTextControl,\n\tToolbarButton,\n\tToolbarGroup,\n\tDropdown,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\t__experimentalImageURLInputUI as ImageURLInputUI,\n\tMediaReplaceFlow,\n\tstore as blockEditorStore,\n\tuseSettings,\n\t__experimentalImageEditor as ImageEditor,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalGetShadowClassesAndStyles as getShadowClassesAndStyles,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useEffect, useMemo, useState, useRef } from '@wordpress/element';\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { DOWN } from '@wordpress/keycodes';\nimport { getFilename } from '@wordpress/url';\nimport { switchToBlockType, store as blocksStore } from '@wordpress/blocks';\nimport { crop, overlayText, upload } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { createUpgradedEmbedBlock } from '../embed/util';\nimport useClientWidth from './use-client-width';\nimport { isExternalImage } from './edit';\nimport { Caption } from '../utils/caption';\n\n/**\n * Module constants\n */\nimport { TOOLSPANEL_DROPDOWNMENU_PROPS } from '../utils/constants';\nimport { MIN_SIZE, ALLOWED_MEDIA_TYPES } from './constants';\nimport { evalAspectRatio } from './utils';\n\nconst { DimensionsTool, ResolutionTool } = unlock( blockEditorPrivateApis );\n\nconst scaleOptions = [\n\t{\n\t\tvalue: 'cover',\n\t\tlabel: _x( 'Cover', 'Scale option for dimensions control' ),\n\t\thelp: __( 'Image covers the space evenly.' ),\n\t},\n\t{\n\t\tvalue: 'contain',\n\t\tlabel: _x( 'Contain', 'Scale option for dimensions control' ),\n\t\thelp: __( 'Image is contained without distortion.' ),\n\t},\n];\n\n// If the image has a href, wrap in an <a /> tag to trigger any inherited link element styles.\nconst ImageWrapper = ( { href, children } ) => {\n\tif ( ! href ) {\n\t\treturn children;\n\t}\n\treturn (\n\t\t<a\n\t\t\thref={ href }\n\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\taria-disabled\n\t\t\tstyle={ {\n\t\t\t\t// When the Image block is linked,\n\t\t\t\t// it's wrapped with a disabled <a /> tag.\n\t\t\t\t// Restore cursor style so it doesn't appear 'clickable'\n\t\t\t\t// Safari needs the display property.\n\t\t\t\tcursor: 'default',\n\t\t\t\tdisplay: 'inline',\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</a>\n\t);\n};\n\nexport default function Image( {\n\ttemporaryURL,\n\tattributes,\n\tsetAttributes,\n\tisSingleSelected,\n\tinsertBlocksAfter,\n\tonReplace,\n\tonSelectImage,\n\tonSelectURL,\n\tonUploadError,\n\tcontainerRef,\n\tcontext,\n\tclientId,\n\tblockEditingMode,\n} ) {\n\tconst {\n\t\turl = '',\n\t\talt,\n\t\talign,\n\t\tid,\n\t\thref,\n\t\trel,\n\t\tlinkClass,\n\t\tlinkDestination,\n\t\ttitle,\n\t\twidth,\n\t\theight,\n\t\taspectRatio,\n\t\tscale,\n\t\tlinkTarget,\n\t\tsizeSlug,\n\t\tlightbox,\n\t\tmetadata,\n\t} = attributes;\n\n\t// The only supported unit is px, so we can parseInt to strip the px here.\n\tconst numericWidth = width ? parseInt( width, 10 ) : undefined;\n\tconst numericHeight = height ? parseInt( height, 10 ) : undefined;\n\n\tconst imageRef = useRef();\n\tconst { allowResize = true } = context;\n\tconst { getBlock, getSettings } = useSelect( blockEditorStore );\n\n\tconst image = useSelect(\n\t\t( select ) =>\n\t\t\tid && isSingleSelected\n\t\t\t\t? select( coreStore ).getMedia( id, { context: 'view' } )\n\t\t\t\t: null,\n\t\t[ id, isSingleSelected ]\n\t);\n\n\tconst { canInsertCover, imageEditing, imageSizes, maxWidth } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId, canInsertBlockType } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\tconst settings = getSettings();\n\n\t\t\treturn {\n\t\t\t\timageEditing: settings.imageEditing,\n\t\t\t\timageSizes: settings.imageSizes,\n\t\t\t\tmaxWidth: settings.maxWidth,\n\t\t\t\tcanInsertCover: canInsertBlockType(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst { replaceBlocks, toggleSelection } = useDispatch( blockEditorStore );\n\tconst { createErrorNotice, createSuccessNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isWideAligned = [ 'wide', 'full' ].includes( align );\n\tconst [\n\t\t{ loadedNaturalWidth, loadedNaturalHeight },\n\t\tsetLoadedNaturalSize,\n\t] = useState( {} );\n\tconst [ isEditingImage, setIsEditingImage ] = useState( false );\n\tconst [ externalBlob, setExternalBlob ] = useState();\n\tconst clientWidth = useClientWidth( containerRef, [ align ] );\n\tconst hasNonContentControls = blockEditingMode === 'default';\n\tconst isContentOnlyMode = blockEditingMode === 'contentOnly';\n\tconst isResizable =\n\t\tallowResize &&\n\t\thasNonContentControls &&\n\t\t! isWideAligned &&\n\t\tisLargeViewport;\n\tconst imageSizeOptions = imageSizes\n\t\t.filter(\n\t\t\t( { slug } ) => image?.media_details?.sizes?.[ slug ]?.source_url\n\t\t)\n\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\n\n\t// If an image is externally hosted, try to fetch the image data. This may\n\t// fail if the image host doesn't allow CORS with the domain. If it works,\n\t// we can enable a button in the toolbar to upload the image.\n\tuseEffect( () => {\n\t\tif (\n\t\t\t! isExternalImage( id, url ) ||\n\t\t\t! isSingleSelected ||\n\t\t\t! getSettings().mediaUpload\n\t\t) {\n\t\t\tsetExternalBlob();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( externalBlob ) return;\n\n\t\twindow\n\t\t\t// Avoid cache, which seems to help avoid CORS problems.\n\t\t\t.fetch( url.includes( '?' ) ? url : url + '?' )\n\t\t\t.then( ( response ) => response.blob() )\n\t\t\t.then( ( blob ) => setExternalBlob( blob ) )\n\t\t\t// Do nothing, cannot upload.\n\t\t\t.catch( () => {} );\n\t}, [ id, url, isSingleSelected, externalBlob ] );\n\n\t// Get naturalWidth and naturalHeight from image ref, and fall back to loaded natural\n\t// width and height. This resolves an issue in Safari where the loaded natural\n\t// width and height is otherwise lost when switching between alignments.\n\t// See: https://github.com/WordPress/gutenberg/pull/37210.\n\tconst { naturalWidth, naturalHeight } = useMemo( () => {\n\t\treturn {\n\t\t\tnaturalWidth:\n\t\t\t\timageRef.current?.naturalWidth ||\n\t\t\t\tloadedNaturalWidth ||\n\t\t\t\tundefined,\n\t\t\tnaturalHeight:\n\t\t\t\timageRef.current?.naturalHeight ||\n\t\t\t\tloadedNaturalHeight ||\n\t\t\t\tundefined,\n\t\t};\n\t}, [\n\t\tloadedNaturalWidth,\n\t\tloadedNaturalHeight,\n\t\timageRef.current?.complete,\n\t] );\n\n\tfunction onResizeStart() {\n\t\ttoggleSelection( false );\n\t}\n\n\tfunction onResizeStop() {\n\t\ttoggleSelection( true );\n\t}\n\n\tfunction onImageError() {\n\t\t// Check if there's an embed block that handles this URL, e.g., instagram URL.\n\t\t// See: https://github.com/WordPress/gutenberg/pull/11472\n\t\tconst embedBlock = createUpgradedEmbedBlock( { attributes: { url } } );\n\n\t\tif ( undefined !== embedBlock ) {\n\t\t\tonReplace( embedBlock );\n\t\t}\n\t}\n\n\tfunction onSetHref( props ) {\n\t\tsetAttributes( props );\n\t}\n\n\tfunction onSetLightbox( enable ) {\n\t\tif ( enable && ! lightboxSetting?.enabled ) {\n\t\t\tsetAttributes( {\n\t\t\t\tlightbox: { enabled: true },\n\t\t\t} );\n\t\t} else if ( ! enable && lightboxSetting?.enabled ) {\n\t\t\tsetAttributes( {\n\t\t\t\tlightbox: { enabled: false },\n\t\t\t} );\n\t\t} else {\n\t\t\tsetAttributes( {\n\t\t\t\tlightbox: undefined,\n\t\t\t} );\n\t\t}\n\t}\n\n\tfunction resetLightbox() {\n\t\t// When deleting a link from an image while lightbox settings\n\t\t// are enabled by default, we should disable the lightbox,\n\t\t// otherwise the resulting UX looks like a mistake.\n\t\t// See https://github.com/WordPress/gutenberg/pull/59890/files#r1532286123.\n\t\tif ( lightboxSetting?.enabled && lightboxSetting?.allowEditing ) {\n\t\t\tsetAttributes( {\n\t\t\t\tlightbox: { enabled: false },\n\t\t\t} );\n\t\t} else {\n\t\t\tsetAttributes( {\n\t\t\t\tlightbox: undefined,\n\t\t\t} );\n\t\t}\n\t}\n\n\tfunction onSetTitle( value ) {\n\t\t// This is the HTML title attribute, separate from the media object\n\t\t// title.\n\t\tsetAttributes( { title: value } );\n\t}\n\n\tfunction updateAlt( newAlt ) {\n\t\tsetAttributes( { alt: newAlt } );\n\t}\n\n\tfunction updateImage( newSizeSlug ) {\n\t\tconst newUrl = image?.media_details?.sizes?.[ newSizeSlug ]?.source_url;\n\t\tif ( ! newUrl ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\turl: newUrl,\n\t\t\tsizeSlug: newSizeSlug,\n\t\t} );\n\t}\n\n\tfunction uploadExternal() {\n\t\tconst { mediaUpload } = getSettings();\n\t\tif ( ! mediaUpload ) {\n\t\t\treturn;\n\t\t}\n\t\tmediaUpload( {\n\t\t\tfilesList: [ externalBlob ],\n\t\t\tonFileChange( [ img ] ) {\n\t\t\t\tonSelectImage( img );\n\n\t\t\t\tif ( isBlobURL( img.url ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetExternalBlob();\n\t\t\t\tcreateSuccessNotice( __( 'Image uploaded.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t},\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tonError( message ) {\n\t\t\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t\t\t},\n\t\t} );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! isSingleSelected ) {\n\t\t\tsetIsEditingImage( false );\n\t\t}\n\t}, [ isSingleSelected ] );\n\n\tconst canEditImage = id && naturalWidth && naturalHeight && imageEditing;\n\tconst allowCrop = isSingleSelected && canEditImage && ! isEditingImage;\n\n\tfunction switchToCover() {\n\t\treplaceBlocks(\n\t\t\tclientId,\n\t\t\tswitchToBlockType( getBlock( clientId ), 'core/cover' )\n\t\t);\n\t}\n\n\t// TODO: Can allow more units after figuring out how they should interact\n\t// with the ResizableBox and ImageEditor components. Calculations later on\n\t// for those components are currently assuming px units.\n\tconst dimensionsUnitsOptions = useCustomUnits( {\n\t\tavailableUnits: [ 'px' ],\n\t} );\n\n\tconst [ lightboxSetting ] = useSettings( 'lightbox' );\n\n\tconst showLightboxSetting =\n\t\t// If a block-level override is set, we should give users the option to\n\t\t// remove that override, even if the lightbox UI is disabled in the settings.\n\t\t( !! lightbox && lightbox?.enabled !== lightboxSetting?.enabled ) ||\n\t\tlightboxSetting?.allowEditing;\n\n\tconst lightboxChecked =\n\t\t!! lightbox?.enabled || ( ! lightbox && !! lightboxSetting?.enabled );\n\n\tconst dimensionsControl = (\n\t\t<DimensionsTool\n\t\t\tvalue={ { width, height, scale, aspectRatio } }\n\t\t\tonChange={ ( {\n\t\t\t\twidth: newWidth,\n\t\t\t\theight: newHeight,\n\t\t\t\tscale: newScale,\n\t\t\t\taspectRatio: newAspectRatio,\n\t\t\t} ) => {\n\t\t\t\t// Rebuilding the object forces setting `undefined`\n\t\t\t\t// for values that are removed since setAttributes\n\t\t\t\t// doesn't do anything with keys that aren't set.\n\t\t\t\tsetAttributes( {\n\t\t\t\t\t// CSS includes `height: auto`, but we need\n\t\t\t\t\t// `width: auto` to fix the aspect ratio when\n\t\t\t\t\t// only height is set due to the width and\n\t\t\t\t\t// height attributes set via the server.\n\t\t\t\t\twidth: ! newWidth && newHeight ? 'auto' : newWidth,\n\t\t\t\t\theight: newHeight,\n\t\t\t\t\tscale: newScale,\n\t\t\t\t\taspectRatio: newAspectRatio,\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tdefaultScale=\"cover\"\n\t\t\tdefaultAspectRatio=\"auto\"\n\t\t\tscaleOptions={ scaleOptions }\n\t\t\tunitsOptions={ dimensionsUnitsOptions }\n\t\t/>\n\t);\n\n\tconst resetAll = () => {\n\t\tsetAttributes( {\n\t\t\talt: undefined,\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t\tscale: undefined,\n\t\t\taspectRatio: undefined,\n\t\t\tlightbox: undefined,\n\t\t} );\n\t};\n\n\tconst sizeControls = (\n\t\t<InspectorControls>\n\t\t\t<ToolsPanel\n\t\t\t\tlabel={ __( 'Settings' ) }\n\t\t\t\tresetAll={ resetAll }\n\t\t\t\tdropdownMenuProps={ TOOLSPANEL_DROPDOWNMENU_PROPS }\n\t\t\t>\n\t\t\t\t{ isResizable && dimensionsControl }\n\t\t\t</ToolsPanel>\n\t\t</InspectorControls>\n\t);\n\n\tconst {\n\t\tlockUrlControls = false,\n\t\tlockHrefControls = false,\n\t\tlockAltControls = false,\n\t\tlockAltControlsMessage,\n\t\tlockTitleControls = false,\n\t\tlockTitleControlsMessage,\n\t\tlockCaption = false,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isSingleSelected ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst { getBlockBindingsSource } = unlock( select( blocksStore ) );\n\t\t\tconst { getBlockParentsByBlockName } = unlock(\n\t\t\t\tselect( blockEditorStore )\n\t\t\t);\n\t\t\tconst {\n\t\t\t\turl: urlBinding,\n\t\t\t\talt: altBinding,\n\t\t\t\ttitle: titleBinding,\n\t\t\t} = metadata?.bindings || {};\n\t\t\tconst hasParentPattern =\n\t\t\t\tgetBlockParentsByBlockName( clientId, 'core/block' ).length > 0;\n\t\t\tconst urlBindingSource = getBlockBindingsSource(\n\t\t\t\turlBinding?.source\n\t\t\t);\n\t\t\tconst altBindingSource = getBlockBindingsSource(\n\t\t\t\taltBinding?.source\n\t\t\t);\n\t\t\tconst titleBindingSource = getBlockBindingsSource(\n\t\t\t\ttitleBinding?.source\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tlockUrlControls:\n\t\t\t\t\t!! urlBinding &&\n\t\t\t\t\t( ! urlBindingSource ||\n\t\t\t\t\t\turlBindingSource?.lockAttributesEditing ),\n\t\t\t\tlockHrefControls:\n\t\t\t\t\t// Disable editing the link of the URL if the image is inside a pattern instance.\n\t\t\t\t\t// This is a temporary solution until we support overriding the link on the frontend.\n\t\t\t\t\thasParentPattern,\n\t\t\t\tlockCaption:\n\t\t\t\t\t// Disable editing the caption if the image is inside a pattern instance.\n\t\t\t\t\t// This is a temporary solution until we support overriding the caption on the frontend.\n\t\t\t\t\thasParentPattern,\n\t\t\t\tlockAltControls:\n\t\t\t\t\t!! altBinding &&\n\t\t\t\t\t( ! altBindingSource ||\n\t\t\t\t\t\taltBindingSource?.lockAttributesEditing ),\n\t\t\t\tlockAltControlsMessage: altBindingSource?.label\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %s: Label of the bindings source. */\n\t\t\t\t\t\t\t__( 'Connected to %s' ),\n\t\t\t\t\t\t\taltBindingSource.label\n\t\t\t\t\t  )\n\t\t\t\t\t: __( 'Connected to dynamic data' ),\n\t\t\t\tlockTitleControls:\n\t\t\t\t\t!! titleBinding &&\n\t\t\t\t\t( ! titleBindingSource ||\n\t\t\t\t\t\ttitleBindingSource?.lockAttributesEditing ),\n\t\t\t\tlockTitleControlsMessage: titleBindingSource?.label\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %s: Label of the bindings source. */\n\t\t\t\t\t\t\t__( 'Connected to %s' ),\n\t\t\t\t\t\t\ttitleBindingSource.label\n\t\t\t\t\t  )\n\t\t\t\t\t: __( 'Connected to dynamic data' ),\n\t\t\t};\n\t\t},\n\t\t[ clientId, isSingleSelected, metadata?.bindings ]\n\t);\n\n\tconst controls = (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t{ isSingleSelected &&\n\t\t\t\t\t! isEditingImage &&\n\t\t\t\t\t! lockHrefControls &&\n\t\t\t\t\t! lockUrlControls && (\n\t\t\t\t\t\t<ImageURLInputUI\n\t\t\t\t\t\t\turl={ href || '' }\n\t\t\t\t\t\t\tonChangeUrl={ onSetHref }\n\t\t\t\t\t\t\tlinkDestination={ linkDestination }\n\t\t\t\t\t\t\tmediaUrl={ ( image && image.source_url ) || url }\n\t\t\t\t\t\t\tmediaLink={ image && image.link }\n\t\t\t\t\t\t\tlinkTarget={ linkTarget }\n\t\t\t\t\t\t\tlinkClass={ linkClass }\n\t\t\t\t\t\t\trel={ rel }\n\t\t\t\t\t\t\tshowLightboxSetting={ showLightboxSetting }\n\t\t\t\t\t\t\tlightboxEnabled={ lightboxChecked }\n\t\t\t\t\t\t\tonSetLightbox={ onSetLightbox }\n\t\t\t\t\t\t\tresetLightbox={ resetLightbox }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t{ allowCrop && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={ () => setIsEditingImage( true ) }\n\t\t\t\t\t\ticon={ crop }\n\t\t\t\t\t\tlabel={ __( 'Crop' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isSingleSelected && canInsertCover && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ overlayText }\n\t\t\t\t\t\tlabel={ __( 'Add text over image' ) }\n\t\t\t\t\t\tonClick={ switchToCover }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t{ isSingleSelected && ! isEditingImage && ! lockUrlControls && (\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaId={ id }\n\t\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t{ isSingleSelected && externalBlob && (\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tonClick={ uploadExternal }\n\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\tlabel={ __( 'Upload to Media Library' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t{ isContentOnlyMode && (\n\t\t\t\t// Add some extra controls for content attributes when content only mode is active.\n\t\t\t\t// With content only mode active, the inspector is hidden, so users need another way\n\t\t\t\t// to edit these attributes.\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ { position: 'bottom right' } }\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Alt',\n\t\t\t\t\t\t\t\t\t'Alternative text for an image. Block toolbar label, a low character count is preferred.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\tclassName=\"wp-block-image__toolbar_content_textarea\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Alternative text' ) }\n\t\t\t\t\t\t\t\tvalue={ alt || '' }\n\t\t\t\t\t\t\t\tonChange={ updateAlt }\n\t\t\t\t\t\t\t\tdisabled={ lockAltControls }\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\tlockAltControls ? (\n\t\t\t\t\t\t\t\t\t\t<>{ lockAltControlsMessage }</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Describe the purpose of the image.'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Leave empty if decorative.'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ { position: 'bottom right' } }\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\t\t\tif ( ! isOpen && event.keyCode === DOWN ) {\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\tonToggle();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Title' ) }\n\t\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tclassName=\"wp-block-image__toolbar_content_textarea\"\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Title attribute' ) }\n\t\t\t\t\t\t\t\tvalue={ title || '' }\n\t\t\t\t\t\t\t\tonChange={ onSetTitle }\n\t\t\t\t\t\t\t\tdisabled={ lockTitleControls }\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\tlockTitleControls ? (\n\t\t\t\t\t\t\t\t\t\t<>{ lockTitleControlsMessage }</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Describe the role of this image on the page.'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/TR/html52/dom.html#the-title-attribute\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'(Note: many devices and browsers do not display this text.)'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<InspectorControls>\n\t\t\t\t<ToolsPanel\n\t\t\t\t\tlabel={ __( 'Settings' ) }\n\t\t\t\t\tresetAll={ resetAll }\n\t\t\t\t\tdropdownMenuProps={ TOOLSPANEL_DROPDOWNMENU_PROPS }\n\t\t\t\t>\n\t\t\t\t\t{ isSingleSelected && (\n\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\tlabel={ __( 'Alternative text' ) }\n\t\t\t\t\t\t\tisShownByDefault\n\t\t\t\t\t\t\thasValue={ () => !! alt }\n\t\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { alt: undefined } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Alternative text' ) }\n\t\t\t\t\t\t\t\tvalue={ alt || '' }\n\t\t\t\t\t\t\t\tonChange={ updateAlt }\n\t\t\t\t\t\t\t\treadOnly={ lockAltControls }\n\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\tlockAltControls ? (\n\t\t\t\t\t\t\t\t\t\t<>{ lockAltControlsMessage }</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Describe the purpose of the image.'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Leave empty if decorative.'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isResizable && dimensionsControl }\n\t\t\t\t\t{ !! imageSizeOptions.length && (\n\t\t\t\t\t\t<ResolutionTool\n\t\t\t\t\t\t\tvalue={ sizeSlug }\n\t\t\t\t\t\t\tonChange={ updateImage }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolsPanel>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Title attribute' ) }\n\t\t\t\t\tvalue={ title || '' }\n\t\t\t\t\tonChange={ onSetTitle }\n\t\t\t\t\treadOnly={ lockTitleControls }\n\t\t\t\t\thelp={\n\t\t\t\t\t\tlockTitleControls ? (\n\t\t\t\t\t\t\t<>{ lockTitleControlsMessage }</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Describe the role of this image on the page.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/TR/html52/dom.html#the-title-attribute\">\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'(Note: many devices and browsers do not display this text.)'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tconst filename = getFilename( url );\n\tlet defaultedAlt;\n\n\tif ( alt ) {\n\t\tdefaultedAlt = alt;\n\t} else if ( filename ) {\n\t\tdefaultedAlt = sprintf(\n\t\t\t/* translators: %s: file name */\n\t\t\t__( 'This image has an empty alt attribute; its file name is %s' ),\n\t\t\tfilename\n\t\t);\n\t} else {\n\t\tdefaultedAlt = __( 'This image has an empty alt attribute' );\n\t}\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst shadowProps = getShadowClassesAndStyles( attributes );\n\tconst isRounded = attributes.className?.includes( 'is-style-rounded' );\n\n\tlet img = (\n\t\t// Disable reason: Image itself is not meant to be interactive, but\n\t\t// should direct focus to block.\n\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t<>\n\t\t\t<img\n\t\t\t\tsrc={ temporaryURL || url }\n\t\t\t\talt={ defaultedAlt }\n\t\t\t\tonError={ () => onImageError() }\n\t\t\t\tonLoad={ ( event ) => {\n\t\t\t\t\tsetLoadedNaturalSize( {\n\t\t\t\t\t\tloadedNaturalWidth: event.target?.naturalWidth,\n\t\t\t\t\t\tloadedNaturalHeight: event.target?.naturalHeight,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tref={ imageRef }\n\t\t\t\tclassName={ borderProps.className }\n\t\t\t\tstyle={ {\n\t\t\t\t\twidth:\n\t\t\t\t\t\t( width && height ) || aspectRatio ? '100%' : undefined,\n\t\t\t\t\theight:\n\t\t\t\t\t\t( width && height ) || aspectRatio ? '100%' : undefined,\n\t\t\t\t\tobjectFit: scale,\n\t\t\t\t\t...borderProps.style,\n\t\t\t\t\t...shadowProps.style,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t{ temporaryURL && <Spinner /> }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t);\n\n\t// clientWidth needs to be a number for the image Cropper to work, but sometimes it's 0\n\t// So we try using the imageRef width first and fallback to clientWidth.\n\tconst fallbackClientWidth = imageRef.current?.width || clientWidth;\n\n\tif ( canEditImage && isEditingImage ) {\n\t\timg = (\n\t\t\t<ImageWrapper href={ href }>\n\t\t\t\t<ImageEditor\n\t\t\t\t\tid={ id }\n\t\t\t\t\turl={ url }\n\t\t\t\t\twidth={ numericWidth }\n\t\t\t\t\theight={ numericHeight }\n\t\t\t\t\tclientWidth={ fallbackClientWidth }\n\t\t\t\t\tnaturalHeight={ naturalHeight }\n\t\t\t\t\tnaturalWidth={ naturalWidth }\n\t\t\t\t\tonSaveImage={ ( imageAttributes ) =>\n\t\t\t\t\t\tsetAttributes( imageAttributes )\n\t\t\t\t\t}\n\t\t\t\t\tonFinishEditing={ () => {\n\t\t\t\t\t\tsetIsEditingImage( false );\n\t\t\t\t\t} }\n\t\t\t\t\tborderProps={ isRounded ? undefined : borderProps }\n\t\t\t\t/>\n\t\t\t</ImageWrapper>\n\t\t);\n\t} else if ( ! isResizable ) {\n\t\timg = (\n\t\t\t<div style={ { width, height, aspectRatio } }>\n\t\t\t\t<ImageWrapper href={ href }>{ img }</ImageWrapper>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tconst numericRatio = aspectRatio && evalAspectRatio( aspectRatio );\n\t\tconst customRatio = numericWidth / numericHeight;\n\t\tconst naturalRatio = naturalWidth / naturalHeight;\n\t\tconst ratio = numericRatio || customRatio || naturalRatio || 1;\n\t\tconst currentWidth =\n\t\t\t! numericWidth && numericHeight\n\t\t\t\t? numericHeight * ratio\n\t\t\t\t: numericWidth;\n\t\tconst currentHeight =\n\t\t\t! numericHeight && numericWidth\n\t\t\t\t? numericWidth / ratio\n\t\t\t\t: numericHeight;\n\n\t\tconst minWidth =\n\t\t\tnaturalWidth < naturalHeight ? MIN_SIZE : MIN_SIZE * ratio;\n\t\tconst minHeight =\n\t\t\tnaturalHeight < naturalWidth ? MIN_SIZE : MIN_SIZE / ratio;\n\n\t\t// With the current implementation of ResizableBox, an image needs an\n\t\t// explicit pixel value for the max-width. In absence of being able to\n\t\t// set the content-width, this max-width is currently dictated by the\n\t\t// vanilla editor style. The following variable adds a buffer to this\n\t\t// vanilla style, so 3rd party themes have some wiggleroom. This does,\n\t\t// in most cases, allow you to scale the image beyond the width of the\n\t\t// main column, though not infinitely.\n\t\t// @todo It would be good to revisit this once a content-width variable\n\t\t// becomes available.\n\t\tconst maxWidthBuffer = maxWidth * 2.5;\n\n\t\tlet showRightHandle = false;\n\t\tlet showLeftHandle = false;\n\n\t\t/* eslint-disable no-lonely-if */\n\t\t// See https://github.com/WordPress/gutenberg/issues/7584.\n\t\tif ( align === 'center' ) {\n\t\t\t// When the image is centered, show both handles.\n\t\t\tshowRightHandle = true;\n\t\t\tshowLeftHandle = true;\n\t\t} else if ( isRTL() ) {\n\t\t\t// In RTL mode the image is on the right by default.\n\t\t\t// Show the right handle and hide the left handle only when it is\n\t\t\t// aligned left. Otherwise always show the left handle.\n\t\t\tif ( align === 'left' ) {\n\t\t\t\tshowRightHandle = true;\n\t\t\t} else {\n\t\t\t\tshowLeftHandle = true;\n\t\t\t}\n\t\t} else {\n\t\t\t// Show the left handle and hide the right handle only when the\n\t\t\t// image is aligned right. Otherwise always show the right handle.\n\t\t\tif ( align === 'right' ) {\n\t\t\t\tshowLeftHandle = true;\n\t\t\t} else {\n\t\t\t\tshowRightHandle = true;\n\t\t\t}\n\t\t}\n\t\t/* eslint-enable no-lonely-if */\n\t\timg = (\n\t\t\t<ResizableBox\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tobjectFit: scale,\n\t\t\t\t\taspectRatio:\n\t\t\t\t\t\t! width && ! height && aspectRatio\n\t\t\t\t\t\t\t? aspectRatio\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t} }\n\t\t\t\tsize={ {\n\t\t\t\t\twidth: currentWidth ?? 'auto',\n\t\t\t\t\theight: currentHeight ?? 'auto',\n\t\t\t\t} }\n\t\t\t\tshowHandle={ isSingleSelected }\n\t\t\t\tminWidth={ minWidth }\n\t\t\t\tmaxWidth={ maxWidthBuffer }\n\t\t\t\tminHeight={ minHeight }\n\t\t\t\tmaxHeight={ maxWidthBuffer / ratio }\n\t\t\t\tlockAspectRatio={ ratio }\n\t\t\t\tenable={ {\n\t\t\t\t\ttop: false,\n\t\t\t\t\tright: showRightHandle,\n\t\t\t\t\tbottom: true,\n\t\t\t\t\tleft: showLeftHandle,\n\t\t\t\t} }\n\t\t\t\tonResizeStart={ onResizeStart }\n\t\t\t\tonResizeStop={ ( event, direction, elt ) => {\n\t\t\t\t\tonResizeStop();\n\t\t\t\t\t// Since the aspect ratio is locked when resizing, we can\n\t\t\t\t\t// use the width of the resized element to calculate the\n\t\t\t\t\t// height in CSS to prevent stretching when the max-width\n\t\t\t\t\t// is reached.\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: `${ elt.offsetWidth }px`,\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\taspectRatio:\n\t\t\t\t\t\t\tratio === naturalRatio\n\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t: String( ratio ),\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tresizeRatio={ align === 'center' ? 2 : 1 }\n\t\t\t>\n\t\t\t\t<ImageWrapper href={ href }>{ img }</ImageWrapper>\n\t\t\t</ResizableBox>\n\t\t);\n\t}\n\n\tif ( ! url && ! temporaryURL ) {\n\t\t// Add all controls if the image attributes are connected.\n\t\treturn metadata?.bindings ? controls : sizeControls;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ controls }\n\t\t\t{ img }\n\n\t\t\t<Caption\n\t\t\t\tattributes={ attributes }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tisSelected={ isSingleSelected }\n\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\tlabel={ __( 'Image caption text' ) }\n\t\t\t\tshowToolbarButton={ isSingleSelected && hasNonContentControls }\n\t\t\t\treadOnly={ lockCaption }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { Placeholder } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tBlockIcon,\n\tMediaPlaceholder,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalGetShadowClassesAndStyles as getShadowClassesAndStyles,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { image as icon, plugins as pluginsIcon } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { useUploadMediaFromBlobURL } from '../utils/hooks';\nimport Image from './image';\n\n/**\n * Module constants\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_CUSTOM,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n\tALLOWED_MEDIA_TYPES,\n} from './constants';\n\nexport const pickRelevantMediaFiles = ( image, size ) => {\n\tconst imageProps = Object.fromEntries(\n\t\tObject.entries( image ?? {} ).filter( ( [ key ] ) =>\n\t\t\t[ 'alt', 'id', 'link', 'caption' ].includes( key )\n\t\t)\n\t);\n\n\timageProps.url =\n\t\timage?.sizes?.[ size ]?.url ||\n\t\timage?.media_details?.sizes?.[ size ]?.source_url ||\n\t\timage.url;\n\treturn imageProps;\n};\n\n/**\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily\n * while the image is being uploaded and will not have an id yet allocated.\n *\n * @param {number=} id  The id of the image.\n * @param {string=} url The url of the image.\n *\n * @return {boolean} Is the URL a Blob URL\n */\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\n\n/**\n * Is the url for the image hosted externally. An externally hosted image has no\n * id and is not a blob url.\n *\n * @param {number=} id  The id of the image.\n * @param {string=} url The url of the image.\n *\n * @return {boolean} Is the url an externally hosted url?\n */\nexport const isExternalImage = ( id, url ) => url && ! id && ! isBlobURL( url );\n\n/**\n * Checks if WP generated the specified image size. Size generation is skipped\n * when the image is smaller than the said size.\n *\n * @param {Object} image\n * @param {string} size\n *\n * @return {boolean} Whether or not it has default image size.\n */\nfunction hasSize( image, size ) {\n\treturn (\n\t\t'url' in ( image?.sizes?.[ size ] ?? {} ) ||\n\t\t'source_url' in ( image?.media_details?.sizes?.[ size ] ?? {} )\n\t);\n}\n\nexport function ImageEdit( {\n\tattributes,\n\tsetAttributes,\n\tisSelected: isSingleSelected,\n\tclassName,\n\tinsertBlocksAfter,\n\tonReplace,\n\tcontext,\n\tclientId,\n} ) {\n\tconst {\n\t\turl = '',\n\t\talt,\n\t\tcaption,\n\t\tid,\n\t\twidth,\n\t\theight,\n\t\tsizeSlug,\n\t\taspectRatio,\n\t\tscale,\n\t\talign,\n\t\tmetadata,\n\t} = attributes;\n\tconst [ temporaryURL, setTemporaryURL ] = useState( () => {\n\t\treturn isTemporaryImage( id, url ) ? url : undefined;\n\t} );\n\n\tconst altRef = useRef();\n\tuseEffect( () => {\n\t\taltRef.current = alt;\n\t}, [ alt ] );\n\n\tconst captionRef = useRef();\n\tuseEffect( () => {\n\t\tcaptionRef.current = caption;\n\t}, [ caption ] );\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( [ 'wide', 'full' ].includes( align ) ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\twidth: undefined,\n\t\t\t\theight: undefined,\n\t\t\t\taspectRatio: undefined,\n\t\t\t\tscale: undefined,\n\t\t\t} );\n\t\t}\n\t}, [ align ] );\n\n\tconst ref = useRef();\n\tconst { getSettings } = useSelect( blockEditorStore );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tfunction onUploadError( message ) {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t\tsetAttributes( {\n\t\t\tsrc: undefined,\n\t\t\tid: undefined,\n\t\t\turl: undefined,\n\t\t} );\n\t\tsetTemporaryURL( undefined );\n\t}\n\n\tfunction onSelectImage( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: undefined,\n\t\t\t\talt: undefined,\n\t\t\t\tid: undefined,\n\t\t\t\ttitle: undefined,\n\t\t\t\tcaption: undefined,\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isBlobURL( media.url ) ) {\n\t\t\tsetTemporaryURL( media.url );\n\t\t\treturn;\n\t\t}\n\n\t\tsetTemporaryURL();\n\n\t\tconst { imageDefaultSize } = getSettings();\n\n\t\t// Try to use the previous selected image size if its available\n\t\t// otherwise try the default image size or fallback to \"full\"\n\t\tlet newSize = 'full';\n\t\tif ( sizeSlug && hasSize( media, sizeSlug ) ) {\n\t\t\tnewSize = sizeSlug;\n\t\t} else if ( hasSize( media, imageDefaultSize ) ) {\n\t\t\tnewSize = imageDefaultSize;\n\t\t}\n\n\t\tlet mediaAttributes = pickRelevantMediaFiles( media, newSize );\n\n\t\t// If a caption text was meanwhile written by the user,\n\t\t// make sure the text is not overwritten by empty captions.\n\t\tif ( captionRef.current && ! mediaAttributes.caption ) {\n\t\t\tconst { caption: omittedCaption, ...restMediaAttributes } =\n\t\t\t\tmediaAttributes;\n\t\t\tmediaAttributes = restMediaAttributes;\n\t\t}\n\n\t\tlet additionalAttributes;\n\t\t// Reset the dimension attributes if changing to a different image.\n\t\tif ( ! media.id || media.id !== id ) {\n\t\t\tadditionalAttributes = {\n\t\t\t\tsizeSlug: newSize,\n\t\t\t};\n\t\t} else {\n\t\t\t// Keep the same url when selecting the same file, so \"Resolution\"\n\t\t\t// option is not changed.\n\t\t\tadditionalAttributes = { url };\n\t\t}\n\n\t\t// Check if default link setting should be used.\n\t\tlet linkDestination = attributes.linkDestination;\n\t\tif ( ! linkDestination ) {\n\t\t\t// Use the WordPress option to determine the proper default.\n\t\t\t// The constants used in Gutenberg do not match WP options so a little more complicated than ideal.\n\t\t\t// TODO: fix this in a follow up PR, requires updating media-text and ui component.\n\t\t\tswitch (\n\t\t\t\twindow?.wp?.media?.view?.settings?.defaultProps?.link ||\n\t\t\t\tLINK_DESTINATION_NONE\n\t\t\t) {\n\t\t\t\tcase 'file':\n\t\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\t\tlinkDestination = LINK_DESTINATION_MEDIA;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'post':\n\t\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\tlinkDestination = LINK_DESTINATION_ATTACHMENT;\n\t\t\t\t\tbreak;\n\t\t\t\tcase LINK_DESTINATION_CUSTOM:\n\t\t\t\t\tlinkDestination = LINK_DESTINATION_CUSTOM;\n\t\t\t\t\tbreak;\n\t\t\t\tcase LINK_DESTINATION_NONE:\n\t\t\t\t\tlinkDestination = LINK_DESTINATION_NONE;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Check if the image is linked to it's media.\n\t\tlet href;\n\t\tswitch ( linkDestination ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\thref = media.url;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\thref = media.link;\n\t\t\t\tbreak;\n\t\t}\n\t\tmediaAttributes.href = href;\n\n\t\tsetAttributes( {\n\t\t\t...mediaAttributes,\n\t\t\t...additionalAttributes,\n\t\t\tlinkDestination,\n\t\t} );\n\t}\n\n\tfunction onSelectURL( newURL ) {\n\t\tif ( newURL !== url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: newURL,\n\t\t\t\tid: undefined,\n\t\t\t\tsizeSlug: getSettings().imageDefaultSize,\n\t\t\t} );\n\t\t}\n\t}\n\n\tuseUploadMediaFromBlobURL( {\n\t\turl,\n\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\tonChange: onSelectImage,\n\t\tonError: onUploadError,\n\t} );\n\n\tconst isExternal = isExternalImage( id, url );\n\tconst src = isExternal ? url : undefined;\n\tconst mediaPreview = !! url && (\n\t\t<img\n\t\t\talt={ __( 'Edit image' ) }\n\t\t\ttitle={ __( 'Edit image' ) }\n\t\t\tclassName={ 'edit-image-preview' }\n\t\t\tsrc={ url }\n\t\t/>\n\t);\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst shadowProps = getShadowClassesAndStyles( attributes );\n\n\tconst classes = classnames( className, {\n\t\t'is-transient': temporaryURL,\n\t\t'is-resized': !! width || !! height,\n\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\n\t\t'has-custom-border':\n\t\t\t!! borderProps.className ||\n\t\t\t( borderProps.style &&\n\t\t\t\tObject.keys( borderProps.style ).length > 0 ),\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tref,\n\t\tclassName: classes,\n\t} );\n\n\t// Much of this description is duplicated from MediaPlaceholder.\n\tconst { lockUrlControls = false, lockUrlControlsMessage } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isSingleSelected ) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst blockBindingsSource = unlock(\n\t\t\t\tselect( blocksStore )\n\t\t\t).getBlockBindingsSource( metadata?.bindings?.url?.source );\n\n\t\t\treturn {\n\t\t\t\tlockUrlControls:\n\t\t\t\t\t!! metadata?.bindings?.url &&\n\t\t\t\t\t( ! blockBindingsSource ||\n\t\t\t\t\t\tblockBindingsSource?.lockAttributesEditing ),\n\t\t\t\tlockUrlControlsMessage: blockBindingsSource?.label\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: %s: Label of the bindings source. */\n\t\t\t\t\t\t\t__( 'Connected to %s' ),\n\t\t\t\t\t\t\tblockBindingsSource.label\n\t\t\t\t\t  )\n\t\t\t\t\t: __( 'Connected to dynamic data' ),\n\t\t\t};\n\t\t},\n\t\t[ isSingleSelected ]\n\t);\n\tconst placeholder = ( content ) => {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tclassName={ classnames( 'block-editor-media-placeholder', {\n\t\t\t\t\t[ borderProps.className ]:\n\t\t\t\t\t\t!! borderProps.className && ! isSingleSelected,\n\t\t\t\t} ) }\n\t\t\t\twithIllustration\n\t\t\t\ticon={ lockUrlControls ? pluginsIcon : icon }\n\t\t\t\tlabel={ __( 'Image' ) }\n\t\t\t\tinstructions={\n\t\t\t\t\t! lockUrlControls &&\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Upload an image file, pick one from your media library, or add one with a URL.'\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tstyle={ {\n\t\t\t\t\taspectRatio:\n\t\t\t\t\t\t! ( width && height ) && aspectRatio\n\t\t\t\t\t\t\t? aspectRatio\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\twidth: height && aspectRatio ? '100%' : width,\n\t\t\t\t\theight: width && aspectRatio ? '100%' : height,\n\t\t\t\t\tobjectFit: scale,\n\t\t\t\t\t...borderProps.style,\n\t\t\t\t\t...shadowProps.style,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ lockUrlControls ? (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ 'block-bindings-media-placeholder-message' }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ lockUrlControlsMessage }\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\tcontent\n\t\t\t\t) }\n\t\t\t</Placeholder>\n\t\t);\n\t};\n\n\treturn (\n\t\t<figure { ...blockProps }>\n\t\t\t<Image\n\t\t\t\ttemporaryURL={ temporaryURL }\n\t\t\t\tattributes={ attributes }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tisSingleSelected={ isSingleSelected }\n\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonSelectImage={ onSelectImage }\n\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\tonUploadError={ onUploadError }\n\t\t\t\tcontainerRef={ ref }\n\t\t\t\tcontext={ context }\n\t\t\t\tclientId={ clientId }\n\t\t\t\tblockEditingMode={ blockEditingMode }\n\t\t\t/>\n\t\t\t<MediaPlaceholder\n\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\tonError={ onUploadError }\n\t\t\t\tplaceholder={ placeholder }\n\t\t\t\taccept=\"image/*\"\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\tvalue={ { id, src } }\n\t\t\t\tmediaPreview={ mediaPreview }\n\t\t\t\tdisableMediaButtons={ temporaryURL || url }\n\t\t\t/>\n\t\t</figure>\n\t);\n}\n\nexport default ImageEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlobURL } from '@wordpress/blob';\r\nimport { createBlock, getBlockAttributes } from '@wordpress/blocks';\r\nimport { dispatch } from '@wordpress/data';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport function stripFirstImage( attributes, { shortcode } ) {\r\n\tconst { body } = document.implementation.createHTMLDocument( '' );\r\n\r\n\tbody.innerHTML = shortcode.content;\r\n\r\n\tlet nodeToRemove = body.querySelector( 'img' );\r\n\r\n\t// If an image has parents, find the topmost node to remove.\r\n\twhile (\r\n\t\tnodeToRemove &&\r\n\t\tnodeToRemove.parentNode &&\r\n\t\tnodeToRemove.parentNode !== body\r\n\t) {\r\n\t\tnodeToRemove = nodeToRemove.parentNode;\r\n\t}\r\n\r\n\tif ( nodeToRemove ) {\r\n\t\tnodeToRemove.parentNode.removeChild( nodeToRemove );\r\n\t}\r\n\r\n\treturn body.innerHTML.trim();\r\n}\r\n\r\nfunction getFirstAnchorAttributeFormHTML( html, attributeName ) {\r\n\tconst { body } = document.implementation.createHTMLDocument( '' );\r\n\r\n\tbody.innerHTML = html;\r\n\r\n\tconst { firstElementChild } = body;\r\n\r\n\tif ( firstElementChild && firstElementChild.nodeName === 'A' ) {\r\n\t\treturn firstElementChild.getAttribute( attributeName ) || undefined;\r\n\t}\r\n}\r\n\r\nconst imageSchema = {\r\n\timg: {\r\n\t\tattributes: [ 'src', 'alt', 'title' ],\r\n\t\tclasses: [\r\n\t\t\t'alignleft',\r\n\t\t\t'aligncenter',\r\n\t\t\t'alignright',\r\n\t\t\t'alignnone',\r\n\t\t\t/^wp-image-\\d+$/,\r\n\t\t],\r\n\t},\r\n};\r\n\r\nconst schema = ( { phrasingContentSchema } ) => ( {\r\n\tfigure: {\r\n\t\trequire: [ 'img' ],\r\n\t\tchildren: {\r\n\t\t\t...imageSchema,\r\n\t\t\ta: {\r\n\t\t\t\tattributes: [ 'href', 'rel', 'target' ],\r\n\t\t\t\tchildren: imageSchema,\r\n\t\t\t},\r\n\t\t\tfigcaption: {\r\n\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n} );\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.nodeName === 'FIGURE' && !! node.querySelector( 'img' ),\r\n\t\t\tschema,\r\n\t\t\ttransform: ( node ) => {\r\n\t\t\t\t// Search both figure and image classes. Alignment could be\r\n\t\t\t\t// set on either. ID is set on the image.\r\n\t\t\t\tconst className =\r\n\t\t\t\t\tnode.className +\r\n\t\t\t\t\t' ' +\r\n\t\t\t\t\tnode.querySelector( 'img' ).className;\r\n\t\t\t\tconst alignMatches =\r\n\t\t\t\t\t/(?:^|\\s)align(left|center|right)(?:$|\\s)/.exec(\r\n\t\t\t\t\t\tclassName\r\n\t\t\t\t\t);\r\n\t\t\t\tconst anchor = node.id === '' ? undefined : node.id;\r\n\t\t\t\tconst align = alignMatches ? alignMatches[ 1 ] : undefined;\r\n\t\t\t\tconst idMatches = /(?:^|\\s)wp-image-(\\d+)(?:$|\\s)/.exec(\r\n\t\t\t\t\tclassName\r\n\t\t\t\t);\r\n\t\t\t\tconst id = idMatches ? Number( idMatches[ 1 ] ) : undefined;\r\n\t\t\t\tconst anchorElement = node.querySelector( 'a' );\r\n\t\t\t\tconst linkDestination =\r\n\t\t\t\t\tanchorElement && anchorElement.href ? 'custom' : undefined;\r\n\t\t\t\tconst href =\r\n\t\t\t\t\tanchorElement && anchorElement.href\r\n\t\t\t\t\t\t? anchorElement.href\r\n\t\t\t\t\t\t: undefined;\r\n\t\t\t\tconst rel =\r\n\t\t\t\t\tanchorElement && anchorElement.rel\r\n\t\t\t\t\t\t? anchorElement.rel\r\n\t\t\t\t\t\t: undefined;\r\n\t\t\t\tconst linkClass =\r\n\t\t\t\t\tanchorElement && anchorElement.className\r\n\t\t\t\t\t\t? anchorElement.className\r\n\t\t\t\t\t\t: undefined;\r\n\t\t\t\tconst attributes = getBlockAttributes(\r\n\t\t\t\t\t'core/image',\r\n\t\t\t\t\tnode.outerHTML,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tlinkDestination,\r\n\t\t\t\t\t\thref,\r\n\t\t\t\t\t\trel,\r\n\t\t\t\t\t\tlinkClass,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\treturn createBlock( 'core/image', attributes );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\t// Note: when dragging and dropping multiple files onto a gallery this overrides the\r\n\t\t\t// gallery transform in order to add new images to the gallery instead of\r\n\t\t\t// creating a new gallery.\r\n\t\t\ttype: 'files',\r\n\t\t\tisMatch( files ) {\r\n\t\t\t\t// The following check is intended to catch non-image files when dropped together with images.\r\n\t\t\t\tif (\r\n\t\t\t\t\tfiles.some(\r\n\t\t\t\t\t\t( file ) => file.type.indexOf( 'image/' ) === 0\r\n\t\t\t\t\t) &&\r\n\t\t\t\t\tfiles.some(\r\n\t\t\t\t\t\t( file ) => file.type.indexOf( 'image/' ) !== 0\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst { createErrorNotice } = dispatch( noticesStore );\r\n\t\t\t\t\tcreateErrorNotice(\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'If uploading to a gallery all files need to be image formats'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 'gallery-transform-invalid-file',\r\n\t\t\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn files.every(\r\n\t\t\t\t\t( file ) => file.type.indexOf( 'image/' ) === 0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform( files ) {\r\n\t\t\t\tconst blocks = files.map( ( file ) => {\r\n\t\t\t\t\treturn createBlock( 'core/image', {\r\n\t\t\t\t\t\turl: createBlobURL( file ),\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t\treturn blocks;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'shortcode',\r\n\t\t\ttag: 'caption',\r\n\t\t\tattributes: {\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tattribute: 'src',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t},\r\n\t\t\t\talt: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tsource: 'attribute',\r\n\t\t\t\t\tattribute: 'alt',\r\n\t\t\t\t\tselector: 'img',\r\n\t\t\t\t},\r\n\t\t\t\tcaption: {\r\n\t\t\t\t\tshortcode: stripFirstImage,\r\n\t\t\t\t},\r\n\t\t\t\thref: {\r\n\t\t\t\t\tshortcode: ( attributes, { shortcode } ) => {\r\n\t\t\t\t\t\treturn getFirstAnchorAttributeFormHTML(\r\n\t\t\t\t\t\t\tshortcode.content,\r\n\t\t\t\t\t\t\t'href'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\trel: {\r\n\t\t\t\t\tshortcode: ( attributes, { shortcode } ) => {\r\n\t\t\t\t\t\treturn getFirstAnchorAttributeFormHTML(\r\n\t\t\t\t\t\t\tshortcode.content,\r\n\t\t\t\t\t\t\t'rel'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tlinkClass: {\r\n\t\t\t\t\tshortcode: ( attributes, { shortcode } ) => {\r\n\t\t\t\t\t\treturn getFirstAnchorAttributeFormHTML(\r\n\t\t\t\t\t\t\tshortcode.content,\r\n\t\t\t\t\t\t\t'class'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\tshortcode: ( { named: { id } } ) => {\r\n\t\t\t\t\t\tif ( ! id ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn parseInt( id.replace( 'attachment_', '' ), 10 );\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\talign: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { align = 'alignnone' } } ) => {\r\n\t\t\t\t\t\treturn align.replace( 'align', '' );\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { image as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tsizeSlug: 'large',\r\n\t\t\turl: 'https://s.w.org/images/core/5.3/MtBlanc1.jpg',\r\n\t\t\t// translators: Caption accompanying an image of the Mont Blanc, which serves as an example for the Image block.\r\n\t\t\tcaption: __( 'Mont Blanc appears—still, snowy, and serene.' ),\r\n\t\t},\r\n\t},\r\n\t__experimentalLabel( attributes, { context } ) {\r\n\t\tconst customName = attributes?.metadata?.name;\r\n\r\n\t\tif ( context === 'list-view' && customName ) {\r\n\t\t\treturn customName;\r\n\t\t}\r\n\r\n\t\tif ( context === 'accessibility' ) {\r\n\t\t\tconst { caption, alt, url } = attributes;\r\n\r\n\t\t\tif ( ! url ) {\r\n\t\t\t\treturn __( 'Empty' );\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! alt ) {\r\n\t\t\t\treturn caption || '';\r\n\t\t\t}\r\n\r\n\t\t\t// This is intended to be read by a screen reader.\r\n\t\t\t// A period simply means a pause, no need to translate it.\r\n\t\t\treturn alt + ( caption ? '. ' + caption : '' );\r\n\t\t}\r\n\t},\r\n\tgetEditWrapperProps( attributes ) {\r\n\t\treturn {\r\n\t\t\t'data-align': attributes.align,\r\n\t\t};\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t__experimentalGetElementClassName,\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\n\t__experimentalGetShadowClassesAndStyles as getShadowClassesAndStyles,\n} from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\turl,\n\t\talt,\n\t\tcaption,\n\t\talign,\n\t\thref,\n\t\trel,\n\t\tlinkClass,\n\t\twidth,\n\t\theight,\n\t\taspectRatio,\n\t\tscale,\n\t\tid,\n\t\tlinkTarget,\n\t\tsizeSlug,\n\t\ttitle,\n\t} = attributes;\n\n\tconst newRel = ! rel ? undefined : rel;\n\tconst borderProps = getBorderClassesAndStyles( attributes );\n\tconst shadowProps = getShadowClassesAndStyles( attributes );\n\n\tconst classes = classnames( {\n\t\t// All other align classes are handled by block supports.\n\t\t// `{ align: 'none' }` is unique to transforms for the image block.\n\t\talignnone: 'none' === align,\n\t\t[ `size-${ sizeSlug }` ]: sizeSlug,\n\t\t'is-resized': width || height,\n\t\t'has-custom-border':\n\t\t\t!! borderProps.className ||\n\t\t\t( borderProps.style &&\n\t\t\t\tObject.keys( borderProps.style ).length > 0 ),\n\t} );\n\n\tconst imageClasses = classnames( borderProps.className, {\n\t\t[ `wp-image-${ id }` ]: !! id,\n\t} );\n\n\tconst image = (\n\t\t<img\n\t\t\tsrc={ url }\n\t\t\talt={ alt }\n\t\t\tclassName={ imageClasses || undefined }\n\t\t\tstyle={ {\n\t\t\t\t...borderProps.style,\n\t\t\t\t...shadowProps.style,\n\t\t\t\taspectRatio,\n\t\t\t\tobjectFit: scale,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t} }\n\t\t\ttitle={ title }\n\t\t/>\n\t);\n\n\tconst figure = (\n\t\t<>\n\t\t\t{ href ? (\n\t\t\t\t<a\n\t\t\t\t\tclassName={ linkClass }\n\t\t\t\t\thref={ href }\n\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\trel={ newRel }\n\t\t\t\t>\n\t\t\t\t\t{ image }\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\timage\n\t\t\t) }\n\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t<RichText.Content\n\t\t\t\t\tclassName={ __experimentalGetElementClassName( 'caption' ) }\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n\n\treturn (\n\t\t<figure { ...useBlockProps.save( { className: classes } ) }>\n\t\t\t{ figure }\n\t\t</figure>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst comment = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default comment;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { comment as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport {\r\n\tDisabled,\r\n\tPanelBody,\r\n\tRangeControl,\r\n\tToggleControl,\r\n} from '@wordpress/components';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Minimum number of comments a user can show using this block.\r\n *\r\n * @type {number}\r\n */\r\nconst MIN_COMMENTS = 1;\r\n/**\r\n * Maximum number of comments a user can show using this block.\r\n *\r\n * @type {number}\r\n */\r\nconst MAX_COMMENTS = 100;\r\n\r\nexport default function LatestComments( { attributes, setAttributes } ) {\r\n\tconst { commentsToShow, displayAvatar, displayDate, displayExcerpt } =\r\n\t\tattributes;\r\n\r\n\tconst serverSideAttributes = {\r\n\t\t...attributes,\r\n\t\tstyle: {\r\n\t\t\t...attributes?.style,\r\n\t\t\tspacing: undefined,\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div { ...useBlockProps() }>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display avatar' ) }\r\n\t\t\t\t\t\tchecked={ displayAvatar }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( { displayAvatar: ! displayAvatar } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\r\n\t\t\t\t\t\tchecked={ displayDate }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( { displayDate: ! displayDate } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\r\n\t\t\t\t\t\tchecked={ displayExcerpt }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tdisplayExcerpt: ! displayExcerpt,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tlabel={ __( 'Number of comments' ) }\r\n\t\t\t\t\t\tvalue={ commentsToShow }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { commentsToShow: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmin={ MIN_COMMENTS }\r\n\t\t\t\t\t\tmax={ MAX_COMMENTS }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<Disabled>\r\n\t\t\t\t<ServerSideRender\r\n\t\t\t\t\tblock=\"core/latest-comments\"\r\n\t\t\t\t\tattributes={ serverSideAttributes }\r\n\t\t\t\t\t// The preview uses the site's locale to make it more true to how\r\n\t\t\t\t\t// the block appears on the frontend. Setting the locale\r\n\t\t\t\t\t// explicitly prevents any middleware from setting it to 'user'.\r\n\t\t\t\t\turlQueryArgs={ { _locale: 'site' } }\r\n\t\t\t\t/>\r\n\t\t\t</Disabled>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postList = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postList;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\n\r\nconst { attributes } = metadata;\r\n\r\nexport default [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\t...attributes,\r\n\t\t\tcategories: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: true,\r\n\t\t\thtml: false,\r\n\t\t},\r\n\t\tmigrate: ( oldAttributes ) => {\r\n\t\t\t// This needs the full category object, not just the ID.\r\n\t\t\treturn {\r\n\t\t\t\t...oldAttributes,\r\n\t\t\t\tcategories: [ { id: Number( oldAttributes.categories ) } ],\r\n\t\t\t};\r\n\t\t},\r\n\t\tisEligible: ( { categories } ) =>\r\n\t\t\tcategories && 'string' === typeof categories,\r\n\t\tsave: () => null,\r\n\t},\r\n];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst list = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default list;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBaseControl,\n\tPanelBody,\n\tPlaceholder,\n\tQueryControls,\n\tRadioControl,\n\tRangeControl,\n\tSpinner,\n\tToggleControl,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { dateI18n, format, getSettings } from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\t__experimentalImageSizeControl as ImageSizeControl,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { pin, list, grid } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticeStore } from '@wordpress/notices';\nimport { useInstanceId } from '@wordpress/compose';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMIN_EXCERPT_LENGTH,\n\tMAX_EXCERPT_LENGTH,\n\tMAX_POSTS_COLUMNS,\n} from './constants';\n\n/**\n * Module Constants\n */\nconst CATEGORIES_LIST_QUERY = {\n\tper_page: -1,\n\tcontext: 'view',\n};\nconst USERS_LIST_QUERY = {\n\tper_page: -1,\n\thas_published_posts: [ 'post' ],\n\tcontext: 'view',\n};\n\nfunction getFeaturedImageDetails( post, size ) {\n\tconst image = post._embedded?.[ 'wp:featuredmedia' ]?.[ '0' ];\n\n\treturn {\n\t\turl:\n\t\t\timage?.media_details?.sizes?.[ size ]?.source_url ??\n\t\t\timage?.source_url,\n\t\talt: image?.alt_text,\n\t};\n}\n\nexport default function LatestPostsEdit( { attributes, setAttributes } ) {\n\tconst instanceId = useInstanceId( LatestPostsEdit );\n\tconst {\n\t\tpostsToShow,\n\t\torder,\n\t\torderBy,\n\t\tcategories,\n\t\tselectedAuthor,\n\t\tdisplayFeaturedImage,\n\t\tdisplayPostContentRadio,\n\t\tdisplayPostContent,\n\t\tdisplayPostDate,\n\t\tdisplayAuthor,\n\t\tpostLayout,\n\t\tcolumns,\n\t\texcerptLength,\n\t\tfeaturedImageAlign,\n\t\tfeaturedImageSizeSlug,\n\t\tfeaturedImageSizeWidth,\n\t\tfeaturedImageSizeHeight,\n\t\taddLinkToFeaturedImage,\n\t} = attributes;\n\tconst {\n\t\timageSizes,\n\t\tlatestPosts,\n\t\tdefaultImageWidth,\n\t\tdefaultImageHeight,\n\t\tcategoriesList,\n\t\tauthorList,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords, getUsers } = select( coreStore );\n\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\t\tconst catIds =\n\t\t\t\tcategories && categories.length > 0\n\t\t\t\t\t? categories.map( ( cat ) => cat.id )\n\t\t\t\t\t: [];\n\t\t\tconst latestPostsQuery = Object.fromEntries(\n\t\t\t\tObject.entries( {\n\t\t\t\t\tcategories: catIds,\n\t\t\t\t\tauthor: selectedAuthor,\n\t\t\t\t\torder,\n\t\t\t\t\torderby: orderBy,\n\t\t\t\t\tper_page: postsToShow,\n\t\t\t\t\t_embed: 'wp:featuredmedia',\n\t\t\t\t} ).filter( ( [ , value ] ) => typeof value !== 'undefined' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tdefaultImageWidth:\n\t\t\t\t\tsettings.imageDimensions?.[ featuredImageSizeSlug ]\n\t\t\t\t\t\t?.width ?? 0,\n\t\t\t\tdefaultImageHeight:\n\t\t\t\t\tsettings.imageDimensions?.[ featuredImageSizeSlug ]\n\t\t\t\t\t\t?.height ?? 0,\n\t\t\t\timageSizes: settings.imageSizes,\n\t\t\t\tlatestPosts: getEntityRecords(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'post',\n\t\t\t\t\tlatestPostsQuery\n\t\t\t\t),\n\t\t\t\tcategoriesList: getEntityRecords(\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\t'category',\n\t\t\t\t\tCATEGORIES_LIST_QUERY\n\t\t\t\t),\n\t\t\t\tauthorList: getUsers( USERS_LIST_QUERY ),\n\t\t\t};\n\t\t},\n\t\t[\n\t\t\tfeaturedImageSizeSlug,\n\t\t\tpostsToShow,\n\t\t\torder,\n\t\t\torderBy,\n\t\t\tcategories,\n\t\t\tselectedAuthor,\n\t\t]\n\t);\n\n\t// If a user clicks to a link prevent redirection and show a warning.\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticeStore );\n\tlet noticeId;\n\tconst showRedirectionPreventedNotice = ( event ) => {\n\t\tevent.preventDefault();\n\t\t// Remove previous warning if any, to show one at a time per block.\n\t\tremoveNotice( noticeId );\n\t\tnoticeId = `block-library/core/latest-posts/redirection-prevented/${ instanceId }`;\n\t\tcreateWarningNotice( __( 'Links are disabled in the editor.' ), {\n\t\t\tid: noticeId,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t};\n\n\tconst imageSizeOptions = imageSizes\n\t\t.filter( ( { slug } ) => slug !== 'full' )\n\t\t.map( ( { name, slug } ) => ( {\n\t\t\tvalue: slug,\n\t\t\tlabel: name,\n\t\t} ) );\n\tconst categorySuggestions =\n\t\tcategoriesList?.reduce(\n\t\t\t( accumulator, category ) => ( {\n\t\t\t\t...accumulator,\n\t\t\t\t[ category.name ]: category,\n\t\t\t} ),\n\t\t\t{}\n\t\t) ?? {};\n\tconst selectCategories = ( tokens ) => {\n\t\tconst hasNoSuggestion = tokens.some(\n\t\t\t( token ) =>\n\t\t\t\ttypeof token === 'string' && ! categorySuggestions[ token ]\n\t\t);\n\t\tif ( hasNoSuggestion ) {\n\t\t\treturn;\n\t\t}\n\t\t// Categories that are already will be objects, while new additions will be strings (the name).\n\t\t// allCategories nomalizes the array so that they are all objects.\n\t\tconst allCategories = tokens.map( ( token ) => {\n\t\t\treturn typeof token === 'string'\n\t\t\t\t? categorySuggestions[ token ]\n\t\t\t\t: token;\n\t\t} );\n\t\t// We do nothing if the category is not selected\n\t\t// from suggestions.\n\t\tif ( allCategories.includes( null ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tsetAttributes( { categories: allCategories } );\n\t};\n\n\tconst hasPosts = !! latestPosts?.length;\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Post content' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Post content' ) }\n\t\t\t\t\tchecked={ displayPostContent }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayPostContent: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ displayPostContent && (\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tlabel={ __( 'Show:' ) }\n\t\t\t\t\t\tselected={ displayPostContentRadio }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: __( 'Excerpt' ), value: 'excerpt' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Full post' ),\n\t\t\t\t\t\t\t\tvalue: 'full_post',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tdisplayPostContentRadio: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ displayPostContent &&\n\t\t\t\t\tdisplayPostContentRadio === 'excerpt' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words' ) }\n\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ MIN_EXCERPT_LENGTH }\n\t\t\t\t\t\t\tmax={ MAX_EXCERPT_LENGTH }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Post meta' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display author name' ) }\n\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayAuthor: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display post date' ) }\n\t\t\t\t\tchecked={ displayPostDate }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayPostDate: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Featured image' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display featured image' ) }\n\t\t\t\t\tchecked={ displayFeaturedImage }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayFeaturedImage: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ displayFeaturedImage && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ImageSizeControl\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tconst newAttrs = {};\n\t\t\t\t\t\t\t\tif ( value.hasOwnProperty( 'width' ) ) {\n\t\t\t\t\t\t\t\t\tnewAttrs.featuredImageSizeWidth =\n\t\t\t\t\t\t\t\t\t\tvalue.width;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( value.hasOwnProperty( 'height' ) ) {\n\t\t\t\t\t\t\t\t\tnewAttrs.featuredImageSizeHeight =\n\t\t\t\t\t\t\t\t\t\tvalue.height;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetAttributes( newAttrs );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tslug={ featuredImageSizeSlug }\n\t\t\t\t\t\t\twidth={ featuredImageSizeWidth }\n\t\t\t\t\t\t\theight={ featuredImageSizeHeight }\n\t\t\t\t\t\t\timageWidth={ defaultImageWidth }\n\t\t\t\t\t\t\timageHeight={ defaultImageHeight }\n\t\t\t\t\t\t\timageSizeOptions={ imageSizeOptions }\n\t\t\t\t\t\t\timageSizeHelp={ __(\n\t\t\t\t\t\t\t\t'Select the size of the source image.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonChangeImage={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeSlug: value,\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeWidth: undefined,\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeHeight: undefined,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<BaseControl className=\"editor-latest-posts-image-alignment-control\">\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Image alignment' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<BlockAlignmentToolbar\n\t\t\t\t\t\t\t\tvalue={ featuredImageAlign }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tfeaturedImageAlign: value,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcontrols={ [ 'left', 'center', 'right' ] }\n\t\t\t\t\t\t\t\tisCollapsed={ false }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Add link to featured image' ) }\n\t\t\t\t\t\t\tchecked={ addLinkToFeaturedImage }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\taddLinkToFeaturedImage: value,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Sorting and filtering' ) }>\n\t\t\t\t<QueryControls\n\t\t\t\t\t{ ...{ order, orderBy } }\n\t\t\t\t\tnumberOfItems={ postsToShow }\n\t\t\t\t\tonOrderChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { order: value } )\n\t\t\t\t\t}\n\t\t\t\t\tonOrderByChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { orderBy: value } )\n\t\t\t\t\t}\n\t\t\t\t\tonNumberOfItemsChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { postsToShow: value } )\n\t\t\t\t\t}\n\t\t\t\t\tcategorySuggestions={ categorySuggestions }\n\t\t\t\t\tonCategoryChange={ selectCategories }\n\t\t\t\t\tselectedCategories={ categories }\n\t\t\t\t\tonAuthorChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tselectedAuthor:\n\t\t\t\t\t\t\t\t'' !== value ? Number( value ) : undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tauthorList={ authorList ?? [] }\n\t\t\t\t\tselectedAuthorId={ selectedAuthor }\n\t\t\t\t/>\n\n\t\t\t\t{ postLayout === 'grid' && (\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\tmax={\n\t\t\t\t\t\t\t! hasPosts\n\t\t\t\t\t\t\t\t? MAX_POSTS_COLUMNS\n\t\t\t\t\t\t\t\t: Math.min(\n\t\t\t\t\t\t\t\t\t\tMAX_POSTS_COLUMNS,\n\t\t\t\t\t\t\t\t\t\tlatestPosts.length\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t'wp-block-latest-posts__list': true,\n\t\t\t'is-grid': postLayout === 'grid',\n\t\t\t'has-dates': displayPostDate,\n\t\t\t'has-author': displayAuthor,\n\t\t\t[ `columns-${ columns }` ]: postLayout === 'grid',\n\t\t} ),\n\t} );\n\n\tif ( ! hasPosts ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ inspectorControls }\n\t\t\t\t<Placeholder icon={ pin } label={ __( 'Latest Posts' ) }>\n\t\t\t\t\t{ ! Array.isArray( latestPosts ) ? (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t__( 'No posts found.' )\n\t\t\t\t\t) }\n\t\t\t\t</Placeholder>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Removing posts from display should be instant.\n\tconst displayPosts =\n\t\tlatestPosts.length > postsToShow\n\t\t\t? latestPosts.slice( 0, postsToShow )\n\t\t\t: latestPosts;\n\n\tconst layoutControls = [\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: __( 'List view' ),\n\t\t\tonClick: () => setAttributes( { postLayout: 'list' } ),\n\t\t\tisActive: postLayout === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: __( 'Grid view' ),\n\t\t\tonClick: () => setAttributes( { postLayout: 'grid' } ),\n\t\t\tisActive: postLayout === 'grid',\n\t\t},\n\t];\n\n\tconst dateFormat = getSettings().formats.date;\n\n\treturn (\n\t\t<div>\n\t\t\t{ inspectorControls }\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ layoutControls } />\n\t\t\t</BlockControls>\n\t\t\t<ul { ...blockProps }>\n\t\t\t\t{ displayPosts.map( ( post ) => {\n\t\t\t\t\tconst titleTrimmed = post.title.rendered.trim();\n\t\t\t\t\tlet excerpt = post.excerpt.rendered;\n\t\t\t\t\tconst currentAuthor = authorList?.find(\n\t\t\t\t\t\t( author ) => author.id === post.author\n\t\t\t\t\t);\n\n\t\t\t\t\tconst excerptElement = document.createElement( 'div' );\n\t\t\t\t\texcerptElement.innerHTML = excerpt;\n\n\t\t\t\t\texcerpt =\n\t\t\t\t\t\texcerptElement.textContent ||\n\t\t\t\t\t\texcerptElement.innerText ||\n\t\t\t\t\t\t'';\n\n\t\t\t\t\tconst { url: imageSourceUrl, alt: featuredImageAlt } =\n\t\t\t\t\t\tgetFeaturedImageDetails( post, featuredImageSizeSlug );\n\t\t\t\t\tconst imageClasses = classnames( {\n\t\t\t\t\t\t'wp-block-latest-posts__featured-image': true,\n\t\t\t\t\t\t[ `align${ featuredImageAlign }` ]:\n\t\t\t\t\t\t\t!! featuredImageAlign,\n\t\t\t\t\t} );\n\t\t\t\t\tconst renderFeaturedImage =\n\t\t\t\t\t\tdisplayFeaturedImage && imageSourceUrl;\n\t\t\t\t\tconst featuredImage = renderFeaturedImage && (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ imageSourceUrl }\n\t\t\t\t\t\t\talt={ featuredImageAlt }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tmaxWidth: featuredImageSizeWidth,\n\t\t\t\t\t\t\t\tmaxHeight: featuredImageSizeHeight,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tconst needsReadMore =\n\t\t\t\t\t\texcerptLength < excerpt.trim().split( ' ' ).length &&\n\t\t\t\t\t\tpost.excerpt.raw === '';\n\n\t\t\t\t\tconst postExcerpt = needsReadMore ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ excerpt\n\t\t\t\t\t\t\t\t.trim()\n\t\t\t\t\t\t\t\t.split( ' ', excerptLength )\n\t\t\t\t\t\t\t\t.join( ' ' ) }\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: Hidden accessibility text: Post title */\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'… <a>Read more<span>: %1$s</span></a>'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ttitleTrimmed || __( '(no title)' )\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__read-more\"\n\t\t\t\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\tshowRedirectionPreventedNotice\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tspan: (\n\t\t\t\t\t\t\t\t\t\t<span className=\"screen-reader-text\" />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\texcerpt\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={ post.id }>\n\t\t\t\t\t\t\t{ renderFeaturedImage && (\n\t\t\t\t\t\t\t\t<div className={ imageClasses }>\n\t\t\t\t\t\t\t\t\t{ addLinkToFeaturedImage ? (\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-title\"\n\t\t\t\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\tshowRedirectionPreventedNotice\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ featuredImage }\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfeaturedImage\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\n\t\t\t\t\t\t\t\t\t!! titleTrimmed\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t__html: titleTrimmed,\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={ showRedirectionPreventedNotice }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ! titleTrimmed ? __( '(no title)' ) : null }\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{ displayAuthor && currentAuthor && (\n\t\t\t\t\t\t\t\t<div className=\"wp-block-latest-posts__post-author\">\n\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: byline. %s: current author. */\n\t\t\t\t\t\t\t\t\t\t__( 'by %s' ),\n\t\t\t\t\t\t\t\t\t\tcurrentAuthor.name\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostDate && post.date_gmt && (\n\t\t\t\t\t\t\t\t<time\n\t\t\t\t\t\t\t\t\tdateTime={ format( 'c', post.date_gmt ) }\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-date\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ dateI18n( dateFormat, post.date_gmt ) }\n\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostContent &&\n\t\t\t\t\t\t\t\tdisplayPostContentRadio === 'excerpt' && (\n\t\t\t\t\t\t\t\t\t<div className=\"wp-block-latest-posts__post-excerpt\">\n\t\t\t\t\t\t\t\t\t\t{ postExcerpt }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostContent &&\n\t\t\t\t\t\t\t\tdisplayPostContentRadio === 'full_post' && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-full-content\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t\t\t\t\t\t__html: post.content.raw.trim(),\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postList as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","export const MIN_EXCERPT_LENGTH = 10;\r\nexport const MAX_EXCERPT_LENGTH = 100;\r\nexport const MAX_POSTS_COLUMNS = 6;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, rawHandler } from '@wordpress/blocks';\r\n\r\nconst LIST_STYLES = {\r\n\tA: 'upper-alpha',\r\n\ta: 'lower-alpha',\r\n\tI: 'upper-roman',\r\n\ti: 'lower-roman',\r\n};\r\n\r\nexport function createListBlockFromDOMElement( listElement ) {\r\n\tconst type = listElement.getAttribute( 'type' );\r\n\tconst listAttributes = {\r\n\t\tordered: 'OL' === listElement.tagName,\r\n\t\tanchor: listElement.id === '' ? undefined : listElement.id,\r\n\t\tstart: listElement.getAttribute( 'start' )\r\n\t\t\t? parseInt( listElement.getAttribute( 'start' ), 10 )\r\n\t\t\t: undefined,\r\n\t\treversed: listElement.hasAttribute( 'reversed' ) ? true : undefined,\r\n\t\ttype: type && LIST_STYLES[ type ] ? LIST_STYLES[ type ] : undefined,\r\n\t};\r\n\r\n\tconst innerBlocks = Array.from( listElement.children ).map(\r\n\t\t( listItem ) => {\r\n\t\t\tconst children = Array.from( listItem.childNodes ).filter(\r\n\t\t\t\t( node ) =>\r\n\t\t\t\t\tnode.nodeType !== node.TEXT_NODE ||\r\n\t\t\t\t\tnode.textContent.trim().length !== 0\r\n\t\t\t);\r\n\t\t\tchildren.reverse();\r\n\t\t\tconst [ nestedList, ...nodes ] = children;\r\n\r\n\t\t\tconst hasNestedList =\r\n\t\t\t\tnestedList?.tagName === 'UL' || nestedList?.tagName === 'OL';\r\n\t\t\tif ( ! hasNestedList ) {\r\n\t\t\t\treturn createBlock( 'core/list-item', {\r\n\t\t\t\t\tcontent: listItem.innerHTML,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tconst htmlNodes = nodes.map( ( node ) => {\r\n\t\t\t\tif ( node.nodeType === node.TEXT_NODE ) {\r\n\t\t\t\t\treturn node.textContent;\r\n\t\t\t\t}\r\n\t\t\t\treturn node.outerHTML;\r\n\t\t\t} );\r\n\t\t\thtmlNodes.reverse();\r\n\t\t\tconst childAttributes = {\r\n\t\t\t\tcontent: htmlNodes.join( '' ).trim(),\r\n\t\t\t};\r\n\t\t\tconst childInnerBlocks = [\r\n\t\t\t\tcreateListBlockFromDOMElement( nestedList ),\r\n\t\t\t];\r\n\t\t\treturn createBlock(\r\n\t\t\t\t'core/list-item',\r\n\t\t\t\tchildAttributes,\r\n\t\t\t\tchildInnerBlocks\r\n\t\t\t);\r\n\t\t}\r\n\t);\r\n\r\n\treturn createBlock( 'core/list', listAttributes, innerBlocks );\r\n}\r\n\r\nexport function migrateToListV2( attributes ) {\r\n\tconst { values, start, reversed, ordered, type, ...otherAttributes } =\r\n\t\tattributes;\r\n\r\n\tconst list = document.createElement( ordered ? 'ol' : 'ul' );\r\n\tlist.innerHTML = values;\r\n\tif ( start ) {\r\n\t\tlist.setAttribute( 'start', start );\r\n\t}\r\n\tif ( reversed ) {\r\n\t\tlist.setAttribute( 'reversed', true );\r\n\t}\r\n\tif ( type ) {\r\n\t\tlist.setAttribute( 'type', type );\r\n\t}\r\n\r\n\tconst [ listBlock ] = rawHandler( { HTML: list.outerHTML } );\r\n\r\n\treturn [\r\n\t\t{ ...otherAttributes, ...listBlock.attributes },\r\n\t\tlistBlock.innerBlocks,\r\n\t];\r\n}\r\n\r\nexport function migrateTypeToInlineStyle( attributes ) {\r\n\tconst { type } = attributes;\r\n\r\n\tif ( type && LIST_STYLES[ type ] ) {\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\ttype: LIST_STYLES[ type ],\r\n\t\t};\r\n\t}\r\n\r\n\treturn attributes;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\nimport { migrateToListV2, migrateTypeToInlineStyle } from './utils';\r\n\r\nconst v0 = {\r\n\tattributes: {\r\n\t\tordered: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tvalues: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'ol,ul',\r\n\t\t\tmultiline: 'li',\r\n\t\t\t__unstableMultilineWrapperTags: [ 'ol', 'ul' ],\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tstart: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\treversed: {\r\n\t\t\ttype: 'boolean',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tclassName: false,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\t__unstablePasteTextInline: true,\r\n\t\t__experimentalSelector: 'ol,ul',\r\n\t\t__experimentalSlashInserter: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { ordered, values, type, reversed, start } = attributes;\r\n\t\tconst TagName = ordered ? 'ol' : 'ul';\r\n\r\n\t\treturn (\r\n\t\t\t<TagName { ...useBlockProps.save( { type, reversed, start } ) }>\r\n\t\t\t\t<RichText.Content value={ values } multiline=\"li\" />\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tordered: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tvalues: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'ol,ul',\r\n\t\t\tmultiline: 'li',\r\n\t\t\t__unstableMultilineWrapperTags: [ 'ol', 'ul' ],\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tstart: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\treversed: {\r\n\t\t\ttype: 'boolean',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tclassName: false,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__unstablePasteTextInline: true,\r\n\t\t__experimentalSelector: 'ol,ul',\r\n\t\t__experimentalSlashInserter: true,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { ordered, values, type, reversed, start } = attributes;\r\n\t\tconst TagName = ordered ? 'ol' : 'ul';\r\n\r\n\t\treturn (\r\n\t\t\t<TagName { ...useBlockProps.save( { type, reversed, start } ) }>\r\n\t\t\t\t<RichText.Content value={ values } multiline=\"li\" />\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateToListV2,\r\n};\r\n\r\n// In #53301 changed to use the inline style instead of type attribute.\r\nconst v2 = {\r\n\tattributes: {\r\n\t\tordered: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tvalues: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'ol,ul',\r\n\t\t\tmultiline: 'li',\r\n\t\t\t__unstableMultilineWrapperTags: [ 'ol', 'ul' ],\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tstart: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\treversed: {\r\n\t\t\ttype: 'boolean',\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tclassName: false,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t\tpadding: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tmargin: false,\r\n\t\t\t\tpadding: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\t__unstablePasteTextInline: true,\r\n\t\t__experimentalSelector: 'ol,ul',\r\n\t\t__experimentalSlashInserter: true,\r\n\t},\r\n\tisEligible( { type } ) {\r\n\t\treturn !! type;\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { ordered, type, reversed, start } = attributes;\r\n\t\tconst TagName = ordered ? 'ol' : 'ul';\r\n\t\treturn (\r\n\t\t\t<TagName { ...useBlockProps.save( { type, reversed, start } ) }>\r\n\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t</TagName>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateTypeToInlineStyle,\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v2, v1, v0 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatOutdentRTL = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20 5.5H4V4H20V5.5ZM12 12.5H4V11H12V12.5ZM20 20V18.5H4V20H20ZM15.4697 14.9697L18.4393 12L15.4697 9.03033L16.5303 7.96967L20.0303 11.4697L20.5607 12L20.0303 12.5303L16.5303 16.0303L15.4697 14.9697Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatOutdentRTL;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatOutdent = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 7.2v1.5h16V7.2H4zm8 8.6h8v-1.5h-8v1.5zm-4-4.6l-4 4 4 4 1-1-3-3 3-3-1-1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatOutdent;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatListBulletsRTL = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatListBulletsRTL;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatListBullets = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatListBullets;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatListNumberedRTL = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M3.8 15.8h8.9v-1.5H3.8v1.5zm0-7h8.9V7.2H3.8v1.6zm14.7-2.1V10h1V5.3l-2.2.7.3 1 .9-.3zm1.2 6.1c-.5-.6-1.2-.5-1.7-.4-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5H20v-1h-.9c.3-.6.8-1.4.9-2.1 0-.3 0-.8-.3-1.1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatListNumberedRTL;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatListNumbered = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM5 6.7V10h1V5.3L3.8 6l.4 1 .8-.3zm-.4 5.7c-.3.1-.5.2-.7.3l.1 1.1c.2-.2.5-.4.8-.5.3-.1.6 0 .7.1.2.3 0 .8-.2 1.1-.5.8-.9 1.6-1.4 2.5h2.7v-1h-1c.3-.6.8-1.4.9-2.1.1-.3 0-.8-.2-1.1-.5-.6-1.3-.5-1.7-.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatListNumbered;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tTextControl,\n\tPanelBody,\n\tToggleControl,\n\tSelectControl,\n} from '@wordpress/components';\n\nconst OrderedListSettings = ( { setAttributes, reversed, start, type } ) => (\n\t<InspectorControls>\n\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t<TextControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Start value' ) }\n\t\t\t\ttype=\"number\"\n\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\tconst int = parseInt( value, 10 );\n\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t// It should be possible to unset the value,\n\t\t\t\t\t\t// e.g. with an empty string.\n\t\t\t\t\t\tstart: isNaN( int ) ? undefined : int,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tvalue={ Number.isInteger( start ) ? start.toString( 10 ) : '' }\n\t\t\t\tstep=\"1\"\n\t\t\t/>\n\t\t\t<SelectControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Numbering style' ) }\n\t\t\t\toptions={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Numbers' ),\n\t\t\t\t\t\tvalue: 'decimal',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Uppercase letters' ),\n\t\t\t\t\t\tvalue: 'upper-alpha',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Lowercase letters' ),\n\t\t\t\t\t\tvalue: 'lower-alpha',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Uppercase Roman numerals' ),\n\t\t\t\t\t\tvalue: 'upper-roman',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Lowercase Roman numerals' ),\n\t\t\t\t\t\tvalue: 'lower-roman',\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t\tvalue={ type }\n\t\t\t\tonChange={ ( newValue ) => setAttributes( { type: newValue } ) }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Reverse list numbering' ) }\n\t\t\t\tchecked={ reversed || false }\n\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t// Unset the attribute if not reversed.\n\t\t\t\t\t\treversed: value || undefined,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PanelBody>\n\t</InspectorControls>\n);\n\nexport default OrderedListSettings;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { forwardRef } from '@wordpress/element';\r\n\r\nfunction TagName( props, ref ) {\r\n\tconst { ordered, ...extraProps } = props;\r\n\tconst Tag = ordered ? 'ol' : 'ul';\r\n\r\n\treturn <Tag ref={ ref } { ...extraProps } />;\r\n}\r\n\r\nexport default forwardRef( TagName );\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ToolbarButton } from '@wordpress/components';\nimport { useDispatch, useSelect, useRegistry } from '@wordpress/data';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport {\n\tformatListBullets,\n\tformatListBulletsRTL,\n\tformatListNumbered,\n\tformatListNumberedRTL,\n\tformatOutdent,\n\tformatOutdentRTL,\n} from '@wordpress/icons';\nimport { createBlock } from '@wordpress/blocks';\nimport { useCallback, useEffect, Platform } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport OrderedListSettings from './ordered-list-settings';\nimport { migrateToListV2 } from './utils';\nimport TagName from './tag-name';\n\nconst DEFAULT_BLOCK = {\n\tname: 'core/list-item',\n};\nconst TEMPLATE = [ [ 'core/list-item' ] ];\nconst NATIVE_MARGIN_SPACING = 8;\n\n/**\n * At the moment, deprecations don't handle create blocks from attributes\n * (like when using CPT templates). For this reason, this hook is necessary\n * to avoid breaking templates using the old list block format.\n *\n * @param {Object} attributes Block attributes.\n * @param {string} clientId   Block client ID.\n */\nfunction useMigrateOnLoad( attributes, clientId ) {\n\tconst registry = useRegistry();\n\tconst { updateBlockAttributes, replaceInnerBlocks } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\t// As soon as the block is loaded, migrate it to the new version.\n\n\t\tif ( ! attributes.values ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [ newAttributes, newInnerBlocks ] = migrateToListV2( attributes );\n\n\t\tdeprecated( 'Value attribute on the list block', {\n\t\t\tsince: '6.0',\n\t\t\tversion: '6.5',\n\t\t\talternative: 'inner blocks',\n\t\t} );\n\n\t\tregistry.batch( () => {\n\t\t\tupdateBlockAttributes( clientId, newAttributes );\n\t\t\treplaceInnerBlocks( clientId, newInnerBlocks );\n\t\t} );\n\t}, [ attributes.values ] );\n}\n\nfunction useOutdentList( clientId ) {\n\tconst { replaceBlocks, selectionChange } = useDispatch( blockEditorStore );\n\tconst { getBlockRootClientId, getBlockAttributes, getBlock } =\n\t\tuseSelect( blockEditorStore );\n\n\treturn useCallback( () => {\n\t\tconst parentBlockId = getBlockRootClientId( clientId );\n\t\tconst parentBlockAttributes = getBlockAttributes( parentBlockId );\n\t\t// Create a new parent block without the inner blocks.\n\t\tconst newParentBlock = createBlock(\n\t\t\t'core/list-item',\n\t\t\tparentBlockAttributes\n\t\t);\n\t\tconst { innerBlocks } = getBlock( clientId );\n\t\t// Replace the parent block with a new parent block without inner blocks,\n\t\t// and make the inner blocks siblings of the parent.\n\t\treplaceBlocks( [ parentBlockId ], [ newParentBlock, ...innerBlocks ] );\n\t\t// Select the last child of the list being outdent.\n\t\tselectionChange( innerBlocks[ innerBlocks.length - 1 ].clientId );\n\t}, [ clientId ] );\n}\n\nfunction IndentUI( { clientId } ) {\n\tconst outdentList = useOutdentList( clientId );\n\tconst canOutdent = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn (\n\t\t\t\tgetBlockName( getBlockRootClientId( clientId ) ) ===\n\t\t\t\t'core/list-item'\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ isRTL() ? formatOutdentRTL : formatOutdent }\n\t\t\t\ttitle={ __( 'Outdent' ) }\n\t\t\t\tdescribedBy={ __( 'Outdent list item' ) }\n\t\t\t\tdisabled={ ! canOutdent }\n\t\t\t\tonClick={ outdentList }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default function Edit( { attributes, setAttributes, clientId, style } ) {\n\tconst { ordered, type, reversed, start } = attributes;\n\tconst blockProps = useBlockProps( {\n\t\tstyle: {\n\t\t\t...( Platform.isNative && style ),\n\t\t\tlistStyleType: ordered && type !== 'decimal' ? type : undefined,\n\t\t},\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\tdirectInsert: true,\n\t\ttemplate: TEMPLATE,\n\t\ttemplateLock: false,\n\t\ttemplateInsertUpdatesSelection: true,\n\t\t...( Platform.isNative && {\n\t\t\tmarginVertical: NATIVE_MARGIN_SPACING,\n\t\t\tmarginHorizontal: NATIVE_MARGIN_SPACING,\n\t\t\trenderAppender: false,\n\t\t} ),\n\t\t__experimentalCaptureToolbars: true,\n\t} );\n\tuseMigrateOnLoad( attributes, clientId );\n\n\tconst controls = (\n\t\t<BlockControls group=\"block\">\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ isRTL() ? formatListBulletsRTL : formatListBullets }\n\t\t\t\ttitle={ __( 'Unordered' ) }\n\t\t\t\tdescribedBy={ __( 'Convert to unordered list' ) }\n\t\t\t\tisActive={ ordered === false }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetAttributes( { ordered: false } );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ isRTL() ? formatListNumberedRTL : formatListNumbered }\n\t\t\t\ttitle={ __( 'Ordered' ) }\n\t\t\t\tdescribedBy={ __( 'Convert to ordered list' ) }\n\t\t\t\tisActive={ ordered === true }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetAttributes( { ordered: true } );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<IndentUI clientId={ clientId } />\n\t\t</BlockControls>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<TagName\n\t\t\t\tordered={ ordered }\n\t\t\t\treversed={ reversed }\n\t\t\t\tstart={ start }\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t/>\n\t\t\t{ controls }\n\t\t\t{ ordered && (\n\t\t\t\t<OrderedListSettings\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\treversed,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { create, split, toHTMLString } from '@wordpress/rich-text';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { createListBlockFromDOMElement } from './utils';\r\n\r\nfunction getListContentSchema( { phrasingContentSchema } ) {\r\n\tconst listContentSchema = {\r\n\t\t...phrasingContentSchema,\r\n\t\tul: {},\r\n\t\tol: { attributes: [ 'type', 'start', 'reversed' ] },\r\n\t};\r\n\r\n\t// Recursion is needed.\r\n\t// Possible: ul > li > ul.\r\n\t// Impossible: ul > ul.\r\n\t[ 'ul', 'ol' ].forEach( ( tag ) => {\r\n\t\tlistContentSchema[ tag ].children = {\r\n\t\t\tli: {\r\n\t\t\t\tchildren: listContentSchema,\r\n\t\t\t},\r\n\t\t};\r\n\t} );\r\n\r\n\treturn listContentSchema;\r\n}\r\n\r\nfunction getListContentFlat( blocks ) {\r\n\treturn blocks.flatMap( ( { name, attributes, innerBlocks = [] } ) => {\r\n\t\tif ( name === 'core/list-item' ) {\r\n\t\t\treturn [ attributes.content, ...getListContentFlat( innerBlocks ) ];\r\n\t\t}\r\n\t\treturn getListContentFlat( innerBlocks );\r\n\t} );\r\n}\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/paragraph', 'core/heading' ],\r\n\t\t\ttransform: ( blockAttributes ) => {\r\n\t\t\t\tlet childBlocks = [];\r\n\t\t\t\tif ( blockAttributes.length > 1 ) {\r\n\t\t\t\t\tchildBlocks = blockAttributes.map( ( { content } ) => {\r\n\t\t\t\t\t\treturn createBlock( 'core/list-item', { content } );\r\n\t\t\t\t\t} );\r\n\t\t\t\t} else if ( blockAttributes.length === 1 ) {\r\n\t\t\t\t\tconst value = create( {\r\n\t\t\t\t\t\thtml: blockAttributes[ 0 ].content,\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tchildBlocks = split( value, '\\n' ).map( ( result ) => {\r\n\t\t\t\t\t\treturn createBlock( 'core/list-item', {\r\n\t\t\t\t\t\t\tcontent: toHTMLString( { value: result } ),\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/list',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tanchor: blockAttributes.anchor,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tchildBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tselector: 'ol,ul',\r\n\t\t\tschema: ( args ) => ( {\r\n\t\t\t\tol: getListContentSchema( args ).ol,\r\n\t\t\t\tul: getListContentSchema( args ).ul,\r\n\t\t\t} ),\r\n\t\t\ttransform: createListBlockFromDOMElement,\r\n\t\t},\r\n\t\t...[ '*', '-' ].map( ( prefix ) => ( {\r\n\t\t\ttype: 'prefix',\r\n\t\t\tprefix,\r\n\t\t\ttransform( content ) {\r\n\t\t\t\treturn createBlock( 'core/list', {}, [\r\n\t\t\t\t\tcreateBlock( 'core/list-item', { content } ),\r\n\t\t\t\t] );\r\n\t\t\t},\r\n\t\t} ) ),\r\n\t\t...[ '1.', '1)' ].map( ( prefix ) => ( {\r\n\t\t\ttype: 'prefix',\r\n\t\t\tprefix,\r\n\t\t\ttransform( content ) {\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/list',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tordered: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[ createBlock( 'core/list-item', { content } ) ]\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t} ) ),\r\n\t],\r\n\tto: [\r\n\t\t...[ 'core/paragraph', 'core/heading' ].map( ( block ) => ( {\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ block ],\r\n\t\t\ttransform: ( _attributes, childBlocks ) => {\r\n\t\t\t\treturn getListContentFlat( childBlocks ).map( ( content ) =>\r\n\t\t\t\t\tcreateBlock( block, {\r\n\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t} ) ),\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { list as icon } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nconst settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/list-item',\r\n\t\t\t\tattributes: { content: __( 'Alice.' ) },\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/list-item',\r\n\t\t\t\tattributes: { content: __( 'The White Rabbit.' ) },\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/list-item',\r\n\t\t\t\tattributes: { content: __( 'The Cheshire Cat.' ) },\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/list-item',\r\n\t\t\t\tattributes: { content: __( 'The Mad Hatter.' ) },\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/list-item',\r\n\t\t\t\tattributes: { content: __( 'The Queen of Hearts.' ) },\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport { settings };\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { ordered, type, reversed, start } = attributes;\r\n\tconst TagName = ordered ? 'ol' : 'ul';\r\n\treturn (\r\n\t\t<TagName\r\n\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\treversed,\r\n\t\t\t\tstart,\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tlistStyleType:\r\n\t\t\t\t\t\tordered && type !== 'decimal' ? type : undefined,\r\n\t\t\t\t},\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t<InnerBlocks.Content />\r\n\t\t</TagName>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst listItem = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12 11v1.5h8V11h-8zm-6-1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default listItem;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatIndentRTL = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M20 5.5H4V4H20V5.5ZM12 12.5H4V11H12V12.5ZM20 20V18.5H4V20H20ZM20.0303 9.03033L17.0607 12L20.0303 14.9697L18.9697 16.0303L15.4697 12.5303L14.9393 12L15.4697 11.4697L18.9697 7.96967L20.0303 9.03033Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatIndentRTL;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatIndent = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 7.2v1.5h16V7.2H4zm8 8.6h8v-1.5h-8v1.5zm-8-3.5l3 3-3 3 1 1 4-4-4-4-1 1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatIndent;\r\n","/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { createBlock, cloneBlock } from '@wordpress/blocks';\n\nexport default function useIndentListItem( clientId ) {\n\tconst { replaceBlocks, selectionChange, multiSelect } =\n\t\tuseDispatch( blockEditorStore );\n\tconst {\n\t\tgetBlock,\n\t\tgetPreviousBlockClientId,\n\t\tgetSelectionStart,\n\t\tgetSelectionEnd,\n\t\thasMultiSelection,\n\t\tgetMultiSelectedBlockClientIds,\n\t} = useSelect( blockEditorStore );\n\treturn useCallback( () => {\n\t\tconst _hasMultiSelection = hasMultiSelection();\n\t\tconst clientIds = _hasMultiSelection\n\t\t\t? getMultiSelectedBlockClientIds()\n\t\t\t: [ clientId ];\n\t\tconst clonedBlocks = clientIds.map( ( _clientId ) =>\n\t\t\tcloneBlock( getBlock( _clientId ) )\n\t\t);\n\t\tconst previousSiblingId = getPreviousBlockClientId( clientId );\n\t\tconst newListItem = cloneBlock( getBlock( previousSiblingId ) );\n\t\t// If the sibling has no innerBlocks, create a new `list` block.\n\t\tif ( ! newListItem.innerBlocks?.length ) {\n\t\t\tnewListItem.innerBlocks = [ createBlock( 'core/list' ) ];\n\t\t}\n\t\t// A list item usually has one `list`, but it's possible to have\n\t\t// more. So we need to preserve the previous `list` blocks and\n\t\t// merge the new blocks to the last `list`.\n\t\tnewListItem.innerBlocks[\n\t\t\tnewListItem.innerBlocks.length - 1\n\t\t].innerBlocks.push( ...clonedBlocks );\n\n\t\t// We get the selection start/end here, because when\n\t\t// we replace blocks, the selection is updated too.\n\t\tconst selectionStart = getSelectionStart();\n\t\tconst selectionEnd = getSelectionEnd();\n\t\t// Replace the previous sibling of the block being indented and the indented blocks,\n\t\t// with a new block whose attributes are equal to the ones of the previous sibling and\n\t\t// whose descendants are the children of the previous sibling, followed by the indented blocks.\n\t\treplaceBlocks( [ previousSiblingId, ...clientIds ], [ newListItem ] );\n\t\tif ( ! _hasMultiSelection ) {\n\t\t\tselectionChange(\n\t\t\t\tclonedBlocks[ 0 ].clientId,\n\t\t\t\tselectionEnd.attributeKey,\n\t\t\t\tselectionEnd.clientId === selectionStart.clientId\n\t\t\t\t\t? selectionStart.offset\n\t\t\t\t\t: selectionEnd.offset,\n\t\t\t\tselectionEnd.offset\n\t\t\t);\n\t\t} else {\n\t\t\tmultiSelect(\n\t\t\t\tclonedBlocks[ 0 ].clientId,\n\t\t\t\tclonedBlocks[ clonedBlocks.length - 1 ].clientId\n\t\t\t);\n\t\t}\n\n\t\treturn true;\n\t}, [ clientId ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { cloneBlock } from '@wordpress/blocks';\n\nexport default function useOutdentListItem() {\n\tconst registry = useRegistry();\n\tconst {\n\t\tmoveBlocksToPosition,\n\t\tremoveBlock,\n\t\tinsertBlock,\n\t\tupdateBlockListSettings,\n\t} = useDispatch( blockEditorStore );\n\tconst {\n\t\tgetBlockRootClientId,\n\t\tgetBlockName,\n\t\tgetBlockOrder,\n\t\tgetBlockIndex,\n\t\tgetSelectedBlockClientIds,\n\t\tgetBlock,\n\t\tgetBlockListSettings,\n\t} = useSelect( blockEditorStore );\n\n\tfunction getParentListItemId( id ) {\n\t\tconst listId = getBlockRootClientId( id );\n\t\tconst parentListItemId = getBlockRootClientId( listId );\n\t\tif ( ! parentListItemId ) return;\n\t\tif ( getBlockName( parentListItemId ) !== 'core/list-item' ) return;\n\t\treturn parentListItemId;\n\t}\n\n\treturn useCallback( ( clientIds = getSelectedBlockClientIds() ) => {\n\t\tif ( ! Array.isArray( clientIds ) ) {\n\t\t\tclientIds = [ clientIds ];\n\t\t}\n\n\t\tif ( ! clientIds.length ) return;\n\n\t\tconst firstClientId = clientIds[ 0 ];\n\n\t\t// Can't outdent if it's not a list item.\n\t\tif ( getBlockName( firstClientId ) !== 'core/list-item' ) return;\n\n\t\tconst parentListItemId = getParentListItemId( firstClientId );\n\n\t\t// Can't outdent if it's at the top level.\n\t\tif ( ! parentListItemId ) return;\n\n\t\tconst parentListId = getBlockRootClientId( firstClientId );\n\t\tconst lastClientId = clientIds[ clientIds.length - 1 ];\n\t\tconst order = getBlockOrder( parentListId );\n\t\tconst followingListItems = order.slice(\n\t\t\tgetBlockIndex( lastClientId ) + 1\n\t\t);\n\n\t\tregistry.batch( () => {\n\t\t\tif ( followingListItems.length ) {\n\t\t\t\tlet nestedListId = getBlockOrder( firstClientId )[ 0 ];\n\n\t\t\t\tif ( ! nestedListId ) {\n\t\t\t\t\tconst nestedListBlock = cloneBlock(\n\t\t\t\t\t\tgetBlock( parentListId ),\n\t\t\t\t\t\t{},\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t\t\tnestedListId = nestedListBlock.clientId;\n\t\t\t\t\tinsertBlock( nestedListBlock, 0, firstClientId, false );\n\t\t\t\t\t// Immediately update the block list settings, otherwise\n\t\t\t\t\t// blocks can't be moved here due to canInsert checks.\n\t\t\t\t\tupdateBlockListSettings(\n\t\t\t\t\t\tnestedListId,\n\t\t\t\t\t\tgetBlockListSettings( parentListId )\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tmoveBlocksToPosition(\n\t\t\t\t\tfollowingListItems,\n\t\t\t\t\tparentListId,\n\t\t\t\t\tnestedListId\n\t\t\t\t);\n\t\t\t}\n\t\t\tmoveBlocksToPosition(\n\t\t\t\tclientIds,\n\t\t\t\tparentListId,\n\t\t\t\tgetBlockRootClientId( parentListItemId ),\n\t\t\t\tgetBlockIndex( parentListItemId ) + 1\n\t\t\t);\n\t\t\tif ( ! getBlockOrder( parentListId ).length ) {\n\t\t\t\tconst shouldSelectParent = false;\n\t\t\t\tremoveBlock( parentListId, shouldSelectParent );\n\t\t\t}\n\t\t} );\n\n\t\treturn true;\n\t}, [] );\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useRegistry, useDispatch, useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useOutdentListItem from './use-outdent-list-item';\r\n\r\nexport default function useMerge( clientId, onMerge ) {\r\n\tconst registry = useRegistry();\r\n\tconst {\r\n\t\tgetPreviousBlockClientId,\r\n\t\tgetNextBlockClientId,\r\n\t\tgetBlockOrder,\r\n\t\tgetBlockRootClientId,\r\n\t\tgetBlockName,\r\n\t} = useSelect( blockEditorStore );\r\n\tconst { mergeBlocks, moveBlocksToPosition } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\tconst outdentListItem = useOutdentListItem();\r\n\r\n\tfunction getTrailingId( id ) {\r\n\t\tconst order = getBlockOrder( id );\r\n\r\n\t\tif ( ! order.length ) {\r\n\t\t\treturn id;\r\n\t\t}\r\n\r\n\t\treturn getTrailingId( order[ order.length - 1 ] );\r\n\t}\r\n\r\n\tfunction getParentListItemId( id ) {\r\n\t\tconst listId = getBlockRootClientId( id );\r\n\t\tconst parentListItemId = getBlockRootClientId( listId );\r\n\t\tif ( ! parentListItemId ) return;\r\n\t\tif ( getBlockName( parentListItemId ) !== 'core/list-item' ) return;\r\n\t\treturn parentListItemId;\r\n\t}\r\n\r\n\t/**\r\n\t * Return the next list item with respect to the given list item. If none,\r\n\t * return the next list item of the parent list item if it exists.\r\n\t *\r\n\t * @param {string} id A list item client ID.\r\n\t * @return {string?} The client ID of the next list item.\r\n\t */\r\n\tfunction _getNextId( id ) {\r\n\t\tconst next = getNextBlockClientId( id );\r\n\t\tif ( next ) return next;\r\n\t\tconst parentListItemId = getParentListItemId( id );\r\n\t\tif ( ! parentListItemId ) return;\r\n\t\treturn _getNextId( parentListItemId );\r\n\t}\r\n\r\n\t/**\r\n\t * Given a client ID, return the client ID of the list item on the next\r\n\t * line, regardless of indentation level.\r\n\t *\r\n\t * @param {string} id The client ID of the current list item.\r\n\t * @return {string?} The client ID of the next list item.\r\n\t */\r\n\tfunction getNextId( id ) {\r\n\t\tconst order = getBlockOrder( id );\r\n\r\n\t\t// If the list item does not have a nested list, return the next list\r\n\t\t// item.\r\n\t\tif ( ! order.length ) {\r\n\t\t\treturn _getNextId( id );\r\n\t\t}\r\n\r\n\t\t// Get the first list item in the nested list.\r\n\t\treturn getBlockOrder( order[ 0 ] )[ 0 ];\r\n\t}\r\n\r\n\treturn ( forward ) => {\r\n\t\tfunction mergeWithNested( clientIdA, clientIdB ) {\r\n\t\t\tregistry.batch( () => {\r\n\t\t\t\t// When merging a sub list item with a higher next list item, we\r\n\t\t\t\t// also need to move any nested list items. Check if there's a\r\n\t\t\t\t// listed list, and append its nested list items to the current\r\n\t\t\t\t// list.\r\n\t\t\t\tconst [ nestedListClientId ] = getBlockOrder( clientIdB );\r\n\t\t\t\tif ( nestedListClientId ) {\r\n\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\tgetBlockOrder( nestedListClientId ),\r\n\t\t\t\t\t\tnestedListClientId,\r\n\t\t\t\t\t\tgetBlockRootClientId( clientIdA )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tmergeBlocks( clientIdA, clientIdB );\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tif ( forward ) {\r\n\t\t\tconst nextBlockClientId = getNextId( clientId );\r\n\r\n\t\t\tif ( ! nextBlockClientId ) {\r\n\t\t\t\tonMerge( forward );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( getParentListItemId( nextBlockClientId ) ) {\r\n\t\t\t\toutdentListItem( nextBlockClientId );\r\n\t\t\t} else {\r\n\t\t\t\tmergeWithNested( clientId, nextBlockClientId );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// Merging is only done from the top level. For lowel levels, the\r\n\t\t\t// list item is outdented instead.\r\n\t\t\tconst previousBlockClientId = getPreviousBlockClientId( clientId );\r\n\t\t\tif ( getParentListItemId( clientId ) ) {\r\n\t\t\t\toutdentListItem( clientId );\r\n\t\t\t} else if ( previousBlockClientId ) {\r\n\t\t\t\tconst trailingId = getTrailingId( previousBlockClientId );\r\n\t\t\t\tmergeWithNested( trailingId, clientId );\r\n\t\t\t} else {\r\n\t\t\t\tonMerge( forward );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { switchToBlockType } from '@wordpress/blocks';\r\n\r\nfunction convertBlockToList( block ) {\r\n\tconst list = switchToBlockType( block, 'core/list' );\r\n\tif ( list ) {\r\n\t\treturn list;\r\n\t}\r\n\tconst paragraph = switchToBlockType( block, 'core/paragraph' );\r\n\tif ( ! paragraph ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn switchToBlockType( paragraph, 'core/list' );\r\n}\r\n\r\nexport function convertToListItems( blocks ) {\r\n\tconst listItems = [];\r\n\r\n\tfor ( let block of blocks ) {\r\n\t\tif ( block.name === 'core/list-item' ) {\r\n\t\t\tlistItems.push( block );\r\n\t\t} else if ( block.name === 'core/list' ) {\r\n\t\t\tlistItems.push( ...block.innerBlocks );\r\n\t\t} else if ( ( block = convertBlockToList( block ) ) ) {\r\n\t\t\tfor ( const { innerBlocks } of block ) {\r\n\t\t\t\tlistItems.push( ...innerBlocks );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn listItems;\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tBlockControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { ToolbarButton } from '@wordpress/components';\nimport {\n\tformatOutdent,\n\tformatOutdentRTL,\n\tformatIndentRTL,\n\tformatIndent,\n} from '@wordpress/icons';\nimport { useMergeRefs } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseEnter,\n\tuseSpace,\n\tuseIndentListItem,\n\tuseOutdentListItem,\n\tuseSplit,\n\tuseMerge,\n} from './hooks';\nimport { convertToListItems } from './utils';\n\nexport function IndentUI( { clientId } ) {\n\tconst indentListItem = useIndentListItem( clientId );\n\tconst outdentListItem = useOutdentListItem();\n\tconst { canIndent, canOutdent } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockIndex, getBlockRootClientId, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tcanIndent: getBlockIndex( clientId ) > 0,\n\t\t\t\tcanOutdent:\n\t\t\t\t\tgetBlockName(\n\t\t\t\t\t\tgetBlockRootClientId( getBlockRootClientId( clientId ) )\n\t\t\t\t\t) === 'core/list-item',\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ isRTL() ? formatOutdentRTL : formatOutdent }\n\t\t\t\ttitle={ __( 'Outdent' ) }\n\t\t\t\tdescribedBy={ __( 'Outdent list item' ) }\n\t\t\t\tdisabled={ ! canOutdent }\n\t\t\t\tonClick={ () => outdentListItem() }\n\t\t\t/>\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ isRTL() ? formatIndentRTL : formatIndent }\n\t\t\t\ttitle={ __( 'Indent' ) }\n\t\t\t\tdescribedBy={ __( 'Indent list item' ) }\n\t\t\t\tisDisabled={ ! canIndent }\n\t\t\t\tonClick={ () => indentListItem() }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default function ListItemEdit( {\n\tattributes,\n\tsetAttributes,\n\tonReplace,\n\tclientId,\n\tmergeBlocks,\n} ) {\n\tconst { placeholder, content } = attributes;\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\trenderAppender: false,\n\t\t__unstableDisableDropZone: true,\n\t} );\n\tconst useEnterRef = useEnter( { content, clientId } );\n\tconst useSpaceRef = useSpace( clientId );\n\tconst onSplit = useSplit( clientId );\n\tconst onMerge = useMerge( clientId, mergeBlocks );\n\treturn (\n\t\t<>\n\t\t\t<li { ...innerBlocksProps }>\n\t\t\t\t<RichText\n\t\t\t\t\tref={ useMergeRefs( [ useEnterRef, useSpaceRef ] ) }\n\t\t\t\t\tidentifier=\"content\"\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tonChange={ ( nextContent ) =>\n\t\t\t\t\t\tsetAttributes( { content: nextContent } )\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\taria-label={ __( 'List text' ) }\n\t\t\t\t\tplaceholder={ placeholder || __( 'List' ) }\n\t\t\t\t\tonSplit={ onSplit }\n\t\t\t\t\tonMerge={ onMerge }\n\t\t\t\t\tonReplace={\n\t\t\t\t\t\tonReplace\n\t\t\t\t\t\t\t? ( blocks, ...args ) => {\n\t\t\t\t\t\t\t\t\tonReplace(\n\t\t\t\t\t\t\t\t\t\tconvertToListItems( blocks ),\n\t\t\t\t\t\t\t\t\t\t...args\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t</li>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<IndentUI clientId={ clientId } />\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, cloneBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes, innerBlocks = [] ) => [\r\n\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\r\n\t\t\t\t...innerBlocks.map( ( block ) => cloneBlock( block ) ),\r\n\t\t\t],\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\n * WordPress dependencies\n */\nimport { listItem as icon } from '@wordpress/icons';\nimport { privateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\nimport { unlock } from '../lock-unlock';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\ticon,\n\tedit,\n\tsave,\n\tmerge( attributes, attributesToMerge ) {\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tcontent: attributes.content + attributesToMerge.content,\n\t\t};\n\t},\n\ttransforms,\n\t[ unlock( privateApis ).requiresWrapperOnCopy ]: true,\n};\n\nexport const init = () => initBlock( { name, metadata, settings } );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tcreateBlock,\r\n\tgetDefaultBlockName,\r\n\tcloneBlock,\r\n} from '@wordpress/blocks';\r\nimport { useRef } from '@wordpress/element';\r\nimport { useRefEffect } from '@wordpress/compose';\r\nimport { ENTER } from '@wordpress/keycodes';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useOutdentListItem from './use-outdent-list-item';\r\n\r\nexport default function useEnter( props ) {\r\n\tconst { replaceBlocks, selectionChange } = useDispatch( blockEditorStore );\r\n\tconst { getBlock, getBlockRootClientId, getBlockIndex, getBlockName } =\r\n\t\tuseSelect( blockEditorStore );\r\n\tconst propsRef = useRef( props );\r\n\tpropsRef.current = props;\r\n\tconst outdentListItem = useOutdentListItem();\r\n\treturn useRefEffect( ( element ) => {\r\n\t\tfunction onKeyDown( event ) {\r\n\t\t\tif ( event.defaultPrevented || event.keyCode !== ENTER ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { content, clientId } = propsRef.current;\r\n\t\t\tif ( content.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tevent.preventDefault();\r\n\t\t\tconst canOutdent =\r\n\t\t\t\tgetBlockName(\r\n\t\t\t\t\tgetBlockRootClientId(\r\n\t\t\t\t\t\tgetBlockRootClientId( propsRef.current.clientId )\r\n\t\t\t\t\t)\r\n\t\t\t\t) === 'core/list-item';\r\n\t\t\tif ( canOutdent ) {\r\n\t\t\t\toutdentListItem();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Here we are in top level list so we need to split.\r\n\t\t\tconst topParentListBlock = getBlock(\r\n\t\t\t\tgetBlockRootClientId( clientId )\r\n\t\t\t);\r\n\t\t\tconst blockIndex = getBlockIndex( clientId );\r\n\t\t\tconst head = cloneBlock( {\r\n\t\t\t\t...topParentListBlock,\r\n\t\t\t\tinnerBlocks: topParentListBlock.innerBlocks.slice(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tblockIndex\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t\tconst middle = createBlock( getDefaultBlockName() );\r\n\t\t\t// Last list item might contain a `list` block innerBlock\r\n\t\t\t// In that case append remaining innerBlocks blocks.\r\n\t\t\tconst after = [\r\n\t\t\t\t...( topParentListBlock.innerBlocks[ blockIndex ]\r\n\t\t\t\t\t.innerBlocks[ 0 ]?.innerBlocks || [] ),\r\n\t\t\t\t...topParentListBlock.innerBlocks.slice( blockIndex + 1 ),\r\n\t\t\t];\r\n\t\t\tconst tail = after.length\r\n\t\t\t\t? [\r\n\t\t\t\t\t\tcloneBlock( {\r\n\t\t\t\t\t\t\t...topParentListBlock,\r\n\t\t\t\t\t\t\tinnerBlocks: after,\r\n\t\t\t\t\t\t} ),\r\n\t\t\t\t  ]\r\n\t\t\t\t: [];\r\n\t\t\treplaceBlocks(\r\n\t\t\t\ttopParentListBlock.clientId,\r\n\t\t\t\t[ head, middle, ...tail ],\r\n\t\t\t\t1\r\n\t\t\t);\r\n\t\t\t// We manually change the selection here because we are replacing\r\n\t\t\t// a different block than the selected one.\r\n\t\t\tselectionChange( middle.clientId );\r\n\t\t}\r\n\r\n\t\telement.addEventListener( 'keydown', onKeyDown );\r\n\t\treturn () => {\r\n\t\t\telement.removeEventListener( 'keydown', onKeyDown );\r\n\t\t};\r\n\t}, [] );\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\nimport { SPACE, TAB } from '@wordpress/keycodes';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport useIndentListItem from './use-indent-list-item';\nimport useOutdentListItem from './use-outdent-list-item';\n\nexport default function useSpace( clientId ) {\n\tconst { getSelectionStart, getSelectionEnd, getBlockIndex } =\n\t\tuseSelect( blockEditorStore );\n\tconst indentListItem = useIndentListItem( clientId );\n\tconst outdentListItem = useOutdentListItem();\n\n\treturn useRefEffect(\n\t\t( element ) => {\n\t\t\tfunction onKeyDown( event ) {\n\t\t\t\tconst { keyCode, shiftKey, altKey, metaKey, ctrlKey } = event;\n\n\t\t\t\tif (\n\t\t\t\t\tevent.defaultPrevented ||\n\t\t\t\t\t( keyCode !== SPACE && keyCode !== TAB ) ||\n\t\t\t\t\t// Only override when no modifiers are pressed.\n\t\t\t\t\taltKey ||\n\t\t\t\t\tmetaKey ||\n\t\t\t\t\tctrlKey\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst selectionStart = getSelectionStart();\n\t\t\t\tconst selectionEnd = getSelectionEnd();\n\t\t\t\tif (\n\t\t\t\t\tselectionStart.offset === 0 &&\n\t\t\t\t\tselectionEnd.offset === 0\n\t\t\t\t) {\n\t\t\t\t\tif ( shiftKey ) {\n\t\t\t\t\t\t// Note that backspace behaviour in defined in onMerge.\n\t\t\t\t\t\tif ( keyCode === TAB ) {\n\t\t\t\t\t\t\tif ( outdentListItem() ) {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if ( getBlockIndex( clientId ) !== 0 ) {\n\t\t\t\t\t\tif ( indentListItem() ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.addEventListener( 'keydown', onKeyDown );\n\t\t\treturn () => {\n\t\t\t\telement.removeEventListener( 'keydown', onKeyDown );\n\t\t\t};\n\t\t},\n\t\t[ clientId, indentListItem ]\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useCallback, useRef } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { cloneBlock, createBlock } from '@wordpress/blocks';\r\n\r\nexport default function useSplit( clientId ) {\r\n\t// We can not rely on the isAfterOriginal parameter of the callback,\r\n\t// because if the value after the split is empty isAfterOriginal is false\r\n\t// while the value is in fact after the original. So to avoid that issue we use\r\n\t// a flag where the first execution of the callback is false (it is the before value)\r\n\t// and the second execution is true, it is the after value.\r\n\tconst isAfter = useRef( false );\r\n\tconst { getBlock } = useSelect( blockEditorStore );\r\n\treturn useCallback(\r\n\t\t( value ) => {\r\n\t\t\tconst block = getBlock( clientId );\r\n\t\t\tif ( isAfter.current ) {\r\n\t\t\t\treturn cloneBlock( block, {\r\n\t\t\t\t\tcontent: value,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tisAfter.current = true;\r\n\t\t\treturn createBlock( block.name, {\r\n\t\t\t\t...block.attributes,\r\n\t\t\t\tcontent: value,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ clientId, getBlock ]\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\treturn (\r\n\t\t<li { ...useBlockProps.save() }>\r\n\t\t\t<RichText.Content value={ attributes.content } />\r\n\t\t\t<InnerBlocks.Content />\r\n\t\t</li>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst login = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11 14.5l1.1 1.1 3-3 .5-.5-.6-.6-3-3-1 1 1.7 1.7H5v1.5h7.7L11 14.5zM16.8 5h-7c-1.1 0-2 .9-2 2v1.5h1.5V7c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v10c0 .3-.2.5-.5.5h-7c-.3 0-.5-.2-.5-.5v-1.5H7.8V17c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default login;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { login as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function LoginOutEdit( { attributes, setAttributes } ) {\r\n\tconst { displayLoginAsForm, redirectToCurrent } = attributes;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display login as form' ) }\r\n\t\t\t\t\t\tchecked={ displayLoginAsForm }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tdisplayLoginAsForm: ! displayLoginAsForm,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Redirect to current URL' ) }\r\n\t\t\t\t\t\tchecked={ redirectToCurrent }\r\n\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tredirectToCurrent: ! redirectToCurrent,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div\r\n\t\t\t\t{ ...useBlockProps( {\r\n\t\t\t\t\tclassName: 'logged-in',\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<a href=\"#login-pseudo-link\">{ __( 'Log out' ) }</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst mediaAndText = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M3 6v11.5h8V6H3Zm11 3h7V7.5h-7V9Zm7 3.5h-7V11h7v1.5ZM14 16h7v-1.5h-7V16Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default mediaAndText;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\n\r\nexport const DEFAULT_MEDIA_SIZE_SLUG = 'full';\r\nexport const WIDTH_CONSTRAINT_PERCENTAGE = 15;\r\nexport const LINK_DESTINATION_MEDIA = 'media';\r\nexport const LINK_DESTINATION_ATTACHMENT = 'attachment';\r\nexport const TEMPLATE = [\r\n\t[\r\n\t\t'core/paragraph',\r\n\t\t{\r\n\t\t\tplaceholder: _x( 'Content…', 'content placeholder' ),\r\n\t\t},\r\n\t],\r\n];\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tInnerBlocks,\r\n\tgetColorClassName,\r\n\tuseInnerBlocksProps,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { compose } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\r\n\r\nconst v1ToV5ImageFillStyles = ( url, focalPoint ) => {\r\n\treturn url\r\n\t\t? {\r\n\t\t\t\tbackgroundImage: `url(${ url })`,\r\n\t\t\t\tbackgroundPosition: focalPoint\r\n\t\t\t\t\t? `${ focalPoint.x * 100 }% ${ focalPoint.y * 100 }%`\r\n\t\t\t\t\t: `50% 50%`,\r\n\t\t  }\r\n\t\t: {};\r\n};\r\n\r\nconst v6ImageFillStyles = ( url, focalPoint ) => {\r\n\treturn url\r\n\t\t? {\r\n\t\t\t\tbackgroundImage: `url(${ url })`,\r\n\t\t\t\tbackgroundPosition: focalPoint\r\n\t\t\t\t\t? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round(\r\n\t\t\t\t\t\t\tfocalPoint.y * 100\r\n\t\t\t\t\t  ) }%`\r\n\t\t\t\t\t: `50% 50%`,\r\n\t\t  }\r\n\t\t: {};\r\n};\r\n\r\nconst DEFAULT_MEDIA_WIDTH = 50;\r\nconst noop = () => {};\r\n\r\nconst migrateCustomColors = ( attributes ) => {\r\n\tif ( ! attributes.customBackgroundColor ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = {\r\n\t\tcolor: {\r\n\t\t\tbackground: attributes.customBackgroundColor,\r\n\t\t},\r\n\t};\r\n\tconst { customBackgroundColor, ...restAttributes } = attributes;\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t};\r\n};\r\n\r\n// After align attribute's default was updated this function explicitly sets\r\n// the align value for deprecated blocks to the `wide` value which was default\r\n// for their versions of this block.\r\nconst migrateDefaultAlign = ( attributes ) => {\r\n\tif ( attributes.align ) {\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\treturn {\r\n\t\t...attributes,\r\n\t\talign: 'wide',\r\n\t};\r\n};\r\n\r\nconst v0Attributes = {\r\n\talign: {\r\n\t\ttype: 'string',\r\n\t\tdefault: 'wide',\r\n\t},\r\n\tmediaAlt: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure img',\r\n\t\tattribute: 'alt',\r\n\t\tdefault: '',\r\n\t},\r\n\tmediaPosition: {\r\n\t\ttype: 'string',\r\n\t\tdefault: 'left',\r\n\t},\r\n\tmediaId: {\r\n\t\ttype: 'number',\r\n\t},\r\n\tmediaType: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tmediaWidth: {\r\n\t\ttype: 'number',\r\n\t\tdefault: 50,\r\n\t},\r\n\tisStackedOnMobile: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n};\r\n\r\nconst v4ToV5BlockAttributes = {\r\n\t...v0Attributes,\r\n\tisStackedOnMobile: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: true,\r\n\t},\r\n\tmediaUrl: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure video,figure img',\r\n\t\tattribute: 'src',\r\n\t},\r\n\tmediaLink: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tlinkDestination: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tlinkTarget: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure a',\r\n\t\tattribute: 'target',\r\n\t},\r\n\thref: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure a',\r\n\t\tattribute: 'href',\r\n\t},\r\n\trel: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure a',\r\n\t\tattribute: 'rel',\r\n\t},\r\n\tlinkClass: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure a',\r\n\t\tattribute: 'class',\r\n\t},\r\n\tmediaSizeSlug: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tverticalAlignment: {\r\n\t\ttype: 'string',\r\n\t},\r\n\timageFill: {\r\n\t\ttype: 'boolean',\r\n\t},\r\n\tfocalPoint: {\r\n\t\ttype: 'object',\r\n\t},\r\n};\r\n\r\nconst v6Attributes = {\r\n\t...v4ToV5BlockAttributes,\r\n\tmediaAlt: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure img',\r\n\t\tattribute: 'alt',\r\n\t\tdefault: '',\r\n\t\t__experimentalRole: 'content',\r\n\t},\r\n\tmediaId: {\r\n\t\ttype: 'number',\r\n\t\t__experimentalRole: 'content',\r\n\t},\r\n\tmediaUrl: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure video,figure img',\r\n\t\tattribute: 'src',\r\n\t\t__experimentalRole: 'content',\r\n\t},\r\n\thref: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'attribute',\r\n\t\tselector: 'figure a',\r\n\t\tattribute: 'href',\r\n\t\t__experimentalRole: 'content',\r\n\t},\r\n\tmediaType: {\r\n\t\ttype: 'string',\r\n\t\t__experimentalRole: 'content',\r\n\t},\r\n};\r\n\r\nconst v4ToV5Supports = {\r\n\tanchor: true,\r\n\talign: [ 'wide', 'full' ],\r\n\thtml: false,\r\n\tcolor: {\r\n\t\tgradients: true,\r\n\t\tlink: true,\r\n\t},\r\n};\r\n\r\nconst v6Supports = {\r\n\t...v4ToV5Supports,\r\n\tcolor: {\r\n\t\tgradients: true,\r\n\t\tlink: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tbackground: true,\r\n\t\t\ttext: true,\r\n\t\t},\r\n\t},\r\n\tspacing: {\r\n\t\tmargin: true,\r\n\t\tpadding: true,\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: true,\r\n\t\tlineHeight: true,\r\n\t\t__experimentalFontFamily: true,\r\n\t\t__experimentalFontWeight: true,\r\n\t\t__experimentalFontStyle: true,\r\n\t\t__experimentalTextTransform: true,\r\n\t\t__experimentalTextDecoration: true,\r\n\t\t__experimentalLetterSpacing: true,\r\n\t\t__experimentalDefaultControls: {\r\n\t\t\tfontSize: true,\r\n\t\t},\r\n\t},\r\n};\r\n\r\n// Version with wide as the default alignment.\r\n// See: https://github.com/WordPress/gutenberg/pull/48404\r\nconst v6 = {\r\n\tattributes: v6Attributes,\r\n\tsupports: v6Supports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaId,\r\n\t\t\tverticalAlignment,\r\n\t\t\timageFill,\r\n\t\t\tfocalPoint,\r\n\t\t\tlinkClass,\r\n\t\t\thref,\r\n\t\t\tlinkTarget,\r\n\t\t\trel,\r\n\t\t} = attributes;\r\n\t\tconst mediaSizeSlug =\r\n\t\t\tattributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tconst imageClasses = classnames( {\r\n\t\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\r\n\t\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\r\n\t\t} );\r\n\r\n\t\tlet image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ mediaUrl }\r\n\t\t\t\talt={ mediaAlt }\r\n\t\t\t\tclassName={ imageClasses || null }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tif ( href ) {\r\n\t\t\timage = (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\thref={ href }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ newRel }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ image }\r\n\t\t\t\t</a>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => image,\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t'is-image-fill': imageFill,\r\n\t\t} );\r\n\t\tconst backgroundStyles = imageFill\r\n\t\t\t? v6ImageFillStyles( mediaUrl, focalPoint )\r\n\t\t\t: {};\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\r\n\t\tif ( 'right' === mediaPosition ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<figure\r\n\t\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t\t</figure>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t<figure\r\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateDefaultAlign,\r\n\tisEligible( attributes, innerBlocks, { block } ) {\r\n\t\tconst { attributes: finalizedAttributes } = block;\r\n\t\t// When the align attribute defaults to none, valid block markup should\r\n\t\t// not contain any alignment CSS class. Unfortunately, this\r\n\t\t// deprecation's version of the block won't be invalidated due to the\r\n\t\t// alignwide class still being in the markup. That is because the custom\r\n\t\t// CSS classname support picks it up and adds it to the className\r\n\t\t// attribute. At the time of parsing, the className attribute won't\r\n\t\t// contain the alignwide class, hence the need to check the finalized\r\n\t\t// block attributes.\r\n\t\treturn (\r\n\t\t\tattributes.align === undefined &&\r\n\t\t\t!! finalizedAttributes.className?.includes( 'alignwide' )\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// Version with non-rounded background position attribute for focal point.\r\n// See: https://github.com/WordPress/gutenberg/pull/33915\r\nconst v5 = {\r\n\tattributes: v4ToV5BlockAttributes,\r\n\tsupports: v4ToV5Supports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaId,\r\n\t\t\tverticalAlignment,\r\n\t\t\timageFill,\r\n\t\t\tfocalPoint,\r\n\t\t\tlinkClass,\r\n\t\t\thref,\r\n\t\t\tlinkTarget,\r\n\t\t\trel,\r\n\t\t} = attributes;\r\n\t\tconst mediaSizeSlug =\r\n\t\t\tattributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tconst imageClasses = classnames( {\r\n\t\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\r\n\t\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\r\n\t\t} );\r\n\r\n\t\tlet image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ mediaUrl }\r\n\t\t\t\talt={ mediaAlt }\r\n\t\t\t\tclassName={ imageClasses || null }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tif ( href ) {\r\n\t\t\timage = (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\thref={ href }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ newRel }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ image }\r\n\t\t\t\t</a>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => image,\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t'is-image-fill': imageFill,\r\n\t\t} );\r\n\t\tconst backgroundStyles = imageFill\r\n\t\t\t? v1ToV5ImageFillStyles( mediaUrl, focalPoint )\r\n\t\t\t: {};\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\r\n\t\tif ( 'right' === mediaPosition ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<figure\r\n\t\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t\t</figure>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t<figure\r\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateDefaultAlign,\r\n};\r\n\r\n// Version with CSS grid\r\n// See: https://github.com/WordPress/gutenberg/pull/40806\r\nconst v4 = {\r\n\tattributes: v4ToV5BlockAttributes,\r\n\tsupports: v4ToV5Supports,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaId,\r\n\t\t\tverticalAlignment,\r\n\t\t\timageFill,\r\n\t\t\tfocalPoint,\r\n\t\t\tlinkClass,\r\n\t\t\thref,\r\n\t\t\tlinkTarget,\r\n\t\t\trel,\r\n\t\t} = attributes;\r\n\t\tconst mediaSizeSlug =\r\n\t\t\tattributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tconst imageClasses = classnames( {\r\n\t\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\r\n\t\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\r\n\t\t} );\r\n\r\n\t\tlet image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ mediaUrl }\r\n\t\t\t\talt={ mediaAlt }\r\n\t\t\t\tclassName={ imageClasses || null }\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tif ( href ) {\r\n\t\t\timage = (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\thref={ href }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ newRel }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ image }\r\n\t\t\t\t</a>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => image,\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t'is-image-fill': imageFill,\r\n\t\t} );\r\n\t\tconst backgroundStyles = imageFill\r\n\t\t\t? v1ToV5ImageFillStyles( mediaUrl, focalPoint )\r\n\t\t\t: {};\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t<figure\r\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\r\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateDefaultAlign,\r\n};\r\n\r\n// Version with ad-hoc color attributes\r\n// See: https://github.com/WordPress/gutenberg/pull/21169\r\nconst v3 = {\r\n\tattributes: {\r\n\t\t...v0Attributes,\r\n\t\tisStackedOnMobile: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tmediaLink: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkDestination: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure a',\r\n\t\t\tattribute: 'target',\r\n\t\t},\r\n\t\thref: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure a',\r\n\t\t\tattribute: 'href',\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure a',\r\n\t\t\tattribute: 'rel',\r\n\t\t},\r\n\t\tlinkClass: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure a',\r\n\t\t\tattribute: 'class',\r\n\t\t},\r\n\t\tverticalAlignment: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\timageFill: {\r\n\t\t\ttype: 'boolean',\r\n\t\t},\r\n\t\tfocalPoint: {\r\n\t\t\ttype: 'object',\r\n\t\t},\r\n\t},\r\n\tmigrate: compose( migrateCustomColors, migrateDefaultAlign ),\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundColor,\r\n\t\t\tcustomBackgroundColor,\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaId,\r\n\t\t\tverticalAlignment,\r\n\t\t\timageFill,\r\n\t\t\tfocalPoint,\r\n\t\t\tlinkClass,\r\n\t\t\thref,\r\n\t\t\tlinkTarget,\r\n\t\t\trel,\r\n\t\t} = attributes;\r\n\t\tconst newRel = ! rel ? undefined : rel;\r\n\r\n\t\tlet image = (\r\n\t\t\t<img\r\n\t\t\t\tsrc={ mediaUrl }\r\n\t\t\t\talt={ mediaAlt }\r\n\t\t\t\tclassName={\r\n\t\t\t\t\tmediaId && mediaType === 'image'\r\n\t\t\t\t\t\t? `wp-image-${ mediaId }`\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t\tif ( href ) {\r\n\t\t\timage = (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ linkClass }\r\n\t\t\t\t\thref={ href }\r\n\t\t\t\t\ttarget={ linkTarget }\r\n\t\t\t\t\trel={ newRel }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ image }\r\n\t\t\t\t</a>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => image,\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\tbackgroundColor\r\n\t\t);\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t'has-background': backgroundClass || customBackgroundColor,\r\n\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t'is-image-fill': imageFill,\r\n\t\t} );\r\n\t\tconst backgroundStyles = imageFill\r\n\t\t\t? v1ToV5ImageFillStyles( mediaUrl, focalPoint )\r\n\t\t\t: {};\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t? undefined\r\n\t\t\t\t: customBackgroundColor,\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className={ className } style={ style }>\r\n\t\t\t\t<figure\r\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div className=\"wp-block-media-text__content\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// Version with stack on mobile off by default\r\n// See: https://github.com/WordPress/gutenberg/pull/14364\r\nconst v2 = {\r\n\tattributes: {\r\n\t\t...v0Attributes,\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tmediaUrl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure video,figure img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t\tverticalAlignment: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\timageFill: {\r\n\t\t\ttype: 'boolean',\r\n\t\t},\r\n\t\tfocalPoint: {\r\n\t\t\ttype: 'object',\r\n\t\t},\r\n\t},\r\n\tmigrate: compose( migrateCustomColors, migrateDefaultAlign ),\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundColor,\r\n\t\t\tcustomBackgroundColor,\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaId,\r\n\t\t\tverticalAlignment,\r\n\t\t\timageFill,\r\n\t\t\tfocalPoint,\r\n\t\t} = attributes;\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => (\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={ mediaUrl }\r\n\t\t\t\t\talt={ mediaAlt }\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tmediaId && mediaType === 'image'\r\n\t\t\t\t\t\t\t? `wp-image-${ mediaId }`\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\tbackgroundColor\r\n\t\t);\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]:\r\n\t\t\t\tverticalAlignment,\r\n\t\t\t'is-image-fill': imageFill,\r\n\t\t} );\r\n\t\tconst backgroundStyles = imageFill\r\n\t\t\t? v1ToV5ImageFillStyles( mediaUrl, focalPoint )\r\n\t\t\t: {};\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t? undefined\r\n\t\t\t\t: customBackgroundColor,\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className={ className } style={ style }>\r\n\t\t\t\t<figure\r\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\r\n\t\t\t\t\tstyle={ backgroundStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div className=\"wp-block-media-text__content\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n};\r\n\r\n// Version without the wp-image-#### class on image\r\n// See: https://github.com/WordPress/gutenberg/pull/11922\r\nconst v1 = {\r\n\tattributes: {\r\n\t\t...v0Attributes,\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tmediaUrl: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure video,figure img',\r\n\t\t\tattribute: 'src',\r\n\t\t},\r\n\t},\r\n\tmigrate: migrateDefaultAlign,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tbackgroundColor,\r\n\t\t\tcustomBackgroundColor,\r\n\t\t\tisStackedOnMobile,\r\n\t\t\tmediaAlt,\r\n\t\t\tmediaPosition,\r\n\t\t\tmediaType,\r\n\t\t\tmediaUrl,\r\n\t\t\tmediaWidth,\r\n\t\t} = attributes;\r\n\t\tconst mediaTypeRenders = {\r\n\t\t\timage: () => <img src={ mediaUrl } alt={ mediaAlt } />,\r\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\r\n\t\t};\r\n\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t'background-color',\r\n\t\t\tbackgroundColor\r\n\t\t);\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-media-on-the-right': 'right' === mediaPosition,\r\n\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\r\n\t\t} );\r\n\r\n\t\tlet gridTemplateColumns;\r\n\t\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\r\n\t\t\tgridTemplateColumns =\r\n\t\t\t\t'right' === mediaPosition\r\n\t\t\t\t\t? `auto ${ mediaWidth }%`\r\n\t\t\t\t\t: `${ mediaWidth }% auto`;\r\n\t\t}\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t? undefined\r\n\t\t\t\t: customBackgroundColor,\r\n\t\t\tgridTemplateColumns,\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<div className={ className } style={ style }>\r\n\t\t\t\t<figure className=\"wp-block-media-text__media\">\r\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\r\n\t\t\t\t</figure>\r\n\t\t\t\t<div className=\"wp-block-media-text__content\">\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nexport default [ v6, v5, v4, v3, v2, v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst pullLeft = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 18h6V6H4v12zm9-9.5V10h7V8.5h-7zm0 7h7V14h-7v1.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pullLeft;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst pullRight = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M14 6v12h6V6h-6zM4 10h7V8.5H4V10zm0 5.5h7V14H4v1.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pullRight;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst media = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m7 6.5 4 2.5-4 2.5z\" />\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default media;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { ResizableBox, Spinner, Placeholder } from '@wordpress/components';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\nimport { isBlobURL } from '@wordpress/blob';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { media as icon } from '@wordpress/icons';\n\n/**\n * Constants\n */\nconst ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\nconst noop = () => {};\n\nexport function imageFillStyles( url, focalPoint ) {\n\treturn url\n\t\t? {\n\t\t\t\tbackgroundImage: `url(${ url })`,\n\t\t\t\tbackgroundPosition: focalPoint\n\t\t\t\t\t? `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round(\n\t\t\t\t\t\t\tfocalPoint.y * 100\n\t\t\t\t\t  ) }%`\n\t\t\t\t\t: `50% 50%`,\n\t\t  }\n\t\t: {};\n}\n\nconst ResizableBoxContainer = forwardRef(\n\t( { isSelected, isStackedOnMobile, ...props }, ref ) => {\n\t\tconst isMobile = useViewportMatch( 'small', '<' );\n\t\treturn (\n\t\t\t<ResizableBox\n\t\t\t\tref={ ref }\n\t\t\t\tshowHandle={\n\t\t\t\t\tisSelected && ( ! isMobile || ! isStackedOnMobile )\n\t\t\t\t}\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t);\n\t}\n);\n\nfunction ToolbarEditButton( {\n\tmediaId,\n\tmediaUrl,\n\tonSelectMedia,\n\ttoggleUseFeaturedImage,\n\tuseFeaturedImage,\n\tfeaturedImageURL,\n} ) {\n\treturn (\n\t\t<BlockControls group=\"other\">\n\t\t\t<MediaReplaceFlow\n\t\t\t\tmediaId={ mediaId }\n\t\t\t\tmediaUrl={\n\t\t\t\t\tuseFeaturedImage && featuredImageURL\n\t\t\t\t\t\t? featuredImageURL\n\t\t\t\t\t\t: mediaUrl\n\t\t\t\t}\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\tuseFeaturedImage={ useFeaturedImage }\n\t\t\t/>\n\t\t</BlockControls>\n\t);\n}\n\nfunction PlaceholderContainer( {\n\tclassName,\n\tmediaUrl,\n\tonSelectMedia,\n\ttoggleUseFeaturedImage,\n} ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tconst onUploadError = ( message ) => {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t};\n\n\treturn (\n\t\t<MediaPlaceholder\n\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\tlabels={ {\n\t\t\t\ttitle: __( 'Media area' ),\n\t\t\t} }\n\t\t\tclassName={ className }\n\t\t\tonSelect={ onSelectMedia }\n\t\t\taccept=\"image/*,video/*\"\n\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\tonError={ onUploadError }\n\t\t\tdisableMediaButtons={ mediaUrl }\n\t\t/>\n\t);\n}\n\nfunction MediaContainer( props, ref ) {\n\tconst {\n\t\tclassName,\n\t\tcommitWidthChange,\n\t\tfocalPoint,\n\t\timageFill,\n\t\tisSelected,\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaId,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tonSelectMedia,\n\t\tonWidthChange,\n\t\tenableResize,\n\t\ttoggleUseFeaturedImage,\n\t\tuseFeaturedImage,\n\t\tfeaturedImageURL,\n\t\tfeaturedImageAlt,\n\t} = props;\n\n\tconst isTemporaryMedia = ! mediaId && isBlobURL( mediaUrl );\n\n\tconst { toggleSelection } = useDispatch( blockEditorStore );\n\n\tif ( mediaUrl || featuredImageURL || useFeaturedImage ) {\n\t\tconst onResizeStart = () => {\n\t\t\ttoggleSelection( false );\n\t\t};\n\t\tconst onResize = ( event, direction, elt ) => {\n\t\t\tonWidthChange( parseInt( elt.style.width ) );\n\t\t};\n\t\tconst onResizeStop = ( event, direction, elt ) => {\n\t\t\ttoggleSelection( true );\n\t\t\tcommitWidthChange( parseInt( elt.style.width ) );\n\t\t};\n\t\tconst enablePositions = {\n\t\t\tright: enableResize && mediaPosition === 'left',\n\t\t\tleft: enableResize && mediaPosition === 'right',\n\t\t};\n\n\t\tconst backgroundStyles =\n\t\t\tmediaType === 'image' && imageFill\n\t\t\t\t? imageFillStyles( mediaUrl || featuredImageURL, focalPoint )\n\t\t\t\t: {};\n\n\t\tconst mediaTypeRenderers = {\n\t\t\timage: () =>\n\t\t\t\tuseFeaturedImage && featuredImageURL ? (\n\t\t\t\t\t<img src={ featuredImageURL } alt={ featuredImageAlt } />\n\t\t\t\t) : (\n\t\t\t\t\tmediaUrl && <img src={ mediaUrl } alt={ mediaAlt } />\n\t\t\t\t),\n\t\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t\t};\n\n\t\treturn (\n\t\t\t<ResizableBoxContainer\n\t\t\t\tas=\"figure\"\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\tclassName,\n\t\t\t\t\t'editor-media-container__resizer',\n\t\t\t\t\t{ 'is-transient': isTemporaryMedia }\n\t\t\t\t) }\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t\tsize={ { width: mediaWidth + '%' } }\n\t\t\t\tminWidth=\"10%\"\n\t\t\t\tmaxWidth=\"100%\"\n\t\t\t\tenable={ enablePositions }\n\t\t\t\tonResizeStart={ onResizeStart }\n\t\t\t\tonResize={ onResize }\n\t\t\t\tonResizeStop={ onResizeStop }\n\t\t\t\taxis=\"x\"\n\t\t\t\tisSelected={ isSelected }\n\t\t\t\tisStackedOnMobile={ isStackedOnMobile }\n\t\t\t\tref={ ref }\n\t\t\t>\n\t\t\t\t<ToolbarEditButton\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\tmediaUrl={\n\t\t\t\t\t\tuseFeaturedImage && featuredImageURL\n\t\t\t\t\t\t\t? featuredImageURL\n\t\t\t\t\t\t\t: mediaUrl\n\t\t\t\t\t}\n\t\t\t\t\tmediaId={ mediaId }\n\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\tuseFeaturedImage={ useFeaturedImage }\n\t\t\t\t/>\n\t\t\t\t{ ( mediaTypeRenderers[ mediaType ] || noop )() }\n\t\t\t\t{ isTemporaryMedia && <Spinner /> }\n\t\t\t\t{ ! useFeaturedImage && <PlaceholderContainer { ...props } /> }\n\t\t\t\t{ ! featuredImageURL && useFeaturedImage && (\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\tclassName=\"wp-block-media-text--placeholder-image\"\n\t\t\t\t\t\twithIllustration\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</ResizableBoxContainer>\n\t\t);\n\t}\n\n\treturn <PlaceholderContainer { ...props } />;\n}\n\nexport default forwardRef( MediaContainer );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useRef } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tBlockVerticalAlignmentControl,\n\tuseInnerBlocksProps,\n\tInspectorControls,\n\tuseBlockProps,\n\t__experimentalImageURLInputUI as ImageURLInputUI,\n\t__experimentalImageSizeControl as ImageSizeControl,\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tRangeControl,\n\tTextareaControl,\n\tToggleControl,\n\tToolbarButton,\n\tExternalLink,\n\tFocalPointPicker,\n} from '@wordpress/components';\nimport { isBlobURL, getBlobTypeByURL } from '@wordpress/blob';\nimport { pullLeft, pullRight } from '@wordpress/icons';\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport MediaContainer from './media-container';\nimport {\n\tDEFAULT_MEDIA_SIZE_SLUG,\n\tWIDTH_CONSTRAINT_PERCENTAGE,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_ATTACHMENT,\n\tTEMPLATE,\n} from './constants';\n\n// this limits the resize to a safe zone to avoid making broken layouts\nconst applyWidthConstraints = ( width ) =>\n\tMath.max(\n\t\tWIDTH_CONSTRAINT_PERCENTAGE,\n\t\tMath.min( width, 100 - WIDTH_CONSTRAINT_PERCENTAGE )\n\t);\n\nfunction getImageSourceUrlBySizeSlug( image, slug ) {\n\t// eslint-disable-next-line camelcase\n\treturn image?.media_details?.sizes?.[ slug ]?.source_url;\n}\n\nfunction attributesFromMedia( {\n\tattributes: { linkDestination, href },\n\tsetAttributes,\n} ) {\n\treturn ( media ) => {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tsetAttributes( {\n\t\t\t\tmediaAlt: undefined,\n\t\t\t\tmediaId: undefined,\n\t\t\t\tmediaType: undefined,\n\t\t\t\tmediaUrl: undefined,\n\t\t\t\tmediaLink: undefined,\n\t\t\t\thref: undefined,\n\t\t\t\tfocalPoint: undefined,\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isBlobURL( media.url ) ) {\n\t\t\tmedia.type = getBlobTypeByURL( media.url );\n\t\t}\n\n\t\tlet mediaType;\n\t\tlet src;\n\t\t// For media selections originated from a file upload.\n\t\tif ( media.media_type ) {\n\t\t\tif ( media.media_type === 'image' ) {\n\t\t\t\tmediaType = 'image';\n\t\t\t} else {\n\t\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\n\t\t\t\t// video contain the media type of 'file' in the object returned from the rest api.\n\t\t\t\tmediaType = 'video';\n\t\t\t}\n\t\t} else {\n\t\t\t// For media selections originated from existing files in the media library.\n\t\t\tmediaType = media.type;\n\t\t}\n\n\t\tif ( mediaType === 'image' ) {\n\t\t\t// Try the \"large\" size URL, falling back to the \"full\" size URL below.\n\t\t\tsrc =\n\t\t\t\tmedia.sizes?.large?.url ||\n\t\t\t\t// eslint-disable-next-line camelcase\n\t\t\t\tmedia.media_details?.sizes?.large?.source_url;\n\t\t}\n\n\t\tlet newHref = href;\n\t\tif ( linkDestination === LINK_DESTINATION_MEDIA ) {\n\t\t\t// Update the media link.\n\t\t\tnewHref = media.url;\n\t\t}\n\n\t\t// Check if the image is linked to the attachment page.\n\t\tif ( linkDestination === LINK_DESTINATION_ATTACHMENT ) {\n\t\t\t// Update the media link.\n\t\t\tnewHref = media.link;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tmediaAlt: media.alt,\n\t\t\tmediaId: media.id,\n\t\t\tmediaType,\n\t\t\tmediaUrl: src || media.url,\n\t\t\tmediaLink: media.link || undefined,\n\t\t\thref: newHref,\n\t\t\tfocalPoint: undefined,\n\t\t} );\n\t};\n}\n\nfunction MediaTextEdit( {\n\tattributes,\n\tisSelected,\n\tsetAttributes,\n\tcontext: { postId, postType },\n} ) {\n\tconst {\n\t\tfocalPoint,\n\t\thref,\n\t\timageFill,\n\t\tisStackedOnMobile,\n\t\tlinkClass,\n\t\tlinkDestination,\n\t\tlinkTarget,\n\t\tmediaAlt,\n\t\tmediaId,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\trel,\n\t\tverticalAlignment,\n\t\tallowedBlocks,\n\t\tuseFeaturedImage,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\n\tconst [ featuredImage ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'featured_media',\n\t\tpostId\n\t);\n\n\tconst featuredImageMedia = useSelect(\n\t\t( select ) =>\n\t\t\tfeaturedImage &&\n\t\t\tselect( coreStore ).getMedia( featuredImage, { context: 'view' } ),\n\t\t[ featuredImage ]\n\t);\n\n\tconst featuredImageURL = useFeaturedImage\n\t\t? featuredImageMedia?.source_url\n\t\t: '';\n\tconst featuredImageAlt = useFeaturedImage\n\t\t? featuredImageMedia?.alt_text\n\t\t: '';\n\n\tconst toggleUseFeaturedImage = () => {\n\t\tsetAttributes( {\n\t\t\timageFill: false,\n\t\t\tmediaType: 'image',\n\t\t\tmediaId: undefined,\n\t\t\tmediaUrl: undefined,\n\t\t\tmediaAlt: undefined,\n\t\t\tuseFeaturedImage: ! useFeaturedImage,\n\t\t} );\n\t};\n\n\tconst { imageSizes, image } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getSettings } = select( blockEditorStore );\n\t\t\treturn {\n\t\t\t\timage:\n\t\t\t\t\tmediaId && isSelected\n\t\t\t\t\t\t? select( coreStore ).getMedia( mediaId, {\n\t\t\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: null,\n\t\t\t\timageSizes: getSettings()?.imageSizes,\n\t\t\t};\n\t\t},\n\t\t[ isSelected, mediaId ]\n\t);\n\n\tconst refMediaContainer = useRef();\n\tconst imperativeFocalPointPreview = ( value ) => {\n\t\tconst { style } = refMediaContainer.current.resizable;\n\t\tconst { x, y } = value;\n\t\tstyle.backgroundPosition = `${ x * 100 }% ${ y * 100 }%`;\n\t};\n\n\tconst [ temporaryMediaWidth, setTemporaryMediaWidth ] = useState( null );\n\n\tconst onSelectMedia = attributesFromMedia( { attributes, setAttributes } );\n\n\tconst onSetHref = ( props ) => {\n\t\tsetAttributes( props );\n\t};\n\n\tconst onWidthChange = ( width ) => {\n\t\tsetTemporaryMediaWidth( applyWidthConstraints( width ) );\n\t};\n\tconst commitWidthChange = ( width ) => {\n\t\tsetAttributes( {\n\t\t\tmediaWidth: applyWidthConstraints( width ),\n\t\t} );\n\t\tsetTemporaryMediaWidth( null );\n\t};\n\n\tconst classNames = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-selected': isSelected,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst widthString = `${ temporaryMediaWidth || mediaWidth }%`;\n\tconst gridTemplateColumns =\n\t\t'right' === mediaPosition\n\t\t\t? `1fr ${ widthString }`\n\t\t\t: `${ widthString } 1fr`;\n\tconst style = {\n\t\tgridTemplateColumns,\n\t\tmsGridColumns: gridTemplateColumns,\n\t};\n\tconst onMediaAltChange = ( newMediaAlt ) => {\n\t\tsetAttributes( { mediaAlt: newMediaAlt } );\n\t};\n\tconst onVerticalAlignmentChange = ( alignment ) => {\n\t\tsetAttributes( { verticalAlignment: alignment } );\n\t};\n\n\tconst imageSizeOptions = imageSizes\n\t\t.filter( ( { slug } ) => getImageSourceUrlBySizeSlug( image, slug ) )\n\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\n\tconst updateImage = ( newMediaSizeSlug ) => {\n\t\tconst newUrl = getImageSourceUrlBySizeSlug( image, newMediaSizeSlug );\n\n\t\tif ( ! newUrl ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tmediaUrl: newUrl,\n\t\t\tmediaSizeSlug: newMediaSizeSlug,\n\t\t} );\n\t};\n\n\tconst mediaTextGeneralSettings = (\n\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t<RangeControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={ __( 'Media width' ) }\n\t\t\t\tvalue={ temporaryMediaWidth || mediaWidth }\n\t\t\t\tonChange={ commitWidthChange }\n\t\t\t\tmin={ WIDTH_CONSTRAINT_PERCENTAGE }\n\t\t\t\tmax={ 100 - WIDTH_CONSTRAINT_PERCENTAGE }\n\t\t\t/>\n\t\t\t{ /** DOUBLEEDESIGN CUSTOM: Remove \"stack on mobile\" toggle because I'm handling that at the template level */ }\n\t\t\t{ /** <ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Stack on mobile' ) }\n\t\t\t\tchecked={ isStackedOnMobile }\n\t\t\t\tonChange={ () =>\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tisStackedOnMobile: ! isStackedOnMobile,\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t/> */ }\n\t\t\t{ mediaType === 'image' && (\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Crop image to fill' ) }\n\t\t\t\t\tchecked={ !! imageFill }\n\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\timageFill: ! imageFill,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ imageFill &&\n\t\t\t\t( mediaUrl || featuredImageURL ) &&\n\t\t\t\tmediaType === 'image' && (\n\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Focal point' ) }\n\t\t\t\t\t\turl={\n\t\t\t\t\t\t\tuseFeaturedImage && featuredImageURL\n\t\t\t\t\t\t\t\t? featuredImageURL\n\t\t\t\t\t\t\t\t: mediaUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ focalPoint }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { focalPoint: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonDragStart={ imperativeFocalPointPreview }\n\t\t\t\t\t\tonDrag={ imperativeFocalPointPreview }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t{ mediaType === 'image' && ( mediaUrl || featuredImageURL ) && (\n\t\t\t\t<TextareaControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Alternative text' ) }\n\t\t\t\t\tvalue={ mediaAlt || featuredImageAlt }\n\t\t\t\t\tonChange={ onMediaAltChange }\n\t\t\t\t\thelp={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t{ __( 'Describe the purpose of the image.' ) }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{ __( 'Leave empty if decorative.' ) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ mediaType === 'image' && (\n\t\t\t\t<ImageSizeControl\n\t\t\t\t\tonChangeImage={ updateImage }\n\t\t\t\t\tslug={ mediaSizeSlug }\n\t\t\t\t\timageSizeOptions={ imageSizeOptions }\n\t\t\t\t\tisResizable={ false }\n\t\t\t\t\timageSizeHelp={ __(\n\t\t\t\t\t\t'Select the size of the source image.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classNames,\n\t\tstyle,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{ className: 'wp-block-media-text__content' },\n\t\t{ template: TEMPLATE, allowedBlocks }\n\t);\n\n\tconst blockEditingMode = useBlockEditingMode();\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>{ mediaTextGeneralSettings }</InspectorControls>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<BlockVerticalAlignmentControl\n\t\t\t\t\t\t\tonChange={ onVerticalAlignmentChange }\n\t\t\t\t\t\t\tvalue={ verticalAlignment }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ticon={ pullLeft }\n\t\t\t\t\t\t\ttitle={ __( 'Show media on left' ) }\n\t\t\t\t\t\t\tisActive={ mediaPosition === 'left' }\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { mediaPosition: 'left' } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ticon={ pullRight }\n\t\t\t\t\t\t\ttitle={ __( 'Show media on right' ) }\n\t\t\t\t\t\t\tisActive={ mediaPosition === 'right' }\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { mediaPosition: 'right' } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\n\t\t\t\t{ mediaType === 'image' && (\n\t\t\t\t\t<ImageURLInputUI\n\t\t\t\t\t\turl={ href || '' }\n\t\t\t\t\t\tonChangeUrl={ onSetHref }\n\t\t\t\t\t\tlinkDestination={ linkDestination }\n\t\t\t\t\t\tmediaType={ mediaType }\n\t\t\t\t\t\tmediaUrl={\n\t\t\t\t\t\t\tuseFeaturedImage && featuredImageURL\n\t\t\t\t\t\t\t\t? featuredImageURL\n\t\t\t\t\t\t\t\t: image && image.source_url\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmediaLink={ image && image.link }\n\t\t\t\t\t\tlinkTarget={ linkTarget }\n\t\t\t\t\t\tlinkClass={ linkClass }\n\t\t\t\t\t\trel={ rel }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ mediaPosition === 'right' && <div { ...innerBlocksProps } /> }\n\t\t\t\t<MediaContainer\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\tonWidthChange={ onWidthChange }\n\t\t\t\t\tcommitWidthChange={ commitWidthChange }\n\t\t\t\t\tref={ refMediaContainer }\n\t\t\t\t\tenableResize={ blockEditingMode === 'default' }\n\t\t\t\t\ttoggleUseFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\t{ ...{\n\t\t\t\t\t\tfocalPoint,\n\t\t\t\t\t\timageFill,\n\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\tisStackedOnMobile,\n\t\t\t\t\t\tmediaAlt,\n\t\t\t\t\t\tmediaId,\n\t\t\t\t\t\tmediaPosition,\n\t\t\t\t\t\tmediaType,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaWidth,\n\t\t\t\t\t\tuseFeaturedImage,\n\t\t\t\t\t\tfeaturedImageURL,\n\t\t\t\t\t\tfeaturedImageAlt,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t{ mediaPosition !== 'right' && <div { ...innerBlocksProps } /> }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default MediaTextEdit;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = ! rel ? undefined : rel;\n\n\tconst imageClasses = classnames( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tlet image = mediaUrl ? (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t/>\n\t) : null;\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tstyle={ backgroundStyles }\n\t\t\t\t>\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\ttransform: ( { alt, url, id, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/media-text', {\r\n\t\t\t\t\tmediaAlt: alt,\r\n\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\tmediaUrl: url,\r\n\t\t\t\t\tmediaType: 'image',\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\ttransform: ( { src, id, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/media-text', {\r\n\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\tmediaUrl: src,\r\n\t\t\t\t\tmediaType: 'video',\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/cover' ],\r\n\t\t\ttransform: (\r\n\t\t\t\t{\r\n\t\t\t\t\talign,\r\n\t\t\t\t\talt,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundType,\r\n\t\t\t\t\tcustomGradient,\r\n\t\t\t\t\tcustomOverlayColor,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\toverlayColor,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t\turl,\r\n\t\t\t\t},\r\n\t\t\t\tinnerBlocks\r\n\t\t\t) => {\r\n\t\t\t\tlet additionalAttributes = {};\r\n\r\n\t\t\t\tif ( customGradient ) {\r\n\t\t\t\t\tadditionalAttributes = {\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tgradient: customGradient,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if ( customOverlayColor ) {\r\n\t\t\t\t\tadditionalAttributes = {\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tbackground: customOverlayColor,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Maintain custom text color block support value.\r\n\t\t\t\tif ( style?.color?.text ) {\r\n\t\t\t\t\tadditionalAttributes.style = {\r\n\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t...additionalAttributes.style?.color,\r\n\t\t\t\t\t\t\ttext: style.color.text,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/media-text',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\tbackgroundColor: overlayColor,\r\n\t\t\t\t\t\tgradient,\r\n\t\t\t\t\t\tmediaAlt: alt,\r\n\t\t\t\t\t\tmediaId: id,\r\n\t\t\t\t\t\tmediaType: backgroundType,\r\n\t\t\t\t\t\tmediaUrl: url,\r\n\t\t\t\t\t\ttextColor,\r\n\t\t\t\t\t\t...additionalAttributes,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/image' ],\r\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\r\n\t\t\t\treturn ! mediaUrl || mediaType === 'image';\r\n\t\t\t},\r\n\t\t\ttransform: ( { mediaAlt, mediaId, mediaUrl, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/image', {\r\n\t\t\t\t\talt: mediaAlt,\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\turl: mediaUrl,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/video' ],\r\n\t\t\tisMatch: ( { mediaType, mediaUrl } ) => {\r\n\t\t\t\treturn ! mediaUrl || mediaType === 'video';\r\n\t\t\t},\r\n\t\t\ttransform: ( { mediaId, mediaUrl, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/video', {\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\tsrc: mediaUrl,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/cover' ],\r\n\t\t\ttransform: (\r\n\t\t\t\t{\r\n\t\t\t\t\talign,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundColor,\r\n\t\t\t\t\tfocalPoint,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tmediaAlt,\r\n\t\t\t\t\tmediaId,\r\n\t\t\t\t\tmediaType,\r\n\t\t\t\t\tmediaUrl,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t},\r\n\t\t\t\tinnerBlocks\r\n\t\t\t) => {\r\n\t\t\t\tconst additionalAttributes = {};\r\n\r\n\t\t\t\t// Migrate the background styles or gradient to Cover's custom\r\n\t\t\t\t// gradient and overlay properties.\r\n\t\t\t\tif ( style?.color?.gradient ) {\r\n\t\t\t\t\tadditionalAttributes.customGradient = style.color.gradient;\r\n\t\t\t\t} else if ( style?.color?.background ) {\r\n\t\t\t\t\tadditionalAttributes.customOverlayColor =\r\n\t\t\t\t\t\tstyle.color.background;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Maintain custom text color support style.\r\n\t\t\t\tif ( style?.color?.text ) {\r\n\t\t\t\t\tadditionalAttributes.style = {\r\n\t\t\t\t\t\tcolor: { text: style.color.text },\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst coverAttributes = {\r\n\t\t\t\t\talign,\r\n\t\t\t\t\talt: mediaAlt,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tbackgroundType: mediaType,\r\n\t\t\t\t\tdimRatio: !! mediaUrl ? 50 : 100,\r\n\t\t\t\t\tfocalPoint,\r\n\t\t\t\t\tgradient,\r\n\t\t\t\t\tid: mediaId,\r\n\t\t\t\t\toverlayColor: backgroundColor,\r\n\t\t\t\t\ttextColor,\r\n\t\t\t\t\turl: mediaUrl,\r\n\t\t\t\t\t...additionalAttributes,\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/cover',\r\n\t\t\t\t\tcoverAttributes,\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { mediaAndText as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tviewportWidth: 601, // Columns collapse \"@media (max-width: 600px)\".\r\n\t\tattributes: {\r\n\t\t\tmediaType: 'image',\r\n\t\t\tmediaUrl:\r\n\t\t\t\t'https://s.w.org/images/core/5.3/Biologia_Centrali-Americana_-_Cantorchilus_semibadius_1902.jpg',\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcontent: __(\r\n\t\t\t\t\t\t'The wren<br>Earns his living<br>Noiselessly.'\r\n\t\t\t\t\t),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcontent: __( '— Kobayashi Issa (一茶)' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { RawHTML } from '@wordpress/element';\r\nimport { Button } from '@wordpress/components';\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { withDispatch, useSelect } from '@wordpress/data';\r\nimport {\r\n\tWarning,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { safeHTML } from '@wordpress/dom';\r\n\r\nfunction MissingBlockWarning( { attributes, convertToHTML, clientId } ) {\r\n\tconst { originalName, originalUndelimitedContent } = attributes;\r\n\tconst hasContent = !! originalUndelimitedContent;\r\n\tconst { hasFreeformBlock, hasHTMLBlock } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { canInsertBlockType, getBlockRootClientId } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\r\n\t\t\treturn {\r\n\t\t\t\thasFreeformBlock: canInsertBlockType(\r\n\t\t\t\t\t'core/freeform',\r\n\t\t\t\t\tgetBlockRootClientId( clientId )\r\n\t\t\t\t),\r\n\t\t\t\thasHTMLBlock: canInsertBlockType(\r\n\t\t\t\t\t'core/html',\r\n\t\t\t\t\tgetBlockRootClientId( clientId )\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\tconst actions = [];\r\n\tlet messageHTML;\r\n\r\n\tconst convertToHtmlButton = (\r\n\t\t<Button key=\"convert\" onClick={ convertToHTML } variant=\"primary\">\r\n\t\t\t{ __( 'Keep as HTML' ) }\r\n\t\t</Button>\r\n\t);\r\n\r\n\tif ( hasContent && ! hasFreeformBlock && ! originalName ) {\r\n\t\tif ( hasHTMLBlock ) {\r\n\t\t\tmessageHTML = __(\r\n\t\t\t\t'It appears you are trying to use the deprecated Classic block. You can leave this block intact, convert its content to a Custom HTML block, or remove it entirely. Alternatively, you can refresh the page to use the Classic block.'\r\n\t\t\t);\r\n\t\t\tactions.push( convertToHtmlButton );\r\n\t\t} else {\r\n\t\t\tmessageHTML = __(\r\n\t\t\t\t'It appears you are trying to use the deprecated Classic block. You can leave this block intact, or remove it entirely. Alternatively, you can refresh the page to use the Classic block.'\r\n\t\t\t);\r\n\t\t}\r\n\t} else if ( hasContent && hasHTMLBlock ) {\r\n\t\tmessageHTML = sprintf(\r\n\t\t\t/* translators: %s: block name */\r\n\t\t\t__(\r\n\t\t\t\t'Your site doesn’t include support for the \"%s\" block. You can leave this block intact, convert its content to a Custom HTML block, or remove it entirely.'\r\n\t\t\t),\r\n\t\t\toriginalName\r\n\t\t);\r\n\t\tactions.push( convertToHtmlButton );\r\n\t} else {\r\n\t\tmessageHTML = sprintf(\r\n\t\t\t/* translators: %s: block name */\r\n\t\t\t__(\r\n\t\t\t\t'Your site doesn’t include support for the \"%s\" block. You can leave this block intact or remove it entirely.'\r\n\t\t\t),\r\n\t\t\toriginalName\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div { ...useBlockProps( { className: 'has-warning' } ) }>\r\n\t\t\t<Warning actions={ actions }>{ messageHTML }</Warning>\r\n\t\t\t<RawHTML>{ safeHTML( originalUndelimitedContent ) }</RawHTML>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst MissingEdit = withDispatch( ( dispatch, { clientId, attributes } ) => {\r\n\tconst { replaceBlock } = dispatch( blockEditorStore );\r\n\treturn {\r\n\t\tconvertToHTML() {\r\n\t\t\treplaceBlock(\r\n\t\t\t\tclientId,\r\n\t\t\t\tcreateBlock( 'core/html', {\r\n\t\t\t\t\tcontent: attributes.originalUndelimitedContent,\r\n\t\t\t\t} )\r\n\t\t\t);\r\n\t\t},\r\n\t};\r\n} )( MissingBlockWarning );\r\n\r\nexport default MissingEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { getBlockType } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tname,\r\n\t__experimentalLabel( attributes, { context } ) {\r\n\t\tif ( context === 'accessibility' ) {\r\n\t\t\tconst { originalName } = attributes;\r\n\r\n\t\t\tconst originalBlockType = originalName\r\n\t\t\t\t? getBlockType( originalName )\r\n\t\t\t\t: undefined;\r\n\r\n\t\t\tif ( originalBlockType ) {\r\n\t\t\t\treturn originalBlockType.settings.title || originalName;\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save( { attributes } ) {\r\n\t// Preserve the missing block's content.\r\n\treturn <RawHTML>{ attributes.originalContent }</RawHTML>;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst more = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M4 9v1.5h16V9H4zm12 5.5h4V13h-4v1.5zm-6 0h4V13h-4v1.5zm-6 0h4V13H4v1.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default more;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport { ENTER } from '@wordpress/keycodes';\r\nimport { getDefaultBlockName, createBlock } from '@wordpress/blocks';\r\n\r\nconst DEFAULT_TEXT = __( 'Read more' );\r\n\r\nexport default function MoreEdit( {\r\n\tattributes: { customText, noTeaser },\r\n\tinsertBlocksAfter,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst onChangeInput = ( event ) => {\r\n\t\tsetAttributes( {\r\n\t\t\tcustomText:\r\n\t\t\t\tevent.target.value !== '' ? event.target.value : undefined,\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onKeyDown = ( { keyCode } ) => {\r\n\t\tif ( keyCode === ENTER ) {\r\n\t\t\tinsertBlocksAfter( [ createBlock( getDefaultBlockName() ) ] );\r\n\t\t}\r\n\t};\r\n\r\n\tconst getHideExcerptHelp = ( checked ) =>\r\n\t\tchecked\r\n\t\t\t? __( 'The excerpt is hidden.' )\r\n\t\t\t: __( 'The excerpt is visible.' );\r\n\r\n\tconst toggleHideExcerpt = () => setAttributes( { noTeaser: ! noTeaser } );\r\n\r\n\tconst style = {\r\n\t\twidth: `${ ( customText ? customText : DEFAULT_TEXT ).length + 1.2 }em`,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __(\r\n\t\t\t\t\t\t\t'Hide the excerpt on the full content page'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tchecked={ !! noTeaser }\r\n\t\t\t\t\t\tonChange={ toggleHideExcerpt }\r\n\t\t\t\t\t\thelp={ getHideExcerptHelp }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...useBlockProps() }>\r\n\t\t\t\t<input\r\n\t\t\t\t\taria-label={ __( '“Read more” link text' ) }\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={ customText }\r\n\t\t\t\t\tplaceholder={ DEFAULT_TEXT }\r\n\t\t\t\t\tonChange={ onChangeInput }\r\n\t\t\t\t\tonKeyDown={ onKeyDown }\r\n\t\t\t\t\tstyle={ style }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tschema: {\r\n\t\t\t\t'wp-block': { attributes: [ 'data-block' ] },\r\n\t\t\t},\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.dataset && node.dataset.block === 'core/more',\r\n\t\t\ttransform( node ) {\r\n\t\t\t\tconst { customText, noTeaser } = node.dataset;\r\n\t\t\t\tconst attrs = {};\r\n\t\t\t\t// Don't copy unless defined and not an empty string.\r\n\t\t\t\tif ( customText ) {\r\n\t\t\t\t\tattrs.customText = customText;\r\n\t\t\t\t}\r\n\t\t\t\t// Special handling for boolean.\r\n\t\t\t\tif ( noTeaser === '' ) {\r\n\t\t\t\t\tattrs.noTeaser = true;\r\n\t\t\t\t}\r\n\t\t\t\treturn createBlock( 'core/more', attrs );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { more as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\t__experimentalLabel( attributes, { context } ) {\r\n\t\tconst customName = attributes?.metadata?.name;\r\n\r\n\t\tif ( context === 'list-view' && customName ) {\r\n\t\t\treturn customName;\r\n\t\t}\r\n\r\n\t\tif ( context === 'accessibility' ) {\r\n\t\t\treturn attributes.customText;\r\n\t\t}\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save( { attributes: { customText, noTeaser } } ) {\r\n\tconst moreTag = customText ? `<!--more ${ customText }-->` : '<!--more-->';\r\n\r\n\tconst noTeaserTag = noTeaser ? '<!--noteaser-->' : '';\r\n\r\n\treturn (\r\n\t\t<RawHTML>\r\n\t\t\t{ [ moreTag, noTeaserTag ].filter( Boolean ).join( '\\n' ) }\r\n\t\t</RawHTML>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst navigation = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default navigation;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { cloneElement, forwardRef } from '@wordpress/element';\r\n\r\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\r\n\r\n/**\r\n * Return an SVG icon.\r\n *\r\n * @param {IconProps}                                 props icon is the SVG component to render\r\n *                                                          size is a number specifiying the icon size in pixels\r\n *                                                          Other props will be passed to wrapped SVG component\r\n * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.\r\n *\r\n * @return {JSX.Element}  Icon component\r\n */\r\nfunction Icon( { icon, size = 24, ...props }, ref ) {\r\n\treturn cloneElement( icon, {\r\n\t\twidth: size,\r\n\t\theight: size,\r\n\t\t...props,\r\n\t\tref,\r\n\t} );\r\n}\r\n\r\nexport default forwardRef( Icon );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst close = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default close;\r\n","export const DEFAULT_BLOCK = {\n\tname: 'core/navigation-link',\n};\n\nexport const PRIORITIZED_INSERTER_BLOCKS = [\n\t'core/navigation-link/page',\n\t'core/navigation-link',\n];\n\n// These parameters must be kept aligned with those in\n// lib/compat/wordpress-6.3/navigation-block-preloading.php\n// and\n// edit-site/src/components/sidebar-navigation-screen-navigation-menus/constants.js\nexport const PRELOADED_NAVIGATION_MENUS_QUERY = {\n\tper_page: 100,\n\tstatus: [ 'publish', 'draft' ],\n\torder: 'desc',\n\torderby: 'date',\n};\n\nexport const SELECT_NAVIGATION_MENUS_ARGS = [\n\t'postType',\n\t'wp_navigation',\n\tPRELOADED_NAVIGATION_MENUS_QUERY,\n];\n","/**\n * WordPress dependencies\n */\nimport {\n\tstore as coreStore,\n\tuseResourcePermissions,\n\tuseEntityRecords,\n} from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PRELOADED_NAVIGATION_MENUS_QUERY } from './constants';\n\nexport default function useNavigationMenu( ref ) {\n\tconst permissions = useResourcePermissions( 'navigation', ref );\n\n\tconst {\n\t\tnavigationMenu,\n\t\tisNavigationMenuResolved,\n\t\tisNavigationMenuMissing,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\treturn selectExistingMenu( select, ref );\n\t\t},\n\t\t[ ref ]\n\t);\n\n\tconst {\n\t\t// Can the user create navigation menus?\n\t\tcanCreate: canCreateNavigationMenus,\n\n\t\t// Can the user update the specific navigation menu with the given post ID?\n\t\tcanUpdate: canUpdateNavigationMenu,\n\n\t\t// Can the user delete the specific navigation menu with the given post ID?\n\t\tcanDelete: canDeleteNavigationMenu,\n\t\tisResolving: isResolvingPermissions,\n\t\thasResolved: hasResolvedPermissions,\n\t} = permissions;\n\n\tconst {\n\t\trecords: navigationMenus,\n\t\tisResolving: isResolvingNavigationMenus,\n\t\thasResolved: hasResolvedNavigationMenus,\n\t} = useEntityRecords(\n\t\t'postType',\n\t\t`wp_navigation`,\n\t\tPRELOADED_NAVIGATION_MENUS_QUERY\n\t);\n\n\tconst canSwitchNavigationMenu = ref\n\t\t? navigationMenus?.length > 1\n\t\t: navigationMenus?.length > 0;\n\n\treturn {\n\t\tnavigationMenu,\n\t\tisNavigationMenuResolved,\n\t\tisNavigationMenuMissing,\n\t\tnavigationMenus,\n\t\tisResolvingNavigationMenus,\n\t\thasResolvedNavigationMenus,\n\t\tcanSwitchNavigationMenu,\n\t\tcanUserCreateNavigationMenus: canCreateNavigationMenus,\n\t\tisResolvingCanUserCreateNavigationMenus: isResolvingPermissions,\n\t\thasResolvedCanUserCreateNavigationMenus: hasResolvedPermissions,\n\t\tcanUserUpdateNavigationMenu: canUpdateNavigationMenu,\n\t\thasResolvedCanUserUpdateNavigationMenu: ref\n\t\t\t? hasResolvedPermissions\n\t\t\t: undefined,\n\t\tcanUserDeleteNavigationMenu: canDeleteNavigationMenu,\n\t\thasResolvedCanUserDeleteNavigationMenu: ref\n\t\t\t? hasResolvedPermissions\n\t\t\t: undefined,\n\t};\n}\n\nfunction selectExistingMenu( select, ref ) {\n\tif ( ! ref ) {\n\t\treturn {\n\t\t\tisNavigationMenuResolved: false,\n\t\t\tisNavigationMenuMissing: true,\n\t\t};\n\t}\n\n\tconst { getEntityRecord, getEditedEntityRecord, hasFinishedResolution } =\n\t\tselect( coreStore );\n\n\tconst args = [ 'postType', 'wp_navigation', ref ];\n\tconst navigationMenu = getEntityRecord( ...args );\n\tconst editedNavigationMenu = getEditedEntityRecord( ...args );\n\tconst hasResolvedNavigationMenu = hasFinishedResolution(\n\t\t'getEditedEntityRecord',\n\t\targs\n\t);\n\n\t// Only published Navigation posts are considered valid.\n\t// Draft Navigation posts are valid only on the editor,\n\t// requiring a post update to publish to show in frontend.\n\t// To achieve that, index.php must reflect this validation only for published.\n\tconst isNavigationMenuPublishedOrDraft =\n\t\teditedNavigationMenu.status === 'publish' ||\n\t\teditedNavigationMenu.status === 'draft';\n\n\treturn {\n\t\tisNavigationMenuResolved: hasResolvedNavigationMenu,\n\t\tisNavigationMenuMissing:\n\t\t\thasResolvedNavigationMenu &&\n\t\t\t( ! navigationMenu || ! isNavigationMenuPublishedOrDraft ),\n\n\t\t// getEditedEntityRecord will return the post regardless of status.\n\t\t// Therefore if the found post is not published then we should ignore it.\n\t\tnavigationMenu: isNavigationMenuPublishedOrDraft\n\t\t\t? editedNavigationMenu\n\t\t\t: null,\n\t};\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityRecords } from '@wordpress/core-data';\r\n\r\n/**\r\n * @typedef {Object} NavigationEntitiesData\r\n * @property {Array|undefined} pages                - a collection of WP Post entity objects of post type \"Page\".\r\n * @property {boolean}         isResolvingPages     - indicates whether the request to fetch pages is currently resolving.\r\n * @property {boolean}         hasResolvedPages     - indicates whether the request to fetch pages has finished resolving.\r\n * @property {Array|undefined} menus                - a collection of Menu entity objects.\r\n * @property {boolean}         isResolvingMenus     - indicates whether the request to fetch menus is currently resolving.\r\n * @property {boolean}         hasResolvedMenus     - indicates whether the request to fetch menus has finished resolving.\r\n * @property {Array|undefined} menusItems           - a collection of Menu Item entity objects for the current menuId.\r\n * @property {boolean}         hasResolvedMenuItems - indicates whether the request to fetch menuItems has finished resolving.\r\n * @property {boolean}         hasPages             - indicates whether there is currently any data for pages.\r\n * @property {boolean}         hasMenus             - indicates whether there is currently any data for menus.\r\n */\r\n\r\n/**\r\n * Manages fetching and resolution state for all entities required\r\n * for the Navigation block.\r\n *\r\n * @param {number} menuId the menu for which to retrieve menuItem data.\r\n * @return { NavigationEntitiesData } the entity data.\r\n */\r\nexport default function useNavigationEntities( menuId ) {\r\n\tconst {\r\n\t\trecords: menus,\r\n\t\tisResolving: isResolvingMenus,\r\n\t\thasResolved: hasResolvedMenus,\r\n\t} = useEntityRecords( 'root', 'menu', { per_page: -1, context: 'view' } );\r\n\r\n\tconst {\r\n\t\trecords: pages,\r\n\t\tisResolving: isResolvingPages,\r\n\t\thasResolved: hasResolvedPages,\r\n\t} = useEntityRecords( 'postType', 'page', {\r\n\t\tparent: 0,\r\n\t\torder: 'asc',\r\n\t\torderby: 'id',\r\n\t\tper_page: -1,\r\n\t\tcontext: 'view',\r\n\t} );\r\n\r\n\tconst { records: menuItems, hasResolved: hasResolvedMenuItems } =\r\n\t\tuseEntityRecords(\r\n\t\t\t'root',\r\n\t\t\t'menuItem',\r\n\t\t\t{\r\n\t\t\t\tmenus: menuId,\r\n\t\t\t\tper_page: -1,\r\n\t\t\t\tcontext: 'view',\r\n\t\t\t},\r\n\t\t\t{ enabled: !! menuId }\r\n\t\t);\r\n\r\n\treturn {\r\n\t\tpages,\r\n\t\tisResolvingPages,\r\n\t\thasResolvedPages,\r\n\t\thasPages: !! ( hasResolvedPages && pages?.length ),\r\n\r\n\t\tmenus,\r\n\t\tisResolvingMenus,\r\n\t\thasResolvedMenus,\r\n\t\thasMenus: !! ( hasResolvedMenus && menus?.length ),\r\n\r\n\t\tmenuItems,\r\n\t\thasResolvedMenuItems,\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Icon, navigation } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst PlaceholderPreview = ( { isVisible = true } ) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\taria-hidden={ ! isVisible ? true : undefined }\r\n\t\t\tclassName=\"wp-block-navigation-placeholder__preview\"\r\n\t\t>\r\n\t\t\t<div className=\"wp-block-navigation-placeholder__actions__indicator\">\r\n\t\t\t\t<Icon icon={ navigation } />\r\n\t\t\t\t{ __( 'Navigation' ) }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaceholderPreview;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst moreVertical = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default moreVertical;\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tMenuItemsChoice,\n\tDropdownMenu,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useEffect, useMemo, useState } from '@wordpress/element';\nimport { useEntityProp } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport useNavigationMenu from '../use-navigation-menu';\nimport useNavigationEntities from '../use-navigation-entities';\n\nfunction buildMenuLabel( title, id, status ) {\n\tif ( ! title ) {\n\t\t/* translators: %s is the index of the menu in the list of menus. */\n\t\treturn sprintf( __( '(no title %s)' ), id );\n\t}\n\n\tif ( status === 'publish' ) {\n\t\treturn decodeEntities( title );\n\t}\n\n\treturn sprintf(\n\t\t// translators: %1s: title of the menu; %2s: status of the menu (draft, pending, etc.).\n\t\t__( '%1$s (%2$s)' ),\n\t\tdecodeEntities( title ),\n\t\tstatus\n\t);\n}\n\nfunction NavigationMenuSelector( {\n\tcurrentMenuId,\n\tonSelectNavigationMenu,\n\tonSelectClassicMenu,\n\tonCreateNew,\n\tactionLabel,\n\tcreateNavigationMenuIsSuccess,\n\tcreateNavigationMenuIsError,\n} ) {\n\t/* translators: %s: The name of a menu. */\n\tconst createActionLabel = __( \"Create from '%s'\" );\n\n\tconst [ isUpdatingMenuRef, setIsUpdatingMenuRef ] = useState( false );\n\n\tactionLabel = actionLabel || createActionLabel;\n\n\tconst { menus: classicMenus } = useNavigationEntities();\n\n\tconst {\n\t\tnavigationMenus,\n\t\tisResolvingNavigationMenus,\n\t\thasResolvedNavigationMenus,\n\t\tcanUserCreateNavigationMenus,\n\t\tcanSwitchNavigationMenu,\n\t} = useNavigationMenu();\n\n\tconst [ currentTitle ] = useEntityProp(\n\t\t'postType',\n\t\t'wp_navigation',\n\t\t'title'\n\t);\n\n\tconst menuChoices = useMemo( () => {\n\t\treturn (\n\t\t\tnavigationMenus?.map( ( { id, title, status }, index ) => {\n\t\t\t\tconst label = buildMenuLabel(\n\t\t\t\t\ttitle?.rendered,\n\t\t\t\t\tindex + 1,\n\t\t\t\t\tstatus\n\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\tvalue: id,\n\t\t\t\t\tlabel,\n\t\t\t\t\tariaLabel: sprintf( actionLabel, label ),\n\t\t\t\t\tdisabled:\n\t\t\t\t\t\tisUpdatingMenuRef ||\n\t\t\t\t\t\tisResolvingNavigationMenus ||\n\t\t\t\t\t\t! hasResolvedNavigationMenus,\n\t\t\t\t};\n\t\t\t} ) || []\n\t\t);\n\t}, [\n\t\tnavigationMenus,\n\t\tactionLabel,\n\t\tisResolvingNavigationMenus,\n\t\thasResolvedNavigationMenus,\n\t\tisUpdatingMenuRef,\n\t] );\n\n\tconst hasNavigationMenus = !! navigationMenus?.length;\n\tconst hasClassicMenus = !! classicMenus?.length;\n\tconst showNavigationMenus = !! canSwitchNavigationMenu;\n\tconst showClassicMenus = !! canUserCreateNavigationMenus;\n\n\tconst noMenuSelected = hasNavigationMenus && ! currentMenuId;\n\tconst noBlockMenus = ! hasNavigationMenus && hasResolvedNavigationMenus;\n\tconst menuUnavailable =\n\t\thasResolvedNavigationMenus && currentMenuId === null;\n\n\tlet selectorLabel = '';\n\n\tif ( isResolvingNavigationMenus ) {\n\t\tselectorLabel = __( 'Loading…' );\n\t} else if ( noMenuSelected || noBlockMenus || menuUnavailable ) {\n\t\t// Note: classic Menus may be available.\n\t\tselectorLabel = __( 'Choose or create a Navigation menu' );\n\t} else {\n\t\t// Current Menu's title.\n\t\tselectorLabel = currentTitle;\n\t}\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tisUpdatingMenuRef &&\n\t\t\t( createNavigationMenuIsSuccess || createNavigationMenuIsError )\n\t\t) {\n\t\t\tsetIsUpdatingMenuRef( false );\n\t\t}\n\t}, [\n\t\thasResolvedNavigationMenus,\n\t\tcreateNavigationMenuIsSuccess,\n\t\tcanUserCreateNavigationMenus,\n\t\tcreateNavigationMenuIsError,\n\t\tisUpdatingMenuRef,\n\t\tmenuUnavailable,\n\t\tnoBlockMenus,\n\t\tnoMenuSelected,\n\t] );\n\n\tconst NavigationMenuSelectorDropdown = (\n\t\t<DropdownMenu\n\t\t\tlabel={ selectorLabel }\n\t\t\ticon={ moreVertical }\n\t\t\ttoggleProps={ { size: 'small' } }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t{ showNavigationMenus && hasNavigationMenus && (\n\t\t\t\t\t\t<MenuGroup label={ __( 'Menus' ) }>\n\t\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\t\tvalue={ currentMenuId }\n\t\t\t\t\t\t\t\tonSelect={ ( menuId ) => {\n\t\t\t\t\t\t\t\t\tonSelectNavigationMenu( menuId );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tchoices={ menuChoices }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t{ showClassicMenus && hasClassicMenus && (\n\t\t\t\t\t\t<MenuGroup label={ __( 'Import Classic Menus' ) }>\n\t\t\t\t\t\t\t{ classicMenus?.map( ( menu ) => {\n\t\t\t\t\t\t\t\tconst label = decodeEntities( menu.name );\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\t\t\tsetIsUpdatingMenuRef( true );\n\t\t\t\t\t\t\t\t\t\t\tawait onSelectClassicMenu( menu );\n\t\t\t\t\t\t\t\t\t\t\tsetIsUpdatingMenuRef( false );\n\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tkey={ menu.id }\n\t\t\t\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t\t\t\tcreateActionLabel,\n\t\t\t\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\tisUpdatingMenuRef ||\n\t\t\t\t\t\t\t\t\t\t\tisResolvingNavigationMenus ||\n\t\t\t\t\t\t\t\t\t\t\t! hasResolvedNavigationMenus\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ canUserCreateNavigationMenus && (\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\t\t\tsetIsUpdatingMenuRef( true );\n\t\t\t\t\t\t\t\t\tawait onCreateNew();\n\t\t\t\t\t\t\t\t\tsetIsUpdatingMenuRef( false );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tisUpdatingMenuRef ||\n\t\t\t\t\t\t\t\t\tisResolvingNavigationMenus ||\n\t\t\t\t\t\t\t\t\t! hasResolvedNavigationMenus\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Create new menu' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n\n\treturn NavigationMenuSelectorDropdown;\n}\n\nexport default NavigationMenuSelector;\n","/**\n * WordPress dependencies\n */\nimport { Placeholder, Button, Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { navigation, Icon } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useNavigationEntities from '../../use-navigation-entities';\nimport PlaceholderPreview from './placeholder-preview';\nimport NavigationMenuSelector from '../navigation-menu-selector';\n\nexport default function NavigationPlaceholder( {\n\tisSelected,\n\tcurrentMenuId,\n\tclientId,\n\tcanUserCreateNavigationMenus = false,\n\tisResolvingCanUserCreateNavigationMenus,\n\tonSelectNavigationMenu,\n\tonSelectClassicMenu,\n\tonCreateEmpty,\n} ) {\n\tconst { isResolvingMenus, hasResolvedMenus } = useNavigationEntities();\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isResolvingMenus ) {\n\t\t\tspeak( __( 'Loading navigation block setup options…' ) );\n\t\t}\n\n\t\tif ( hasResolvedMenus ) {\n\t\t\tspeak( __( 'Navigation block setup options ready.' ) );\n\t\t}\n\t}, [ hasResolvedMenus, isResolvingMenus, isSelected ] );\n\n\tconst isResolvingActions =\n\t\tisResolvingMenus && isResolvingCanUserCreateNavigationMenus;\n\n\treturn (\n\t\t<>\n\t\t\t<Placeholder className=\"wp-block-navigation-placeholder\">\n\t\t\t\t{\n\t\t\t\t\t// The <PlaceholderPreview> component is displayed conditionally via CSS depending on\n\t\t\t\t\t// whether the block is selected or not. This is achieved via CSS to avoid\n\t\t\t\t\t// component re-renders\n\t\t\t\t }\n\t\t\t\t<PlaceholderPreview isVisible={ ! isSelected } />\n\t\t\t\t<div\n\t\t\t\t\taria-hidden={ ! isSelected ? true : undefined }\n\t\t\t\t\tclassName=\"wp-block-navigation-placeholder__controls\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"wp-block-navigation-placeholder__actions\">\n\t\t\t\t\t\t<div className=\"wp-block-navigation-placeholder__actions__indicator\">\n\t\t\t\t\t\t\t<Icon icon={ navigation } /> { __( 'Navigation' ) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<hr />\n\n\t\t\t\t\t\t{ isResolvingActions && <Spinner /> }\n\n\t\t\t\t\t\t<NavigationMenuSelector\n\t\t\t\t\t\t\tcurrentMenuId={ currentMenuId }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<hr />\n\n\t\t\t\t\t\t{ canUserCreateNavigationMenus && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\tonClick={ onCreateEmpty }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Start empty' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Placeholder>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst menu = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default menu;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Rect } from '@wordpress/primitives';\r\nimport { Icon, menu } from '@wordpress/icons';\r\n\r\nexport default function OverlayMenuIcon( { icon } ) {\r\n\tif ( icon === 'menu' ) {\r\n\t\treturn <Icon icon={ menu } />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<SVG\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\twidth=\"24\"\r\n\t\t\theight=\"24\"\r\n\t\t\taria-hidden=\"true\"\r\n\t\t\tfocusable=\"false\"\r\n\t\t>\r\n\t\t\t<Rect x=\"4\" y=\"7.5\" width=\"16\" height=\"1.5\" />\r\n\t\t\t<Rect x=\"4\" y=\"15\" width=\"16\" height=\"1.5\" />\r\n\t\t</SVG>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { close, Icon } from '@wordpress/icons';\r\nimport { Button } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { getColorClassName } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport OverlayMenuIcon from './overlay-menu-icon';\r\n\r\nexport default function ResponsiveWrapper( {\r\n\tchildren,\r\n\tid,\r\n\tisOpen,\r\n\tisResponsive,\r\n\tonToggle,\r\n\tisHiddenByDefault,\r\n\toverlayBackgroundColor,\r\n\toverlayTextColor,\r\n\thasIcon,\r\n\ticon,\r\n} ) {\r\n\tif ( ! isResponsive ) {\r\n\t\treturn children;\r\n\t}\r\n\r\n\tconst responsiveContainerClasses = classnames(\r\n\t\t'wp-block-navigation__responsive-container',\r\n\t\t{\r\n\t\t\t'has-text-color':\r\n\t\t\t\t!! overlayTextColor.color || !! overlayTextColor?.class,\r\n\t\t\t[ getColorClassName( 'color', overlayTextColor?.slug ) ]:\r\n\t\t\t\t!! overlayTextColor?.slug,\r\n\t\t\t'has-background':\r\n\t\t\t\t!! overlayBackgroundColor.color ||\r\n\t\t\t\toverlayBackgroundColor?.class,\r\n\t\t\t[ getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\toverlayBackgroundColor?.slug\r\n\t\t\t) ]: !! overlayBackgroundColor?.slug,\r\n\t\t\t'is-menu-open': isOpen,\r\n\t\t\t'hidden-by-default': isHiddenByDefault,\r\n\t\t}\r\n\t);\r\n\r\n\tconst styles = {\r\n\t\tcolor: ! overlayTextColor?.slug && overlayTextColor?.color,\r\n\t\tbackgroundColor:\r\n\t\t\t! overlayBackgroundColor?.slug &&\r\n\t\t\toverlayBackgroundColor?.color &&\r\n\t\t\toverlayBackgroundColor.color,\r\n\t};\r\n\r\n\tconst openButtonClasses = classnames(\r\n\t\t'wp-block-navigation__responsive-container-open',\r\n\t\t{ 'always-shown': isHiddenByDefault }\r\n\t);\r\n\r\n\tconst modalId = `${ id }-modal`;\r\n\r\n\tconst dialogProps = {\r\n\t\tclassName: 'wp-block-navigation__responsive-dialog',\r\n\t\t...( isOpen && {\r\n\t\t\trole: 'dialog',\r\n\t\t\t'aria-modal': true,\r\n\t\t\t'aria-label': __( 'Menu' ),\r\n\t\t} ),\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ ! isOpen && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\taria-label={ hasIcon && __( 'Open menu' ) }\r\n\t\t\t\t\tclassName={ openButtonClasses }\r\n\t\t\t\t\tonClick={ () => onToggle( true ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ hasIcon && <OverlayMenuIcon icon={ icon } /> }\r\n\t\t\t\t\t{ ! hasIcon && __( 'Menu' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t) }\r\n\r\n\t\t\t<div\r\n\t\t\t\tclassName={ responsiveContainerClasses }\r\n\t\t\t\tstyle={ styles }\r\n\t\t\t\tid={ modalId }\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"wp-block-navigation__responsive-close\"\r\n\t\t\t\t\ttabIndex=\"-1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div { ...dialogProps }>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"wp-block-navigation__responsive-container-close\"\r\n\t\t\t\t\t\t\taria-label={ hasIcon && __( 'Close menu' ) }\r\n\t\t\t\t\t\t\tonClick={ () => onToggle( false ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ hasIcon && <Icon icon={ close } /> }\r\n\t\t\t\t\t\t\t{ ! hasIcon && __( 'Close' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"wp-block-navigation__responsive-container-content\"\r\n\t\t\t\t\t\t\tid={ `${ modalId }-content` }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ children }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useEntityBlockEditor } from '@wordpress/core-data';\nimport {\n\tuseInnerBlocksProps,\n\tInnerBlocks,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PlaceholderPreview from './placeholder/placeholder-preview';\nimport { DEFAULT_BLOCK, PRIORITIZED_INSERTER_BLOCKS } from '../constants';\n\nexport default function NavigationInnerBlocks( {\n\tclientId,\n\thasCustomPlaceholder,\n\torientation,\n\ttemplateLock,\n} ) {\n\tconst {\n\t\tisImmediateParentOfSelectedBlock,\n\t\tselectedBlockHasChildren,\n\t\tisSelected,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockCount,\n\t\t\t\thasSelectedInnerBlock,\n\t\t\t\tgetSelectedBlockClientId,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst selectedBlockId = getSelectedBlockClientId();\n\n\t\t\treturn {\n\t\t\t\tisImmediateParentOfSelectedBlock: hasSelectedInnerBlock(\n\t\t\t\t\tclientId,\n\t\t\t\t\tfalse\n\t\t\t\t),\n\t\t\t\tselectedBlockHasChildren: !! getBlockCount( selectedBlockId ),\n\n\t\t\t\t// This prop is already available but computing it here ensures it's\n\t\t\t\t// fresh compared to isImmediateParentOfSelectedBlock.\n\t\t\t\tisSelected: selectedBlockId === clientId,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\t'wp_navigation'\n\t);\n\n\t// When the block is selected itself or has a top level item selected that\n\t// doesn't itself have children, show the standard appender. Else show no\n\t// appender.\n\tconst parentOrChildHasSelection =\n\t\tisSelected ||\n\t\t( isImmediateParentOfSelectedBlock && ! selectedBlockHasChildren );\n\n\tconst placeholder = useMemo( () => <PlaceholderPreview />, [] );\n\n\tconst hasMenuItems = !! blocks?.length;\n\n\t// If there is a `ref` attribute pointing to a `wp_navigation` but\n\t// that menu has no **items** (i.e. empty) then show a placeholder.\n\t// The block must also be selected else the placeholder will display\n\t// alongside the appender.\n\tconst showPlaceholder =\n\t\t! hasCustomPlaceholder && ! hasMenuItems && ! isSelected;\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\tclassName: 'wp-block-navigation__container',\n\t\t},\n\t\t{\n\t\t\tvalue: blocks,\n\t\t\tonInput,\n\t\t\tonChange,\n\t\t\tprioritizedInserterBlocks: PRIORITIZED_INSERTER_BLOCKS,\n\t\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\t\tdirectInsert: true,\n\t\t\torientation,\n\t\t\ttemplateLock,\n\n\t\t\t// As an exception to other blocks which feature nesting, show\n\t\t\t// the block appender even when a child block is selected.\n\t\t\t// This should be a temporary fix, to be replaced by improvements to\n\t\t\t// the sibling inserter.\n\t\t\t// See https://github.com/WordPress/gutenberg/issues/37572.\n\t\t\trenderAppender:\n\t\t\t\tisSelected ||\n\t\t\t\t( isImmediateParentOfSelectedBlock &&\n\t\t\t\t\t! selectedBlockHasChildren ) ||\n\t\t\t\t// Show the appender while dragging to allow inserting element between item and the appender.\n\t\t\t\tparentOrChildHasSelection\n\t\t\t\t\t? InnerBlocks.ButtonBlockAppender\n\t\t\t\t\t: false,\n\t\t\tplaceholder: showPlaceholder ? placeholder : undefined,\n\t\t\t__experimentalCaptureToolbars: true,\n\t\t\t__unstableDisableLayoutClassNames: true,\n\t\t}\n\t);\n\n\treturn <div { ...innerBlocksProps } />;\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { TextControl } from '@wordpress/components';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function NavigationMenuNameControl() {\r\n\tconst [ title, updateTitle ] = useEntityProp(\r\n\t\t'postType',\r\n\t\t'wp_navigation',\r\n\t\t'title'\r\n\t);\r\n\r\n\treturn (\r\n\t\t<TextControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Menu name' ) }\r\n\t\t\tvalue={ title }\r\n\t\t\tonChange={ updateTitle }\r\n\t\t/>\r\n\t);\r\n}\r\n","export function areBlocksDirty( originalBlocks, blocks ) {\r\n\treturn ! isDeepEqual( originalBlocks, blocks, ( prop, x ) => {\r\n\t\t// Skip inner blocks of page list during comparison as they\r\n\t\t// are **always** controlled and may be updated async due to\r\n\t\t// syncing with entity records. Left unchecked this would\r\n\t\t// inadvertently trigger the dirty state.\r\n\t\tif ( x?.name === 'core/page-list' && prop === 'innerBlocks' ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} );\r\n}\r\n\r\n/**\r\n * Conditionally compares two candidates for deep equality.\r\n * Provides an option to skip a given property of an object during comparison.\r\n *\r\n * @param {*}                  x          1st candidate for comparison\r\n * @param {*}                  y          2nd candidate for comparison\r\n * @param {Function|undefined} shouldSkip a function which can be used to skip a given property of an object.\r\n * @return {boolean}                      whether the two candidates are deeply equal.\r\n */\r\nconst isDeepEqual = ( x, y, shouldSkip ) => {\r\n\tif ( x === y ) {\r\n\t\treturn true;\r\n\t} else if (\r\n\t\ttypeof x === 'object' &&\r\n\t\tx !== null &&\r\n\t\tx !== undefined &&\r\n\t\ttypeof y === 'object' &&\r\n\t\ty !== null &&\r\n\t\ty !== undefined\r\n\t) {\r\n\t\tif ( Object.keys( x ).length !== Object.keys( y ).length ) return false;\r\n\r\n\t\tfor ( const prop in x ) {\r\n\t\t\tif ( y.hasOwnProperty( prop ) ) {\r\n\t\t\t\t// Afford skipping a given property of an object.\r\n\t\t\t\tif ( shouldSkip && shouldSkip( prop, x ) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! isDeepEqual( x[ prop ], y[ prop ], shouldSkip ) )\r\n\t\t\t\t\treturn false;\r\n\t\t\t} else return false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n","/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps } from '@wordpress/block-editor';\nimport { Disabled } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useContext, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { areBlocksDirty } from './are-blocks-dirty';\nimport { DEFAULT_BLOCK, SELECT_NAVIGATION_MENUS_ARGS } from '../constants';\n\nconst EMPTY_OBJECT = {};\n\nexport default function UnsavedInnerBlocks( {\n\tblocks,\n\tcreateNavigationMenu,\n\thasSelection,\n} ) {\n\tconst originalBlocks = useRef();\n\n\tuseEffect( () => {\n\t\t// Initially store the uncontrolled inner blocks for\n\t\t// dirty state comparison.\n\t\tif ( ! originalBlocks?.current ) {\n\t\t\toriginalBlocks.current = blocks;\n\t\t}\n\t}, [ blocks ] );\n\n\t// If the current inner blocks are different from the original inner blocks\n\t// from the post content then the user has made changes to the inner blocks.\n\t// At this point the inner blocks can be considered \"dirty\".\n\t// Note: referential equality is not sufficient for comparison as the inner blocks\n\t// of the page list are controlled and may be updated async due to syncing with\n\t// entity records. As a result we need to perform a deep equality check skipping\n\t// the page list's inner blocks.\n\tconst innerBlocksAreDirty = areBlocksDirty(\n\t\toriginalBlocks?.current,\n\t\tblocks\n\t);\n\n\t// The block will be disabled in a block preview, use this as a way of\n\t// avoiding the side-effects of this component for block previews.\n\tconst isDisabled = useContext( Disabled.Context );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\tclassName: 'wp-block-navigation__container',\n\t\t},\n\t\t{\n\t\t\trenderAppender: hasSelection ? undefined : false,\n\t\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\t\tdirectInsert: true,\n\t\t}\n\t);\n\n\tconst { isSaving, hasResolvedAllNavigationMenus } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( isDisabled ) {\n\t\t\t\treturn EMPTY_OBJECT;\n\t\t\t}\n\n\t\t\tconst { hasFinishedResolution, isSavingEntityRecord } =\n\t\t\t\tselect( coreStore );\n\n\t\t\treturn {\n\t\t\t\tisSaving: isSavingEntityRecord( 'postType', 'wp_navigation' ),\n\t\t\t\thasResolvedAllNavigationMenus: hasFinishedResolution(\n\t\t\t\t\t'getEntityRecords',\n\t\t\t\t\tSELECT_NAVIGATION_MENUS_ARGS\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ isDisabled ]\n\t);\n\n\t// Automatically save the uncontrolled blocks.\n\tuseEffect( () => {\n\t\t// The block will be disabled when used in a BlockPreview.\n\t\t// In this case avoid automatic creation of a wp_navigation post.\n\t\t// Otherwise the user will be spammed with lots of menus!\n\t\t//\n\t\t// Also ensure other navigation menus have loaded so an\n\t\t// accurate name can be created.\n\t\t//\n\t\t// Don't try saving when another save is already\n\t\t// in progress.\n\t\t//\n\t\t// And finally only create the menu when the block is selected,\n\t\t// which is an indication they want to start editing.\n\t\tif (\n\t\t\tisDisabled ||\n\t\t\tisSaving ||\n\t\t\t! hasResolvedAllNavigationMenus ||\n\t\t\t! hasSelection ||\n\t\t\t! innerBlocksAreDirty\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tcreateNavigationMenu( null, blocks );\n\t}, [\n\t\tblocks,\n\t\tcreateNavigationMenu,\n\t\tisDisabled,\n\t\tisSaving,\n\t\thasResolvedAllNavigationMenus,\n\t\tinnerBlocksAreDirty,\n\t\thasSelection,\n\t] );\n\n\tconst Wrapper = isSaving ? Disabled : 'div';\n\n\treturn <Wrapper { ...innerBlocksProps } />;\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { store as coreStore, useEntityId } from '@wordpress/core-data';\nimport { useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nexport default function NavigationMenuDeleteControl( { onDelete } ) {\n\tconst [ isConfirmDialogVisible, setIsConfirmDialogVisible ] =\n\t\tuseState( false );\n\tconst id = useEntityId( 'postType', 'wp_navigation' );\n\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tclassName=\"wp-block-navigation-delete-menu-button\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tisDestructive\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsConfirmDialogVisible( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Delete menu' ) }\n\t\t\t</Button>\n\t\t\t{ isConfirmDialogVisible && (\n\t\t\t\t<ConfirmDialog\n\t\t\t\t\tisOpen\n\t\t\t\t\tonConfirm={ () => {\n\t\t\t\t\t\tdeleteEntityRecord( 'postType', 'wp_navigation', id, {\n\t\t\t\t\t\t\tforce: true,\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tonDelete();\n\t\t\t\t\t} }\n\t\t\t\t\tonCancel={ () => {\n\t\t\t\t\t\tsetIsConfirmDialogVisible( false );\n\t\t\t\t\t} }\n\t\t\t\t\tconfirmButtonText={ __( 'Delete' ) }\n\t\t\t\t>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Are you sure you want to delete this Navigation menu?'\n\t\t\t\t\t) }\n\t\t\t\t</ConfirmDialog>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useCallback, useRef } from '@wordpress/element';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as noticeStore } from '@wordpress/notices';\r\n\r\nfunction useNavigationNotice( { name, message = '' } = {} ) {\r\n\tconst noticeRef = useRef();\r\n\r\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticeStore );\r\n\r\n\tconst showNotice = useCallback(\r\n\t\t( customMsg ) => {\r\n\t\t\tif ( noticeRef.current ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnoticeRef.current = name;\r\n\r\n\t\t\tcreateWarningNotice( customMsg || message, {\r\n\t\t\t\tid: noticeRef.current,\r\n\t\t\t\ttype: 'snackbar',\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ noticeRef, createWarningNotice, message, name ]\r\n\t);\r\n\r\n\tconst hideNotice = useCallback( () => {\r\n\t\tif ( ! noticeRef.current ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tremoveNotice( noticeRef.current );\r\n\t\tnoticeRef.current = null;\r\n\t}, [ noticeRef, removeNotice ] );\r\n\r\n\treturn [ showNotice, hideNotice ];\r\n}\r\n\r\nexport default useNavigationNotice;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tToggleControl,\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport OverlayMenuIcon from './overlay-menu-icon';\r\n\r\nexport default function OverlayMenuPreview( { setAttributes, hasIcon, icon } ) {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToggleControl\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\tlabel={ __( 'Show icon button' ) }\r\n\t\t\t\thelp={ __(\r\n\t\t\t\t\t'Configure the visual appearance of the button that toggles the overlay menu.'\r\n\t\t\t\t) }\r\n\t\t\t\tonChange={ ( value ) => setAttributes( { hasIcon: value } ) }\r\n\t\t\t\tchecked={ hasIcon }\r\n\t\t\t/>\r\n\r\n\t\t\t<ToggleGroupControl\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\tlabel={ __( 'Icon' ) }\r\n\t\t\t\tvalue={ icon }\r\n\t\t\t\tonChange={ ( value ) => setAttributes( { icon: value } ) }\r\n\t\t\t\tisBlock\r\n\t\t\t>\r\n\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\tvalue=\"handle\"\r\n\t\t\t\t\taria-label={ __( 'handle' ) }\r\n\t\t\t\t\tlabel={ <OverlayMenuIcon icon=\"handle\" /> }\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleGroupControlOption\r\n\t\t\t\t\tvalue=\"menu\"\r\n\t\t\t\t\taria-label={ __( 'menu' ) }\r\n\t\t\t\t\tlabel={ <OverlayMenuIcon icon=\"menu\" /> }\r\n\t\t\t\t/>\r\n\t\t\t</ToggleGroupControl>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, parse } from '@wordpress/blocks';\r\nimport { applyFilters } from '@wordpress/hooks';\r\n\r\n/**\r\n * Convert a flat menu item structure to a nested blocks structure.\r\n *\r\n * @param {Object[]} menuItems An array of menu items.\r\n *\r\n * @return {WPBlock[]} An array of blocks.\r\n */\r\nexport default function menuItemsToBlocks( menuItems ) {\r\n\tif ( ! menuItems ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst menuTree = createDataTree( menuItems );\r\n\tconst blocks = mapMenuItemsToBlocks( menuTree );\r\n\treturn applyFilters(\r\n\t\t'blocks.navigation.__unstableMenuItemsToBlocks',\r\n\t\tblocks,\r\n\t\tmenuItems\r\n\t);\r\n}\r\n\r\n/**\r\n * A recursive function that maps menu item nodes to blocks.\r\n *\r\n * @param {WPNavMenuItem[]} menuItems An array of WPNavMenuItem items.\r\n * @param {number}          level     An integer representing the nesting level.\r\n * @return {Object} Object containing innerBlocks and mapping.\r\n */\r\nfunction mapMenuItemsToBlocks( menuItems, level = 0 ) {\r\n\tlet mapping = {};\r\n\r\n\t// The menuItem should be in menu_order sort order.\r\n\tconst sortedItems = [ ...menuItems ].sort(\r\n\t\t( a, b ) => a.menu_order - b.menu_order\r\n\t);\r\n\r\n\tconst innerBlocks = sortedItems.map( ( menuItem ) => {\r\n\t\tif ( menuItem.type === 'block' ) {\r\n\t\t\tconst [ block ] = parse( menuItem.content.raw );\r\n\r\n\t\t\tif ( ! block ) {\r\n\t\t\t\treturn createBlock( 'core/freeform', {\r\n\t\t\t\t\tcontent: menuItem.content,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\treturn block;\r\n\t\t}\r\n\r\n\t\tconst blockType = menuItem.children?.length\r\n\t\t\t? 'core/navigation-submenu'\r\n\t\t\t: 'core/navigation-link';\r\n\r\n\t\tconst attributes = menuItemToBlockAttributes(\r\n\t\t\tmenuItem,\r\n\t\t\tblockType,\r\n\t\t\tlevel\r\n\t\t);\r\n\r\n\t\t// If there are children recurse to build those nested blocks.\r\n\t\tconst {\r\n\t\t\tinnerBlocks: nestedBlocks = [], // alias to avoid shadowing\r\n\t\t\tmapping: nestedMapping = {}, // alias to avoid shadowing\r\n\t\t} = menuItem.children?.length\r\n\t\t\t? mapMenuItemsToBlocks( menuItem.children, level + 1 )\r\n\t\t\t: {};\r\n\r\n\t\t// Update parent mapping with nested mapping.\r\n\t\tmapping = {\r\n\t\t\t...mapping,\r\n\t\t\t...nestedMapping,\r\n\t\t};\r\n\r\n\t\t// Create block with nested \"innerBlocks\".\r\n\t\tconst block = createBlock( blockType, attributes, nestedBlocks );\r\n\r\n\t\t// Create mapping for menuItem -> block.\r\n\t\tmapping[ menuItem.id ] = block.clientId;\r\n\r\n\t\treturn block;\r\n\t} );\r\n\r\n\treturn {\r\n\t\tinnerBlocks,\r\n\t\tmapping,\r\n\t};\r\n}\r\n\r\n/**\r\n * A WP nav_menu_item object.\r\n * For more documentation on the individual fields present on a menu item please see:\r\n * https://core.trac.wordpress.org/browser/tags/5.7.1/src/wp-includes/nav-menu.php#L789\r\n *\r\n * @typedef WPNavMenuItem\r\n *\r\n * @property {Object} title       stores the raw and rendered versions of the title/label for this menu item.\r\n * @property {Array}  xfn         the XFN relationships expressed in the link of this menu item.\r\n * @property {Array}  classes     the HTML class attributes for this menu item.\r\n * @property {string} attr_title  the HTML title attribute for this menu item.\r\n * @property {string} object      The type of object originally represented, such as 'category', 'post', or 'attachment'.\r\n * @property {string} object_id   The DB ID of the original object this menu item represents, e.g. ID for posts and term_id for categories.\r\n * @property {string} description The description of this menu item.\r\n * @property {string} url         The URL to which this menu item points.\r\n * @property {string} type        The family of objects originally represented, such as 'post_type' or 'taxonomy'.\r\n * @property {string} target      The target attribute of the link element for this menu item.\r\n */\r\n\r\n/**\r\n * Convert block attributes to menu item.\r\n *\r\n * @param {WPNavMenuItem} menuItem  the menu item to be converted to block attributes.\r\n * @param {string}        blockType The block type.\r\n * @param {number}        level     An integer representing the nesting level.\r\n * @return {Object} the block attributes converted from the WPNavMenuItem item.\r\n */\r\nfunction menuItemToBlockAttributes(\r\n\t{\r\n\t\ttitle: menuItemTitleField,\r\n\t\txfn,\r\n\t\tclasses,\r\n\t\t// eslint-disable-next-line camelcase\r\n\t\tattr_title,\r\n\t\tobject,\r\n\t\t// eslint-disable-next-line camelcase\r\n\t\tobject_id,\r\n\t\tdescription,\r\n\t\turl,\r\n\t\ttype: menuItemTypeField,\r\n\t\ttarget,\r\n\t},\r\n\tblockType,\r\n\tlevel\r\n) {\r\n\t// For historical reasons, the `core/navigation-link` variation type is `tag`\r\n\t// whereas WP Core expects `post_tag` as the `object` type.\r\n\t// To avoid writing a block migration we perform a conversion here.\r\n\t// See also inverse equivalent in `blockAttributesToMenuItem`.\r\n\tif ( object && object === 'post_tag' ) {\r\n\t\tobject = 'tag';\r\n\t}\r\n\r\n\treturn {\r\n\t\tlabel: menuItemTitleField?.rendered || '',\r\n\t\t...( object?.length && {\r\n\t\t\ttype: object,\r\n\t\t} ),\r\n\t\tkind: menuItemTypeField?.replace( '_', '-' ) || 'custom',\r\n\t\turl: url || '',\r\n\t\t...( xfn?.length &&\r\n\t\t\txfn.join( ' ' ).trim() && {\r\n\t\t\t\trel: xfn.join( ' ' ).trim(),\r\n\t\t\t} ),\r\n\t\t...( classes?.length &&\r\n\t\t\tclasses.join( ' ' ).trim() && {\r\n\t\t\t\tclassName: classes.join( ' ' ).trim(),\r\n\t\t\t} ),\r\n\t\t/* eslint-disable camelcase */\r\n\t\t...( attr_title?.length && {\r\n\t\t\ttitle: attr_title,\r\n\t\t} ),\r\n\t\t...( object_id &&\r\n\t\t\t'custom' !== object && {\r\n\t\t\t\tid: object_id,\r\n\t\t\t} ),\r\n\t\t/* eslint-enable camelcase */\r\n\t\t...( description?.length && {\r\n\t\t\tdescription,\r\n\t\t} ),\r\n\t\t...( target === '_blank' && {\r\n\t\t\topensInNewTab: true,\r\n\t\t} ),\r\n\t\t...( blockType === 'core/navigation-submenu' && {\r\n\t\t\tisTopLevelItem: level === 0,\r\n\t\t} ),\r\n\t\t...( blockType === 'core/navigation-link' && {\r\n\t\t\tisTopLevelLink: level === 0,\r\n\t\t} ),\r\n\t};\r\n}\r\n\r\n/**\r\n * Creates a nested, hierarchical tree representation from unstructured data that\r\n * has an inherent relationship defined between individual items.\r\n *\r\n * For example, by default, each element in the dataset should have an `id` and\r\n * `parent` property where the `parent` property indicates a relationship between\r\n * the current item and another item with a matching `id` properties.\r\n *\r\n * This is useful for building linked lists of data from flat data structures.\r\n *\r\n * @param {Array}  dataset  linked data to be rearranged into a hierarchical tree based on relational fields.\r\n * @param {string} id       the property which uniquely identifies each entry within the array.\r\n * @param {*}      relation the property which identifies how the current item is related to other items in the data (if at all).\r\n * @return {Array} a nested array of parent/child relationships\r\n */\r\nfunction createDataTree( dataset, id = 'id', relation = 'parent' ) {\r\n\tconst hashTable = Object.create( null );\r\n\tconst dataTree = [];\r\n\r\n\tfor ( const data of dataset ) {\r\n\t\thashTable[ data[ id ] ] = {\r\n\t\t\t...data,\r\n\t\t\tchildren: [],\r\n\t\t};\r\n\t\tif ( data[ relation ] ) {\r\n\t\t\thashTable[ data[ relation ] ] = hashTable[ data[ relation ] ] || {};\r\n\t\t\thashTable[ data[ relation ] ].children =\r\n\t\t\t\thashTable[ data[ relation ] ].children || [];\r\n\t\t\thashTable[ data[ relation ] ].children.push(\r\n\t\t\t\thashTable[ data[ id ] ]\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdataTree.push( hashTable[ data[ id ] ] );\r\n\t\t}\r\n\t}\r\n\r\n\treturn dataTree;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useRegistry, useDispatch } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState, useCallback } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport menuItemsToBlocks from '../menu-items-to-blocks';\r\n\r\nexport const CLASSIC_MENU_CONVERSION_SUCCESS = 'success';\r\nexport const CLASSIC_MENU_CONVERSION_ERROR = 'error';\r\nexport const CLASSIC_MENU_CONVERSION_PENDING = 'pending';\r\nexport const CLASSIC_MENU_CONVERSION_IDLE = 'idle';\r\n\r\n// This is needed to ensure that multiple components using this hook\r\n// do not import the same classic menu twice.\r\nlet classicMenuBeingConvertedId = null;\r\n\r\nfunction useConvertClassicToBlockMenu(\r\n\tcreateNavigationMenu,\r\n\t{ throwOnError = false } = {}\r\n) {\r\n\tconst registry = useRegistry();\r\n\tconst { editEntityRecord } = useDispatch( coreStore );\r\n\r\n\tconst [ status, setStatus ] = useState( CLASSIC_MENU_CONVERSION_IDLE );\r\n\tconst [ error, setError ] = useState( null );\r\n\r\n\tconst convertClassicMenuToBlockMenu = useCallback(\r\n\t\tasync ( menuId, menuName, postStatus = 'publish' ) => {\r\n\t\t\tlet navigationMenu;\r\n\t\t\tlet classicMenuItems;\r\n\r\n\t\t\t// 1. Fetch the classic Menu items.\r\n\t\t\ttry {\r\n\t\t\t\tclassicMenuItems = await registry\r\n\t\t\t\t\t.resolveSelect( coreStore )\r\n\t\t\t\t\t.getMenuItems( {\r\n\t\t\t\t\t\tmenus: menuId,\r\n\t\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t\t} );\r\n\t\t\t} catch ( err ) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t\t__( `Unable to fetch classic menu \"%s\" from API.` ),\r\n\t\t\t\t\t\tmenuName\r\n\t\t\t\t\t),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Handle offline response which resolves to `null`.\r\n\t\t\tif ( classicMenuItems === null ) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t\t__( `Unable to fetch classic menu \"%s\" from API.` ),\r\n\t\t\t\t\t\tmenuName\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// 2. Convert the classic items into blocks.\r\n\t\t\tconst { innerBlocks } = menuItemsToBlocks( classicMenuItems );\r\n\r\n\t\t\t// 3. Create the `wp_navigation` Post with the blocks.\r\n\t\t\ttry {\r\n\t\t\t\tnavigationMenu = await createNavigationMenu(\r\n\t\t\t\t\tmenuName,\r\n\t\t\t\t\tinnerBlocks,\r\n\t\t\t\t\tpostStatus\r\n\t\t\t\t);\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Immediately trigger editEntityRecord to change the wp_navigation post status to 'publish'.\r\n\t\t\t\t * This status change causes the menu to be displayed on the front of the site and sets the post state to be \"dirty\".\r\n\t\t\t\t * The problem being solved is if saveEditedEntityRecord was used here, the menu would be updated on the frontend and the editor _automatically_,\r\n\t\t\t\t * without user interaction.\r\n\t\t\t\t * If the user abandons the site editor without saving, there would still be a wp_navigation post created as draft.\r\n\t\t\t\t */\r\n\t\t\t\tawait editEntityRecord(\r\n\t\t\t\t\t'postType',\r\n\t\t\t\t\t'wp_navigation',\r\n\t\t\t\t\tnavigationMenu.id,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstatus: 'publish',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ throwOnError: true }\r\n\t\t\t\t);\r\n\t\t\t} catch ( err ) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t\t__( `Unable to create Navigation Menu \"%s\".` ),\r\n\t\t\t\t\t\tmenuName\r\n\t\t\t\t\t),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn navigationMenu;\r\n\t\t},\r\n\t\t[ createNavigationMenu, editEntityRecord, registry ]\r\n\t);\r\n\r\n\tconst convert = useCallback(\r\n\t\tasync ( menuId, menuName, postStatus ) => {\r\n\t\t\t// Check whether this classic menu is being imported already.\r\n\t\t\tif ( classicMenuBeingConvertedId === menuId ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the ID for the currently importing classic menu.\r\n\t\t\tclassicMenuBeingConvertedId = menuId;\r\n\r\n\t\t\tif ( ! menuId || ! menuName ) {\r\n\t\t\t\tsetError( 'Unable to convert menu. Missing menu details.' );\r\n\t\t\t\tsetStatus( CLASSIC_MENU_CONVERSION_ERROR );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetStatus( CLASSIC_MENU_CONVERSION_PENDING );\r\n\t\t\tsetError( null );\r\n\r\n\t\t\treturn await convertClassicMenuToBlockMenu(\r\n\t\t\t\tmenuId,\r\n\t\t\t\tmenuName,\r\n\t\t\t\tpostStatus\r\n\t\t\t)\r\n\t\t\t\t.then( ( navigationMenu ) => {\r\n\t\t\t\t\tsetStatus( CLASSIC_MENU_CONVERSION_SUCCESS );\r\n\t\t\t\t\t// Reset the ID for the currently importing classic menu.\r\n\t\t\t\t\tclassicMenuBeingConvertedId = null;\r\n\t\t\t\t\treturn navigationMenu;\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( ( err ) => {\r\n\t\t\t\t\tsetError( err?.message );\r\n\t\t\t\t\t// Reset the ID for the currently importing classic menu.\r\n\t\t\t\t\tsetStatus( CLASSIC_MENU_CONVERSION_ERROR );\r\n\r\n\t\t\t\t\t// Reset the ID for the currently importing classic menu.\r\n\t\t\t\t\tclassicMenuBeingConvertedId = null;\r\n\r\n\t\t\t\t\t// Rethrow error for debugging.\r\n\t\t\t\t\tif ( throwOnError ) {\r\n\t\t\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\t\tsprintf(\r\n\t\t\t\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t\t\t\t__( `Unable to create Navigation Menu \"%s\".` ),\r\n\t\t\t\t\t\t\t\tmenuName\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t},\r\n\t\t[ convertClassicMenuToBlockMenu, throwOnError ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tconvert,\r\n\t\tstatus,\r\n\t\terror,\r\n\t};\r\n}\r\n\r\nexport default useConvertClassicToBlockMenu;\r\n","/**\r\n * Generates a template part Id based on slug and theme inputs.\r\n *\r\n * @param {string} theme the template part's theme.\r\n * @param {string} slug  the template part's slug\r\n * @return {string|null} the template part's Id.\r\n */\r\nexport function createTemplatePartId( theme, slug ) {\r\n\treturn theme && slug ? theme + '//' + slug : null;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Disabled } from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { useContext, useCallback } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useTemplatePartAreaLabel from '../use-template-part-area-label';\r\n\r\nconst DRAFT_MENU_PARAMS = [\r\n\t'postType',\r\n\t'wp_navigation',\r\n\t{ status: 'draft', per_page: -1 },\r\n];\r\n\r\nconst PUBLISHED_MENU_PARAMS = [\r\n\t'postType',\r\n\t'wp_navigation',\r\n\t{ per_page: -1, status: 'publish' },\r\n];\r\n\r\nexport default function useGenerateDefaultNavigationTitle( clientId ) {\r\n\t// The block will be disabled in a block preview, use this as a way of\r\n\t// avoiding the side-effects of this component for block previews.\r\n\tconst isDisabled = useContext( Disabled.Context );\r\n\r\n\t// Because we can't conditionally call hooks, pass an undefined client id\r\n\t// arg to bypass the expensive `useTemplateArea` code. The hook will return\r\n\t// early.\r\n\tconst area = useTemplatePartAreaLabel( isDisabled ? undefined : clientId );\r\n\r\n\tconst registry = useRegistry();\r\n\treturn useCallback( async () => {\r\n\t\t// Ensure other navigation menus have loaded so an\r\n\t\t// accurate name can be created.\r\n\t\tif ( isDisabled ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tconst { getEntityRecords } = registry.resolveSelect( coreStore );\r\n\r\n\t\tconst [ draftNavigationMenus, navigationMenus ] = await Promise.all( [\r\n\t\t\tgetEntityRecords( ...DRAFT_MENU_PARAMS ),\r\n\t\t\tgetEntityRecords( ...PUBLISHED_MENU_PARAMS ),\r\n\t\t] );\r\n\r\n\t\tconst title = area\r\n\t\t\t? sprintf(\r\n\t\t\t\t\t// translators: %s: the name of a menu (e.g. Header navigation).\r\n\t\t\t\t\t__( '%s navigation' ),\r\n\t\t\t\t\tarea\r\n\t\t\t  )\r\n\t\t\t: // translators: 'navigation' as in website navigation.\r\n\t\t\t  __( 'Navigation' );\r\n\r\n\t\t// Determine how many menus start with the automatic title.\r\n\t\tconst matchingMenuTitleCount = [\r\n\t\t\t...draftNavigationMenus,\r\n\t\t\t...navigationMenus,\r\n\t\t].reduce(\r\n\t\t\t( count, menu ) =>\r\n\t\t\t\tmenu?.title?.raw?.startsWith( title ) ? count + 1 : count,\r\n\t\t\t0\r\n\t\t);\r\n\r\n\t\t// Append a number to the end of the title if a menu with\r\n\t\t// the same name exists.\r\n\t\tconst titleWithCount =\r\n\t\t\tmatchingMenuTitleCount > 0\r\n\t\t\t\t? `${ title } ${ matchingMenuTitleCount + 1 }`\r\n\t\t\t\t: title;\r\n\r\n\t\treturn titleWithCount || '';\r\n\t}, [ isDisabled, area, registry ] );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { serialize } from '@wordpress/blocks';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { useState, useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useGenerateDefaultNavigationTitle from './use-generate-default-navigation-title';\r\n\r\nexport const CREATE_NAVIGATION_MENU_SUCCESS = 'success';\r\nexport const CREATE_NAVIGATION_MENU_ERROR = 'error';\r\nexport const CREATE_NAVIGATION_MENU_PENDING = 'pending';\r\nexport const CREATE_NAVIGATION_MENU_IDLE = 'idle';\r\n\r\nexport default function useCreateNavigationMenu( clientId ) {\r\n\tconst [ status, setStatus ] = useState( CREATE_NAVIGATION_MENU_IDLE );\r\n\tconst [ value, setValue ] = useState( null );\r\n\tconst [ error, setError ] = useState( null );\r\n\r\n\tconst { saveEntityRecord, editEntityRecord } = useDispatch( coreStore );\r\n\tconst generateDefaultTitle = useGenerateDefaultNavigationTitle( clientId );\r\n\r\n\t// This callback uses data from the two placeholder steps and only creates\r\n\t// a new navigation menu when the user completes the final step.\r\n\tconst create = useCallback(\r\n\t\tasync ( title = null, blocks = [], postStatus ) => {\r\n\t\t\t// Guard against creating Navigations without a title.\r\n\t\t\t// Note you can pass no title, but if one is passed it must be\r\n\t\t\t// a string otherwise the title may end up being empty.\r\n\t\t\tif ( title && typeof title !== 'string' ) {\r\n\t\t\t\tsetError(\r\n\t\t\t\t\t'Invalid title supplied when creating Navigation Menu.'\r\n\t\t\t\t);\r\n\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t`Value of supplied title argument was not a string.`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsetStatus( CREATE_NAVIGATION_MENU_PENDING );\r\n\t\t\tsetValue( null );\r\n\t\t\tsetError( null );\r\n\r\n\t\t\tif ( ! title ) {\r\n\t\t\t\ttitle = await generateDefaultTitle().catch( ( err ) => {\r\n\t\t\t\t\tsetError( err?.message );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\t'Failed to create title when saving new Navigation Menu.',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tconst record = {\r\n\t\t\t\ttitle,\r\n\t\t\t\tcontent: serialize( blocks ),\r\n\t\t\t\tstatus: postStatus,\r\n\t\t\t};\r\n\r\n\t\t\t// Return affords ability to await on this function directly\r\n\t\t\treturn saveEntityRecord( 'postType', 'wp_navigation', record )\r\n\t\t\t\t.then( ( response ) => {\r\n\t\t\t\t\tsetValue( response );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_SUCCESS );\r\n\r\n\t\t\t\t\t// Set the status to publish so that the Navigation block\r\n\t\t\t\t\t// shows up in the multi entity save flow.\r\n\t\t\t\t\tif ( postStatus !== 'publish' ) {\r\n\t\t\t\t\t\teditEntityRecord(\r\n\t\t\t\t\t\t\t'postType',\r\n\t\t\t\t\t\t\t'wp_navigation',\r\n\t\t\t\t\t\t\tresponse.id,\r\n\t\t\t\t\t\t\t{ status: 'publish' }\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( ( err ) => {\r\n\t\t\t\t\tsetError( err?.message );\r\n\t\t\t\t\tsetStatus( CREATE_NAVIGATION_MENU_ERROR );\r\n\t\t\t\t\tthrow new Error( 'Unable to save new Navigation Menu', {\r\n\t\t\t\t\t\tcause: err,\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t},\r\n\t\t[ saveEntityRecord, editEntityRecord, generateDefaultTitle ]\r\n\t);\r\n\r\n\treturn {\r\n\t\tcreate,\r\n\t\tstatus,\r\n\t\tvalue,\r\n\t\terror,\r\n\t\tisIdle: status === CREATE_NAVIGATION_MENU_IDLE,\r\n\t\tisPending: status === CREATE_NAVIGATION_MENU_PENDING,\r\n\t\tisSuccess: status === CREATE_NAVIGATION_MENU_SUCCESS,\r\n\t\tisError: status === CREATE_NAVIGATION_MENU_ERROR,\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nexport function useInnerBlocks( clientId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlock, getBlocks, hasSelectedInnerBlock } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\r\n\t\t\t// This relies on the fact that `getBlock` won't return controlled\r\n\t\t\t// inner blocks, while `getBlocks` does. It might be more stable to\r\n\t\t\t// introduce a selector like `getUncontrolledInnerBlocks`, just in\r\n\t\t\t// case `getBlock` is fixed.\r\n\t\t\tconst _uncontrolledInnerBlocks = getBlock( clientId ).innerBlocks;\r\n\r\n\t\t\tconst _hasUncontrolledInnerBlocks =\r\n\t\t\t\t!! _uncontrolledInnerBlocks?.length;\r\n\t\t\tconst _controlledInnerBlocks = _hasUncontrolledInnerBlocks\r\n\t\t\t\t? EMPTY_ARRAY\r\n\t\t\t\t: getBlocks( clientId );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tinnerBlocks: _hasUncontrolledInnerBlocks\r\n\t\t\t\t\t? _uncontrolledInnerBlocks\r\n\t\t\t\t\t: _controlledInnerBlocks,\r\n\t\t\t\thasUncontrolledInnerBlocks: _hasUncontrolledInnerBlocks,\r\n\t\t\t\tuncontrolledInnerBlocks: _uncontrolledInnerBlocks,\r\n\t\t\t\tcontrolledInnerBlocks: _controlledInnerBlocks,\r\n\t\t\t\tisInnerBlockSelected: hasSelectedInnerBlock( clientId, true ),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\nfunction getComputedStyle( node ) {\r\n\treturn node.ownerDocument.defaultView.getComputedStyle( node );\r\n}\r\n\r\nexport function detectColors(\r\n\tcolorsDetectionElement,\r\n\tsetColor,\r\n\tsetBackground\r\n) {\r\n\tif ( ! colorsDetectionElement ) {\r\n\t\treturn;\r\n\t}\r\n\tsetColor( getComputedStyle( colorsDetectionElement ).color );\r\n\r\n\tlet backgroundColorNode = colorsDetectionElement;\r\n\tlet backgroundColor =\r\n\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\r\n\twhile (\r\n\t\tbackgroundColor === 'rgba(0, 0, 0, 0)' &&\r\n\t\tbackgroundColorNode.parentNode &&\r\n\t\tbackgroundColorNode.parentNode.nodeType ===\r\n\t\t\tbackgroundColorNode.parentNode.ELEMENT_NODE\r\n\t) {\r\n\t\tbackgroundColorNode = backgroundColorNode.parentNode;\r\n\t\tbackgroundColor =\r\n\t\t\tgetComputedStyle( backgroundColorNode ).backgroundColor;\r\n\t}\r\n\r\n\tsetBackground( backgroundColor );\r\n}\r\n\r\n/**\r\n * Determine the colors for a menu.\r\n *\r\n * Order of priority is:\r\n * 1: Overlay custom colors (if submenu)\r\n * 2: Overlay theme colors (if submenu)\r\n * 3: Custom colors\r\n * 4: Theme colors\r\n * 5: Global styles\r\n *\r\n * @param {Object}  context\r\n * @param {boolean} isSubMenu\r\n */\r\nexport function getColors( context, isSubMenu ) {\r\n\tconst {\r\n\t\ttextColor,\r\n\t\tcustomTextColor,\r\n\t\tbackgroundColor,\r\n\t\tcustomBackgroundColor,\r\n\t\toverlayTextColor,\r\n\t\tcustomOverlayTextColor,\r\n\t\toverlayBackgroundColor,\r\n\t\tcustomOverlayBackgroundColor,\r\n\t\tstyle,\r\n\t} = context;\r\n\r\n\tconst colors = {};\r\n\r\n\tif ( isSubMenu && !! customOverlayTextColor ) {\r\n\t\tcolors.customTextColor = customOverlayTextColor;\r\n\t} else if ( isSubMenu && !! overlayTextColor ) {\r\n\t\tcolors.textColor = overlayTextColor;\r\n\t} else if ( !! customTextColor ) {\r\n\t\tcolors.customTextColor = customTextColor;\r\n\t} else if ( !! textColor ) {\r\n\t\tcolors.textColor = textColor;\r\n\t} else if ( !! style?.color?.text ) {\r\n\t\tcolors.customTextColor = style.color.text;\r\n\t}\r\n\r\n\tif ( isSubMenu && !! customOverlayBackgroundColor ) {\r\n\t\tcolors.customBackgroundColor = customOverlayBackgroundColor;\r\n\t} else if ( isSubMenu && !! overlayBackgroundColor ) {\r\n\t\tcolors.backgroundColor = overlayBackgroundColor;\r\n\t} else if ( !! customBackgroundColor ) {\r\n\t\tcolors.customBackgroundColor = customBackgroundColor;\r\n\t} else if ( !! backgroundColor ) {\r\n\t\tcolors.backgroundColor = backgroundColor;\r\n\t} else if ( !! style?.color?.background ) {\r\n\t\tcolors.customTextColor = style.color.background;\r\n\t}\r\n\r\n\treturn colors;\r\n}\r\n\r\nexport function getNavigationChildBlockProps( innerBlocksColors ) {\r\n\treturn {\r\n\t\tclassName: classnames( 'wp-block-navigation__submenu-container', {\r\n\t\t\t'has-text-color': !! (\r\n\t\t\t\tinnerBlocksColors.textColor || innerBlocksColors.customTextColor\r\n\t\t\t),\r\n\t\t\t[ `has-${ innerBlocksColors.textColor }-color` ]:\r\n\t\t\t\t!! innerBlocksColors.textColor,\r\n\t\t\t'has-background': !! (\r\n\t\t\t\tinnerBlocksColors.backgroundColor ||\r\n\t\t\t\tinnerBlocksColors.customBackgroundColor\r\n\t\t\t),\r\n\t\t\t[ `has-${ innerBlocksColors.backgroundColor }-background-color` ]:\r\n\t\t\t\t!! innerBlocksColors.backgroundColor,\r\n\t\t} ),\r\n\t\tstyle: {\r\n\t\t\tcolor: innerBlocksColors.customTextColor,\r\n\t\t\tbackgroundColor: innerBlocksColors.customBackgroundColor,\r\n\t\t},\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { Button, MenuItem } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst ManageMenusButton = ( {\r\n\tclassName = '',\r\n\tdisabled,\r\n\tisMenuItem = false,\r\n} ) => {\r\n\tlet ComponentName = Button;\r\n\tif ( isMenuItem ) {\r\n\t\tComponentName = MenuItem;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ComponentName\r\n\t\t\tvariant=\"link\"\r\n\t\t\tdisabled={ disabled }\r\n\t\t\tclassName={ className }\r\n\t\t\thref={ addQueryArgs( 'edit.php', {\r\n\t\t\t\tpost_type: 'wp_navigation',\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t{ __( 'Manage menus' ) }\r\n\t\t</ComponentName>\r\n\t);\r\n};\r\n\r\nexport default ManageMenusButton;\r\n","/**\n * WordPress dependencies\n */\nimport { Warning } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\n\nfunction DeletedNavigationWarning( { onCreateNew } ) {\n\treturn (\n\t\t<Warning>\n\t\t\t{ createInterpolateElement(\n\t\t\t\t__(\n\t\t\t\t\t'Navigation menu has been deleted or is unavailable. <button>Create a new menu?</button>'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tbutton: <Button onClick={ onCreateNew } variant=\"link\" />,\n\t\t\t\t}\n\t\t\t) }\n\t\t</Warning>\n\t);\n}\n\nexport default DeletedNavigationWarning;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst addSubmenu = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M2 12c0 3.6 2.4 5.5 6 5.5h.5V19l3-2.5-3-2.5v2H8c-2.5 0-4.5-1.5-4.5-4s2-4.5 4.5-4.5h3.5V6H8c-3.6 0-6 2.4-6 6zm19.5-1h-8v1.5h8V11zm0 5h-8v1.5h8V16zm0-10h-8v1.5h8V6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default addSubmenu;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst chevronUp = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default chevronUp;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst chevronDown = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default chevronDown;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport {\r\n\taddSubmenu,\r\n\tchevronUp,\r\n\tchevronDown,\r\n\tmoreVertical,\r\n} from '@wordpress/icons';\r\nimport { DropdownMenu, MenuItem, MenuGroup } from '@wordpress/components';\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { BlockTitle, store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nconst POPOVER_PROPS = {\r\n\tclassName: 'block-editor-block-settings-menu__popover',\r\n\tplacement: 'bottom-start',\r\n};\r\n\r\nconst BLOCKS_THAT_CAN_BE_CONVERTED_TO_SUBMENU = [\r\n\t'core/navigation-link',\r\n\t'core/navigation-submenu',\r\n];\r\n\r\nfunction AddSubmenuItem( {\r\n\tblock,\r\n\tonClose,\r\n\texpandedState,\r\n\texpand,\r\n\tsetInsertedBlock,\r\n} ) {\r\n\tconst { insertBlock, replaceBlock, replaceInnerBlocks } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst clientId = block.clientId;\r\n\tconst isDisabled = ! BLOCKS_THAT_CAN_BE_CONVERTED_TO_SUBMENU.includes(\r\n\t\tblock.name\r\n\t);\r\n\treturn (\r\n\t\t<MenuItem\r\n\t\t\ticon={ addSubmenu }\r\n\t\t\tdisabled={ isDisabled }\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tconst updateSelectionOnInsert = false;\r\n\t\t\t\tconst newLink = createBlock( 'core/navigation-link' );\r\n\r\n\t\t\t\tif ( block.name === 'core/navigation-submenu' ) {\r\n\t\t\t\t\tinsertBlock(\r\n\t\t\t\t\t\tnewLink,\r\n\t\t\t\t\t\tblock.innerBlocks.length,\r\n\t\t\t\t\t\tclientId,\r\n\t\t\t\t\t\tupdateSelectionOnInsert\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Convert to a submenu if the block currently isn't one.\r\n\t\t\t\t\tconst newSubmenu = createBlock(\r\n\t\t\t\t\t\t'core/navigation-submenu',\r\n\t\t\t\t\t\tblock.attributes,\r\n\t\t\t\t\t\tblock.innerBlocks\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// The following must happen as two independent actions.\r\n\t\t\t\t\t// Why? Because the offcanvas editor relies on the getLastInsertedBlocksClientIds\r\n\t\t\t\t\t// selector to determine which block is \"active\". As the UX needs the newLink to be\r\n\t\t\t\t\t// the \"active\" block it must be the last block to be inserted.\r\n\t\t\t\t\t// Therefore the Submenu is first created and **then** the newLink is inserted\r\n\t\t\t\t\t// thus ensuring it is the last inserted block.\r\n\t\t\t\t\treplaceBlock( clientId, newSubmenu );\r\n\r\n\t\t\t\t\treplaceInnerBlocks(\r\n\t\t\t\t\t\tnewSubmenu.clientId,\r\n\t\t\t\t\t\t[ newLink ],\r\n\t\t\t\t\t\tupdateSelectionOnInsert\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// This call sets the local List View state for the \"last inserted block\".\r\n\t\t\t\t// This is required for the Nav Block to determine whether or not to display\r\n\t\t\t\t// the Link UI for this new block.\r\n\t\t\t\tsetInsertedBlock( newLink );\r\n\r\n\t\t\t\tif ( ! expandedState[ block.clientId ] ) {\r\n\t\t\t\t\texpand( block.clientId );\r\n\t\t\t\t}\r\n\t\t\t\tonClose();\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ __( 'Add submenu link' ) }\r\n\t\t</MenuItem>\r\n\t);\r\n}\r\n\r\nexport default function LeafMoreMenu( props ) {\r\n\tconst { block } = props;\r\n\tconst { clientId } = block;\r\n\r\n\tconst { moveBlocksDown, moveBlocksUp, removeBlocks } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\r\n\tconst removeLabel = sprintf(\r\n\t\t/* translators: %s: block name */\r\n\t\t__( 'Remove %s' ),\r\n\t\tBlockTitle( { clientId, maximumLength: 25 } )\r\n\t);\r\n\r\n\tconst rootClientId = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\r\n\r\n\t\t\treturn getBlockRootClientId( clientId );\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<DropdownMenu\r\n\t\t\ticon={ moreVertical }\r\n\t\t\tlabel={ __( 'Options' ) }\r\n\t\t\tclassName=\"block-editor-block-settings-menu\"\r\n\t\t\tpopoverProps={ POPOVER_PROPS }\r\n\t\t\tnoIcons\r\n\t\t\t{ ...props }\r\n\t\t>\r\n\t\t\t{ ( { onClose } ) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\ticon={ chevronUp }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tmoveBlocksUp( [ clientId ], rootClientId );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Move up' ) }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\ticon={ chevronDown }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tmoveBlocksDown( [ clientId ], rootClientId );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Move down' ) }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t<AddSubmenuItem\r\n\t\t\t\t\t\t\tblock={ block }\r\n\t\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t\t\texpanded\r\n\t\t\t\t\t\t\texpandedState={ props.expandedState }\r\n\t\t\t\t\t\t\texpand={ props.expand }\r\n\t\t\t\t\t\t\tsetInsertedBlock={ props.setInsertedBlock }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t<MenuGroup>\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tremoveBlocks( [ clientId ], false );\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ removeLabel }\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</DropdownMenu>\r\n\t);\r\n}\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"escapeHtml\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { escapeHTML } from '@wordpress/escape-html';\r\nimport { safeDecodeURI } from '@wordpress/url';\r\n\r\n/**\r\n * @typedef {'post-type'|'custom'|'taxonomy'|'post-type-archive'} WPNavigationLinkKind\r\n */\r\n/**\r\n * Navigation Link Block Attributes\r\n *\r\n * @typedef {Object} WPNavigationLinkBlockAttributes\r\n *\r\n * @property {string}               [label]         Link text.\r\n * @property {WPNavigationLinkKind} [kind]          Kind is used to differentiate between term and post ids to check post draft status.\r\n * @property {string}               [type]          The type such as post, page, tag, category and other custom types.\r\n * @property {string}               [rel]           The relationship of the linked URL.\r\n * @property {number}               [id]            A post or term id.\r\n * @property {boolean}              [opensInNewTab] Sets link target to _blank when true.\r\n * @property {string}               [url]           Link href.\r\n * @property {string}               [title]         Link title attribute.\r\n */\r\n/**\r\n * Link Control onChange handler that updates block attributes when a setting is changed.\r\n *\r\n * @param {Object}                          updatedValue    New block attributes to update.\r\n * @param {Function}                        setAttributes   Block attribute update function.\r\n * @param {WPNavigationLinkBlockAttributes} blockAttributes Current block attributes.\r\n */\r\n\r\nexport const updateAttributes = (\r\n\tupdatedValue = {},\r\n\tsetAttributes,\r\n\tblockAttributes = {}\r\n) => {\r\n\tconst {\r\n\t\tlabel: originalLabel = '',\r\n\t\tkind: originalKind = '',\r\n\t\ttype: originalType = '',\r\n\t} = blockAttributes;\r\n\r\n\tconst {\r\n\t\ttitle: newLabel = '', // the title of any provided Post.\r\n\t\turl: newUrl = '',\r\n\t\topensInNewTab,\r\n\t\tid,\r\n\t\tkind: newKind = originalKind,\r\n\t\ttype: newType = originalType,\r\n\t} = updatedValue;\r\n\r\n\tconst newLabelWithoutHttp = newLabel.replace( /http(s?):\\/\\//gi, '' );\r\n\tconst newUrlWithoutHttp = newUrl.replace( /http(s?):\\/\\//gi, '' );\r\n\r\n\tconst useNewLabel =\r\n\t\tnewLabel &&\r\n\t\tnewLabel !== originalLabel &&\r\n\t\t// LinkControl without the title field relies\r\n\t\t// on the check below. Specifically, it assumes that\r\n\t\t// the URL is the same as a title.\r\n\t\t// This logic a) looks suspicious and b) should really\r\n\t\t// live in the LinkControl and not here. It's a great\r\n\t\t// candidate for future refactoring.\r\n\t\tnewLabelWithoutHttp !== newUrlWithoutHttp;\r\n\r\n\t// Unfortunately this causes the escaping model to be inverted.\r\n\t// The escaped content is stored in the block attributes (and ultimately in the database),\r\n\t// and then the raw data is \"recovered\" when outputting into the DOM.\r\n\t// It would be preferable to store the **raw** data in the block attributes and escape it in JS.\r\n\t// Why? Because there isn't one way to escape data. Depending on the context, you need to do\r\n\t// different transforms. It doesn't make sense to me to choose one of them for the purposes of storage.\r\n\t// See also:\r\n\t// - https://github.com/WordPress/gutenberg/pull/41063\r\n\t// - https://github.com/WordPress/gutenberg/pull/18617.\r\n\tconst label = useNewLabel\r\n\t\t? escapeHTML( newLabel )\r\n\t\t: originalLabel || escapeHTML( newUrlWithoutHttp );\r\n\r\n\t// In https://github.com/WordPress/gutenberg/pull/24670 we decided to use \"tag\" in favor of \"post_tag\"\r\n\tconst type = newType === 'post_tag' ? 'tag' : newType.replace( '-', '_' );\r\n\r\n\tconst isBuiltInType =\r\n\t\t[ 'post', 'page', 'tag', 'category' ].indexOf( type ) > -1;\r\n\r\n\tconst isCustomLink =\r\n\t\t( ! newKind && ! isBuiltInType ) || newKind === 'custom';\r\n\tconst kind = isCustomLink ? 'custom' : newKind;\r\n\r\n\tsetAttributes( {\r\n\t\t// Passed `url` may already be encoded. To prevent double encoding, decodeURI is executed to revert to the original string.\r\n\t\t...( newUrl && { url: encodeURI( safeDecodeURI( newUrl ) ) } ),\r\n\t\t...( label && { label } ),\r\n\t\t...( undefined !== opensInNewTab && { opensInNewTab } ),\r\n\t\t...( id && Number.isInteger( id ) && { id } ),\r\n\t\t...( kind && { kind } ),\r\n\t\t...( type && type !== 'URL' && { type } ),\r\n\t} );\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst chevronLeftSmall = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default chevronLeftSmall;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst plus = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default plus;\r\n","/**\n * WordPress dependencies\n */\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\nimport {\n\tPopover,\n\tButton,\n\tVisuallyHidden,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\t__experimentalLinkControl as LinkControl,\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport {\n\tcreateInterpolateElement,\n\tuseMemo,\n\tuseState,\n\tuseRef,\n\tuseEffect,\n} from '@wordpress/element';\nimport {\n\tstore as coreStore,\n\tuseResourcePermissions,\n} from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { chevronLeftSmall, plus } from '@wordpress/icons';\nimport { useInstanceId, useFocusOnMount } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nconst { PrivateQuickInserter: QuickInserter } = unlock(\n\tblockEditorPrivateApis\n);\n\n/**\n * Given the Link block's type attribute, return the query params to give to\n * /wp/v2/search.\n *\n * @param {string} type Link block's type attribute.\n * @param {string} kind Link block's entity of kind (post-type|taxonomy)\n * @return {{ type?: string, subtype?: string }} Search query params.\n */\nexport function getSuggestionsQuery( type, kind ) {\n\tswitch ( type ) {\n\t\tcase 'post':\n\t\tcase 'page':\n\t\t\treturn { type: 'post', subtype: type };\n\t\tcase 'category':\n\t\t\treturn { type: 'term', subtype: 'category' };\n\t\tcase 'tag':\n\t\t\treturn { type: 'term', subtype: 'post_tag' };\n\t\tcase 'post_format':\n\t\t\treturn { type: 'post-format' };\n\t\tdefault:\n\t\t\tif ( kind === 'taxonomy' ) {\n\t\t\t\treturn { type: 'term', subtype: type };\n\t\t\t}\n\t\t\tif ( kind === 'post-type' ) {\n\t\t\t\treturn { type: 'post', subtype: type };\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t// for custom link which has no type\n\t\t\t\t// always show pages as initial suggestions\n\t\t\t\tinitialSuggestionsSearchOptions: {\n\t\t\t\t\ttype: 'post',\n\t\t\t\t\tsubtype: 'page',\n\t\t\t\t\tperPage: 20,\n\t\t\t\t},\n\t\t\t};\n\t}\n}\n\nfunction LinkUIBlockInserter( { clientId, onBack, onSelectBlock } ) {\n\tconst { rootBlockClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId } = select( blockEditorStore );\n\n\t\t\treturn {\n\t\t\t\trootBlockClientId: getBlockRootClientId( clientId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\n\tconst dialogTitleId = useInstanceId(\n\t\tLinkControl,\n\t\t`link-ui-block-inserter__title`\n\t);\n\tconst dialogDescritionId = useInstanceId(\n\t\tLinkControl,\n\t\t`link-ui-block-inserter__description`\n\t);\n\n\tif ( ! clientId ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"link-ui-block-inserter\"\n\t\t\trole=\"dialog\"\n\t\t\taria-labelledby={ dialogTitleId }\n\t\t\taria-describedby={ dialogDescritionId }\n\t\t\tref={ focusOnMountRef }\n\t\t>\n\t\t\t<VisuallyHidden>\n\t\t\t\t<h2 id={ dialogTitleId }>{ __( 'Add block' ) }</h2>\n\n\t\t\t\t<p id={ dialogDescritionId }>\n\t\t\t\t\t{ __( 'Choose a block to add to your Navigation.' ) }\n\t\t\t\t</p>\n\t\t\t</VisuallyHidden>\n\n\t\t\t<Button\n\t\t\t\tclassName=\"link-ui-block-inserter__back\"\n\t\t\t\ticon={ chevronLeftSmall }\n\t\t\t\tonClick={ ( e ) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tonBack();\n\t\t\t\t} }\n\t\t\t\tsize=\"small\"\n\t\t\t>\n\t\t\t\t{ __( 'Back' ) }\n\t\t\t</Button>\n\n\t\t\t<QuickInserter\n\t\t\t\trootClientId={ rootBlockClientId }\n\t\t\t\tclientId={ clientId }\n\t\t\t\tisAppender={ false }\n\t\t\t\tprioritizePatterns={ false }\n\t\t\t\tselectBlockOnInsert\n\t\t\t\thasSearch={ false }\n\t\t\t\tonSelect={ onSelectBlock }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport function LinkUI( props ) {\n\tconst [ addingBlock, setAddingBlock ] = useState( false );\n\tconst [ focusAddBlockButton, setFocusAddBlockButton ] = useState( false );\n\tconst [ showBackdrop, setShowBackdrop ] = useState( true );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst pagesPermissions = useResourcePermissions( 'pages' );\n\tconst postsPermissions = useResourcePermissions( 'posts' );\n\n\tasync function handleCreate( pageTitle ) {\n\t\tconst postType = props.link.type || 'page';\n\n\t\tconst page = await saveEntityRecord( 'postType', postType, {\n\t\t\ttitle: pageTitle,\n\t\t\tstatus: 'draft',\n\t\t} );\n\n\t\treturn {\n\t\t\tid: page.id,\n\t\t\ttype: postType,\n\t\t\t// Make `title` property consistent with that in `fetchLinkSuggestions` where the `rendered` title (containing HTML entities)\n\t\t\t// is also being decoded. By being consistent in both locations we avoid having to branch in the rendering output code.\n\t\t\t// Ideally in the future we will update both APIs to utilise the \"raw\" form of the title which is better suited to edit contexts.\n\t\t\t// e.g.\n\t\t\t// - title.raw = \"Yes & No\"\n\t\t\t// - title.rendered = \"Yes &#038; No\"\n\t\t\t// - decodeEntities( title.rendered ) = \"Yes & No\"\n\t\t\t// See:\n\t\t\t// - https://github.com/WordPress/gutenberg/pull/41063\n\t\t\t// - https://github.com/WordPress/gutenberg/blob/a1e1fdc0e6278457e9f4fc0b31ac6d2095f5450b/packages/core-data/src/fetch/__experimental-fetch-link-suggestions.js#L212-L218\n\t\t\ttitle: decodeEntities( page.title.rendered ),\n\t\t\turl: page.link,\n\t\t\tkind: 'post-type',\n\t\t};\n\t}\n\n\tconst { label, url, opensInNewTab, type, kind } = props.link;\n\n\tlet userCanCreate = false;\n\tif ( ! type || type === 'page' ) {\n\t\tuserCanCreate = pagesPermissions.canCreate;\n\t} else if ( type === 'post' ) {\n\t\tuserCanCreate = postsPermissions.canCreate;\n\t}\n\n\t// Memoize link value to avoid overriding the LinkControl's internal state.\n\t// This is a temporary fix. See https://github.com/WordPress/gutenberg/issues/50976#issuecomment-1568226407.\n\tconst link = useMemo(\n\t\t() => ( {\n\t\t\turl,\n\t\t\topensInNewTab,\n\t\t\ttitle: label && stripHTML( label ),\n\t\t} ),\n\t\t[ label, opensInNewTab, url ]\n\t);\n\n\tconst dialogTitleId = useInstanceId(\n\t\tLinkUI,\n\t\t`link-ui-link-control__title`\n\t);\n\tconst dialogDescritionId = useInstanceId(\n\t\tLinkUI,\n\t\t`link-ui-link-control__description`\n\t);\n\n\t// Selecting a block should close the popover and also remove the (previously) automatically inserted\n\t// link block so that the newly selected block can be inserted in its place.\n\tconst { onClose: onSelectBlock } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{ showBackdrop && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"components-popover-pointer-events-trap\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tonClick={ () => setShowBackdrop( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<Popover\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\tonClose={ props.onClose }\n\t\t\t\tanchor={ props.anchor }\n\t\t\t\tshift\n\t\t\t>\n\t\t\t\t{ ! addingBlock && (\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"dialog\"\n\t\t\t\t\t\taria-labelledby={ dialogTitleId }\n\t\t\t\t\t\taria-describedby={ dialogDescritionId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisuallyHidden>\n\t\t\t\t\t\t\t<h2 id={ dialogTitleId }>{ __( 'Add link' ) }</h2>\n\n\t\t\t\t\t\t\t<p id={ dialogDescritionId }>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Search for and add a link to your Navigation.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t<LinkControl\n\t\t\t\t\t\t\thasTextControl\n\t\t\t\t\t\t\thasRichPreviews\n\t\t\t\t\t\t\tvalue={ link }\n\t\t\t\t\t\t\tshowInitialSuggestions\n\t\t\t\t\t\t\twithCreateSuggestion={ userCanCreate }\n\t\t\t\t\t\t\tcreateSuggestion={ handleCreate }\n\t\t\t\t\t\t\tcreateSuggestionButtonText={ ( searchTerm ) => {\n\t\t\t\t\t\t\t\tlet format;\n\n\t\t\t\t\t\t\t\tif ( type === 'post' ) {\n\t\t\t\t\t\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t\t\t\t\t\tformat = __(\n\t\t\t\t\t\t\t\t\t\t'Create draft post: <mark>%s</mark>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t/* translators: %s: search term. */\n\t\t\t\t\t\t\t\t\tformat = __(\n\t\t\t\t\t\t\t\t\t\t'Create draft page: <mark>%s</mark>'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn createInterpolateElement(\n\t\t\t\t\t\t\t\t\tsprintf( format, searchTerm ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmark: <mark />,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tnoDirectEntry={ !! type }\n\t\t\t\t\t\t\tnoURLSuggestion={ !! type }\n\t\t\t\t\t\t\tsuggestionsQuery={ getSuggestionsQuery(\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tkind\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonChange={ props.onChange }\n\t\t\t\t\t\t\tonRemove={ props.onRemove }\n\t\t\t\t\t\t\tonCancel={ props.onCancel }\n\t\t\t\t\t\t\trenderControlBottom={ () =>\n\t\t\t\t\t\t\t\t! link?.url?.length && (\n\t\t\t\t\t\t\t\t\t<LinkUITools\n\t\t\t\t\t\t\t\t\t\tfocusAddBlockButton={\n\t\t\t\t\t\t\t\t\t\t\tfocusAddBlockButton\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsetAddingBlock={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetAddingBlock( true );\n\t\t\t\t\t\t\t\t\t\t\tsetFocusAddBlockButton( false );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\n\t\t\t\t{ addingBlock && (\n\t\t\t\t\t<LinkUIBlockInserter\n\t\t\t\t\t\tclientId={ props.clientId }\n\t\t\t\t\t\tonBack={ () => {\n\t\t\t\t\t\t\tsetAddingBlock( false );\n\t\t\t\t\t\t\tsetFocusAddBlockButton( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tonSelectBlock={ onSelectBlock }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Popover>\n\t\t</>\n\t);\n}\n\nconst LinkUITools = ( { setAddingBlock, focusAddBlockButton } ) => {\n\tconst blockInserterAriaRole = 'listbox';\n\tconst addBlockButtonRef = useRef();\n\n\t// Focus the add block button when the popover is opened.\n\tuseEffect( () => {\n\t\tif ( focusAddBlockButton ) {\n\t\t\taddBlockButtonRef.current?.focus();\n\t\t}\n\t}, [ focusAddBlockButton ] );\n\n\treturn (\n\t\t<VStack className=\"link-ui-tools\">\n\t\t\t<Button\n\t\t\t\tref={ addBlockButtonRef }\n\t\t\t\ticon={ plus }\n\t\t\t\tonClick={ ( e ) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetAddingBlock( true );\n\t\t\t\t} }\n\t\t\t\taria-haspopup={ blockInserterAriaRole }\n\t\t\t>\n\t\t\t\t{ __( 'Add block' ) }\n\t\t\t</Button>\n\t\t</VStack>\n\t);\n};\n\nexport default LinkUITools;\n","/**\n * WordPress dependencies\n */\nimport {\n\tprivateApis as blockEditorPrivateApis,\n\tInspectorControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\tSpinner,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport NavigationMenuSelector from './navigation-menu-selector';\nimport { unlock } from '../../lock-unlock';\nimport DeletedNavigationWarning from './deleted-navigation-warning';\nimport useNavigationMenu from '../use-navigation-menu';\nimport LeafMoreMenu from './leaf-more-menu';\nimport { updateAttributes } from '../../navigation-link/update-attributes';\nimport { LinkUI } from '../../navigation-link/link-ui';\n\n/* translators: %s: The name of a menu. */\nconst actionLabel = __( \"Switch to '%s'\" );\nconst BLOCKS_WITH_LINK_UI_SUPPORT = [\n\t'core/navigation-link',\n\t'core/navigation-submenu',\n];\nconst { PrivateListView } = unlock( blockEditorPrivateApis );\n\nfunction AdditionalBlockContent( { block, insertedBlock, setInsertedBlock } ) {\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tconst supportsLinkControls = BLOCKS_WITH_LINK_UI_SUPPORT?.includes(\n\t\tinsertedBlock?.name\n\t);\n\tconst blockWasJustInserted = insertedBlock?.clientId === block.clientId;\n\tconst showLinkControls = supportsLinkControls && blockWasJustInserted;\n\n\tif ( ! showLinkControls ) {\n\t\treturn null;\n\t}\n\n\tconst setInsertedBlockAttributes =\n\t\t( _insertedBlockClientId ) => ( _updatedAttributes ) => {\n\t\t\tif ( ! _insertedBlockClientId ) return;\n\t\t\tupdateBlockAttributes( _insertedBlockClientId, _updatedAttributes );\n\t\t};\n\n\treturn (\n\t\t<LinkUI\n\t\t\tclientId={ insertedBlock?.clientId }\n\t\t\tlink={ insertedBlock?.attributes }\n\t\t\tonClose={ () => {\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t\tonChange={ ( updatedValue ) => {\n\t\t\t\tupdateAttributes(\n\t\t\t\t\tupdatedValue,\n\t\t\t\t\tsetInsertedBlockAttributes( insertedBlock?.clientId ),\n\t\t\t\t\tinsertedBlock?.attributes\n\t\t\t\t);\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t\tonCancel={ () => {\n\t\t\t\tsetInsertedBlock( null );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nconst MainContent = ( {\n\tclientId,\n\tcurrentMenuId,\n\tisLoading,\n\tisNavigationMenuMissing,\n\tonCreateNew,\n} ) => {\n\tconst hasChildren = useSelect(\n\t\t( select ) => {\n\t\t\treturn !! select( blockEditorStore ).getBlockCount( clientId );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst { navigationMenu } = useNavigationMenu( currentMenuId );\n\n\tif ( currentMenuId && isNavigationMenuMissing ) {\n\t\treturn <DeletedNavigationWarning onCreateNew={ onCreateNew } />;\n\t}\n\n\tif ( isLoading ) {\n\t\treturn <Spinner />;\n\t}\n\n\tconst description = navigationMenu\n\t\t? sprintf(\n\t\t\t\t/* translators: %s: The name of a menu. */\n\t\t\t\t__( 'Structure for navigation menu: %s' ),\n\t\t\t\tnavigationMenu?.title || __( 'Untitled menu' )\n\t\t  )\n\t\t: __(\n\t\t\t\t'You have not yet created any menus. Displaying a list of your Pages'\n\t\t  );\n\n\treturn (\n\t\t<div className=\"wp-block-navigation__menu-inspector-controls\">\n\t\t\t{ ! hasChildren && (\n\t\t\t\t<p className=\"wp-block-navigation__menu-inspector-controls__empty-message\">\n\t\t\t\t\t{ __( 'This navigation menu is empty.' ) }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<PrivateListView\n\t\t\t\trootClientId={ clientId }\n\t\t\t\tisExpanded\n\t\t\t\tdescription={ description }\n\t\t\t\tshowAppender\n\t\t\t\tblockSettingsMenu={ LeafMoreMenu }\n\t\t\t\tadditionalBlockContent={ AdditionalBlockContent }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst MenuInspectorControls = ( props ) => {\n\tconst {\n\t\tcreateNavigationMenuIsSuccess,\n\t\tcreateNavigationMenuIsError,\n\t\tcurrentMenuId = null,\n\t\tonCreateNew,\n\t\tonSelectClassicMenu,\n\t\tonSelectNavigationMenu,\n\t\tisManageMenusButtonDisabled,\n\t\tblockEditingMode,\n\t} = props;\n\n\treturn (\n\t\t<InspectorControls group=\"list\">\n\t\t\t<PanelBody title={ null }>\n\t\t\t\t<HStack className=\"wp-block-navigation-off-canvas-editor__header\">\n\t\t\t\t\t<Heading\n\t\t\t\t\t\tclassName=\"wp-block-navigation-off-canvas-editor__title\"\n\t\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Menu' ) }\n\t\t\t\t\t</Heading>\n\t\t\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t\t\t<NavigationMenuSelector\n\t\t\t\t\t\t\tcurrentMenuId={ currentMenuId }\n\t\t\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\t\t\tonCreateNew={ onCreateNew }\n\t\t\t\t\t\t\tcreateNavigationMenuIsSuccess={\n\t\t\t\t\t\t\t\tcreateNavigationMenuIsSuccess\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcreateNavigationMenuIsError={\n\t\t\t\t\t\t\t\tcreateNavigationMenuIsError\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tactionLabel={ actionLabel }\n\t\t\t\t\t\t\tisManageMenusButtonDisabled={\n\t\t\t\t\t\t\t\tisManageMenusButtonDisabled\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</HStack>\n\t\t\t\t<MainContent { ...props } />\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n};\n\nexport default MenuInspectorControls;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { VisuallyHidden } from '@wordpress/components';\r\n\r\nexport default function AccessibleDescription( { id, children } ) {\r\n\treturn (\r\n\t\t<VisuallyHidden>\r\n\t\t\t<div id={ id } className=\"wp-block-navigation__description\">\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t</VisuallyHidden>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport AccessibleDescription from './accessible-description';\n\nexport default function AccessibleMenuDescription( { id } ) {\n\tconst [ menuTitle ] = useEntityProp( 'postType', 'wp_navigation', 'title' );\n\t/* translators: %s: Title of a Navigation Menu post. */\n\tconst description = sprintf( __( `Navigation menu: \"%s\"` ), menuTitle );\n\n\treturn (\n\t\t<AccessibleDescription id={ id }>{ description }</AccessibleDescription>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseCallback,\n\tuseState,\n\tuseEffect,\n\tuseRef,\n\tPlatform,\n} from '@wordpress/element';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tRecursionProvider,\n\tuseHasRecursion,\n\tstore as blockEditorStore,\n\twithColors,\n\tContrastChecker,\n\tgetColorClassName,\n\tWarning,\n\t__experimentalColorGradientSettingsDropdown as ColorGradientSettingsDropdown,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { EntityProvider, store as coreStore } from '@wordpress/core-data';\n\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tPanelBody,\n\tToggleControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tButton,\n\tSpinner,\n\tNotice,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { close, Icon } from '@wordpress/icons';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport useNavigationMenu from '../use-navigation-menu';\nimport useNavigationEntities from '../use-navigation-entities';\nimport Placeholder from './placeholder';\nimport ResponsiveWrapper from './responsive-wrapper';\nimport NavigationInnerBlocks from './inner-blocks';\nimport NavigationMenuNameControl from './navigation-menu-name-control';\nimport UnsavedInnerBlocks from './unsaved-inner-blocks';\nimport NavigationMenuDeleteControl from './navigation-menu-delete-control';\nimport useNavigationNotice from './use-navigation-notice';\nimport OverlayMenuIcon from './overlay-menu-icon';\nimport OverlayMenuPreview from './overlay-menu-preview';\nimport useConvertClassicToBlockMenu, {\n\tCLASSIC_MENU_CONVERSION_ERROR,\n\tCLASSIC_MENU_CONVERSION_PENDING,\n\tCLASSIC_MENU_CONVERSION_SUCCESS,\n} from './use-convert-classic-menu-to-block-menu';\nimport useCreateNavigationMenu from './use-create-navigation-menu';\nimport { useInnerBlocks } from './use-inner-blocks';\nimport { detectColors } from './utils';\nimport ManageMenusButton from './manage-menus-button';\nimport MenuInspectorControls from './menu-inspector-controls';\nimport DeletedNavigationWarning from './deleted-navigation-warning';\nimport AccessibleDescription from './accessible-description';\nimport AccessibleMenuDescription from './accessible-menu-description';\nimport { unlock } from '../../lock-unlock';\n\nfunction Navigation( {\n\tattributes,\n\tsetAttributes,\n\tclientId,\n\tisSelected,\n\tclassName,\n\tbackgroundColor,\n\tsetBackgroundColor,\n\ttextColor,\n\tsetTextColor,\n\toverlayBackgroundColor,\n\tsetOverlayBackgroundColor,\n\toverlayTextColor,\n\tsetOverlayTextColor,\n\n\t// These props are used by the navigation editor to override specific\n\t// navigation block settings.\n\thasSubmenuIndicatorSetting = true,\n\tcustomPlaceholder: CustomPlaceholder = null,\n\t__unstableLayoutClassNames: layoutClassNames,\n} ) {\n\tconst {\n\t\topenSubmenusOnClick,\n\t\toverlayMenu,\n\t\tshowSubmenuIcon,\n\t\ttemplateLock,\n\t\tlayout: {\n\t\t\tjustifyContent,\n\t\t\torientation = 'horizontal',\n\t\t\tflexWrap = 'wrap',\n\t\t} = {},\n\t\thasIcon,\n\t\ticon = 'handle',\n\t} = attributes;\n\n\tconst ref = attributes.ref;\n\n\tconst setRef = useCallback(\n\t\t( postId ) => {\n\t\t\tsetAttributes( { ref: postId } );\n\t\t},\n\t\t[ setAttributes ]\n\t);\n\n\tconst recursionId = `navigationMenu/${ ref }`;\n\tconst hasAlreadyRendered = useHasRecursion( recursionId );\n\n\tconst blockEditingMode = useBlockEditingMode();\n\n\t// Preload classic menus, so that they don't suddenly pop-in when viewing\n\t// the Select Menu dropdown.\n\tconst { menus: classicMenus } = useNavigationEntities();\n\n\tconst [ showNavigationMenuStatusNotice, hideNavigationMenuStatusNotice ] =\n\t\tuseNavigationNotice( {\n\t\t\tname: 'block-library/core/navigation/status',\n\t\t} );\n\n\tconst [ showClassicMenuConversionNotice, hideClassicMenuConversionNotice ] =\n\t\tuseNavigationNotice( {\n\t\t\tname: 'block-library/core/navigation/classic-menu-conversion',\n\t\t} );\n\n\tconst [\n\t\tshowNavigationMenuPermissionsNotice,\n\t\thideNavigationMenuPermissionsNotice,\n\t] = useNavigationNotice( {\n\t\tname: 'block-library/core/navigation/permissions/update',\n\t} );\n\n\tconst {\n\t\tcreate: createNavigationMenu,\n\t\tstatus: createNavigationMenuStatus,\n\t\terror: createNavigationMenuError,\n\t\tvalue: createNavigationMenuPost,\n\t\tisPending: isCreatingNavigationMenu,\n\t\tisSuccess: createNavigationMenuIsSuccess,\n\t\tisError: createNavigationMenuIsError,\n\t} = useCreateNavigationMenu( clientId );\n\n\tconst createUntitledEmptyNavigationMenu = async () => {\n\t\tawait createNavigationMenu( '' );\n\t};\n\n\tconst {\n\t\thasUncontrolledInnerBlocks,\n\t\tuncontrolledInnerBlocks,\n\t\tisInnerBlockSelected,\n\t\tinnerBlocks,\n\t} = useInnerBlocks( clientId );\n\n\tconst hasSubmenus = !! innerBlocks.find(\n\t\t( block ) => block.name === 'core/navigation-submenu'\n\t);\n\n\tconst {\n\t\treplaceInnerBlocks,\n\t\tselectBlock,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t} = useDispatch( blockEditorStore );\n\n\tconst [ isResponsiveMenuOpen, setResponsiveMenuVisibility ] =\n\t\tuseState( false );\n\n\tconst [ overlayMenuPreview, setOverlayMenuPreview ] = useState( false );\n\n\tconst {\n\t\thasResolvedNavigationMenus,\n\t\tisNavigationMenuResolved,\n\t\tisNavigationMenuMissing,\n\t\tcanUserUpdateNavigationMenu,\n\t\thasResolvedCanUserUpdateNavigationMenu,\n\t\tcanUserDeleteNavigationMenu,\n\t\thasResolvedCanUserDeleteNavigationMenu,\n\t\tcanUserCreateNavigationMenus,\n\t\tisResolvingCanUserCreateNavigationMenus,\n\t\thasResolvedCanUserCreateNavigationMenus,\n\t} = useNavigationMenu( ref );\n\n\tconst navMenuResolvedButMissing =\n\t\thasResolvedNavigationMenus && isNavigationMenuMissing;\n\n\tconst {\n\t\tconvert: convertClassicMenu,\n\t\tstatus: classicMenuConversionStatus,\n\t\terror: classicMenuConversionError,\n\t} = useConvertClassicToBlockMenu( createNavigationMenu );\n\n\tconst isConvertingClassicMenu =\n\t\tclassicMenuConversionStatus === CLASSIC_MENU_CONVERSION_PENDING;\n\n\tconst handleUpdateMenu = useCallback(\n\t\t( menuId, options = { focusNavigationBlock: false } ) => {\n\t\t\tconst { focusNavigationBlock } = options;\n\t\t\tsetRef( menuId );\n\t\t\tif ( focusNavigationBlock ) {\n\t\t\t\tselectBlock( clientId );\n\t\t\t}\n\t\t},\n\t\t[ selectBlock, clientId, setRef ]\n\t);\n\n\tconst isEntityAvailable =\n\t\t! isNavigationMenuMissing && isNavigationMenuResolved;\n\n\t// If the block has inner blocks, but no menu id, then these blocks are either:\n\t// - inserted via a pattern.\n\t// - inserted directly via Code View (or otherwise).\n\t// - from an older version of navigation block added before the block used a wp_navigation entity.\n\t// Consider this state as 'unsaved' and offer an uncontrolled version of inner blocks,\n\t// that automatically saves the menu as an entity when changes are made to the inner blocks.\n\tconst hasUnsavedBlocks = hasUncontrolledInnerBlocks && ! isEntityAvailable;\n\n\tconst { getNavigationFallbackId } = unlock( useSelect( coreStore ) );\n\n\tconst navigationFallbackId = ! ( ref || hasUnsavedBlocks )\n\t\t? getNavigationFallbackId()\n\t\t: null;\n\n\tuseEffect( () => {\n\t\t// If:\n\t\t// - there is an existing menu, OR\n\t\t// - there are existing (uncontrolled) inner blocks\n\t\t// ...then don't request a fallback menu.\n\t\tif ( ref || hasUnsavedBlocks || ! navigationFallbackId ) {\n\t\t\treturn;\n\t\t}\n\n\t\t/**\n\t\t *  This fallback displays (both in editor and on front)\n\t\t *  The fallback should not request a save (entity dirty state)\n\t\t *  nor to be undoable, hence why it is marked as non persistent\n\t\t */\n\n\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\tsetRef( navigationFallbackId );\n\t}, [\n\t\tref,\n\t\tsetRef,\n\t\thasUnsavedBlocks,\n\t\tnavigationFallbackId,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t] );\n\n\tconst navRef = useRef();\n\n\t// The standard HTML5 tag for the block wrapper.\n\tconst TagName = 'nav';\n\n\t// \"placeholder\" shown if:\n\t// - there is no ref attribute pointing to a Navigation Post.\n\t// - there is no classic menu conversion process in progress.\n\t// - there is no menu creation process in progress.\n\t// - there are no uncontrolled blocks.\n\tconst isPlaceholder =\n\t\t! ref &&\n\t\t! isCreatingNavigationMenu &&\n\t\t! isConvertingClassicMenu &&\n\t\thasResolvedNavigationMenus &&\n\t\tclassicMenus?.length === 0 &&\n\t\t! hasUncontrolledInnerBlocks;\n\n\t// \"loading\" state:\n\t// - there is a menu creation process in progress.\n\t// - there is a classic menu conversion process in progress.\n\t// OR:\n\t// - there is a ref attribute pointing to a Navigation Post\n\t// - the Navigation Post isn't available (hasn't resolved) yet.\n\tconst isLoading =\n\t\t! hasResolvedNavigationMenus ||\n\t\tisCreatingNavigationMenu ||\n\t\tisConvertingClassicMenu ||\n\t\t!! ( ref && ! isEntityAvailable && ! isConvertingClassicMenu );\n\n\tconst textDecoration = attributes.style?.typography?.textDecoration;\n\n\tconst hasBlockOverlay = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).__unstableHasActiveBlockOverlayActive(\n\t\t\t\tclientId\n\t\t\t),\n\t\t[ clientId ]\n\t);\n\tconst isResponsive = 'never' !== overlayMenu;\n\tconst blockProps = useBlockProps( {\n\t\tref: navRef,\n\t\tclassName: classnames(\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t'items-justified-right': justifyContent === 'right',\n\t\t\t\t'items-justified-space-between':\n\t\t\t\t\tjustifyContent === 'space-between',\n\t\t\t\t'items-justified-left': justifyContent === 'left',\n\t\t\t\t'items-justified-center': justifyContent === 'center',\n\t\t\t\t'is-vertical': orientation === 'vertical',\n\t\t\t\t'no-wrap': flexWrap === 'nowrap',\n\t\t\t\t'is-responsive': isResponsive,\n\t\t\t\t'has-text-color': !! textColor.color || !! textColor?.class,\n\t\t\t\t[ getColorClassName( 'color', textColor?.slug ) ]:\n\t\t\t\t\t!! textColor?.slug,\n\t\t\t\t'has-background':\n\t\t\t\t\t!! backgroundColor.color || backgroundColor.class,\n\t\t\t\t[ getColorClassName(\n\t\t\t\t\t'background-color',\n\t\t\t\t\tbackgroundColor?.slug\n\t\t\t\t) ]: !! backgroundColor?.slug,\n\t\t\t\t[ `has-text-decoration-${ textDecoration }` ]: textDecoration,\n\t\t\t\t'block-editor-block-content-overlay': hasBlockOverlay,\n\t\t\t},\n\t\t\tlayoutClassNames\n\t\t),\n\t\tstyle: {\n\t\t\tcolor: ! textColor?.slug && textColor?.color,\n\t\t\tbackgroundColor: ! backgroundColor?.slug && backgroundColor?.color,\n\t\t},\n\t} );\n\n\t// Turn on contrast checker for web only since it's not supported on mobile yet.\n\tconst enableContrastChecking = Platform.OS === 'web';\n\n\tconst [ detectedBackgroundColor, setDetectedBackgroundColor ] = useState();\n\tconst [ detectedColor, setDetectedColor ] = useState();\n\tconst [\n\t\tdetectedOverlayBackgroundColor,\n\t\tsetDetectedOverlayBackgroundColor,\n\t] = useState();\n\tconst [ detectedOverlayColor, setDetectedOverlayColor ] = useState();\n\n\tconst onSelectClassicMenu = async ( classicMenu ) => {\n\t\treturn convertClassicMenu( classicMenu.id, classicMenu.name, 'draft' );\n\t};\n\n\tconst onSelectNavigationMenu = ( menuId ) => {\n\t\thandleUpdateMenu( menuId );\n\t};\n\n\tuseEffect( () => {\n\t\thideNavigationMenuStatusNotice();\n\n\t\tif ( isCreatingNavigationMenu ) {\n\t\t\tspeak( __( `Creating Navigation Menu.` ) );\n\t\t}\n\n\t\tif ( createNavigationMenuIsSuccess ) {\n\t\t\thandleUpdateMenu( createNavigationMenuPost?.id, {\n\t\t\t\tfocusNavigationBlock: true,\n\t\t\t} );\n\n\t\t\tshowNavigationMenuStatusNotice(\n\t\t\t\t__( `Navigation Menu successfully created.` )\n\t\t\t);\n\t\t}\n\n\t\tif ( createNavigationMenuIsError ) {\n\t\t\tshowNavigationMenuStatusNotice(\n\t\t\t\t__( 'Failed to create Navigation Menu.' )\n\t\t\t);\n\t\t}\n\t}, [\n\t\tcreateNavigationMenuStatus,\n\t\tcreateNavigationMenuError,\n\t\tcreateNavigationMenuPost?.id,\n\t\tcreateNavigationMenuIsError,\n\t\tcreateNavigationMenuIsSuccess,\n\t\tisCreatingNavigationMenu,\n\t\thandleUpdateMenu,\n\t\thideNavigationMenuStatusNotice,\n\t\tshowNavigationMenuStatusNotice,\n\t] );\n\n\tuseEffect( () => {\n\t\thideClassicMenuConversionNotice();\n\t\tif ( classicMenuConversionStatus === CLASSIC_MENU_CONVERSION_PENDING ) {\n\t\t\tspeak( __( 'Classic menu importing.' ) );\n\t\t}\n\n\t\tif ( classicMenuConversionStatus === CLASSIC_MENU_CONVERSION_SUCCESS ) {\n\t\t\tshowClassicMenuConversionNotice(\n\t\t\t\t__( 'Classic menu imported successfully.' )\n\t\t\t);\n\t\t\thandleUpdateMenu( createNavigationMenuPost?.id, {\n\t\t\t\tfocusNavigationBlock: true,\n\t\t\t} );\n\t\t}\n\n\t\tif ( classicMenuConversionStatus === CLASSIC_MENU_CONVERSION_ERROR ) {\n\t\t\tshowClassicMenuConversionNotice(\n\t\t\t\t__( 'Classic menu import failed.' )\n\t\t\t);\n\t\t}\n\t}, [\n\t\tclassicMenuConversionStatus,\n\t\tclassicMenuConversionError,\n\t\thideClassicMenuConversionNotice,\n\t\tshowClassicMenuConversionNotice,\n\t\tcreateNavigationMenuPost?.id,\n\t\thandleUpdateMenu,\n\t] );\n\n\tuseEffect( () => {\n\t\tif ( ! enableContrastChecking ) {\n\t\t\treturn;\n\t\t}\n\t\tdetectColors(\n\t\t\tnavRef.current,\n\t\t\tsetDetectedColor,\n\t\t\tsetDetectedBackgroundColor\n\t\t);\n\n\t\tconst subMenuElement = navRef.current?.querySelector(\n\t\t\t'[data-type=\"core/navigation-submenu\"] [data-type=\"core/navigation-link\"]'\n\t\t);\n\n\t\tif ( ! subMenuElement ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Only detect submenu overlay colors if they have previously been explicitly set.\n\t\t// This avoids the contrast checker from reporting on inherited submenu colors and\n\t\t// showing the contrast warning twice.\n\t\tif ( overlayTextColor.color || overlayBackgroundColor.color ) {\n\t\t\tdetectColors(\n\t\t\t\tsubMenuElement,\n\t\t\t\tsetDetectedOverlayColor,\n\t\t\t\tsetDetectedOverlayBackgroundColor\n\t\t\t);\n\t\t}\n\t}, [\n\t\tenableContrastChecking,\n\t\toverlayTextColor.color,\n\t\toverlayBackgroundColor.color,\n\t] );\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected && ! isInnerBlockSelected ) {\n\t\t\thideNavigationMenuPermissionsNotice();\n\t\t}\n\n\t\tif ( isSelected || isInnerBlockSelected ) {\n\t\t\tif (\n\t\t\t\tref &&\n\t\t\t\t! navMenuResolvedButMissing &&\n\t\t\t\thasResolvedCanUserUpdateNavigationMenu &&\n\t\t\t\t! canUserUpdateNavigationMenu\n\t\t\t) {\n\t\t\t\tshowNavigationMenuPermissionsNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'You do not have permission to edit this Menu. Any changes made will not be saved.'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t! ref &&\n\t\t\t\thasResolvedCanUserCreateNavigationMenus &&\n\t\t\t\t! canUserCreateNavigationMenus\n\t\t\t) {\n\t\t\t\tshowNavigationMenuPermissionsNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'You do not have permission to create Navigation Menus.'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, [\n\t\tisSelected,\n\t\tisInnerBlockSelected,\n\t\tcanUserUpdateNavigationMenu,\n\t\thasResolvedCanUserUpdateNavigationMenu,\n\t\tcanUserCreateNavigationMenus,\n\t\thasResolvedCanUserCreateNavigationMenus,\n\t\tref,\n\t\thideNavigationMenuPermissionsNotice,\n\t\tshowNavigationMenuPermissionsNotice,\n\t\tnavMenuResolvedButMissing,\n\t] );\n\n\tconst hasManagePermissions =\n\t\tcanUserCreateNavigationMenus || canUserUpdateNavigationMenu;\n\n\tconst overlayMenuPreviewClasses = classnames(\n\t\t'wp-block-navigation__overlay-menu-preview',\n\t\t{ open: overlayMenuPreview }\n\t);\n\n\tconst submenuAccessibilityNotice =\n\t\t! showSubmenuIcon && ! openSubmenusOnClick\n\t\t\t? __(\n\t\t\t\t\t'The current menu options offer reduced accessibility for users and are not recommended. Enabling either \"Open on Click\" or \"Show arrow\" offers enhanced accessibility by allowing keyboard users to browse submenus selectively.'\n\t\t\t  )\n\t\t\t: '';\n\n\tconst isFirstRender = useRef( true ); // Don't speak on first render.\n\tuseEffect( () => {\n\t\tif ( ! isFirstRender.current && submenuAccessibilityNotice ) {\n\t\t\tspeak( submenuAccessibilityNotice );\n\t\t}\n\t\tisFirstRender.current = false;\n\t}, [ submenuAccessibilityNotice ] );\n\n\tconst overlayMenuPreviewId = useInstanceId(\n\t\tOverlayMenuPreview,\n\t\t`overlay-menu-preview`\n\t);\n\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\tconst stylingInspectorControls = (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t{ hasSubmenuIndicatorSetting && (\n\t\t\t\t\t<PanelBody title={ __( 'Display' ) }>\n\t\t\t\t\t\t{ isResponsive && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={ overlayMenuPreviewClasses }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetOverlayMenuPreview(\n\t\t\t\t\t\t\t\t\t\t\t! overlayMenuPreview\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\taria-label={ __( 'Overlay menu controls' ) }\n\t\t\t\t\t\t\t\t\taria-controls={ overlayMenuPreviewId }\n\t\t\t\t\t\t\t\t\taria-expanded={ overlayMenuPreview }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ hasIcon && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<OverlayMenuIcon icon={ icon } />\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ close } />\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! hasIcon && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span>{ __( 'Menu' ) }</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{ __( 'Close' ) }</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<div id={ overlayMenuPreviewId }>\n\t\t\t\t\t\t\t\t\t{ overlayMenuPreview && (\n\t\t\t\t\t\t\t\t\t\t<OverlayMenuPreview\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\t\t\t\t\thasIcon={ hasIcon }\n\t\t\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\t\t\thidden={ ! overlayMenuPreview }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<h3>{ __( 'Overlay Menu' ) }</h3>\n\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Configure overlay menu' ) }\n\t\t\t\t\t\t\tvalue={ overlayMenu }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Collapses the navigation options in a menu icon opening an overlay.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { overlayMenu: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\t\tvalue=\"never\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Off' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\t\tvalue=\"mobile\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Mobile' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\t\tvalue=\"always\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Always' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t{ hasSubmenus && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h3>{ __( 'Submenus' ) }</h3>\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tchecked={ openSubmenusOnClick }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\topenSubmenusOnClick: value,\n\t\t\t\t\t\t\t\t\t\t\t...( value && {\n\t\t\t\t\t\t\t\t\t\t\t\tshowSubmenuIcon: true,\n\t\t\t\t\t\t\t\t\t\t\t} ), // Make sure arrows are shown when we toggle this on.\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Open on click' ) }\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tchecked={ showSubmenuIcon }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tshowSubmenuIcon: value,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tdisabled={ attributes.openSubmenusOnClick }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show arrow' ) }\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{ submenuAccessibilityNotice && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\t\tspokenMessage={ null }\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ submenuAccessibilityNotice }\n\t\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t\t{ colorGradientSettings.hasColorsOrGradients && (\n\t\t\t\t<InspectorControls group=\"color\">\n\t\t\t\t\t<ColorGradientSettingsDropdown\n\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\tsettings={ [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolorValue: textColor.color,\n\t\t\t\t\t\t\t\tlabel: __( 'Text' ),\n\t\t\t\t\t\t\t\tonColorChange: setTextColor,\n\t\t\t\t\t\t\t\tresetAllFilter: () => setTextColor(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolorValue: backgroundColor.color,\n\t\t\t\t\t\t\t\tlabel: __( 'Background' ),\n\t\t\t\t\t\t\t\tonColorChange: setBackgroundColor,\n\t\t\t\t\t\t\t\tresetAllFilter: () => setBackgroundColor(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolorValue: overlayTextColor.color,\n\t\t\t\t\t\t\t\tlabel: __( 'Submenu & overlay text' ),\n\t\t\t\t\t\t\t\tonColorChange: setOverlayTextColor,\n\t\t\t\t\t\t\t\tresetAllFilter: () => setOverlayTextColor(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolorValue: overlayBackgroundColor.color,\n\t\t\t\t\t\t\t\tlabel: __( 'Submenu & overlay background' ),\n\t\t\t\t\t\t\t\tonColorChange: setOverlayBackgroundColor,\n\t\t\t\t\t\t\t\tresetAllFilter: () =>\n\t\t\t\t\t\t\t\t\tsetOverlayBackgroundColor(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t\t{ ...colorGradientSettings }\n\t\t\t\t\t\tgradients={ [] }\n\t\t\t\t\t\tdisableCustomGradients\n\t\t\t\t\t/>\n\t\t\t\t\t{ enableContrastChecking && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\tbackgroundColor={ detectedBackgroundColor }\n\t\t\t\t\t\t\t\ttextColor={ detectedColor }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t\tbackgroundColor={\n\t\t\t\t\t\t\t\t\tdetectedOverlayBackgroundColor\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttextColor={ detectedOverlayColor }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t</>\n\t);\n\n\tconst accessibleDescriptionId = `${ clientId }-desc`;\n\n\tconst isManageMenusButtonDisabled =\n\t\t! hasManagePermissions || ! hasResolvedNavigationMenus;\n\n\tif ( hasUnsavedBlocks && ! isCreatingNavigationMenu ) {\n\t\treturn (\n\t\t\t<TagName\n\t\t\t\t{ ...blockProps }\n\t\t\t\taria-describedby={\n\t\t\t\t\t! isPlaceholder ? accessibleDescriptionId : undefined\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<AccessibleDescription id={ accessibleDescriptionId }>\n\t\t\t\t\t{ __( 'Unsaved Navigation Menu.' ) }\n\t\t\t\t</AccessibleDescription>\n\n\t\t\t\t<MenuInspectorControls\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tcreateNavigationMenuIsSuccess={\n\t\t\t\t\t\tcreateNavigationMenuIsSuccess\n\t\t\t\t\t}\n\t\t\t\t\tcreateNavigationMenuIsError={ createNavigationMenuIsError }\n\t\t\t\t\tcurrentMenuId={ ref }\n\t\t\t\t\tisNavigationMenuMissing={ isNavigationMenuMissing }\n\t\t\t\t\tisManageMenusButtonDisabled={ isManageMenusButtonDisabled }\n\t\t\t\t\tonCreateNew={ createUntitledEmptyNavigationMenu }\n\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\tisLoading={ isLoading }\n\t\t\t\t\tblockEditingMode={ blockEditingMode }\n\t\t\t\t/>\n\t\t\t\t{ blockEditingMode === 'default' && stylingInspectorControls }\n\t\t\t\t<ResponsiveWrapper\n\t\t\t\t\tid={ clientId }\n\t\t\t\t\tonToggle={ setResponsiveMenuVisibility }\n\t\t\t\t\tisOpen={ isResponsiveMenuOpen }\n\t\t\t\t\thasIcon={ hasIcon }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tisResponsive={ isResponsive }\n\t\t\t\t\tisHiddenByDefault={ 'always' === overlayMenu }\n\t\t\t\t\toverlayBackgroundColor={ overlayBackgroundColor }\n\t\t\t\t\toverlayTextColor={ overlayTextColor }\n\t\t\t\t>\n\t\t\t\t\t<UnsavedInnerBlocks\n\t\t\t\t\t\tcreateNavigationMenu={ createNavigationMenu }\n\t\t\t\t\t\tblocks={ uncontrolledInnerBlocks }\n\t\t\t\t\t\thasSelection={ isSelected || isInnerBlockSelected }\n\t\t\t\t\t/>\n\t\t\t\t</ResponsiveWrapper>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\t// Show a warning if the selected menu is no longer available.\n\t// TODO - the user should be able to select a new one?\n\tif ( ref && isNavigationMenuMissing ) {\n\t\treturn (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<MenuInspectorControls\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tcreateNavigationMenuIsSuccess={\n\t\t\t\t\t\tcreateNavigationMenuIsSuccess\n\t\t\t\t\t}\n\t\t\t\t\tcreateNavigationMenuIsError={ createNavigationMenuIsError }\n\t\t\t\t\tcurrentMenuId={ ref }\n\t\t\t\t\tisNavigationMenuMissing={ isNavigationMenuMissing }\n\t\t\t\t\tisManageMenusButtonDisabled={ isManageMenusButtonDisabled }\n\t\t\t\t\tonCreateNew={ createUntitledEmptyNavigationMenu }\n\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\tisLoading={ isLoading }\n\t\t\t\t\tblockEditingMode={ blockEditingMode }\n\t\t\t\t/>\n\t\t\t\t<DeletedNavigationWarning\n\t\t\t\t\tonCreateNew={ createUntitledEmptyNavigationMenu }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\tif ( isEntityAvailable && hasAlreadyRendered ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Warning>\n\t\t\t\t\t{ __( 'Block cannot be rendered inside itself.' ) }\n\t\t\t\t</Warning>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst PlaceholderComponent = CustomPlaceholder\n\t\t? CustomPlaceholder\n\t\t: Placeholder;\n\n\t/**\n\t * Historically the navigation block has supported custom placeholders.\n\t * Even though the current UX tries as hard as possible not to\n\t * end up in a placeholder state, the block continues to support\n\t * this extensibility point, via a CustomPlaceholder.\n\t * When CustomPlaceholder is present it becomes the default fallback\n\t * for an empty navigation block, instead of the default fallbacks.\n\t *\n\t */\n\n\tif ( isPlaceholder && CustomPlaceholder ) {\n\t\treturn (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<PlaceholderComponent\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tcurrentMenuId={ ref }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tcanUserCreateNavigationMenus={\n\t\t\t\t\t\tcanUserCreateNavigationMenus\n\t\t\t\t\t}\n\t\t\t\t\tisResolvingCanUserCreateNavigationMenus={\n\t\t\t\t\t\tisResolvingCanUserCreateNavigationMenus\n\t\t\t\t\t}\n\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\tonCreateEmpty={ createUntitledEmptyNavigationMenu }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\treturn (\n\t\t<EntityProvider kind=\"postType\" type=\"wp_navigation\" id={ ref }>\n\t\t\t<RecursionProvider uniqueId={ recursionId }>\n\t\t\t\t<MenuInspectorControls\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tcreateNavigationMenuIsSuccess={\n\t\t\t\t\t\tcreateNavigationMenuIsSuccess\n\t\t\t\t\t}\n\t\t\t\t\tcreateNavigationMenuIsError={ createNavigationMenuIsError }\n\t\t\t\t\tcurrentMenuId={ ref }\n\t\t\t\t\tisNavigationMenuMissing={ isNavigationMenuMissing }\n\t\t\t\t\tisManageMenusButtonDisabled={ isManageMenusButtonDisabled }\n\t\t\t\t\tonCreateNew={ createUntitledEmptyNavigationMenu }\n\t\t\t\t\tonSelectClassicMenu={ onSelectClassicMenu }\n\t\t\t\t\tonSelectNavigationMenu={ onSelectNavigationMenu }\n\t\t\t\t\tisLoading={ isLoading }\n\t\t\t\t\tblockEditingMode={ blockEditingMode }\n\t\t\t\t/>\n\t\t\t\t{ blockEditingMode === 'default' && stylingInspectorControls }\n\t\t\t\t{ blockEditingMode === 'default' && isEntityAvailable && (\n\t\t\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t\t\t{ hasResolvedCanUserUpdateNavigationMenu &&\n\t\t\t\t\t\t\tcanUserUpdateNavigationMenu && (\n\t\t\t\t\t\t\t\t<NavigationMenuNameControl />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ hasResolvedCanUserDeleteNavigationMenu &&\n\t\t\t\t\t\t\tcanUserDeleteNavigationMenu && (\n\t\t\t\t\t\t\t\t<NavigationMenuDeleteControl\n\t\t\t\t\t\t\t\t\tonDelete={ () => {\n\t\t\t\t\t\t\t\t\t\treplaceInnerBlocks( clientId, [] );\n\t\t\t\t\t\t\t\t\t\tshowNavigationMenuStatusNotice(\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Navigation menu successfully deleted.'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t<ManageMenusButton\n\t\t\t\t\t\t\tdisabled={ isManageMenusButtonDisabled }\n\t\t\t\t\t\t\tclassName=\"wp-block-navigation-manage-menus-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\n\t\t\t\t<TagName\n\t\t\t\t\t{ ...blockProps }\n\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t! isPlaceholder && ! isLoading\n\t\t\t\t\t\t\t? accessibleDescriptionId\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ isLoading && (\n\t\t\t\t\t\t<div className=\"wp-block-navigation__loading-indicator-container\">\n\t\t\t\t\t\t\t<Spinner className=\"wp-block-navigation__loading-indicator\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ ! isLoading && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<AccessibleMenuDescription\n\t\t\t\t\t\t\t\tid={ accessibleDescriptionId }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ResponsiveWrapper\n\t\t\t\t\t\t\t\tid={ clientId }\n\t\t\t\t\t\t\t\tonToggle={ setResponsiveMenuVisibility }\n\t\t\t\t\t\t\t\thasIcon={ hasIcon }\n\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\tisOpen={ isResponsiveMenuOpen }\n\t\t\t\t\t\t\t\tisResponsive={ isResponsive }\n\t\t\t\t\t\t\t\tisHiddenByDefault={ 'always' === overlayMenu }\n\t\t\t\t\t\t\t\toverlayBackgroundColor={\n\t\t\t\t\t\t\t\t\toverlayBackgroundColor\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\toverlayTextColor={ overlayTextColor }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ isEntityAvailable && (\n\t\t\t\t\t\t\t\t\t<NavigationInnerBlocks\n\t\t\t\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\t\t\t\thasCustomPlaceholder={\n\t\t\t\t\t\t\t\t\t\t\t!! CustomPlaceholder\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ttemplateLock={ templateLock }\n\t\t\t\t\t\t\t\t\t\torientation={ orientation }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</ResponsiveWrapper>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</TagName>\n\t\t\t</RecursionProvider>\n\t\t</EntityProvider>\n\t);\n}\n\nexport default withColors(\n\t{ textColor: 'color' },\n\t{ backgroundColor: 'color' },\n\t{ overlayBackgroundColor: 'color' },\n\t{ overlayTextColor: 'color' }\n)( Navigation );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\n\r\n// TODO: this util should perhaps be refactored somewhere like core-data.\r\nimport { createTemplatePartId } from '../template-part/edit/utils/create-template-part-id';\r\n\r\nexport default function useTemplatePartAreaLabel( clientId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\t// Use the lack of a clientId as an opportunity to bypass the rest\r\n\t\t\t// of this hook.\r\n\t\t\tif ( ! clientId ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { getBlock, getBlockParentsByBlockName } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\r\n\t\t\tconst withAscendingResults = true;\r\n\t\t\tconst parentTemplatePartClientIds = getBlockParentsByBlockName(\r\n\t\t\t\tclientId,\r\n\t\t\t\t'core/template-part',\r\n\t\t\t\twithAscendingResults\r\n\t\t\t);\r\n\r\n\t\t\tif ( ! parentTemplatePartClientIds?.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t\t\t// Blocks can be loaded into a *non-post* block editor.\r\n\t\t\t// This code is lifted from this file:\r\n\t\t\t// packages/block-library/src/template-part/edit/advanced-controls.js\r\n\t\t\t/* eslint-disable @wordpress/data-no-store-string-literals */\r\n\t\t\tconst definedAreas =\r\n\t\t\t\tselect(\r\n\t\t\t\t\t'core/editor'\r\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\r\n\t\t\t/* eslint-enable @wordpress/data-no-store-string-literals */\r\n\t\t\tconst { getCurrentTheme, getEditedEntityRecord } =\r\n\t\t\t\tselect( coreStore );\r\n\r\n\t\t\tfor ( const templatePartClientId of parentTemplatePartClientIds ) {\r\n\t\t\t\tconst templatePartBlock = getBlock( templatePartClientId );\r\n\r\n\t\t\t\t// The 'area' usually isn't stored on the block, but instead\r\n\t\t\t\t// on the entity.\r\n\t\t\t\tconst { theme = getCurrentTheme()?.stylesheet, slug } =\r\n\t\t\t\t\ttemplatePartBlock.attributes;\r\n\t\t\t\tconst templatePartEntityId = createTemplatePartId(\r\n\t\t\t\t\ttheme,\r\n\t\t\t\t\tslug\r\n\t\t\t\t);\r\n\t\t\t\tconst templatePartEntity = getEditedEntityRecord(\r\n\t\t\t\t\t'postType',\r\n\t\t\t\t\t'wp_template_part',\r\n\t\t\t\t\ttemplatePartEntityId\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Look up the `label` for the area in the defined areas so\r\n\t\t\t\t// that an internationalized label can be used.\r\n\t\t\t\tif ( templatePartEntity?.area ) {\r\n\t\t\t\t\treturn definedAreas.find(\r\n\t\t\t\t\t\t( definedArea ) =>\r\n\t\t\t\t\t\t\tdefinedArea.area !== 'uncategorized' &&\r\n\t\t\t\t\t\t\tdefinedArea.area === templatePartEntity.area\r\n\t\t\t\t\t)?.label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ clientId ]\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\nimport { compose } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst TYPOGRAPHY_PRESET_DEPRECATION_MAP = {\r\n\tfontStyle: 'var:preset|font-style|',\r\n\tfontWeight: 'var:preset|font-weight|',\r\n\ttextDecoration: 'var:preset|text-decoration|',\r\n\ttextTransform: 'var:preset|text-transform|',\r\n};\r\n\r\nconst migrateIdToRef = ( { navigationMenuId, ...attributes } ) => {\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tref: navigationMenuId,\r\n\t};\r\n};\r\n\r\nconst migrateWithLayout = ( attributes ) => {\r\n\tif ( !! attributes.layout ) {\r\n\t\treturn attributes;\r\n\t}\r\n\r\n\tconst { itemsJustification, orientation, ...updatedAttributes } =\r\n\t\tattributes;\r\n\r\n\tif ( itemsJustification || orientation ) {\r\n\t\tObject.assign( updatedAttributes, {\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: 'flex',\r\n\t\t\t\t...( itemsJustification && {\r\n\t\t\t\t\tjustifyContent: itemsJustification,\r\n\t\t\t\t} ),\r\n\t\t\t\t...( orientation && { orientation } ),\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\r\n\treturn updatedAttributes;\r\n};\r\n\r\nconst v6 = {\r\n\tattributes: {\r\n\t\tnavigationMenuId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tshowSubmenuIcon: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\topenSubmenusOnClick: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\toverlayMenu: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'mobile',\r\n\t\t},\r\n\t\t__unstableLocation: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\thtml: false,\r\n\t\tinserter: true,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tblockGap: true,\r\n\t\t\tunits: [ 'px', 'em', 'rem', 'vh', 'vw' ],\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tblockGap: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tlayout: {\r\n\t\t\tallowSwitching: false,\r\n\t\t\tallowInheriting: false,\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'flex',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn <InnerBlocks.Content />;\r\n\t},\r\n\tisEligible: ( { navigationMenuId } ) => !! navigationMenuId,\r\n\tmigrate: migrateIdToRef,\r\n};\r\n\r\nconst v5 = {\r\n\tattributes: {\r\n\t\tnavigationMenuId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\torientation: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'horizontal',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\titemsJustification: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tshowSubmenuIcon: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\topenSubmenusOnClick: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\toverlayMenu: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'never',\r\n\t\t},\r\n\t\t__unstableLocation: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\thtml: false,\r\n\t\tinserter: true,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tblockGap: true,\r\n\t\t\tunits: [ 'px', 'em', 'rem', 'vh', 'vw' ],\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tblockGap: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn <InnerBlocks.Content />;\r\n\t},\r\n\tisEligible: ( { itemsJustification, orientation } ) =>\r\n\t\t!! itemsJustification || !! orientation,\r\n\tmigrate: compose( migrateIdToRef, migrateWithLayout ),\r\n};\r\n\r\nconst v4 = {\r\n\tattributes: {\r\n\t\torientation: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'horizontal',\r\n\t\t},\r\n\t\ttextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tbackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\trgbBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\titemsJustification: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tshowSubmenuIcon: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\topenSubmenusOnClick: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\toverlayMenu: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'never',\r\n\t\t},\r\n\t\t__unstableLocation: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayBackgroundColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\toverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomOverlayTextColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\thtml: false,\r\n\t\tinserter: true,\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tblockGap: true,\r\n\t\t\tunits: [ 'px', 'em', 'rem', 'vh', 'vw' ],\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tblockGap: true,\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn <InnerBlocks.Content />;\r\n\t},\r\n\tmigrate: compose( migrateIdToRef, migrateWithLayout, migrateFontFamily ),\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\nconst migrateIsResponsive = function ( attributes ) {\r\n\tdelete attributes.isResponsive;\r\n\treturn {\r\n\t\t...attributes,\r\n\t\toverlayMenu: 'mobile',\r\n\t};\r\n};\r\n\r\nconst migrateTypographyPresets = function ( attributes ) {\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tstyle: {\r\n\t\t\t...attributes.style,\r\n\t\t\ttypography: Object.fromEntries(\r\n\t\t\t\tObject.entries( attributes.style.typography ?? {} ).map(\r\n\t\t\t\t\t( [ key, value ] ) => {\r\n\t\t\t\t\t\tconst prefix = TYPOGRAPHY_PRESET_DEPRECATION_MAP[ key ];\r\n\t\t\t\t\t\tif ( prefix && value.startsWith( prefix ) ) {\r\n\t\t\t\t\t\t\tconst newValue = value.slice( prefix.length );\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t'textDecoration' === key &&\r\n\t\t\t\t\t\t\t\t'strikethrough' === newValue\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn [ key, 'line-through' ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn [ key, newValue ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn [ key, value ];\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t},\r\n\t};\r\n};\r\n\r\nconst deprecated = [\r\n\tv6,\r\n\tv5,\r\n\tv4,\r\n\t// Remove `isResponsive` attribute.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\torientation: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tdefault: 'horizontal',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\titemsJustification: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tshowSubmenuIcon: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: true,\r\n\t\t\t},\r\n\t\t\topenSubmenusOnClick: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tisResponsive: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: 'false',\r\n\t\t\t},\r\n\t\t\t__unstableLocation: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\toverlayBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomOverlayBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\toverlayTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomOverlayTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t\tinserter: true,\r\n\t\t\ttypography: {\r\n\t\t\t\tfontSize: true,\r\n\t\t\t\tlineHeight: true,\r\n\t\t\t\t__experimentalFontStyle: true,\r\n\t\t\t\t__experimentalFontWeight: true,\r\n\t\t\t\t__experimentalTextTransform: true,\r\n\t\t\t\t__experimentalFontFamily: true,\r\n\t\t\t\t__experimentalTextDecoration: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( attributes ) {\r\n\t\t\treturn attributes.isResponsive;\r\n\t\t},\r\n\t\tmigrate: compose(\r\n\t\t\tmigrateIdToRef,\r\n\t\t\tmigrateWithLayout,\r\n\t\t\tmigrateFontFamily,\r\n\t\t\tmigrateIsResponsive\r\n\t\t),\r\n\t\tsave() {\r\n\t\t\treturn <InnerBlocks.Content />;\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\torientation: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\titemsJustification: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tshowSubmenuIcon: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t\tinserter: true,\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\tcolor: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextDecoration: true,\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\treturn <InnerBlocks.Content />;\r\n\t\t},\r\n\t\tisEligible( attributes ) {\r\n\t\t\tif ( ! attributes.style || ! attributes.style.typography ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor ( const styleAttribute in TYPOGRAPHY_PRESET_DEPRECATION_MAP ) {\r\n\t\t\t\tconst attributeValue =\r\n\t\t\t\t\tattributes.style.typography[ styleAttribute ];\r\n\t\t\t\tif (\r\n\t\t\t\t\tattributeValue &&\r\n\t\t\t\t\tattributeValue.startsWith(\r\n\t\t\t\t\t\tTYPOGRAPHY_PRESET_DEPRECATION_MAP[ styleAttribute ]\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tmigrate: compose(\r\n\t\t\tmigrateIdToRef,\r\n\t\t\tmigrateWithLayout,\r\n\t\t\tmigrateFontFamily,\r\n\t\t\tmigrateTypographyPresets\r\n\t\t),\r\n\t},\r\n\t{\r\n\t\tattributes: {\r\n\t\t\tclassName: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ttextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\trgbBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tfontSize: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomFontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\titemsJustification: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tshowSubmenuIcon: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t},\r\n\t\t},\r\n\t\tisEligible( attribute ) {\r\n\t\t\treturn attribute.rgbTextColor || attribute.rgbBackgroundColor;\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'wide', 'full' ],\r\n\t\t\tanchor: true,\r\n\t\t\thtml: false,\r\n\t\t\tinserter: true,\r\n\t\t},\r\n\t\tmigrate: compose( migrateIdToRef, ( attributes ) => {\r\n\t\t\tconst { rgbTextColor, rgbBackgroundColor, ...restAttributes } =\r\n\t\t\t\tattributes;\r\n\t\t\treturn {\r\n\t\t\t\t...restAttributes,\r\n\t\t\t\tcustomTextColor: attributes.textColor\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: attributes.rgbTextColor,\r\n\t\t\t\tcustomBackgroundColor: attributes.backgroundColor\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: attributes.rgbBackgroundColor,\r\n\t\t\t};\r\n\t\t} ),\r\n\t\tsave() {\r\n\t\t\treturn <InnerBlocks.Content />;\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { navigation as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\toverlayMenu: 'never',\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'Home' as in a website's home page.\r\n\t\t\t\t\tlabel: __( 'Home' ),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'About' as in a website's about page.\r\n\t\t\t\t\tlabel: __( 'About' ),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/navigation-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\t// translators: 'Contact' as in a website's contact page.\r\n\t\t\t\t\tlabel: __( 'Contact' ),\r\n\t\t\t\t\turl: 'https://make.wordpress.org/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tif ( attributes.ref ) {\r\n\t\t// Avoid rendering inner blocks when a ref is defined.\r\n\t\t// When this id is defined the inner blocks are loaded from the\r\n\t\t// `wp_navigation` entity rather than the hard-coded block html.\r\n\t\treturn;\r\n\t}\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst customLink = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12.5 14.5h-1V16h1c2.2 0 4-1.8 4-4s-1.8-4-4-4h-1v1.5h1c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5zm-4 1.5v-1.5h-1C6.1 14.5 5 13.4 5 12s1.1-2.5 2.5-2.5h1V8h-1c-2.2 0-4 1.8-4 4s1.8 4 4 4h1zm-1-3.2h5v-1.5h-5v1.5zM18 4H9c-1.1 0-2 .9-2 2v.5h1.5V6c0-.3.2-.5.5-.5h9c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5v-.5H7v.5c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default customLink;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tPanelBody,\n\tTextControl,\n\tTextareaControl,\n\tToolbarButton,\n\tTooltip,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { displayShortcut, isKeyboardEvent } from '@wordpress/keycodes';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\tgetColorClassName,\n\tuseInnerBlocksProps,\n} from '@wordpress/block-editor';\nimport { isURL, prependHTTP, safeDecodeURI } from '@wordpress/url';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { link as linkIcon, addSubmenu } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMergeRefs, usePrevious } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { LinkUI } from './link-ui';\nimport { updateAttributes } from './update-attributes';\nimport { getColors } from '../navigation/edit/utils';\n\nconst DEFAULT_BLOCK = { name: 'core/navigation-link' };\n\n/**\n * A React hook to determine if it's dragging within the target element.\n *\n * @typedef {import('@wordpress/element').RefObject} RefObject\n *\n * @param {RefObject<HTMLElement>} elementRef The target elementRef object.\n *\n * @return {boolean} Is dragging within the target element.\n */\nconst useIsDraggingWithin = ( elementRef ) => {\n\tconst [ isDraggingWithin, setIsDraggingWithin ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst { ownerDocument } = elementRef.current;\n\n\t\tfunction handleDragStart( event ) {\n\t\t\t// Check the first time when the dragging starts.\n\t\t\thandleDragEnter( event );\n\t\t}\n\n\t\t// Set to false whenever the user cancel the drag event by either releasing the mouse or press Escape.\n\t\tfunction handleDragEnd() {\n\t\t\tsetIsDraggingWithin( false );\n\t\t}\n\n\t\tfunction handleDragEnter( event ) {\n\t\t\t// Check if the current target is inside the item element.\n\t\t\tif ( elementRef.current.contains( event.target ) ) {\n\t\t\t\tsetIsDraggingWithin( true );\n\t\t\t} else {\n\t\t\t\tsetIsDraggingWithin( false );\n\t\t\t}\n\t\t}\n\n\t\t// Bind these events to the document to catch all drag events.\n\t\t// Ideally, we can also use `event.relatedTarget`, but sadly that\n\t\t// doesn't work in Safari.\n\t\townerDocument.addEventListener( 'dragstart', handleDragStart );\n\t\townerDocument.addEventListener( 'dragend', handleDragEnd );\n\t\townerDocument.addEventListener( 'dragenter', handleDragEnter );\n\n\t\treturn () => {\n\t\t\townerDocument.removeEventListener( 'dragstart', handleDragStart );\n\t\t\townerDocument.removeEventListener( 'dragend', handleDragEnd );\n\t\t\townerDocument.removeEventListener( 'dragenter', handleDragEnter );\n\t\t};\n\t}, [ elementRef ] );\n\n\treturn isDraggingWithin;\n};\n\nconst useIsInvalidLink = ( kind, type, id ) => {\n\tconst isPostType =\n\t\tkind === 'post-type' || type === 'post' || type === 'page';\n\tconst hasId = Number.isInteger( id );\n\tconst postStatus = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! isPostType ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst { getEntityRecord } = select( coreStore );\n\t\t\treturn getEntityRecord( 'postType', type, id )?.status;\n\t\t},\n\t\t[ isPostType, type, id ]\n\t);\n\n\t// Check Navigation Link validity if:\n\t// 1. Link is 'post-type'.\n\t// 2. It has an id.\n\t// 3. It's neither null, nor undefined, as valid items might be either of those while loading.\n\t// If those conditions are met, check if\n\t// 1. The post status is published.\n\t// 2. The Navigation Link item has no label.\n\t// If either of those is true, invalidate.\n\tconst isInvalid =\n\t\tisPostType && hasId && postStatus && 'trash' === postStatus;\n\tconst isDraft = 'draft' === postStatus;\n\n\treturn [ isInvalid, isDraft ];\n};\n\nfunction getMissingText( type ) {\n\tlet missingText = '';\n\n\tswitch ( type ) {\n\t\tcase 'post':\n\t\t\t/* translators: label for missing post in navigation link block */\n\t\t\tmissingText = __( 'Select post' );\n\t\t\tbreak;\n\t\tcase 'page':\n\t\t\t/* translators: label for missing page in navigation link block */\n\t\t\tmissingText = __( 'Select page' );\n\t\t\tbreak;\n\t\tcase 'category':\n\t\t\t/* translators: label for missing category in navigation link block */\n\t\t\tmissingText = __( 'Select category' );\n\t\t\tbreak;\n\t\tcase 'tag':\n\t\t\t/* translators: label for missing tag in navigation link block */\n\t\t\tmissingText = __( 'Select tag' );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t/* translators: label for missing values in navigation link block */\n\t\t\tmissingText = __( 'Add link' );\n\t}\n\n\treturn missingText;\n}\n\nexport default function NavigationLinkEdit( {\n\tattributes,\n\tisSelected,\n\tsetAttributes,\n\tinsertBlocksAfter,\n\tmergeBlocks,\n\tonReplace,\n\tcontext,\n\tclientId,\n} ) {\n\tconst { id, label, type, url, description, rel, title, kind } = attributes;\n\n\tconst [ isInvalid, isDraft ] = useIsInvalidLink( kind, type, id );\n\tconst { maxNestingLevel } = context;\n\n\tconst {\n\t\treplaceBlock,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\tselectPreviousBlock,\n\t} = useDispatch( blockEditorStore );\n\tconst [ isLinkOpen, setIsLinkOpen ] = useState( false );\n\t// Store what element opened the popover, so we know where to return focus to (toolbar button vs navigation link text)\n\tconst [ openedBy, setOpenedBy ] = useState( null );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst listItemRef = useRef( null );\n\tconst isDraggingWithin = useIsDraggingWithin( listItemRef );\n\tconst itemLabelPlaceholder = __( 'Add label…' );\n\tconst ref = useRef();\n\tconst prevUrl = usePrevious( url );\n\n\t// Change the label using inspector causes rich text to change focus on firefox.\n\t// This is a workaround to keep the focus on the label field when label filed is focused we don't render the rich text.\n\tconst [ isLabelFieldFocused, setIsLabelFieldFocused ] = useState( false );\n\n\tconst {\n\t\tinnerBlocks,\n\t\tisAtMaxNesting,\n\t\tisTopLevelLink,\n\t\tisParentOfSelectedBlock,\n\t\thasChildren,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlocks,\n\t\t\t\tgetBlockCount,\n\t\t\t\tgetBlockName,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\thasSelectedInnerBlock,\n\t\t\t\tgetBlockParentsByBlockName,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\treturn {\n\t\t\t\tinnerBlocks: getBlocks( clientId ),\n\t\t\t\tisAtMaxNesting:\n\t\t\t\t\tgetBlockParentsByBlockName( clientId, [\n\t\t\t\t\t\t'core/navigation-link',\n\t\t\t\t\t\t'core/navigation-submenu',\n\t\t\t\t\t] ).length >= maxNestingLevel,\n\t\t\t\tisTopLevelLink:\n\t\t\t\t\tgetBlockName( getBlockRootClientId( clientId ) ) ===\n\t\t\t\t\t'core/navigation',\n\t\t\t\tisParentOfSelectedBlock: hasSelectedInnerBlock(\n\t\t\t\t\tclientId,\n\t\t\t\t\ttrue\n\t\t\t\t),\n\t\t\t\thasChildren: !! getBlockCount( clientId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId, maxNestingLevel ]\n\t);\n\n\t/**\n\t * Transform to submenu block.\n\t */\n\tconst transformToSubmenu = () => {\n\t\tconst newSubmenu = createBlock(\n\t\t\t'core/navigation-submenu',\n\t\t\tattributes,\n\t\t\tinnerBlocks.length > 0\n\t\t\t\t? innerBlocks\n\t\t\t\t: [ createBlock( 'core/navigation-link' ) ]\n\t\t);\n\t\treplaceBlock( clientId, newSubmenu );\n\t};\n\n\tuseEffect( () => {\n\t\t// Show the LinkControl on mount if the URL is empty\n\t\t// ( When adding a new menu item)\n\t\t// This can't be done in the useState call because it conflicts\n\t\t// with the autofocus behavior of the BlockListBlock component.\n\t\tif ( ! url ) {\n\t\t\tsetIsLinkOpen( true );\n\t\t}\n\t}, [ url ] );\n\n\tuseEffect( () => {\n\t\t// If block has inner blocks, transform to Submenu.\n\t\tif ( hasChildren ) {\n\t\t\t// This side-effect should not create an undo level as those should\n\t\t\t// only be created via user interactions.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\ttransformToSubmenu();\n\t\t}\n\t}, [ hasChildren ] );\n\n\t/**\n\t * The hook shouldn't be necessary but due to a focus loss happening\n\t * when selecting a suggestion in the link popover, we force close on block unselection.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\tsetIsLinkOpen( false );\n\t\t}\n\t}, [ isSelected ] );\n\n\t// If the LinkControl popover is open and the URL has changed, close the LinkControl and focus the label text.\n\tuseEffect( () => {\n\t\t// We only want to do this when the URL has gone from nothing to a new URL AND the label looks like a URL\n\t\tif (\n\t\t\t! prevUrl &&\n\t\t\turl &&\n\t\t\tisLinkOpen &&\n\t\t\tisURL( prependHTTP( label ) ) &&\n\t\t\t/^.+\\.[a-z]+/.test( label )\n\t\t) {\n\t\t\t// Focus and select the label text.\n\t\t\tselectLabelText();\n\t\t}\n\t}, [ prevUrl, url, isLinkOpen, label ] );\n\n\t/**\n\t * Focus the Link label text and select it.\n\t */\n\tfunction selectLabelText() {\n\t\tref.current.focus();\n\t\tconst { ownerDocument } = ref.current;\n\t\tconst { defaultView } = ownerDocument;\n\t\tconst selection = defaultView.getSelection();\n\t\tconst range = ownerDocument.createRange();\n\t\t// Get the range of the current ref contents so we can add this range to the selection.\n\t\trange.selectNodeContents( ref.current );\n\t\tselection.removeAllRanges();\n\t\tselection.addRange( range );\n\t}\n\n\t/**\n\t * Removes the current link if set.\n\t */\n\tfunction removeLink() {\n\t\t// Reset all attributes that comprise the link.\n\t\t// It is critical that all attributes are reset\n\t\t// to their default values otherwise this may\n\t\t// in advertently trigger side effects because\n\t\t// the values will have \"changed\".\n\t\tsetAttributes( {\n\t\t\turl: undefined,\n\t\t\tlabel: undefined,\n\t\t\tid: undefined,\n\t\t\tkind: undefined,\n\t\t\ttype: undefined,\n\t\t\topensInNewTab: false,\n\t\t} );\n\n\t\t// Close the link editing UI.\n\t\tsetIsLinkOpen( false );\n\t}\n\n\tconst {\n\t\ttextColor,\n\t\tcustomTextColor,\n\t\tbackgroundColor,\n\t\tcustomBackgroundColor,\n\t} = getColors( context, ! isTopLevelLink );\n\n\tfunction onKeyDown( event ) {\n\t\tif ( isKeyboardEvent.primary( event, 'k' ) ) {\n\t\t\t// Required to prevent the command center from opening,\n\t\t\t// as it shares the CMD+K shortcut.\n\t\t\t// See https://github.com/WordPress/gutenberg/pull/59845.\n\t\t\tevent.preventDefault();\n\t\t\t// If this link is a child of a parent submenu item, the parent submenu item event will also open, closing this popover\n\t\t\tevent.stopPropagation();\n\t\t\tsetIsLinkOpen( true );\n\t\t\tsetOpenedBy( ref.current );\n\t\t}\n\t}\n\n\tconst blockProps = useBlockProps( {\n\t\tref: useMergeRefs( [ setPopoverAnchor, listItemRef ] ),\n\t\tclassName: classnames( 'wp-block-navigation-item', {\n\t\t\t'is-editing': isSelected || isParentOfSelectedBlock,\n\t\t\t'is-dragging-within': isDraggingWithin,\n\t\t\t'has-link': !! url,\n\t\t\t'has-child': hasChildren,\n\t\t\t'has-text-color': !! textColor || !! customTextColor,\n\t\t\t[ getColorClassName( 'color', textColor ) ]: !! textColor,\n\t\t\t'has-background': !! backgroundColor || customBackgroundColor,\n\t\t\t[ getColorClassName( 'background-color', backgroundColor ) ]:\n\t\t\t\t!! backgroundColor,\n\t\t} ),\n\t\tstyle: {\n\t\t\tcolor: ! textColor && customTextColor,\n\t\t\tbackgroundColor: ! backgroundColor && customBackgroundColor,\n\t\t},\n\t\tonKeyDown,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\t...blockProps,\n\t\t\tclassName: 'remove-outline', // Remove the outline from the inner blocks container.\n\t\t},\n\t\t{\n\t\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\t\tdirectInsert: true,\n\t\t\trenderAppender: false,\n\t\t}\n\t);\n\n\tif ( ! url || isInvalid || isDraft ) {\n\t\tblockProps.onClick = () => {\n\t\t\tsetIsLinkOpen( true );\n\t\t\tsetOpenedBy( ref.current );\n\t\t};\n\t}\n\n\tconst classes = classnames( 'wp-block-navigation-item__content', {\n\t\t'wp-block-navigation-link__placeholder': ! url || isInvalid || isDraft,\n\t} );\n\n\tconst missingText = getMissingText( type );\n\t/* translators: Whether the navigation link is Invalid or a Draft. */\n\tconst placeholderText = `(${\n\t\tisInvalid ? __( 'Invalid' ) : __( 'Draft' )\n\t})`;\n\tconst tooltipText =\n\t\tisInvalid || isDraft\n\t\t\t? __( 'This item has been deleted, or is a draft' )\n\t\t\t: __( 'This item is missing a link' );\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\ticon={ linkIcon }\n\t\t\t\t\t\ttitle={ __( 'Link' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tsetIsLinkOpen( true );\n\t\t\t\t\t\t\tsetOpenedBy( event.currentTarget );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t{ ! isAtMaxNesting && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tname=\"submenu\"\n\t\t\t\t\t\t\ticon={ addSubmenu }\n\t\t\t\t\t\t\ttitle={ __( 'Add submenu' ) }\n\t\t\t\t\t\t\tonClick={ transformToSubmenu }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t{ /* Warning, this duplicated in packages/block-library/src/navigation-submenu/edit.js */ }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ label ? stripHTML( label ) : '' }\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tonFocus={ () => setIsLabelFieldFocused( true ) }\n\t\t\t\t\t\tonBlur={ () => setIsLabelFieldFocused( false ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ url ? safeDecodeURI( url ) : '' }\n\t\t\t\t\t\tonChange={ ( urlValue ) => {\n\t\t\t\t\t\t\tupdateAttributes(\n\t\t\t\t\t\t\t\t{ url: urlValue },\n\t\t\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\t\t\tattributes\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Link' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tvalue={ description || '' }\n\t\t\t\t\t\tonChange={ ( descriptionValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { description: descriptionValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Description' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The description will be displayed in the menu if the current theme supports it.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ title || '' }\n\t\t\t\t\t\tonChange={ ( titleValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { title: titleValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Title attribute' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Additional information to help clarify the purpose of the link.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\t\tonChange={ ( relValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { rel: relValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Rel attribute' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The relationship of the linked URL as space-separated link types.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ /* eslint-disable jsx-a11y/anchor-is-valid */ }\n\t\t\t\t<a className={ classes }>\n\t\t\t\t\t{ /* eslint-enable */ }\n\t\t\t\t\t{ ! url ? (\n\t\t\t\t\t\t<div className=\"wp-block-navigation-link__placeholder-text\">\n\t\t\t\t\t\t\t<Tooltip text={ tooltipText }>\n\t\t\t\t\t\t\t\t<span>{ missingText }</span>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ ! isInvalid &&\n\t\t\t\t\t\t\t\t! isDraft &&\n\t\t\t\t\t\t\t\t! isLabelFieldFocused && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-navigation-item__label\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( labelValue ) =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: labelValue,\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\t\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'core/navigation-link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Navigation link text'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={ itemLabelPlaceholder }\n\t\t\t\t\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t\t\t\t\t\tallowedFormats={ [\n\t\t\t\t\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/image',\n\t\t\t\t\t\t\t\t\t\t\t\t'core/strikethrough',\n\t\t\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ description && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"wp-block-navigation-item__description\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ description }\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ( isInvalid ||\n\t\t\t\t\t\t\t\tisDraft ||\n\t\t\t\t\t\t\t\tisLabelFieldFocused ) && (\n\t\t\t\t\t\t\t\t<div className=\"wp-block-navigation-link__placeholder-text wp-block-navigation-link__label\">\n\t\t\t\t\t\t\t\t\t<Tooltip text={ tooltipText }>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Navigation link text'\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// Some attributes are stored in an escaped form. It's a legacy issue.\n\t\t\t\t\t\t\t\t\t\t\t\t// Ideally they would be stored in a raw, unescaped form.\n\t\t\t\t\t\t\t\t\t\t\t\t// Unescape is used here to \"recover\" the escaped characters\n\t\t\t\t\t\t\t\t\t\t\t\t// so they display without encoding.\n\t\t\t\t\t\t\t\t\t\t\t\t// See `updateAttributes` for more details.\n\t\t\t\t\t\t\t\t\t\t\t\t`${ decodeEntities( label ) } ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tisInvalid || isDraft\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? placeholderText\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t\t}`.trim()\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isLinkOpen && (\n\t\t\t\t\t\t<LinkUI\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tlink={ attributes }\n\t\t\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\t\t\t// If there is no link then remove the auto-inserted block.\n\t\t\t\t\t\t\t\t// This avoids empty blocks which can provided a poor UX.\n\t\t\t\t\t\t\t\tif ( ! url ) {\n\t\t\t\t\t\t\t\t\t// Select the previous block to keep focus nearby\n\t\t\t\t\t\t\t\t\tselectPreviousBlock( clientId, true );\n\t\t\t\t\t\t\t\t\t// Remove the link.\n\t\t\t\t\t\t\t\t\tonReplace( [] );\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsetIsLinkOpen( false );\n\t\t\t\t\t\t\t\tif ( openedBy ) {\n\t\t\t\t\t\t\t\t\topenedBy.focus();\n\t\t\t\t\t\t\t\t\tsetOpenedBy( null );\n\t\t\t\t\t\t\t\t} else if ( ref.current ) {\n\t\t\t\t\t\t\t\t\t// select the ref when adding a new link\n\t\t\t\t\t\t\t\t\tref.current.focus();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Fallback\n\t\t\t\t\t\t\t\t\tselectPreviousBlock( clientId, true );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tanchor={ popoverAnchor }\n\t\t\t\t\t\t\tonRemove={ removeLink }\n\t\t\t\t\t\t\tonChange={ ( updatedValue ) => {\n\t\t\t\t\t\t\t\tupdateAttributes(\n\t\t\t\t\t\t\t\t\tupdatedValue,\n\t\t\t\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\t\t\t\tattributes\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</a>\n\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst page = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\" />\r\n\t\t<Path d=\"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default page;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tag = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tag;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst customPostType = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4zm.8-4l.7.7 2-2V12h1V9.2l2 2 .7-.7-2-2H12v-1H9.2l2-2-.7-.7-2 2V4h-1v2.8l-2-2-.7.7 2 2H4v1h2.8l-2 2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default customPostType;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tcategory,\r\n\tpage,\r\n\tpostList,\r\n\ttag,\r\n\tcustomPostType,\r\n} from '@wordpress/icons';\r\n\r\nfunction getIcon( variationName ) {\r\n\tswitch ( variationName ) {\r\n\t\tcase 'post':\r\n\t\t\treturn postList;\r\n\t\tcase 'page':\r\n\t\t\treturn page;\r\n\t\tcase 'tag':\r\n\t\t\treturn tag;\r\n\t\tcase 'category':\r\n\t\t\treturn category;\r\n\t\tdefault:\r\n\t\t\treturn customPostType;\r\n\t}\r\n}\r\n\r\nexport function enhanceNavigationLinkVariations( settings, name ) {\r\n\tif ( name !== 'core/navigation-link' ) {\r\n\t\treturn settings;\r\n\t}\r\n\r\n\t// Otherwise decorate server passed variations with an icon and isActive function.\r\n\tif ( settings.variations ) {\r\n\t\tconst isActive = ( blockAttributes, variationAttributes ) => {\r\n\t\t\treturn blockAttributes.type === variationAttributes.type;\r\n\t\t};\r\n\t\tconst variations = settings.variations.map( ( variation ) => {\r\n\t\t\treturn {\r\n\t\t\t\t...variation,\r\n\t\t\t\t...( ! variation.icon && {\r\n\t\t\t\t\ticon: getIcon( variation.name ),\r\n\t\t\t\t} ),\r\n\t\t\t\t...( ! variation.isActive && {\r\n\t\t\t\t\tisActive,\r\n\t\t\t\t} ),\r\n\t\t\t};\r\n\t\t} );\r\n\t\treturn {\r\n\t\t\t...settings,\r\n\t\t\tvariations,\r\n\t\t};\r\n\t}\r\n\treturn settings;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/site-logo' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/spacer' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/home-link' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/social-links' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/search' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/page-list' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/buttons' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/navigation-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/navigation-submenu' ],\r\n\t\t\ttransform: ( attributes, innerBlocks ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/navigation-submenu',\r\n\t\t\t\t\tattributes,\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/spacer' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/spacer' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/site-logo' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/site-logo' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/home-link' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/home-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/social-links' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/social-links' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/search' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/search', {\r\n\t\t\t\t\tshowLabel: false,\r\n\t\t\t\t\tbuttonUseIcon: true,\r\n\t\t\t\t\tbuttonPosition: 'button-inside',\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/page-list' ],\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/page-list' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/buttons' ],\r\n\t\t\ttransform: ( { label, url, rel, title, opensInNewTab } ) => {\r\n\t\t\t\treturn createBlock( 'core/buttons', {}, [\r\n\t\t\t\t\tcreateBlock( 'core/button', {\r\n\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\turl,\r\n\t\t\t\t\t\trel,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tlinkTarget: opensInNewTab ? '_blank' : undefined,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t] );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { _x } from '@wordpress/i18n';\r\nimport { customLink as linkIcon } from '@wordpress/icons';\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\nimport { addFilter } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport { enhanceNavigationLinkVariations } from './hooks';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon: linkIcon,\r\n\r\n\t__experimentalLabel: ( { label } ) => label,\r\n\r\n\tmerge( leftAttributes, { label: rightLabel = '' } ) {\r\n\t\treturn {\r\n\t\t\t...leftAttributes,\r\n\t\t\tlabel: leftAttributes.label + rightLabel,\r\n\t\t};\r\n\t},\r\n\r\n\tedit,\r\n\r\n\tsave,\r\n\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tlabel: _x( 'Example Link', 'navigation link preview example' ),\r\n\t\t\turl: 'https://example.com',\r\n\t\t},\r\n\t},\r\n\r\n\tdeprecated: [\r\n\t\t{\r\n\t\t\tisEligible( attributes ) {\r\n\t\t\t\treturn attributes.nofollow;\r\n\t\t\t},\r\n\r\n\t\t\tattributes: {\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\ttype: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\tnofollow: {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t},\r\n\t\t\t\tdescription: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t\tid: {\r\n\t\t\t\t\ttype: 'number',\r\n\t\t\t\t},\r\n\t\t\t\topensInNewTab: {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t\turl: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\tmigrate( { nofollow, ...rest } ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\trel: nofollow ? 'nofollow' : '',\r\n\t\t\t\t\t...rest,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tsave() {\r\n\t\t\t\treturn <InnerBlocks.Content />;\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => {\r\n\taddFilter(\r\n\t\t'blocks.registerBlockType',\r\n\t\t'core/navigation-link',\r\n\t\tenhanceNavigationLinkVariations\r\n\t);\r\n\r\n\treturn initBlock( { name, metadata, settings } );\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst removeSubmenu = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"m13.955 20.748 8-17.5-.91-.416L19.597 6H13.5v1.5h5.411l-1.6 3.5H13.5v1.5h3.126l-1.6 3.5H13.5l.028 1.5h.812l-1.295 2.832.91.416ZM17.675 16l-.686 1.5h4.539L21.5 16h-3.825Zm2.286-5-.686 1.5H21.5V11h-1.54ZM2 12c0 3.58 2.42 5.5 6 5.5h.5V19l3-2.5-3-2.5v2H8c-2.48 0-4.5-1.52-4.5-4S5.52 7.5 8 7.5h3.5V6H8c-3.58 0-6 2.42-6 6Z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default removeSubmenu;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/components';\r\n\r\nexport const ItemSubmenuIcon = () => (\r\n\t<SVG\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"12\"\r\n\t\theight=\"12\"\r\n\t\tviewBox=\"0 0 12 12\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<Path d=\"M1.50002 4L6.00002 8L10.5 4\" strokeWidth=\"1.5\" />\r\n\t</SVG>\r\n);\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tPanelBody,\n\tTextControl,\n\tTextareaControl,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { displayShortcut, isKeyboardEvent } from '@wordpress/keycodes';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBlockControls,\n\tInnerBlocks,\n\tuseInnerBlocksProps,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\tgetColorClassName,\n} from '@wordpress/block-editor';\nimport { isURL, prependHTTP } from '@wordpress/url';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport { link as linkIcon, removeSubmenu } from '@wordpress/icons';\nimport { useResourcePermissions } from '@wordpress/core-data';\nimport { speak } from '@wordpress/a11y';\nimport { createBlock } from '@wordpress/blocks';\nimport { useMergeRefs, usePrevious } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { ItemSubmenuIcon } from './icons';\nimport { LinkUI } from '../navigation-link/link-ui';\nimport { updateAttributes } from '../navigation-link/update-attributes';\nimport {\n\tgetColors,\n\tgetNavigationChildBlockProps,\n} from '../navigation/edit/utils';\n\nconst ALLOWED_BLOCKS = [\n\t'core/navigation-link',\n\t'core/navigation-submenu',\n\t'core/page-list',\n];\n\nconst DEFAULT_BLOCK = {\n\tname: 'core/navigation-link',\n};\n\n/**\n * A React hook to determine if it's dragging within the target element.\n *\n * @typedef {import('@wordpress/element').RefObject} RefObject\n *\n * @param {RefObject<HTMLElement>} elementRef The target elementRef object.\n *\n * @return {boolean} Is dragging within the target element.\n */\nconst useIsDraggingWithin = ( elementRef ) => {\n\tconst [ isDraggingWithin, setIsDraggingWithin ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst { ownerDocument } = elementRef.current;\n\n\t\tfunction handleDragStart( event ) {\n\t\t\t// Check the first time when the dragging starts.\n\t\t\thandleDragEnter( event );\n\t\t}\n\n\t\t// Set to false whenever the user cancel the drag event by either releasing the mouse or press Escape.\n\t\tfunction handleDragEnd() {\n\t\t\tsetIsDraggingWithin( false );\n\t\t}\n\n\t\tfunction handleDragEnter( event ) {\n\t\t\t// Check if the current target is inside the item element.\n\t\t\tif ( elementRef.current.contains( event.target ) ) {\n\t\t\t\tsetIsDraggingWithin( true );\n\t\t\t} else {\n\t\t\t\tsetIsDraggingWithin( false );\n\t\t\t}\n\t\t}\n\n\t\t// Bind these events to the document to catch all drag events.\n\t\t// Ideally, we can also use `event.relatedTarget`, but sadly that\n\t\t// doesn't work in Safari.\n\t\townerDocument.addEventListener( 'dragstart', handleDragStart );\n\t\townerDocument.addEventListener( 'dragend', handleDragEnd );\n\t\townerDocument.addEventListener( 'dragenter', handleDragEnter );\n\n\t\treturn () => {\n\t\t\townerDocument.removeEventListener( 'dragstart', handleDragStart );\n\t\t\townerDocument.removeEventListener( 'dragend', handleDragEnd );\n\t\t\townerDocument.removeEventListener( 'dragenter', handleDragEnter );\n\t\t};\n\t}, [] );\n\n\treturn isDraggingWithin;\n};\n\n/**\n * @typedef {'post-type'|'custom'|'taxonomy'|'post-type-archive'} WPNavigationLinkKind\n */\n\n/**\n * Navigation Link Block Attributes\n *\n * @typedef {Object} WPNavigationLinkBlockAttributes\n *\n * @property {string}               [label]         Link text.\n * @property {WPNavigationLinkKind} [kind]          Kind is used to differentiate between term and post ids to check post draft status.\n * @property {string}               [type]          The type such as post, page, tag, category and other custom types.\n * @property {string}               [rel]           The relationship of the linked URL.\n * @property {number}               [id]            A post or term id.\n * @property {boolean}              [opensInNewTab] Sets link target to _blank when true.\n * @property {string}               [url]           Link href.\n * @property {string}               [title]         Link title attribute.\n */\n\nexport default function NavigationSubmenuEdit( {\n\tattributes,\n\tisSelected,\n\tsetAttributes,\n\tmergeBlocks,\n\tonReplace,\n\tcontext,\n\tclientId,\n} ) {\n\tconst { label, type, url, description, rel, title } = attributes;\n\n\tconst { showSubmenuIcon, maxNestingLevel, openSubmenusOnClick } = context;\n\n\tconst {\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\treplaceBlock,\n\t\tselectBlock,\n\t} = useDispatch( blockEditorStore );\n\tconst [ isLinkOpen, setIsLinkOpen ] = useState( false );\n\t// Store what element opened the popover, so we know where to return focus to (toolbar button vs navigation link text)\n\tconst [ openedBy, setOpenedBy ] = useState( null );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst listItemRef = useRef( null );\n\tconst isDraggingWithin = useIsDraggingWithin( listItemRef );\n\tconst itemLabelPlaceholder = __( 'Add text…' );\n\tconst ref = useRef();\n\n\tconst pagesPermissions = useResourcePermissions( 'pages' );\n\tconst postsPermissions = useResourcePermissions( 'posts' );\n\n\tconst {\n\t\tparentCount,\n\t\tisParentOfSelectedBlock,\n\t\tisImmediateParentOfSelectedBlock,\n\t\thasChildren,\n\t\tselectedBlockHasChildren,\n\t\tonlyDescendantIsEmptyLink,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\thasSelectedInnerBlock,\n\t\t\t\tgetSelectedBlockClientId,\n\t\t\t\tgetBlockParentsByBlockName,\n\t\t\t\tgetBlock,\n\t\t\t\tgetBlockCount,\n\t\t\t\tgetBlockOrder,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tlet _onlyDescendantIsEmptyLink;\n\n\t\t\tconst selectedBlockId = getSelectedBlockClientId();\n\n\t\t\tconst selectedBlockChildren = getBlockOrder( selectedBlockId );\n\n\t\t\t// Check for a single descendant in the submenu. If that block\n\t\t\t// is a link block in a \"placeholder\" state with no label then\n\t\t\t// we can consider as an \"empty\" link.\n\t\t\tif ( selectedBlockChildren?.length === 1 ) {\n\t\t\t\tconst singleBlock = getBlock( selectedBlockChildren[ 0 ] );\n\n\t\t\t\t_onlyDescendantIsEmptyLink =\n\t\t\t\t\tsingleBlock?.name === 'core/navigation-link' &&\n\t\t\t\t\t! singleBlock?.attributes?.label;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tparentCount: getBlockParentsByBlockName(\n\t\t\t\t\tclientId,\n\t\t\t\t\t'core/navigation-submenu'\n\t\t\t\t).length,\n\t\t\t\tisParentOfSelectedBlock: hasSelectedInnerBlock(\n\t\t\t\t\tclientId,\n\t\t\t\t\ttrue\n\t\t\t\t),\n\t\t\t\tisImmediateParentOfSelectedBlock: hasSelectedInnerBlock(\n\t\t\t\t\tclientId,\n\t\t\t\t\tfalse\n\t\t\t\t),\n\t\t\t\thasChildren: !! getBlockCount( clientId ),\n\t\t\t\tselectedBlockHasChildren: !! selectedBlockChildren?.length,\n\t\t\t\tonlyDescendantIsEmptyLink: _onlyDescendantIsEmptyLink,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst prevHasChildren = usePrevious( hasChildren );\n\n\t// Show the LinkControl on mount if the URL is empty\n\t// ( When adding a new menu item)\n\t// This can't be done in the useState call because it conflicts\n\t// with the autofocus behavior of the BlockListBlock component.\n\tuseEffect( () => {\n\t\tif ( ! openSubmenusOnClick && ! url ) {\n\t\t\tsetIsLinkOpen( true );\n\t\t}\n\t}, [] );\n\n\t/**\n\t * The hook shouldn't be necessary but due to a focus loss happening\n\t * when selecting a suggestion in the link popover, we force close on block unselection.\n\t */\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\tsetIsLinkOpen( false );\n\t\t}\n\t}, [ isSelected ] );\n\n\t// If the LinkControl popover is open and the URL has changed, close the LinkControl and focus the label text.\n\tuseEffect( () => {\n\t\tif ( isLinkOpen && url ) {\n\t\t\t// Does this look like a URL and have something TLD-ish?\n\t\t\tif (\n\t\t\t\tisURL( prependHTTP( label ) ) &&\n\t\t\t\t/^.+\\.[a-z]+/.test( label )\n\t\t\t) {\n\t\t\t\t// Focus and select the label text.\n\t\t\t\tselectLabelText();\n\t\t\t}\n\t\t}\n\t}, [ url ] );\n\n\t/**\n\t * Focus the Link label text and select it.\n\t */\n\tfunction selectLabelText() {\n\t\tref.current.focus();\n\t\tconst { ownerDocument } = ref.current;\n\t\tconst { defaultView } = ownerDocument;\n\t\tconst selection = defaultView.getSelection();\n\t\tconst range = ownerDocument.createRange();\n\t\t// Get the range of the current ref contents so we can add this range to the selection.\n\t\trange.selectNodeContents( ref.current );\n\t\tselection.removeAllRanges();\n\t\tselection.addRange( range );\n\t}\n\n\tlet userCanCreate = false;\n\tif ( ! type || type === 'page' ) {\n\t\tuserCanCreate = pagesPermissions.canCreate;\n\t} else if ( type === 'post' ) {\n\t\tuserCanCreate = postsPermissions.canCreate;\n\t}\n\n\tconst {\n\t\ttextColor,\n\t\tcustomTextColor,\n\t\tbackgroundColor,\n\t\tcustomBackgroundColor,\n\t} = getColors( context, parentCount > 0 );\n\n\tfunction onKeyDown( event ) {\n\t\tif ( isKeyboardEvent.primary( event, 'k' ) ) {\n\t\t\t// Required to prevent the command center from opening,\n\t\t\t// as it shares the CMD+K shortcut.\n\t\t\t// See https://github.com/WordPress/gutenberg/pull/59845.\n\t\t\tevent.preventDefault();\n\t\t\t// If we don't stop propogation, this event bubbles up to the parent submenu item\n\t\t\tevent.stopPropagation();\n\t\t\tsetIsLinkOpen( true );\n\t\t\tsetOpenedBy( ref.current );\n\t\t}\n\t}\n\n\tconst blockProps = useBlockProps( {\n\t\tref: useMergeRefs( [ setPopoverAnchor, listItemRef ] ),\n\t\tclassName: classnames( 'wp-block-navigation-item', {\n\t\t\t'is-editing': isSelected || isParentOfSelectedBlock,\n\t\t\t'is-dragging-within': isDraggingWithin,\n\t\t\t'has-link': !! url,\n\t\t\t'has-child': hasChildren,\n\t\t\t'has-text-color': !! textColor || !! customTextColor,\n\t\t\t[ getColorClassName( 'color', textColor ) ]: !! textColor,\n\t\t\t'has-background': !! backgroundColor || customBackgroundColor,\n\t\t\t[ getColorClassName( 'background-color', backgroundColor ) ]:\n\t\t\t\t!! backgroundColor,\n\t\t\t'open-on-click': openSubmenusOnClick,\n\t\t} ),\n\t\tstyle: {\n\t\t\tcolor: ! textColor && customTextColor,\n\t\t\tbackgroundColor: ! backgroundColor && customBackgroundColor,\n\t\t},\n\t\tonKeyDown,\n\t} );\n\n\t// Always use overlay colors for submenus.\n\tconst innerBlocksColors = getColors( context, true );\n\n\tconst allowedBlocks =\n\t\tparentCount >= maxNestingLevel\n\t\t\t? ALLOWED_BLOCKS.filter(\n\t\t\t\t\t( blockName ) => blockName !== 'core/navigation-submenu'\n\t\t\t  )\n\t\t\t: ALLOWED_BLOCKS;\n\n\tconst navigationChildBlockProps =\n\t\tgetNavigationChildBlockProps( innerBlocksColors );\n\tconst innerBlocksProps = useInnerBlocksProps( navigationChildBlockProps, {\n\t\tallowedBlocks,\n\t\tdefaultBlock: DEFAULT_BLOCK,\n\t\tdirectInsert: true,\n\n\t\t// Ensure block toolbar is not too far removed from item\n\t\t// being edited.\n\t\t// see: https://github.com/WordPress/gutenberg/pull/34615.\n\t\t__experimentalCaptureToolbars: true,\n\n\t\trenderAppender:\n\t\t\tisSelected ||\n\t\t\t( isImmediateParentOfSelectedBlock &&\n\t\t\t\t! selectedBlockHasChildren ) ||\n\t\t\t// Show the appender while dragging to allow inserting element between item and the appender.\n\t\t\thasChildren\n\t\t\t\t? InnerBlocks.ButtonBlockAppender\n\t\t\t\t: false,\n\t} );\n\n\tconst ParentElement = openSubmenusOnClick ? 'button' : 'a';\n\n\tfunction transformToLink() {\n\t\tconst newLinkBlock = createBlock( 'core/navigation-link', attributes );\n\t\treplaceBlock( clientId, newLinkBlock );\n\t}\n\n\tuseEffect( () => {\n\t\t// If block becomes empty, transform to Navigation Link.\n\t\tif ( ! hasChildren && prevHasChildren ) {\n\t\t\t// This side-effect should not create an undo level as those should\n\t\t\t// only be created via user interactions.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\ttransformToLink();\n\t\t}\n\t}, [ hasChildren, prevHasChildren ] );\n\n\tconst canConvertToLink =\n\t\t! selectedBlockHasChildren || onlyDescendantIsEmptyLink;\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t{ ! openSubmenusOnClick && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\ticon={ linkIcon }\n\t\t\t\t\t\t\ttitle={ __( 'Link' ) }\n\t\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tsetIsLinkOpen( true );\n\t\t\t\t\t\t\t\tsetOpenedBy( event.currentTarget );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tname=\"revert\"\n\t\t\t\t\t\ticon={ removeSubmenu }\n\t\t\t\t\t\ttitle={ __( 'Convert to Link' ) }\n\t\t\t\t\t\tonClick={ transformToLink }\n\t\t\t\t\t\tclassName=\"wp-block-navigation__submenu__revert\"\n\t\t\t\t\t\tisDisabled={ ! canConvertToLink }\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t{ /* Warning, this duplicated in packages/block-library/src/navigation-link/edit.js */ }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ label || '' }\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ url || '' }\n\t\t\t\t\t\tonChange={ ( urlValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { url: urlValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Link' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tvalue={ description || '' }\n\t\t\t\t\t\tonChange={ ( descriptionValue ) => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tdescription: descriptionValue,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Description' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The description will be displayed in the menu if the current theme supports it.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ title || '' }\n\t\t\t\t\t\tonChange={ ( titleValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { title: titleValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Title attribute' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Additional information to help clarify the purpose of the link.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\t\tonChange={ ( relValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { rel: relValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ __( 'Rel attribute' ) }\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'The relationship of the linked URL as space-separated link types.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ /* eslint-disable jsx-a11y/anchor-is-valid */ }\n\t\t\t\t<ParentElement className=\"wp-block-navigation-item__content\">\n\t\t\t\t\t{ /* eslint-enable */ }\n\t\t\t\t\t{\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\t\t\tclassName=\"wp-block-navigation-item__label\"\n\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\tonChange={ ( labelValue ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { label: labelValue } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\t\taria-label={ __( 'Navigation link text' ) }\n\t\t\t\t\t\t\tplaceholder={ itemLabelPlaceholder }\n\t\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\t\tallowedFormats={ [\n\t\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t\t'core/image',\n\t\t\t\t\t\t\t\t'core/strikethrough',\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tif ( ! openSubmenusOnClick && ! url ) {\n\t\t\t\t\t\t\t\t\tsetIsLinkOpen( true );\n\t\t\t\t\t\t\t\t\tsetOpenedBy( ref.current );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{ ! openSubmenusOnClick && isLinkOpen && (\n\t\t\t\t\t\t<LinkUI\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tlink={ attributes }\n\t\t\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\t\t\tsetIsLinkOpen( false );\n\t\t\t\t\t\t\t\tif ( openedBy ) {\n\t\t\t\t\t\t\t\t\topenedBy.focus();\n\t\t\t\t\t\t\t\t\tsetOpenedBy( null );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tanchor={ popoverAnchor }\n\t\t\t\t\t\t\thasCreateSuggestion={ userCanCreate }\n\t\t\t\t\t\t\tonRemove={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( { url: '' } );\n\t\t\t\t\t\t\t\tspeak( __( 'Link removed.' ), 'assertive' );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonChange={ ( updatedValue ) => {\n\t\t\t\t\t\t\t\tupdateAttributes(\n\t\t\t\t\t\t\t\t\tupdatedValue,\n\t\t\t\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\t\t\t\tattributes\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ParentElement>\n\t\t\t\t{ ( showSubmenuIcon || openSubmenusOnClick ) && (\n\t\t\t\t\t<span className=\"wp-block-navigation__submenu-icon\">\n\t\t\t\t\t\t<ItemSubmenuIcon />\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/navigation-link' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tcreateBlock( 'core/navigation-link', attributes ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/spacer' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/spacer' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/site-logo' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/site-logo' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/home-link' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/home-link' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/social-links' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/social-links' );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/search' ],\r\n\t\t\tisMatch: ( attributes, block ) => block?.innerBlocks?.length === 0,\r\n\t\t\ttransform: () => {\r\n\t\t\t\treturn createBlock( 'core/search' );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\n * WordPress dependencies\n */\nimport { page, addSubmenu } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\ticon: ( { context } ) => {\n\t\tif ( context === 'list-view' ) {\n\t\t\treturn page;\n\t\t}\n\t\treturn addSubmenu;\n\t},\n\t__experimentalLabel( attributes, { context } ) {\n\t\tconst { label } = attributes;\n\n\t\tconst customName = attributes?.metadata?.name;\n\n\t\t// In the list view, use the block's menu label as the label.\n\t\t// If the menu label is empty, fall back to the default label.\n\t\tif ( context === 'list-view' && ( customName || label ) ) {\n\t\t\treturn attributes?.metadata?.name || label;\n\t\t}\n\n\t\treturn label;\n\t},\n\tedit,\n\tsave,\n\ttransforms,\n};\n\nexport const init = () => initBlock( { name, metadata, settings } );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst pageBreak = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M17.5 9V6a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v3H8V6a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v3h1.5Zm0 6.5V18a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2v-2.5H8V18a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-2.5h1.5ZM4 13h16v-1.5H4V13Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pageBreak;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tschema: {\r\n\t\t\t\t'wp-block': { attributes: [ 'data-block' ] },\r\n\t\t\t},\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.dataset && node.dataset.block === 'core/nextpage',\r\n\t\t\ttransform() {\r\n\t\t\t\treturn createBlock( 'core/nextpage', {} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { pageBreak as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function NextPageEdit() {\r\n\treturn (\r\n\t\t<div { ...useBlockProps() }>\r\n\t\t\t<span>{ __( 'Page break' ) }</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save() {\r\n\treturn <RawHTML>{ '<!--nextpage-->' }</RawHTML>;\r\n}\r\n","/**\r\n * THIS MODULE IS INTENTIONALLY KEPT WITHIN THE PATTERN BLOCK'S SOURCE.\r\n *\r\n * This is because this approach for preventing infinite loops due to\r\n * recursively rendering blocks is specific to the way that the `core/pattern`\r\n * block behaves in the editor. Any other block types that deal with recursion\r\n * SHOULD USE THE STANDARD METHOD for avoiding loops:\r\n *\r\n * @see https://github.com/WordPress/gutenberg/pull/31455\r\n * @see packages/block-editor/src/components/recursion-provider/README.md\r\n */\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useRegistry } from '@wordpress/data';\r\n\r\n/**\r\n * Naming is hard.\r\n *\r\n * @see useParsePatternDependencies\r\n *\r\n * @type {WeakMap<Object, Function>}\r\n */\r\nconst cachedParsers = new WeakMap();\r\n\r\n/**\r\n * Hook used by PatternEdit to parse block patterns. It returns a function that\r\n * takes a pattern and returns nothing but throws an error if the pattern is\r\n * recursive.\r\n *\r\n * @example\r\n * ```js\r\n * const parsePatternDependencies = useParsePatternDependencies();\r\n * parsePatternDependencies( selectedPattern );\r\n * ```\r\n *\r\n * @see parsePatternDependencies\r\n *\r\n * @return {Function} A function to parse block patterns.\r\n */\r\nexport function useParsePatternDependencies() {\r\n\tconst registry = useRegistry();\r\n\r\n\t// Instead of caching maps, go straight to the point and cache bound\r\n\t// functions. Each of those functions is bound to a different Map that will\r\n\t// keep track of patterns in the context of the given registry.\r\n\tif ( ! cachedParsers.has( registry ) ) {\r\n\t\tconst deps = new Map();\r\n\t\tcachedParsers.set(\r\n\t\t\tregistry,\r\n\t\t\tparsePatternDependencies.bind( null, deps )\r\n\t\t);\r\n\t}\r\n\treturn cachedParsers.get( registry );\r\n}\r\n\r\n/**\r\n * Parse a given pattern and traverse its contents to detect any subsequent\r\n * patterns on which it may depend. Such occurrences will be added to an\r\n * internal dependency graph. If a circular dependency is detected, an\r\n * error will be thrown.\r\n *\r\n * EXPORTED FOR TESTING PURPOSES ONLY.\r\n *\r\n * @param {Map<string, Set<string>>} deps           Map of pattern dependencies.\r\n * @param {Object}                   pattern        Pattern.\r\n * @param {string}                   pattern.name   Pattern name.\r\n * @param {Array}                    pattern.blocks Pattern's block list.\r\n *\r\n * @throws {Error} If a circular dependency is detected.\r\n */\r\nexport function parsePatternDependencies( deps, { name, blocks } ) {\r\n\tconst queue = [ ...blocks ];\r\n\twhile ( queue.length ) {\r\n\t\tconst block = queue.shift();\r\n\t\tfor ( const innerBlock of block.innerBlocks ?? [] ) {\r\n\t\t\tqueue.unshift( innerBlock );\r\n\t\t}\r\n\t\tif ( block.name === 'core/pattern' ) {\r\n\t\t\tregisterDependency( deps, name, block.attributes.slug );\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Declare that pattern `a` depends on pattern `b`. If a circular\r\n * dependency is detected, an error will be thrown.\r\n *\r\n * EXPORTED FOR TESTING PURPOSES ONLY.\r\n *\r\n * @param {Map<string, Set<string>>} deps Map of pattern dependencies.\r\n * @param {string}                   a    Slug for pattern A.\r\n * @param {string}                   b    Slug for pattern B.\r\n *\r\n * @throws {Error} If a circular dependency is detected.\r\n */\r\nexport function registerDependency( deps, a, b ) {\r\n\tif ( ! deps.has( a ) ) {\r\n\t\tdeps.set( a, new Set() );\r\n\t}\r\n\tdeps.get( a ).add( b );\r\n\tif ( hasCycle( deps, a ) ) {\r\n\t\tthrow new TypeError(\r\n\t\t\t`Pattern ${ a } has a circular dependency and cannot be rendered.`\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n * Determine if a given pattern has circular dependencies on other patterns.\r\n * This will be determined by running a depth-first search on the current state\r\n * of the graph represented by `patternDependencies`.\r\n *\r\n * @param {Map<string, Set<string>>} deps           Map of pattern dependencies.\r\n * @param {string}                   slug           Pattern slug.\r\n * @param {Set<string>}              [visitedNodes] Set to track visited nodes in the graph.\r\n * @param {Set<string>}              [currentPath]  Set to track and backtrack graph paths.\r\n * @return {boolean} Whether any cycle was found.\r\n */\r\nfunction hasCycle(\r\n\tdeps,\r\n\tslug,\r\n\tvisitedNodes = new Set(),\r\n\tcurrentPath = new Set()\r\n) {\r\n\tvisitedNodes.add( slug );\r\n\tcurrentPath.add( slug );\r\n\r\n\tconst dependencies = deps.get( slug ) ?? new Set();\r\n\r\n\tfor ( const dependency of dependencies ) {\r\n\t\tif ( ! visitedNodes.has( dependency ) ) {\r\n\t\t\tif ( hasCycle( deps, dependency, visitedNodes, currentPath ) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if ( currentPath.has( dependency ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\t// Remove the current node from the current path when backtracking\r\n\tcurrentPath.delete( slug );\r\n\treturn false;\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { cloneBlock } from '@wordpress/blocks';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n\tWarning,\n\tstore as blockEditorStore,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useParsePatternDependencies } from './recursion-detector';\n\nconst PatternEdit = ( { attributes, clientId } ) => {\n\tconst registry = useRegistry();\n\tconst selectedPattern = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).__experimentalGetParsedPattern(\n\t\t\t\tattributes.slug\n\t\t\t),\n\t\t[ attributes.slug ]\n\t);\n\n\tconst currentThemeStylesheet = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme()?.stylesheet,\n\t\t[]\n\t);\n\n\tconst {\n\t\treplaceBlocks,\n\t\tsetBlockEditingMode,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t} = useDispatch( blockEditorStore );\n\tconst { getBlockRootClientId, getBlockEditingMode } =\n\t\tuseSelect( blockEditorStore );\n\n\tconst [ hasRecursionError, setHasRecursionError ] = useState( false );\n\tconst parsePatternDependencies = useParsePatternDependencies();\n\n\t// Duplicated in packages/edit-site/src/components/start-template-options/index.js.\n\tfunction injectThemeAttributeInBlockTemplateContent( block ) {\n\t\tif (\n\t\t\tblock.innerBlocks.find(\n\t\t\t\t( innerBlock ) => innerBlock.name === 'core/template-part'\n\t\t\t)\n\t\t) {\n\t\t\tblock.innerBlocks = block.innerBlocks.map( ( innerBlock ) => {\n\t\t\t\tif (\n\t\t\t\t\tinnerBlock.name === 'core/template-part' &&\n\t\t\t\t\tinnerBlock.attributes.theme === undefined\n\t\t\t\t) {\n\t\t\t\t\tinnerBlock.attributes.theme = currentThemeStylesheet;\n\t\t\t\t}\n\t\t\t\treturn innerBlock;\n\t\t\t} );\n\t\t}\n\n\t\tif (\n\t\t\tblock.name === 'core/template-part' &&\n\t\t\tblock.attributes.theme === undefined\n\t\t) {\n\t\t\tblock.attributes.theme = currentThemeStylesheet;\n\t\t}\n\t\treturn block;\n\t}\n\n\t// Run this effect when the component loads.\n\t// This adds the Pattern's contents to the post.\n\t// This change won't be saved.\n\t// It will continue to pull from the pattern file unless changes are made to its respective template part.\n\tuseEffect( () => {\n\t\tif ( ! hasRecursionError && selectedPattern?.blocks ) {\n\t\t\ttry {\n\t\t\t\tparsePatternDependencies( selectedPattern );\n\t\t\t} catch ( error ) {\n\t\t\t\tsetHasRecursionError( true );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We batch updates to block list settings to avoid triggering cascading renders\n\t\t\t// for each container block included in a tree and optimize initial render.\n\t\t\t// Since the above uses microtasks, we need to use a microtask here as well,\n\t\t\t// because nested pattern blocks cannot be inserted if the parent block supports\n\t\t\t// inner blocks but doesn't have blockSettings in the state.\n\t\t\twindow.queueMicrotask( () => {\n\t\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\t\t// Clone blocks from the pattern before insertion to ensure they receive\n\t\t\t\t// distinct client ids. See https://github.com/WordPress/gutenberg/issues/50628.\n\t\t\t\tconst clonedBlocks = selectedPattern.blocks.map( ( block ) =>\n\t\t\t\t\tcloneBlock(\n\t\t\t\t\t\tinjectThemeAttributeInBlockTemplateContent( block )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\t// If the pattern has a single block and categories, we should add the\n\t\t\t\t// categories of the pattern to the block's metadata.\n\t\t\t\tif (\n\t\t\t\t\tclonedBlocks.length === 1 &&\n\t\t\t\t\tselectedPattern.categories?.length > 0\n\t\t\t\t) {\n\t\t\t\t\tclonedBlocks[ 0 ].attributes = {\n\t\t\t\t\t\t...clonedBlocks[ 0 ].attributes,\n\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t...clonedBlocks[ 0 ].attributes.metadata,\n\t\t\t\t\t\t\tcategories: selectedPattern.categories,\n\t\t\t\t\t\t\tpatternName: selectedPattern.name,\n\t\t\t\t\t\t\tname:\n\t\t\t\t\t\t\t\tclonedBlocks[ 0 ].attributes.metadata.name ||\n\t\t\t\t\t\t\t\tselectedPattern.title,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst rootEditingMode = getBlockEditingMode( rootClientId );\n\t\t\t\tregistry.batch( () => {\n\t\t\t\t\t// Temporarily set the root block to default mode to allow replacing the pattern.\n\t\t\t\t\t// This could happen when the page is disabling edits of non-content blocks.\n\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\t\tsetBlockEditingMode( rootClientId, 'default' );\n\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\t\treplaceBlocks( clientId, clonedBlocks );\n\t\t\t\t\t// Restore the root block's original mode.\n\t\t\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\t\t\tsetBlockEditingMode( rootClientId, rootEditingMode );\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t}, [\n\t\tclientId,\n\t\thasRecursionError,\n\t\tselectedPattern,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\treplaceBlocks,\n\t\tgetBlockEditingMode,\n\t\tsetBlockEditingMode,\n\t\tgetBlockRootClientId,\n\t] );\n\n\tconst props = useBlockProps();\n\n\tif ( hasRecursionError ) {\n\t\treturn (\n\t\t\t<div { ...props }>\n\t\t\t\t<Warning>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t// translators: A warning in which %s is the name of a pattern.\n\t\t\t\t\t\t__( 'Pattern \"%s\" cannot be rendered inside itself.' ),\n\t\t\t\t\t\tselectedPattern?.name\n\t\t\t\t\t) }\n\t\t\t\t</Warning>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <div { ...props } />;\n};\n\nexport default PatternEdit;\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport PatternEdit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit: PatternEdit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst pages = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M14.5 5.5h-7V7h7V5.5ZM7.5 9h7v1.5h-7V9Zm7 3.5h-7V14h7v-1.5Z\" />\r\n\t\t<Path d=\"M16 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2ZM6 3.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4a.5.5 0 0 1 .5-.5Z\" />\r\n\t\t<Path d=\"M20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pages;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Converts an array of pages into a nested array of navigation link blocks.\r\n *\r\n * @param {Array} pages An array of pages.\r\n *\r\n * @return {Array} A nested array of navigation link blocks.\r\n */\r\nfunction createNavigationLinks( pages = [] ) {\r\n\tconst linkMap = {};\r\n\tconst navigationLinks = [];\r\n\tpages.forEach( ( { id, title, link: url, type, parent } ) => {\r\n\t\t// See if a placeholder exists. This is created if children appear before parents in list.\r\n\t\tconst innerBlocks = linkMap[ id ]?.innerBlocks ?? [];\r\n\t\tlinkMap[ id ] = createBlock(\r\n\t\t\t'core/navigation-link',\r\n\t\t\t{\r\n\t\t\t\tid,\r\n\t\t\t\tlabel: title.rendered,\r\n\t\t\t\turl,\r\n\t\t\t\ttype,\r\n\t\t\t\tkind: 'post-type',\r\n\t\t\t},\r\n\t\t\tinnerBlocks\r\n\t\t);\r\n\r\n\t\tif ( ! parent ) {\r\n\t\t\tnavigationLinks.push( linkMap[ id ] );\r\n\t\t} else {\r\n\t\t\tif ( ! linkMap[ parent ] ) {\r\n\t\t\t\t// Use a placeholder if the child appears before parent in list.\r\n\t\t\t\tlinkMap[ parent ] = { innerBlocks: [] };\r\n\t\t\t}\r\n\t\t\t// Although these variables are not referenced, they are needed to store the innerBlocks in memory.\r\n\t\t\tconst parentLinkInnerBlocks = linkMap[ parent ].innerBlocks;\r\n\t\t\tparentLinkInnerBlocks.push( linkMap[ id ] );\r\n\t\t}\r\n\t} );\r\n\r\n\treturn navigationLinks;\r\n}\r\n\r\n/**\r\n * Finds a navigation link block by id, recursively.\r\n * It might be possible to make this a more generic helper function.\r\n *\r\n * @param {Array}  navigationLinks An array of navigation link blocks.\r\n * @param {number} id              The id of the navigation link to find.\r\n *\r\n * @return {Object|null} The navigation link block with the given id.\r\n */\r\nfunction findNavigationLinkById( navigationLinks, id ) {\r\n\tfor ( const navigationLink of navigationLinks ) {\r\n\t\t// Is this the link we're looking for?\r\n\t\tif ( navigationLink.attributes.id === id ) {\r\n\t\t\treturn navigationLink;\r\n\t\t}\r\n\r\n\t\t// If not does it have innerBlocks?\r\n\t\tif ( navigationLink.innerBlocks && navigationLink.innerBlocks.length ) {\r\n\t\t\tconst foundNavigationLink = findNavigationLinkById(\r\n\t\t\t\tnavigationLink.innerBlocks,\r\n\t\t\t\tid\r\n\t\t\t);\r\n\r\n\t\t\tif ( foundNavigationLink ) {\r\n\t\t\t\treturn foundNavigationLink;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nexport function convertToNavigationLinks( pages = [], parentPageID = null ) {\r\n\tlet navigationLinks = createNavigationLinks( pages );\r\n\r\n\t// If a parent page ID is provided, only return the children of that page.\r\n\tif ( parentPageID ) {\r\n\t\tconst parentPage = findNavigationLinkById(\r\n\t\t\tnavigationLinks,\r\n\t\t\tparentPageID\r\n\t\t);\r\n\t\tif ( parentPage && parentPage.innerBlocks ) {\r\n\t\t\tnavigationLinks = parentPage.innerBlocks;\r\n\t\t}\r\n\t}\r\n\r\n\t// Transform all links with innerBlocks into Submenus. This can't be done\r\n\t// sooner because page objects have no information on their children.\r\n\tconst transformSubmenus = ( listOfLinks ) => {\r\n\t\tlistOfLinks.forEach( ( block, index, listOfLinksArray ) => {\r\n\t\t\tconst { attributes, innerBlocks } = block;\r\n\t\t\tif ( innerBlocks.length !== 0 ) {\r\n\t\t\t\ttransformSubmenus( innerBlocks );\r\n\t\t\t\tconst transformedBlock = createBlock(\r\n\t\t\t\t\t'core/navigation-submenu',\r\n\t\t\t\t\tattributes,\r\n\t\t\t\t\tinnerBlocks\r\n\t\t\t\t);\r\n\t\t\t\tlistOfLinksArray[ index ] = transformedBlock;\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\r\n\ttransformSubmenus( navigationLinks );\r\n\treturn navigationLinks;\r\n}\r\n\r\nexport function useConvertToNavigationLinks( {\r\n\tclientId,\r\n\tpages,\r\n\tparentClientId,\r\n\tparentPageID,\r\n} ) {\r\n\tconst { replaceBlock, selectBlock } = useDispatch( blockEditorStore );\r\n\r\n\treturn () => {\r\n\t\tconst navigationLinks = convertToNavigationLinks( pages, parentPageID );\r\n\r\n\t\t// Replace the Page List block with the Navigation Links.\r\n\t\treplaceBlock( clientId, navigationLinks );\r\n\r\n\t\t// Select the Navigation block to reveal the changes.\r\n\t\tselectBlock( parentClientId );\r\n\t};\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { Button, Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport const convertDescription = __(\n\t\"This navigation menu displays your website's pages. Editing it will enable you to add, delete, or reorder pages. However, new pages will no longer be added automatically.\"\n);\n\nexport function ConvertToLinksModal( { onClick, onClose, disabled } ) {\n\treturn (\n\t\t<Modal\n\t\t\tonRequestClose={ onClose }\n\t\t\ttitle={ __( 'Edit Page List' ) }\n\t\t\tclassName={ 'wp-block-page-list-modal' }\n\t\t\taria={ {\n\t\t\t\tdescribedby: 'wp-block-page-list-modal__description',\n\t\t\t} }\n\t\t>\n\t\t\t<p id={ 'wp-block-page-list-modal__description' }>\n\t\t\t\t{ convertDescription }\n\t\t\t</p>\n\t\t\t<div className=\"wp-block-page-list-modal-buttons\">\n\t\t\t\t<Button variant=\"tertiary\" onClick={ onClose }>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tonClick={ onClick }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tgetColorClassName,\n\tstore as blockEditorStore,\n\tWarning,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tToolbarButton,\n\tSpinner,\n\tNotice,\n\tComboboxControl,\n\tButton,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useMemo, useState, useEffect, useCallback } from '@wordpress/element';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useConvertToNavigationLinks } from './use-convert-to-navigation-links';\nimport {\n\tconvertDescription,\n\tConvertToLinksModal,\n} from './convert-to-links-modal';\n\n// We only show the edit option when page count is <= MAX_PAGE_COUNT\n// Performance of Navigation Links is not good past this value.\nconst MAX_PAGE_COUNT = 100;\nconst NOOP = () => {};\nfunction BlockContent( {\n\tblockProps,\n\tinnerBlocksProps,\n\thasResolvedPages,\n\tblockList,\n\tpages,\n\tparentPageID,\n} ) {\n\tif ( ! hasResolvedPages ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<div className=\"wp-block-page-list__loading-indicator-container\">\n\t\t\t\t\t<Spinner className=\"wp-block-page-list__loading-indicator\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( pages === null ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Notice status={ 'warning' } isDismissible={ false }>\n\t\t\t\t\t{ __( 'Page List: Cannot retrieve Pages.' ) }\n\t\t\t\t</Notice>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( pages.length === 0 ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Notice status={ 'info' } isDismissible={ false }>\n\t\t\t\t\t{ __( 'Page List: Cannot retrieve Pages.' ) }\n\t\t\t\t</Notice>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( blockList.length === 0 ) {\n\t\tconst parentPageDetails = pages.find(\n\t\t\t( page ) => page.id === parentPageID\n\t\t);\n\n\t\tif ( parentPageDetails?.title?.rendered ) {\n\t\t\treturn (\n\t\t\t\t<div { ...blockProps }>\n\t\t\t\t\t<Warning>\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t// translators: %s: Page title.\n\t\t\t\t\t\t\t__( 'Page List: \"%s\" page has no children.' ),\n\t\t\t\t\t\t\tparentPageDetails.title.rendered\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Warning>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Notice status={ 'warning' } isDismissible={ false }>\n\t\t\t\t\t{ __( 'Page List: Cannot retrieve Pages.' ) }\n\t\t\t\t</Notice>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( pages.length > 0 ) {\n\t\treturn <ul { ...innerBlocksProps }></ul>;\n\t}\n}\n\nexport default function PageListEdit( {\n\tcontext,\n\tclientId,\n\tattributes,\n\tsetAttributes,\n} ) {\n\tconst { parentPageID } = attributes;\n\tconst [ isOpen, setOpen ] = useState( false );\n\tconst openModal = useCallback( () => setOpen( true ), [] );\n\tconst closeModal = () => setOpen( false );\n\n\tconst { records: pages, hasResolved: hasResolvedPages } = useEntityRecords(\n\t\t'postType',\n\t\t'page',\n\t\t{\n\t\t\tper_page: MAX_PAGE_COUNT,\n\t\t\t_fields: [ 'id', 'link', 'menu_order', 'parent', 'title', 'type' ],\n\t\t\t// TODO: When https://core.trac.wordpress.org/ticket/39037 REST API support for multiple orderby\n\t\t\t// values is resolved, update 'orderby' to [ 'menu_order', 'post_title' ] to provide a consistent\n\t\t\t// sort.\n\t\t\torderby: 'menu_order',\n\t\t\torder: 'asc',\n\t\t}\n\t);\n\n\tconst allowConvertToLinks =\n\t\t'showSubmenuIcon' in context &&\n\t\tpages?.length > 0 &&\n\t\tpages?.length <= MAX_PAGE_COUNT;\n\n\tconst pagesByParentId = useMemo( () => {\n\t\tif ( pages === null ) {\n\t\t\treturn new Map();\n\t\t}\n\n\t\t// TODO: Once the REST API supports passing multiple values to\n\t\t// 'orderby', this can be removed.\n\t\t// https://core.trac.wordpress.org/ticket/39037\n\t\tconst sortedPages = pages.sort( ( a, b ) => {\n\t\t\tif ( a.menu_order === b.menu_order ) {\n\t\t\t\treturn a.title.rendered.localeCompare( b.title.rendered );\n\t\t\t}\n\t\t\treturn a.menu_order - b.menu_order;\n\t\t} );\n\n\t\treturn sortedPages.reduce( ( accumulator, page ) => {\n\t\t\tconst { parent } = page;\n\t\t\tif ( accumulator.has( parent ) ) {\n\t\t\t\taccumulator.get( parent ).push( page );\n\t\t\t} else {\n\t\t\t\taccumulator.set( parent, [ page ] );\n\t\t\t}\n\t\t\treturn accumulator;\n\t\t}, new Map() );\n\t}, [ pages ] );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( 'wp-block-page-list', {\n\t\t\t'has-text-color': !! context.textColor,\n\t\t\t[ getColorClassName( 'color', context.textColor ) ]:\n\t\t\t\t!! context.textColor,\n\t\t\t'has-background': !! context.backgroundColor,\n\t\t\t[ getColorClassName(\n\t\t\t\t'background-color',\n\t\t\t\tcontext.backgroundColor\n\t\t\t) ]: !! context.backgroundColor,\n\t\t} ),\n\t\tstyle: { ...context.style?.color },\n\t} );\n\n\tconst pagesTree = useMemo(\n\t\tfunction makePagesTree( parentId = 0, level = 0 ) {\n\t\t\tconst childPages = pagesByParentId.get( parentId );\n\n\t\t\tif ( ! childPages?.length ) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn childPages.reduce( ( tree, page ) => {\n\t\t\t\tconst hasChildren = pagesByParentId.has( page.id );\n\t\t\t\tconst item = {\n\t\t\t\t\tvalue: page.id,\n\t\t\t\t\tlabel: '— '.repeat( level ) + page.title.rendered,\n\t\t\t\t\trawName: page.title.rendered,\n\t\t\t\t};\n\t\t\t\ttree.push( item );\n\t\t\t\tif ( hasChildren ) {\n\t\t\t\t\ttree.push( ...makePagesTree( page.id, level + 1 ) );\n\t\t\t\t}\n\t\t\t\treturn tree;\n\t\t\t}, [] );\n\t\t},\n\t\t[ pagesByParentId ]\n\t);\n\n\tconst blockList = useMemo(\n\t\tfunction getBlockList( parentId = parentPageID ) {\n\t\t\tconst childPages = pagesByParentId.get( parentId );\n\n\t\t\tif ( ! childPages?.length ) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn childPages.reduce( ( template, page ) => {\n\t\t\t\tconst hasChildren = pagesByParentId.has( page.id );\n\t\t\t\tconst pageProps = {\n\t\t\t\t\tid: page.id,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\t// translators: displayed when a page has an empty title.\n\t\t\t\t\t\tpage.title?.rendered?.trim() !== ''\n\t\t\t\t\t\t\t? page.title?.rendered\n\t\t\t\t\t\t\t: __( '(no title)' ),\n\t\t\t\t\ttitle: page.title?.rendered,\n\t\t\t\t\tlink: page.url,\n\t\t\t\t\thasChildren,\n\t\t\t\t};\n\t\t\t\tlet item = null;\n\t\t\t\tconst children = getBlockList( page.id );\n\t\t\t\titem = createBlock(\n\t\t\t\t\t'core/page-list-item',\n\t\t\t\t\tpageProps,\n\t\t\t\t\tchildren\n\t\t\t\t);\n\t\t\t\ttemplate.push( item );\n\n\t\t\t\treturn template;\n\t\t\t}, [] );\n\t\t},\n\t\t[ pagesByParentId, parentPageID ]\n\t);\n\n\tconst {\n\t\tisNested,\n\t\thasSelectedChild,\n\t\tparentClientId,\n\t\thasDraggedChild,\n\t\tisChildOfNavigation,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockParentsByBlockName,\n\t\t\t\thasSelectedInnerBlock,\n\t\t\t\thasDraggedInnerBlock,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst blockParents = getBlockParentsByBlockName(\n\t\t\t\tclientId,\n\t\t\t\t'core/navigation-submenu',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tconst navigationBlockParents = getBlockParentsByBlockName(\n\t\t\t\tclientId,\n\t\t\t\t'core/navigation',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tisNested: blockParents.length > 0,\n\t\t\t\tisChildOfNavigation: navigationBlockParents.length > 0,\n\t\t\t\thasSelectedChild: hasSelectedInnerBlock( clientId, true ),\n\t\t\t\thasDraggedChild: hasDraggedInnerBlock( clientId, true ),\n\t\t\t\tparentClientId: navigationBlockParents[ 0 ],\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst convertToNavigationLinks = useConvertToNavigationLinks( {\n\t\tclientId,\n\t\tpages,\n\t\tparentClientId,\n\t\tparentPageID,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\trenderAppender: false,\n\t\t__unstableDisableDropZone: true,\n\t\ttemplateLock: isChildOfNavigation ? false : 'all',\n\t\tonInput: NOOP,\n\t\tonChange: NOOP,\n\t\tvalue: blockList,\n\t} );\n\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( hasSelectedChild || hasDraggedChild ) {\n\t\t\topenModal();\n\t\t\tselectBlock( parentClientId );\n\t\t}\n\t}, [\n\t\thasSelectedChild,\n\t\thasDraggedChild,\n\t\tparentClientId,\n\t\tselectBlock,\n\t\topenModal,\n\t] );\n\n\tuseEffect( () => {\n\t\tsetAttributes( { isNested } );\n\t}, [ isNested, setAttributes ] );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t{ pagesTree.length > 0 && (\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<ComboboxControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tclassName=\"editor-page-attributes__parent\"\n\t\t\t\t\t\t\tlabel={ __( 'Parent' ) }\n\t\t\t\t\t\t\tvalue={ parentPageID }\n\t\t\t\t\t\t\toptions={ pagesTree }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { parentPageID: value ?? 0 } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Choose a page to show only its subpages.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t\t{ allowConvertToLinks && (\n\t\t\t\t\t<PanelBody title={ __( 'Edit this menu' ) }>\n\t\t\t\t\t\t<p>{ convertDescription }</p>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tdisabled={ ! hasResolvedPages }\n\t\t\t\t\t\t\tonClick={ convertToNavigationLinks }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t\t{ allowConvertToLinks && (\n\t\t\t\t<>\n\t\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ttitle={ __( 'Edit' ) }\n\t\t\t\t\t\t\tonClick={ openModal }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t\t{ isOpen && (\n\t\t\t\t\t\t<ConvertToLinksModal\n\t\t\t\t\t\t\tonClick={ convertToNavigationLinks }\n\t\t\t\t\t\t\tonClose={ closeModal }\n\t\t\t\t\t\t\tdisabled={ ! hasResolvedPages }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<BlockContent\n\t\t\t\tblockProps={ blockProps }\n\t\t\t\tinnerBlocksProps={ innerBlocksProps }\n\t\t\t\thasResolvedPages={ hasResolvedPages }\n\t\t\t\tblockList={ blockList }\n\t\t\t\tpages={ pages }\n\t\t\t\tparentPageID={ parentPageID }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { pages } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit.js';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon: pages,\r\n\texample: {},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/components';\r\n\r\nexport const ItemSubmenuIcon = () => (\r\n\t<SVG\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"12\"\r\n\t\theight=\"12\"\r\n\t\tviewBox=\"0 0 12 12\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<Path d=\"M1.50002 4L6.00002 8L10.5 4\" strokeWidth=\"1.5\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { page as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit.js';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\t__experimentalLabel: ( { label } ) => label,\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { ItemSubmenuIcon } from '../navigation-link/icons';\r\nimport {\r\n\tgetColors,\r\n\tgetNavigationChildBlockProps,\r\n} from '../navigation/edit/utils';\r\n\r\nfunction useFrontPageId() {\r\n\treturn useSelect( ( select ) => {\r\n\t\tconst canReadSettings = select( coreStore ).canUser(\r\n\t\t\t'read',\r\n\t\t\t'settings'\r\n\t\t);\r\n\t\tif ( ! canReadSettings ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\tconst site = select( coreStore ).getEntityRecord( 'root', 'site' );\r\n\t\treturn site?.show_on_front === 'page' && site?.page_on_front;\r\n\t}, [] );\r\n}\r\n\r\nexport default function PageListItemEdit( { context, attributes } ) {\r\n\tconst { id, label, link, hasChildren, title } = attributes;\r\n\tconst isNavigationChild = 'showSubmenuIcon' in context;\r\n\tconst frontPageId = useFrontPageId();\r\n\r\n\tconst innerBlocksColors = getColors( context, true );\r\n\r\n\tconst navigationChildBlockProps =\r\n\t\tgetNavigationChildBlockProps( innerBlocksColors );\r\n\tconst blockProps = useBlockProps( navigationChildBlockProps, {\r\n\t\tclassName: 'wp-block-pages-list__item',\r\n\t} );\r\n\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps );\r\n\r\n\treturn (\r\n\t\t<li\r\n\t\t\tkey={ id }\r\n\t\t\tclassName={ classnames( 'wp-block-pages-list__item', {\r\n\t\t\t\t'has-child': hasChildren,\r\n\t\t\t\t'wp-block-navigation-item': isNavigationChild,\r\n\t\t\t\t'open-on-click': context.openSubmenusOnClick,\r\n\t\t\t\t'open-on-hover-click':\r\n\t\t\t\t\t! context.openSubmenusOnClick && context.showSubmenuIcon,\r\n\t\t\t\t'menu-item-home': id === frontPageId,\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t{ hasChildren && context.openSubmenusOnClick ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"wp-block-navigation-item__content wp-block-navigation-submenu__toggle\"\r\n\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ decodeEntities( label ) }\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span className=\"wp-block-page-list__submenu-icon wp-block-navigation__submenu-icon\">\r\n\t\t\t\t\t\t<ItemSubmenuIcon />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<a\r\n\t\t\t\t\tclassName={ classnames( 'wp-block-pages-list__item__link', {\r\n\t\t\t\t\t\t'wp-block-navigation-item__content': isNavigationChild,\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t\thref={ link }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ decodeEntities( title ) }\r\n\t\t\t\t</a>\r\n\t\t\t) }\r\n\t\t\t{ hasChildren && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{ ! context.openSubmenusOnClick &&\r\n\t\t\t\t\t\tcontext.showSubmenuIcon && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"wp-block-navigation-item__content wp-block-navigation-submenu__toggle wp-block-page-list__submenu-icon wp-block-navigation__submenu-icon\"\r\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ItemSubmenuIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t<ul { ...innerBlocksProps }></ul>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t</li>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst paragraph = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default paragraph;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\nimport {\r\n\tgetColorClassName,\r\n\tgetFontSizeClass,\r\n\tRichText,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\n\r\nimport { isRTL } from '@wordpress/i18n';\r\n\r\nconst supports = {\r\n\tclassName: false,\r\n};\r\n\r\nconst blockAttributes = {\r\n\talign: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcontent: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'html',\r\n\t\tselector: 'p',\r\n\t\tdefault: '',\r\n\t},\r\n\tdropCap: {\r\n\t\ttype: 'boolean',\r\n\t\tdefault: false,\r\n\t},\r\n\tplaceholder: {\r\n\t\ttype: 'string',\r\n\t},\r\n\ttextColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tbackgroundColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tfontSize: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tdirection: {\r\n\t\ttype: 'string',\r\n\t\tenum: [ 'ltr', 'rtl' ],\r\n\t},\r\n\tstyle: {\r\n\t\ttype: 'object',\r\n\t},\r\n};\r\n\r\nconst migrateCustomColorsAndFontSizes = ( attributes ) => {\r\n\tif (\r\n\t\t! attributes.customTextColor &&\r\n\t\t! attributes.customBackgroundColor &&\r\n\t\t! attributes.customFontSize\r\n\t) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst style = {};\r\n\tif ( attributes.customTextColor || attributes.customBackgroundColor ) {\r\n\t\tstyle.color = {};\r\n\t}\r\n\tif ( attributes.customTextColor ) {\r\n\t\tstyle.color.text = attributes.customTextColor;\r\n\t}\r\n\tif ( attributes.customBackgroundColor ) {\r\n\t\tstyle.color.background = attributes.customBackgroundColor;\r\n\t}\r\n\tif ( attributes.customFontSize ) {\r\n\t\tstyle.typography = { fontSize: attributes.customFontSize };\r\n\t}\r\n\r\n\tconst {\r\n\t\tcustomTextColor,\r\n\t\tcustomBackgroundColor,\r\n\t\tcustomFontSize,\r\n\t\t...restAttributes\r\n\t} = attributes;\r\n\r\n\treturn {\r\n\t\t...restAttributes,\r\n\t\tstyle,\r\n\t};\r\n};\r\n\r\nconst { style, ...restBlockAttributes } = blockAttributes;\r\n\r\nconst deprecated = [\r\n\t// Version without drop cap on aligned text.\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...restBlockAttributes,\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomFontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst { align, content, dropCap, direction } = attributes;\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t'has-drop-cap':\r\n\t\t\t\t\talign === ( isRTL() ? 'left' : 'right' ) ||\r\n\t\t\t\t\talign === 'center'\r\n\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t: dropCap,\r\n\t\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t\t} );\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<p { ...useBlockProps.save( { className, dir: direction } ) }>\r\n\t\t\t\t\t<RichText.Content value={ content } />\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...restBlockAttributes,\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomFontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: migrateCustomColorsAndFontSizes,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\talign,\r\n\t\t\t\tcontent,\r\n\t\t\t\tdropCap,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t\tfontSize,\r\n\t\t\t\tcustomFontSize,\r\n\t\t\t\tdirection,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst fontSizeClass = getFontSizeClass( fontSize );\r\n\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t'has-drop-cap': dropCap,\r\n\t\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t\t\t[ fontSizeClass ]: fontSizeClass,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\tfontSize: fontSizeClass ? undefined : customFontSize,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\tstyle={ styles }\r\n\t\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\tdir={ direction }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...restBlockAttributes,\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomFontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: migrateCustomColorsAndFontSizes,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\talign,\r\n\t\t\t\tcontent,\r\n\t\t\t\tdropCap,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t\tfontSize,\r\n\t\t\t\tcustomFontSize,\r\n\t\t\t\tdirection,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst fontSizeClass = getFontSizeClass( fontSize );\r\n\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t'has-drop-cap': dropCap,\r\n\t\t\t\t[ fontSizeClass ]: fontSizeClass,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\tfontSize: fontSizeClass ? undefined : customFontSize,\r\n\t\t\t\ttextAlign: align,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\tstyle={ styles }\r\n\t\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\tdir={ direction }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...restBlockAttributes,\r\n\t\t\tcustomTextColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomFontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate: migrateCustomColorsAndFontSizes,\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\twidth,\r\n\t\t\t\talign,\r\n\t\t\t\tcontent,\r\n\t\t\t\tdropCap,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tcustomBackgroundColor,\r\n\t\t\t\tcustomTextColor,\r\n\t\t\t\tfontSize,\r\n\t\t\t\tcustomFontSize,\r\n\t\t\t} = attributes;\r\n\r\n\t\t\tconst textClass = getColorClassName( 'color', textColor );\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tbackgroundColor\r\n\t\t\t);\r\n\t\t\tconst fontSizeClass = fontSize && `is-${ fontSize }-text`;\r\n\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t[ `align${ width }` ]: width,\r\n\t\t\t\t'has-background': backgroundColor || customBackgroundColor,\r\n\t\t\t\t'has-drop-cap': dropCap,\r\n\t\t\t\t[ fontSizeClass ]: fontSizeClass,\r\n\t\t\t\t[ textClass ]: textClass,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor: backgroundClass\r\n\t\t\t\t\t? undefined\r\n\t\t\t\t\t: customBackgroundColor,\r\n\t\t\t\tcolor: textClass ? undefined : customTextColor,\r\n\t\t\t\tfontSize: fontSizeClass ? undefined : customFontSize,\r\n\t\t\t\ttextAlign: align,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\tstyle={ styles }\r\n\t\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\t\tvalue={ content }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...restBlockAttributes,\r\n\t\t\tfontSize: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\tconst {\r\n\t\t\t\twidth,\r\n\t\t\t\talign,\r\n\t\t\t\tcontent,\r\n\t\t\t\tdropCap,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tfontSize,\r\n\t\t\t} = attributes;\r\n\t\t\tconst className = classnames( {\r\n\t\t\t\t[ `align${ width }` ]: width,\r\n\t\t\t\t'has-background': backgroundColor,\r\n\t\t\t\t'has-drop-cap': dropCap,\r\n\t\t\t} );\r\n\t\t\tconst styles = {\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tcolor: textColor,\r\n\t\t\t\tfontSize,\r\n\t\t\t\ttextAlign: align,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<p\r\n\t\t\t\t\tstyle={ styles }\r\n\t\t\t\t\tclassName={ className ? className : undefined }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ content }\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\treturn migrateCustomColorsAndFontSizes( {\r\n\t\t\t\t...attributes,\r\n\t\t\t\tcustomFontSize: Number.isFinite( attributes.fontSize )\r\n\t\t\t\t\t? attributes.fontSize\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tcustomTextColor:\r\n\t\t\t\t\tattributes.textColor && '#' === attributes.textColor[ 0 ]\r\n\t\t\t\t\t\t? attributes.textColor\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t\tcustomBackgroundColor:\r\n\t\t\t\t\tattributes.backgroundColor &&\r\n\t\t\t\t\t'#' === attributes.backgroundColor[ 0 ]\r\n\t\t\t\t\t\t? attributes.backgroundColor\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t} );\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tsupports,\r\n\t\tattributes: {\r\n\t\t\t...blockAttributes,\r\n\t\t\tcontent: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t\tsource: 'html',\r\n\t\t\t\tdefault: '',\r\n\t\t\t},\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\treturn <RawHTML>{ attributes.content }</RawHTML>;\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\treturn attributes;\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst formatLtr = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM14 14l5-4-5-4v8z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default formatLtr;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useRef } from '@wordpress/element';\r\nimport { useRefEffect } from '@wordpress/compose';\r\nimport { ENTER } from '@wordpress/keycodes';\r\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport {\r\n\thasBlockSupport,\r\n\tcreateBlock,\r\n\tgetDefaultBlockName,\r\n} from '@wordpress/blocks';\r\n\r\nexport function useOnEnter( props ) {\r\n\tconst { batch } = useRegistry();\r\n\tconst {\r\n\t\tmoveBlocksToPosition,\r\n\t\treplaceInnerBlocks,\r\n\t\tduplicateBlocks,\r\n\t\tinsertBlock,\r\n\t} = useDispatch( blockEditorStore );\r\n\tconst {\r\n\t\tgetBlockRootClientId,\r\n\t\tgetBlockIndex,\r\n\t\tgetBlockOrder,\r\n\t\tgetBlockName,\r\n\t\tgetBlock,\r\n\t\tgetNextBlockClientId,\r\n\t\tcanInsertBlockType,\r\n\t} = useSelect( blockEditorStore );\r\n\tconst propsRef = useRef( props );\r\n\tpropsRef.current = props;\r\n\treturn useRefEffect( ( element ) => {\r\n\t\tfunction onKeyDown( event ) {\r\n\t\t\tif ( event.defaultPrevented ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( event.keyCode !== ENTER ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { content, clientId } = propsRef.current;\r\n\r\n\t\t\t// The paragraph should be empty.\r\n\t\t\tif ( content.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst wrapperClientId = getBlockRootClientId( clientId );\r\n\r\n\t\t\tif (\r\n\t\t\t\t! hasBlockSupport(\r\n\t\t\t\t\tgetBlockName( wrapperClientId ),\r\n\t\t\t\t\t'__experimentalOnEnter',\r\n\t\t\t\t\tfalse\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst order = getBlockOrder( wrapperClientId );\r\n\t\t\tconst position = order.indexOf( clientId );\r\n\r\n\t\t\t// If it is the last block, exit.\r\n\t\t\tif ( position === order.length - 1 ) {\r\n\t\t\t\tlet newWrapperClientId = wrapperClientId;\r\n\r\n\t\t\t\twhile (\r\n\t\t\t\t\t! canInsertBlockType(\r\n\t\t\t\t\t\tgetBlockName( clientId ),\r\n\t\t\t\t\t\tgetBlockRootClientId( newWrapperClientId )\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tnewWrapperClientId =\r\n\t\t\t\t\t\tgetBlockRootClientId( newWrapperClientId );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof newWrapperClientId === 'string' ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tmoveBlocksToPosition(\r\n\t\t\t\t\t\t[ clientId ],\r\n\t\t\t\t\t\twrapperClientId,\r\n\t\t\t\t\t\tgetBlockRootClientId( newWrapperClientId ),\r\n\t\t\t\t\t\tgetBlockIndex( newWrapperClientId ) + 1\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst defaultBlockName = getDefaultBlockName();\r\n\r\n\t\t\tif (\r\n\t\t\t\t! canInsertBlockType(\r\n\t\t\t\t\tdefaultBlockName,\r\n\t\t\t\t\tgetBlockRootClientId( wrapperClientId )\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\t// If it is in the middle, split the block in two.\r\n\t\t\tconst wrapperBlock = getBlock( wrapperClientId );\r\n\t\t\tbatch( () => {\r\n\t\t\t\tduplicateBlocks( [ wrapperClientId ] );\r\n\t\t\t\tconst blockIndex = getBlockIndex( wrapperClientId );\r\n\r\n\t\t\t\treplaceInnerBlocks(\r\n\t\t\t\t\twrapperClientId,\r\n\t\t\t\t\twrapperBlock.innerBlocks.slice( 0, position )\r\n\t\t\t\t);\r\n\t\t\t\treplaceInnerBlocks(\r\n\t\t\t\t\tgetNextBlockClientId( wrapperClientId ),\r\n\t\t\t\t\twrapperBlock.innerBlocks.slice( position + 1 )\r\n\t\t\t\t);\r\n\t\t\t\tinsertBlock(\r\n\t\t\t\t\tcreateBlock( defaultBlockName ),\r\n\t\t\t\t\tblockIndex + 1,\r\n\t\t\t\t\tgetBlockRootClientId( wrapperClientId ),\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\telement.addEventListener( 'keydown', onKeyDown );\r\n\t\treturn () => {\r\n\t\t\telement.removeEventListener( 'keydown', onKeyDown );\r\n\t\t};\r\n\t}, [] );\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tToolbarButton,\n\tToggleControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tuseSettings,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { formatLtr } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useOnEnter } from './use-enter';\n\nconst name = 'core/paragraph';\n\nfunction ParagraphRTLControl( { direction, setDirection } ) {\n\treturn (\n\t\tisRTL() && (\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ formatLtr }\n\t\t\t\ttitle={ _x( 'Left to right', 'editor button' ) }\n\t\t\t\tisActive={ direction === 'ltr' }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetDirection( direction === 'ltr' ? undefined : 'ltr' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t)\n\t);\n}\n\nfunction hasDropCapDisabled( align ) {\n\treturn align === ( isRTL() ? 'left' : 'right' ) || align === 'center';\n}\n\nfunction DropCapControl( { clientId, attributes, setAttributes } ) {\n\t// Please do not add a useSelect call to the paragraph block unconditionally.\n\t// Every useSelect added to a (frequently used) block will degrade load\n\t// and type performance. By moving it within InspectorControls, the subscription is\n\t// now only added for the selected block(s).\n\tconst [ isDropCapFeatureEnabled ] = useSettings( 'typography.dropCap' );\n\n\tif ( ! isDropCapFeatureEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst { align, dropCap } = attributes;\n\n\tlet helpText;\n\tif ( hasDropCapDisabled( align ) ) {\n\t\thelpText = __( 'Not available for aligned text.' );\n\t} else if ( dropCap ) {\n\t\thelpText = __( 'Showing large initial letter.' );\n\t} else {\n\t\thelpText = __( 'Toggle to show a large initial letter.' );\n\t}\n\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\thasValue={ () => !! dropCap }\n\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\tonDeselect={ () => setAttributes( { dropCap: undefined } ) }\n\t\t\tresetAllFilter={ () => ( { dropCap: undefined } ) }\n\t\t\tpanelId={ clientId }\n\t\t>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\tchecked={ !! dropCap }\n\t\t\t\tonChange={ () => setAttributes( { dropCap: ! dropCap } ) }\n\t\t\t\thelp={ helpText }\n\t\t\t\tdisabled={ hasDropCapDisabled( align ) ? true : false }\n\t\t\t/>\n\t\t</ToolsPanelItem>\n\t);\n}\n\nfunction ParagraphBlock( {\n\tattributes,\n\tmergeBlocks,\n\tonReplace,\n\tonRemove,\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst { align, content, direction, dropCap, placeholder } = attributes;\n\tconst blockProps = useBlockProps( {\n\t\tref: useOnEnter( { clientId, content } ),\n\t\tclassName: classnames( {\n\t\t\t'has-drop-cap': hasDropCapDisabled( align ) ? false : dropCap,\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} ),\n\t\tstyle: { direction },\n\t} );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\treturn (\n\t\t<>\n\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<AlignmentControl\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t\t\t\tdropCap: hasDropCapDisabled( newAlign )\n\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t: dropCap,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ParagraphRTLControl\n\t\t\t\t\t\tdirection={ direction }\n\t\t\t\t\t\tsetDirection={ ( newDirection ) =>\n\t\t\t\t\t\t\tsetAttributes( { direction: newDirection } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<InspectorControls group=\"typography\">\n\t\t\t\t<DropCapControl\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\ttagName=\"p\"\n\t\t\t\t{ ...blockProps }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( newContent ) =>\n\t\t\t\t\tsetAttributes( { content: newContent } )\n\t\t\t\t}\n\t\t\t\tonSplit={ ( value, isOriginal ) => {\n\t\t\t\t\tlet newAttributes;\n\n\t\t\t\t\tif ( isOriginal || value ) {\n\t\t\t\t\t\tnewAttributes = {\n\t\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tconst block = createBlock( name, newAttributes );\n\n\t\t\t\t\tif ( isOriginal ) {\n\t\t\t\t\t\tblock.clientId = clientId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn block;\n\t\t\t\t} }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ onRemove }\n\t\t\t\taria-label={\n\t\t\t\t\tRichText.isEmpty( content )\n\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t'Empty block; start writing or type forward slash to choose a block'\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Block: Paragraph' )\n\t\t\t\t}\n\t\t\t\tdata-empty={ RichText.isEmpty( content ) }\n\t\t\t\tplaceholder={ placeholder || __( 'Type / to choose a block' ) }\n\t\t\t\tdata-custom-placeholder={ placeholder ? true : undefined }\n\t\t\t\t__unstableEmbedURLOnPaste\n\t\t\t\t__unstableAllowPrefixTransformations\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ParagraphBlock;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock, getBlockAttributes } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { name } from './block.json';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\t// Paragraph is a fallback and should be matched last.\r\n\t\t\tpriority: 20,\r\n\t\t\tselector: 'p',\r\n\t\t\tschema: ( { phrasingContentSchema, isPaste } ) => ( {\r\n\t\t\t\tp: {\r\n\t\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t\t\tattributes: isPaste ? [] : [ 'style', 'id' ],\r\n\t\t\t\t},\r\n\t\t\t} ),\r\n\t\t\ttransform( node ) {\r\n\t\t\t\tconst attributes = getBlockAttributes( name, node.outerHTML );\r\n\t\t\t\tconst { textAlign } = node.style || {};\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\ttextAlign === 'left' ||\r\n\t\t\t\t\ttextAlign === 'center' ||\r\n\t\t\t\t\ttextAlign === 'right'\r\n\t\t\t\t) {\r\n\t\t\t\t\tattributes.align = textAlign;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn createBlock( name, attributes );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { paragraph as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcontent: __(\r\n\t\t\t\t'In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.'\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t__experimentalLabel( attributes, { context } ) {\r\n\t\tconst customName = attributes?.metadata?.name;\r\n\r\n\t\tif ( context === 'list-view' && customName ) {\r\n\t\t\treturn customName;\r\n\t\t}\r\n\r\n\t\tif ( context === 'accessibility' ) {\r\n\t\t\tif ( customName ) {\r\n\t\t\t\treturn customName;\r\n\t\t\t}\r\n\r\n\t\t\tconst { content } = attributes;\r\n\t\t\treturn ! content || content.length === 0 ? __( 'Empty' ) : content;\r\n\t\t}\r\n\t},\r\n\ttransforms,\r\n\tdeprecated,\r\n\tmerge( attributes, attributesToMerge ) {\r\n\t\treturn {\r\n\t\t\tcontent:\r\n\t\t\t\t( attributes.content || '' ) +\r\n\t\t\t\t( attributesToMerge.content || '' ),\r\n\t\t};\r\n\t},\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\nimport { isRTL } from '@wordpress/i18n';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { align, content, dropCap, direction } = attributes;\r\n\tconst className = classnames( {\r\n\t\t'has-drop-cap':\r\n\t\t\talign === ( isRTL() ? 'left' : 'right' ) || align === 'center'\r\n\t\t\t\t? false\r\n\t\t\t\t: dropCap,\r\n\t\t[ `has-text-align-${ align }` ]: align,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<p { ...useBlockProps.save( { className, dir: direction } ) }>\r\n\t\t\t<RichText.Content value={ content } />\r\n\t\t</p>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst postAuthor = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M10 4.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm2.25 7.5v-1A2.75 2.75 0 0011 8.25H7A2.75 2.75 0 004.25 11v1h1.5v-1c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v1h1.5zM4 20h9v-1.5H4V20zm16-4H4v-1.5h16V16z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default postAuthor;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport {\n\tComboboxControl,\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\nconst minimumUsersForCombobox = 25;\n\nconst AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: 100,\n};\n\nfunction PostAuthorEdit( {\n\tisSelected,\n\tcontext: { postType, postId, queryId },\n\tattributes,\n\tsetAttributes,\n} ) {\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\n\tconst { authorId, authorDetails, authors } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, getUser, getUsers } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _authorId = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t)?.author;\n\n\t\t\treturn {\n\t\t\t\tauthorId: _authorId,\n\t\t\t\tauthorDetails: _authorId ? getUser( _authorId ) : null,\n\t\t\t\tauthors: getUsers( AUTHORS_QUERY ),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId ]\n\t);\n\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tconst { textAlign, showAvatar, showBio, byline, isLink, linkTarget } =\n\t\tattributes;\n\tconst avatarSizes = [];\n\tconst authorName = authorDetails?.name || __( 'Post Author' );\n\tif ( authorDetails?.avatar_urls ) {\n\t\tObject.keys( authorDetails.avatar_urls ).forEach( ( size ) => {\n\t\t\tavatarSizes.push( {\n\t\t\t\tvalue: size,\n\t\t\t\tlabel: `${ size } x ${ size }`,\n\t\t\t} );\n\t\t} );\n\t}\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\n\tconst authorOptions = authors?.length\n\t\t? authors.map( ( { id, name } ) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: id,\n\t\t\t\t\tlabel: name,\n\t\t\t\t};\n\t\t  } )\n\t\t: [];\n\n\tconst handleSelect = ( nextAuthorId ) => {\n\t\teditEntityRecord( 'postType', postType, postId, {\n\t\t\tauthor: nextAuthorId,\n\t\t} );\n\t};\n\n\tconst showCombobox = authorOptions.length >= minimumUsersForCombobox;\n\tconst showAuthorControl =\n\t\t!! postId && ! isDescendentOfQueryLoop && authorOptions.length > 0;\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ showAuthorControl &&\n\t\t\t\t\t\t( ( showCombobox && (\n\t\t\t\t\t\t\t<ComboboxControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Author' ) }\n\t\t\t\t\t\t\t\toptions={ authorOptions }\n\t\t\t\t\t\t\t\tvalue={ authorId }\n\t\t\t\t\t\t\t\tonChange={ handleSelect }\n\t\t\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) || (\n\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Author' ) }\n\t\t\t\t\t\t\t\tvalue={ authorId }\n\t\t\t\t\t\t\t\toptions={ authorOptions }\n\t\t\t\t\t\t\t\tonChange={ handleSelect }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Show avatar' ) }\n\t\t\t\t\t\tchecked={ showAvatar }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( { showAvatar: ! showAvatar } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ showAvatar && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Avatar size' ) }\n\t\t\t\t\t\t\tvalue={ attributes.avatarSize }\n\t\t\t\t\t\t\toptions={ avatarSizes }\n\t\t\t\t\t\t\tonChange={ ( size ) => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tavatarSize: Number( size ),\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Show bio' ) }\n\t\t\t\t\t\tchecked={ showBio }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( { showBio: ! showBio } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link author name to author page' ) }\n\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLink && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ showAvatar && authorDetails?.avatar_urls && (\n\t\t\t\t\t<div className=\"wp-block-post-author__avatar\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\twidth={ attributes.avatarSize }\n\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\tauthorDetails.avatar_urls[\n\t\t\t\t\t\t\t\t\tattributes.avatarSize\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\talt={ authorDetails.name }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"wp-block-post-author__content\">\n\t\t\t\t\t{ ( ! RichText.isEmpty( byline ) || isSelected ) && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\tidentifier=\"byline\"\n\t\t\t\t\t\t\tclassName=\"wp-block-post-author__byline\"\n\t\t\t\t\t\t\taria-label={ __( 'Post author byline text' ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'Write byline…' ) }\n\t\t\t\t\t\t\tvalue={ byline }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { byline: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<p className=\"wp-block-post-author__name\">\n\t\t\t\t\t\t{ isLink ? (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"#post-author-pseudo-link\"\n\t\t\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ authorName }\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tauthorName\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t\t{ showBio && (\n\t\t\t\t\t\t<p\n\t\t\t\t\t\t\tclassName=\"wp-block-post-author__bio\"\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t\t\t__html: authorDetails?.description,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default PostAuthorEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postAuthor as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/post-author' ],\r\n\t\t\ttransform: ( { textAlign } ) =>\r\n\t\t\t\tcreateBlock( 'core/post-author-name', { textAlign } ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/post-author' ],\r\n\t\t\ttransform: ( { textAlign } ) =>\r\n\t\t\t\tcreateBlock( 'core/post-author', { textAlign } ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postAuthor as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\ttransforms,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { PanelBody, ToggleControl } from '@wordpress/components';\r\n\r\nfunction PostAuthorNameEdit( {\r\n\tcontext: { postType, postId },\r\n\tattributes: { textAlign, isLink, linkTarget },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { authorName } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEditedEntityRecord, getUser } = select( coreStore );\r\n\t\t\tconst _authorId = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t)?.author;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tauthorName: _authorId ? getUser( _authorId ) : null,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postType, postId ]\r\n\t);\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst displayName = authorName?.name || __( 'Author Name' );\r\n\r\n\tconst displayAuthor = isLink ? (\r\n\t\t<a\r\n\t\t\thref=\"#author-pseudo-link\"\r\n\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\tclassName=\"wp-block-post-author-name__link\"\r\n\t\t>\r\n\t\t\t{ displayName }\r\n\t\t</a>\r\n\t) : (\r\n\t\tdisplayName\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Link to author archive' ) }\r\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\r\n\t\t\t\t\t\tchecked={ isLink }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ isLink && (\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...blockProps }> { displayAuthor } </div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default PostAuthorNameEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postAuthor as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\nfunction PostAuthorBiographyEdit( {\r\n\tcontext: { postType, postId },\r\n\tattributes: { textAlign },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { authorDetails } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getEditedEntityRecord, getUser } = select( coreStore );\r\n\t\t\tconst _authorId = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t)?.author;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tauthorDetails: _authorId ? getUser( _authorId ) : null,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postType, postId ]\r\n\t);\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tconst displayAuthorBiography =\r\n\t\tauthorDetails?.description || __( 'Author Biography' );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div\r\n\t\t\t\t{ ...blockProps }\r\n\t\t\t\tdangerouslySetInnerHTML={ { __html: displayAuthorBiography } }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default PostAuthorBiographyEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst blockDefault = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default blockDefault;\r\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { Placeholder, TextControl, Button } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { blockDefault } from '@wordpress/icons';\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\n\nconst TEMPLATE = [\n\t[ 'core/avatar' ],\n\t[ 'core/comment-author-name' ],\n\t[ 'core/comment-date' ],\n\t[ 'core/comment-content' ],\n\t[ 'core/comment-reply-link' ],\n\t[ 'core/comment-edit-link' ],\n];\n\nexport default function Edit( { attributes: { commentId }, setAttributes } ) {\n\tconst [ commentIdInput, setCommentIdInput ] = useState( commentId );\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t} );\n\n\tif ( ! commentId ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ blockDefault }\n\t\t\t\t\tlabel={ _x( 'Post Comment', 'block title' ) }\n\t\t\t\t\tinstructions={ __(\n\t\t\t\t\t\t'To show a comment, input the comment ID.'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tvalue={ commentId }\n\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\tsetCommentIdInput( parseInt( val ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetAttributes( { commentId: commentIdInput } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Placeholder>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <div { ...innerBlocksProps } />;\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { comment as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\tconst blockProps = useBlockProps.save();\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\treturn <div { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postCommentsCount = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 8H4v1.5h9V8zM4 4v1.5h16V4H4zm9 8H5c-.6 0-1 .4-1 1v8.3c0 .3.2.7.6.8.1.1.2.1.3.1.2 0 .5-.1.6-.3l1.8-1.8H13c.6 0 1-.4 1-1V13c0-.6-.4-1-1-1zm-2.2 6.6H7l1.6-2.2c.3-.4.5-.7.6-.9.1-.2.2-.4.2-.5 0-.2-.1-.3-.1-.4-.1-.1-.2-.1-.4-.1s-.4 0-.6.1c-.3.1-.5.3-.7.4l-.2.2-.2-1.2.1-.1c.3-.2.5-.3.8-.4.3-.1.6-.1.9-.1.3 0 .6.1.9.2.2.1.4.3.6.5.1.2.2.5.2.7 0 .3-.1.6-.2.9-.1.3-.4.7-.7 1.1l-.5.6h1.6v1.2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postCommentsCount;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postCommentsCount as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tWarning,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nexport default function PostCommentsCountEdit( {\r\n\tattributes,\r\n\tcontext,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { textAlign } = attributes;\r\n\tconst { postId } = context;\r\n\tconst [ commentsCount, setCommentsCount ] = useState();\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! postId ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst currentPostId = postId;\r\n\t\tapiFetch( {\r\n\t\t\tpath: addQueryArgs( '/wp/v2/comments', {\r\n\t\t\t\tpost: postId,\r\n\t\t\t} ),\r\n\t\t\tparse: false,\r\n\t\t} ).then( ( res ) => {\r\n\t\t\t// Stale requests will have the `currentPostId` of an older closure.\r\n\t\t\tif ( currentPostId === postId ) {\r\n\t\t\t\tsetCommentsCount( res.headers.get( 'X-WP-Total' ) );\r\n\t\t\t}\r\n\t\t} );\r\n\t}, [ postId ] );\r\n\r\n\tconst hasPostAndComments = postId && commentsCount !== undefined;\r\n\tconst blockStyles = {\r\n\t\t...blockProps.style,\r\n\t\ttextDecoration: hasPostAndComments\r\n\t\t\t? blockProps.style?.textDecoration\r\n\t\t\t: undefined,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div { ...blockProps } style={ blockStyles }>\r\n\t\t\t\t{ hasPostAndComments ? (\r\n\t\t\t\t\tcommentsCount\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Warning>\r\n\t\t\t\t\t\t{ __( 'Post Comments Count block: post not found.' ) }\r\n\t\t\t\t\t</Warning>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postCommentsForm = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 8H4v1.5h9V8zM4 4v1.5h16V4H4zm9 8H5c-.6 0-1 .4-1 1v8.3c0 .3.2.7.6.8.1.1.2.1.3.1.2 0 .5-.1.6-.3l1.8-1.8H13c.6 0 1-.4 1-1V13c0-.6-.4-1-1-1zm-.5 6.6H6.7l-1.2 1.2v-6.3h7v5.1z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postCommentsForm;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postCommentsForm as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { VisuallyHidden } from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport CommentsForm from './form';\r\n\r\nexport default function PostCommentsFormEdit( {\r\n\tattributes,\r\n\tcontext,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { textAlign } = attributes;\r\n\tconst { postId, postType } = context;\r\n\r\n\tconst instanceId = useInstanceId( PostCommentsFormEdit );\r\n\tconst instanceIdDesc = sprintf( 'comments-form-edit-%d-desc', instanceId );\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t\t'aria-describedby': instanceIdDesc,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<CommentsForm postId={ postId } postType={ postType } />\r\n\t\t\t\t<VisuallyHidden id={ instanceIdDesc }>\r\n\t\t\t\t\t{ __( 'Comments form disabled in editor.' ) }\r\n\t\t\t\t</VisuallyHidden>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postCommentsCount as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit,\r\n\ticon,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tWarning,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { addQueryArgs } from '@wordpress/url';\r\nimport { __, sprintf, _n } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\nfunction PostCommentsLinkEdit( { context, attributes, setAttributes } ) {\r\n\tconst { textAlign } = attributes;\r\n\tconst { postType, postId } = context;\r\n\tconst [ commentsCount, setCommentsCount ] = useState();\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! postId ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst currentPostId = postId;\r\n\t\tapiFetch( {\r\n\t\t\tpath: addQueryArgs( '/wp/v2/comments', {\r\n\t\t\t\tpost: postId,\r\n\t\t\t} ),\r\n\t\t\tparse: false,\r\n\t\t} ).then( ( res ) => {\r\n\t\t\t// Stale requests will have the `currentPostId` of an older closure.\r\n\t\t\tif ( currentPostId === postId ) {\r\n\t\t\t\tsetCommentsCount( res.headers.get( 'X-WP-Total' ) );\r\n\t\t\t}\r\n\t\t} );\r\n\t}, [ postId ] );\r\n\r\n\tconst post = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tselect( coreStore ).getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t),\r\n\t\t[ postType, postId ]\r\n\t);\r\n\r\n\tif ( ! post ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst { link } = post;\r\n\r\n\tlet commentsText;\r\n\tif ( commentsCount !== undefined ) {\r\n\t\tconst commentsNumber = parseInt( commentsCount );\r\n\r\n\t\tif ( commentsNumber === 0 ) {\r\n\t\t\tcommentsText = __( 'No comments' );\r\n\t\t} else {\r\n\t\t\tcommentsText = sprintf(\r\n\t\t\t\t/* translators: %s: Number of comments */\r\n\t\t\t\t_n( '%s comment', '%s comments', commentsNumber ),\r\n\t\t\t\tcommentsNumber.toLocaleString()\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t{ link && commentsText !== undefined ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={ link + '#comments' }\r\n\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ commentsText }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Warning>\r\n\t\t\t\t\t\t{ __( 'Post Comments Link block: post not found.' ) }\r\n\t\t\t\t\t</Warning>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default PostCommentsLinkEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst postContent = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 6h12V4.5H4V6Zm16 4.5H4V9h16v1.5ZM4 15h16v-1.5H4V15Zm0 4.5h16V18H4v1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postContent;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tuseBlockProps,\r\n\tuseInnerBlocksProps,\r\n\tRecursionProvider,\r\n\tuseHasRecursion,\r\n\tWarning,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tuseEntityProp,\r\n\tuseEntityBlockEditor,\r\n\tstore as coreStore,\r\n} from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useCanEditEntity } from '../utils/hooks';\r\n\r\nfunction ReadOnlyContent( {\r\n\tlayoutClassNames,\r\n\tuserCanEdit,\r\n\tpostType,\r\n\tpostId,\r\n} ) {\r\n\tconst [ , , content ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'content',\r\n\t\tpostId\r\n\t);\r\n\tconst blockProps = useBlockProps( { className: layoutClassNames } );\r\n\treturn content?.protected && ! userCanEdit ? (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Warning>{ __( 'This content is password protected.' ) }</Warning>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div\r\n\t\t\t{ ...blockProps }\r\n\t\t\tdangerouslySetInnerHTML={ { __html: content?.rendered } }\r\n\t\t></div>\r\n\t);\r\n}\r\n\r\nfunction EditableContent( { context = {} } ) {\r\n\tconst { postType, postId } = context;\r\n\r\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t{ id: postId }\r\n\t);\r\n\r\n\tconst entityRecord = useSelect(\r\n\t\t( select ) => {\r\n\t\t\treturn select( coreStore ).getEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ postType, postId ]\r\n\t);\r\n\r\n\tconst hasInnerBlocks = !! entityRecord?.content?.raw || blocks?.length;\r\n\r\n\tconst initialInnerBlocks = [ [ 'core/paragraph' ] ];\r\n\r\n\tconst props = useInnerBlocksProps(\r\n\t\tuseBlockProps( { className: 'entry-content' } ),\r\n\t\t{\r\n\t\t\tvalue: blocks,\r\n\t\t\tonInput,\r\n\t\t\tonChange,\r\n\t\t\ttemplate: ! hasInnerBlocks ? initialInnerBlocks : undefined,\r\n\t\t}\r\n\t);\r\n\treturn <div { ...props } />;\r\n}\r\n\r\nfunction Content( props ) {\r\n\tconst { context: { queryId, postType, postId } = {}, layoutClassNames } =\r\n\t\tprops;\r\n\tconst userCanEdit = useCanEditEntity( 'postType', postType, postId );\r\n\tif ( userCanEdit === undefined ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\r\n\tconst isEditable = userCanEdit && ! isDescendentOfQueryLoop;\r\n\r\n\treturn isEditable ? (\r\n\t\t<EditableContent { ...props } />\r\n\t) : (\r\n\t\t<ReadOnlyContent\r\n\t\t\tlayoutClassNames={ layoutClassNames }\r\n\t\t\tuserCanEdit={ userCanEdit }\r\n\t\t\tpostType={ postType }\r\n\t\t\tpostId={ postId }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction Placeholder( { layoutClassNames } ) {\r\n\tconst blockProps = useBlockProps( { className: layoutClassNames } );\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<p>\r\n\t\t\t\t{ __(\r\n\t\t\t\t\t'This is the Content block, it will display all the blocks in any single post or page.'\r\n\t\t\t\t) }\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\t{ __(\r\n\t\t\t\t\t'That might be a simple arrangement like consecutive paragraphs in a blog post, or a more elaborate composition that includes image galleries, videos, tables, columns, and any other block types.'\r\n\t\t\t\t) }\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\t{ __(\r\n\t\t\t\t\t'If there are any Custom Post Types registered at your site, the Content block can display the contents of those entries as well.'\r\n\t\t\t\t) }\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction RecursionError() {\r\n\tconst blockProps = useBlockProps();\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Warning>\r\n\t\t\t\t{ __( 'Block cannot be rendered inside itself.' ) }\r\n\t\t\t</Warning>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default function PostContentEdit( {\r\n\tcontext,\r\n\t__unstableLayoutClassNames: layoutClassNames,\r\n} ) {\r\n\tconst { postId: contextPostId, postType: contextPostType } = context;\r\n\tconst hasAlreadyRendered = useHasRecursion( contextPostId );\r\n\r\n\tif ( contextPostId && contextPostType && hasAlreadyRendered ) {\r\n\t\treturn <RecursionError />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<RecursionProvider uniqueId={ contextPostId }>\r\n\t\t\t{ contextPostId && contextPostType ? (\r\n\t\t\t\t<Content\r\n\t\t\t\t\tcontext={ context }\r\n\t\t\t\t\tlayoutClassNames={ layoutClassNames }\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<Placeholder layoutClassNames={ layoutClassNames } />\r\n\t\t\t) }\r\n\t\t</RecursionProvider>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postContent as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\r\nimport { useMemo, useState } from '@wordpress/element';\r\nimport { dateI18n, getSettings as getDateSettings } from '@wordpress/date';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\t__experimentalDateFormatPicker as DateFormatPicker,\r\n\t__experimentalPublishDateTimePicker as PublishDateTimePicker,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tDropdown,\r\n\tToolbarGroup,\r\n\tToolbarButton,\r\n\tToggleControl,\r\n\tPanelBody,\r\n} from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { edit } from '@wordpress/icons';\r\nimport { DOWN } from '@wordpress/keycodes';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nexport default function PostDateEdit( {\r\n\tattributes: { textAlign, format, isLink, displayType },\r\n\tcontext: { postId, postType: postTypeSlug, queryId },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t\t[ `wp-block-post-date__modified-date` ]: displayType === 'modified',\r\n\t\t} ),\r\n\t} );\r\n\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\r\n\t// Memoize popoverProps to avoid returning a new object every time.\r\n\tconst popoverProps = useMemo(\r\n\t\t() => ( { anchor: popoverAnchor } ),\r\n\t\t[ popoverAnchor ]\r\n\t);\r\n\r\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\r\n\tconst dateSettings = getDateSettings();\r\n\tconst [ siteFormat = dateSettings.formats.date ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'site',\r\n\t\t'date_format'\r\n\t);\r\n\tconst [ siteTimeFormat = dateSettings.formats.time ] = useEntityProp(\r\n\t\t'root',\r\n\t\t'site',\r\n\t\t'time_format'\r\n\t);\r\n\tconst [ date, setDate ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostTypeSlug,\r\n\t\tdisplayType,\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst postType = useSelect(\r\n\t\t( select ) =>\r\n\t\t\tpostTypeSlug\r\n\t\t\t\t? select( coreStore ).getPostType( postTypeSlug )\r\n\t\t\t\t: null,\r\n\t\t[ postTypeSlug ]\r\n\t);\r\n\r\n\tconst dateLabel =\r\n\t\tdisplayType === 'date' ? __( 'Post Date' ) : __( 'Post Modified Date' );\r\n\r\n\tlet postDate = date ? (\r\n\t\t<time dateTime={ dateI18n( 'c', date ) } ref={ setPopoverAnchor }>\r\n\t\t\t{ dateI18n( format || siteFormat, date ) }\r\n\t\t</time>\r\n\t) : (\r\n\t\tdateLabel\r\n\t);\r\n\r\n\tif ( isLink && date ) {\r\n\t\tpostDate = (\r\n\t\t\t<a\r\n\t\t\t\thref=\"#post-date-pseudo-link\"\r\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\r\n\t\t\t>\r\n\t\t\t\t{ postDate }\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t\t{ date &&\r\n\t\t\t\t\tdisplayType === 'date' &&\r\n\t\t\t\t\t! isDescendentOfQueryLoop && (\r\n\t\t\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tpopoverProps={ popoverProps }\r\n\t\t\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\r\n\t\t\t\t\t\t\t\t\t<PublishDateTimePicker\r\n\t\t\t\t\t\t\t\t\t\tcurrentDate={ date }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ setDate }\r\n\t\t\t\t\t\t\t\t\t\tis12Hour={ is12HourFormat(\r\n\t\t\t\t\t\t\t\t\t\t\tsiteTimeFormat\r\n\t\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t\t\tonClose={ onClose }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => {\r\n\t\t\t\t\t\t\t\t\tconst openOnArrowDown = ( event ) => {\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t! isOpen &&\r\n\t\t\t\t\t\t\t\t\t\t\tevent.keyCode === DOWN\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tonToggle();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\t\t\t\t\t\ticon={ edit }\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={ __( 'Change Date' ) }\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={ openOnArrowDown }\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolbarGroup>\r\n\t\t\t\t\t) }\r\n\t\t\t</BlockControls>\r\n\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<DateFormatPicker\r\n\t\t\t\t\t\tformat={ format }\r\n\t\t\t\t\t\tdefaultFormat={ siteFormat }\r\n\t\t\t\t\t\tonChange={ ( nextFormat ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { format: nextFormat } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\tpostType?.labels.singular_name\r\n\t\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"post\".\r\n\t\t\t\t\t\t\t\t\t\t__( 'Link to %s' ),\r\n\t\t\t\t\t\t\t\t\t\tpostType.labels.singular_name.toLowerCase()\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: __( 'Link to post' )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\r\n\t\t\t\t\t\tchecked={ isLink }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display last modified date' ) }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tdisplayType: value ? 'modified' : 'date',\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tchecked={ displayType === 'modified' }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'Only shows if the post has been modified'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\r\n\t\t\t<div { ...blockProps }>{ postDate }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport function is12HourFormat( format ) {\r\n\t// To know if the time format is a 12 hour time, look for any of the 12 hour\r\n\t// format characters: 'a', 'A', 'g', and 'h'. The character must be\r\n\t// unescaped, i.e. not preceded by a '\\'. Coincidentally, 'aAgh' is how I\r\n\t// feel when working with regular expressions.\r\n\t// https://www.php.net/manual/en/datetime.format.php\r\n\treturn /(?:^|[^\\\\])[aAgh]/.test( format );\r\n}\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tformat: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tisLink: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { postDate } from '@wordpress/icons';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'post-date-modified',\r\n\t\ttitle: __( 'Modified Date' ),\r\n\t\tdescription: __( \"Display a post's last updated date.\" ),\r\n\t\tattributes: { displayType: 'modified' },\r\n\t\tscope: [ 'block', 'inserter' ],\r\n\t\tisActive: ( blockAttributes ) =>\r\n\t\t\tblockAttributes.displayType === 'modified',\r\n\t\ticon: postDate,\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postDate as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postExcerpt = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M8.001 3.984V9.47c0 1.518-.98 2.5-2.499 2.5h-.5v-1.5h.5c.69 0 1-.31 1-1V6.984H4v-3h4.001ZM4 20h9v-1.5H4V20Zm16-4H4v-1.5h16V16ZM13.001 3.984V9.47c0 1.518-.98 2.5-2.499 2.5h-.5v-1.5h.5c.69 0 1-.31 1-1V6.984H9v-3h4.001Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postExcerpt;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/post-content' ],\r\n\t\t\ttransform: () => createBlock( 'core/post-excerpt' ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/post-content' ],\r\n\t\t\ttransform: () => createBlock( 'core/post-content' ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postExcerpt as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\ttransforms,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport {\n\tAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tWarning,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl, RangeControl } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useCanEditEntity } from '../utils/hooks';\n\nconst ELLIPSIS = '…';\n\nexport default function PostExcerptEditor( {\n\tattributes: { textAlign, moreText, showMoreOnNewLine, excerptLength },\n\tsetAttributes,\n\tisSelected,\n\tcontext: { postId, postType, queryId },\n} ) {\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\n\tconst userCanEdit = useCanEditEntity( 'postType', postType, postId );\n\tconst [\n\t\trawExcerpt,\n\t\tsetExcerpt,\n\t\t{ rendered: renderedExcerpt, protected: isProtected } = {},\n\t] = useEntityProp( 'postType', postType, 'excerpt', postId );\n\n\t/**\n\t * Check if the post type supports excerpts.\n\t * Add an exception and return early for the \"page\" post type,\n\t * which is registered without support for the excerpt UI,\n\t * but supports saving the excerpt to the database.\n\t * See: https://core.trac.wordpress.org/browser/branches/6.1/src/wp-includes/post.php#L65\n\t * Without this exception, users that have excerpts saved to the database will\n\t * not be able to edit the excerpts.\n\t */\n\tconst postTypeSupportsExcerpts = useSelect(\n\t\t( select ) => {\n\t\t\tif ( postType === 'page' ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn !! select( coreStore ).getPostType( postType )?.supports\n\t\t\t\t?.excerpt;\n\t\t},\n\t\t[ postType ]\n\t);\n\n\t/**\n\t * The excerpt is editable if:\n\t * - The user can edit the post\n\t * - It is not a descendent of a Query Loop block\n\t * - The post type supports excerpts\n\t */\n\tconst isEditable =\n\t\tuserCanEdit && ! isDescendentOfQueryLoop && postTypeSupportsExcerpts;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\n\t/**\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\t/**\n\t * When excerpt is editable, strip the html tags from\n\t * rendered excerpt. This will be used if the entity's\n\t * excerpt has been produced from the content.\n\t */\n\tconst strippedRenderedExcerpt = useMemo( () => {\n\t\tif ( ! renderedExcerpt ) return '';\n\t\tconst document = new window.DOMParser().parseFromString(\n\t\t\trenderedExcerpt,\n\t\t\t'text/html'\n\t\t);\n\t\treturn document.body.textContent || document.body.innerText || '';\n\t}, [ renderedExcerpt ] );\n\n\tif ( ! postType || ! postId ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t\t<div { ...blockProps }>\n\t\t\t\t\t<p>{ __( 'This block will display the excerpt.' ) }</p>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\tif ( isProtected && ! userCanEdit ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<Warning>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'The content is currently protected and does not have the available excerpt.'\n\t\t\t\t\t) }\n\t\t\t\t</Warning>\n\t\t\t</div>\n\t\t);\n\t}\n\tconst readMoreLink = (\n\t\t<RichText\n\t\t\tidentifier=\"moreText\"\n\t\t\tclassName=\"wp-block-post-excerpt__more-link\"\n\t\t\ttagName=\"a\"\n\t\t\taria-label={ __( '“Read more” link text' ) }\n\t\t\tplaceholder={ __( 'Add \"read more\" link text' ) }\n\t\t\tvalue={ moreText }\n\t\t\tonChange={ ( newMoreText ) =>\n\t\t\t\tsetAttributes( { moreText: newMoreText } )\n\t\t\t}\n\t\t\twithoutInteractiveFormatting\n\t\t/>\n\t);\n\tconst excerptClassName = classnames( 'wp-block-post-excerpt__excerpt', {\n\t\t'is-inline': ! showMoreOnNewLine,\n\t} );\n\n\t/**\n\t * The excerpt length setting needs to be applied to both\n\t * the raw and the rendered excerpt depending on which is being used.\n\t */\n\tconst rawOrRenderedExcerpt = (\n\t\trawExcerpt || strippedRenderedExcerpt\n\t).trim();\n\n\tlet trimmedExcerpt = '';\n\tif ( wordCountType === 'words' ) {\n\t\ttrimmedExcerpt = rawOrRenderedExcerpt\n\t\t\t.split( ' ', excerptLength )\n\t\t\t.join( ' ' );\n\t} else if ( wordCountType === 'characters_excluding_spaces' ) {\n\t\t/*\n\t\t * 1. Split the excerpt at the character limit,\n\t\t * then join the substrings back into one string.\n\t\t * 2. Count the number of spaces in the excerpt\n\t\t * by comparing the lengths of the string with and without spaces.\n\t\t * 3. Add the number to the length of the visible excerpt,\n\t\t * so that the spaces are excluded from the word count.\n\t\t */\n\t\tconst excerptWithSpaces = rawOrRenderedExcerpt\n\t\t\t.split( '', excerptLength )\n\t\t\t.join( '' );\n\n\t\tconst numberOfSpaces =\n\t\t\texcerptWithSpaces.length -\n\t\t\texcerptWithSpaces.replaceAll( ' ', '' ).length;\n\n\t\ttrimmedExcerpt = rawOrRenderedExcerpt\n\t\t\t.split( '', excerptLength + numberOfSpaces )\n\t\t\t.join( '' );\n\t} else if ( wordCountType === 'characters_including_spaces' ) {\n\t\ttrimmedExcerpt = rawOrRenderedExcerpt\n\t\t\t.split( '', excerptLength )\n\t\t\t.join( '' );\n\t}\n\n\tconst isTrimmed = trimmedExcerpt !== rawOrRenderedExcerpt;\n\n\tconst excerptContent = isEditable ? (\n\t\t<RichText\n\t\t\tclassName={ excerptClassName }\n\t\t\taria-label={ __( 'Excerpt text' ) }\n\t\t\tvalue={\n\t\t\t\tisSelected\n\t\t\t\t\t? rawOrRenderedExcerpt\n\t\t\t\t\t: ( ! isTrimmed\n\t\t\t\t\t\t\t? rawOrRenderedExcerpt\n\t\t\t\t\t\t\t: trimmedExcerpt + ELLIPSIS ) ||\n\t\t\t\t\t  __( 'No excerpt found' )\n\t\t\t}\n\t\t\tonChange={ setExcerpt }\n\t\t\ttagName=\"p\"\n\t\t/>\n\t) : (\n\t\t<p className={ excerptClassName }>\n\t\t\t{ ! isTrimmed\n\t\t\t\t? rawOrRenderedExcerpt || __( 'No excerpt found' )\n\t\t\t\t: trimmedExcerpt + ELLIPSIS }\n\t\t</p>\n\t);\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<AlignmentToolbar\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Show link on new line' ) }\n\t\t\t\t\t\tchecked={ showMoreOnNewLine }\n\t\t\t\t\t\tonChange={ ( newShowMoreOnNewLine ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowMoreOnNewLine: newShowMoreOnNewLine,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel={ __( 'Max number of words' ) }\n\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tmin=\"10\"\n\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ excerptContent }\n\t\t\t\t{ ! showMoreOnNewLine && ' ' }\n\t\t\t\t{ showMoreOnNewLine ? (\n\t\t\t\t\t<p className=\"wp-block-post-excerpt__more-text\">\n\t\t\t\t\t\t{ readMoreLink }\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\treadMoreLink\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postFeaturedImage = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postFeaturedImage;\r\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tSelectControl,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { InspectorControls, useSettings } from '@wordpress/block-editor';\n\nconst SCALE_OPTIONS = (\n\t<>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"cover\"\n\t\t\tlabel={ _x( 'Cover', 'Scale option for Image dimension control' ) }\n\t\t/>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"contain\"\n\t\t\tlabel={ _x(\n\t\t\t\t'Contain',\n\t\t\t\t'Scale option for Image dimension control'\n\t\t\t) }\n\t\t/>\n\t\t<ToggleGroupControlOption\n\t\t\tvalue=\"fill\"\n\t\t\tlabel={ _x( 'Fill', 'Scale option for Image dimension control' ) }\n\t\t/>\n\t</>\n);\n\nconst DEFAULT_SCALE = 'cover';\nconst DEFAULT_SIZE = 'full';\n\nconst scaleHelp = {\n\tcover: __(\n\t\t'Image is scaled and cropped to fill the entire space without being distorted.'\n\t),\n\tcontain: __(\n\t\t'Image is scaled to fill the space without clipping nor distorting.'\n\t),\n\tfill: __(\n\t\t'Image will be stretched and distorted to completely fill the space.'\n\t),\n};\n\nconst DimensionControls = ( {\n\tclientId,\n\tattributes: { aspectRatio, width, height, scale, sizeSlug },\n\tsetAttributes,\n\timageSizeOptions = [],\n} ) => {\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: availableUnits || [ 'px', '%', 'vw', 'em', 'rem' ],\n\t} );\n\tconst onDimensionChange = ( dimension, nextValue ) => {\n\t\tconst parsedValue = parseFloat( nextValue );\n\t\t/**\n\t\t * If we have no value set and we change the unit,\n\t\t * we don't want to set the attribute, as it would\n\t\t * end up having the unit as value without any number.\n\t\t */\n\t\tif ( isNaN( parsedValue ) && nextValue ) return;\n\t\tsetAttributes( {\n\t\t\t[ dimension ]: parsedValue < 0 ? '0' : nextValue,\n\t\t} );\n\t};\n\tconst scaleLabel = _x( 'Scale', 'Image scaling options' );\n\n\tconst showScaleControl =\n\t\theight || ( aspectRatio && aspectRatio !== 'auto' );\n\n\treturn (\n\t\t<InspectorControls group=\"dimensions\">\n\t\t\t<ToolsPanelItem\n\t\t\t\thasValue={ () => !! aspectRatio }\n\t\t\t\tlabel={ __( 'Aspect ratio' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { aspectRatio: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\taspectRatio: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<SelectControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Aspect ratio' ) }\n\t\t\t\t\tvalue={ aspectRatio }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t// These should use the same values as AspectRatioDropdown in @wordpress/block-editor\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Original' ),\n\t\t\t\t\t\t\tvalue: 'auto',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Square' ),\n\t\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '16:9' ),\n\t\t\t\t\t\t\tvalue: '16/9',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '4:3' ),\n\t\t\t\t\t\t\tvalue: '4/3',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '3:2' ),\n\t\t\t\t\t\t\tvalue: '3/2',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '9:16' ),\n\t\t\t\t\t\t\tvalue: '9/16',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '3:4' ),\n\t\t\t\t\t\t\tvalue: '3/4',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( '2:3' ),\n\t\t\t\t\t\t\tvalue: '2/3',\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t\tonChange={ ( nextAspectRatio ) =>\n\t\t\t\t\t\tsetAttributes( { aspectRatio: nextAspectRatio } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tclassName=\"single-column\"\n\t\t\t\thasValue={ () => !! height }\n\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { height: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\theight: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tvalue={ height || '' }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tonChange={ ( nextHeight ) =>\n\t\t\t\t\t\tonDimensionChange( 'height', nextHeight )\n\t\t\t\t\t}\n\t\t\t\t\tunits={ units }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t<ToolsPanelItem\n\t\t\t\tclassName=\"single-column\"\n\t\t\t\thasValue={ () => !! width }\n\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { width: undefined } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\twidth: undefined,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\tlabelPosition=\"top\"\n\t\t\t\t\tvalue={ width || '' }\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tonChange={ ( nextWidth ) =>\n\t\t\t\t\t\tonDimensionChange( 'width', nextWidth )\n\t\t\t\t\t}\n\t\t\t\t\tunits={ units }\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t\t{ showScaleControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => !! scale && scale !== DEFAULT_SCALE }\n\t\t\t\t\tlabel={ scaleLabel }\n\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tscale: DEFAULT_SCALE,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\tscale: DEFAULT_SCALE,\n\t\t\t\t\t} ) }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t>\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ scaleLabel }\n\t\t\t\t\t\tvalue={ scale }\n\t\t\t\t\t\thelp={ scaleHelp[ scale ] }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tscale: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t>\n\t\t\t\t\t\t{ SCALE_OPTIONS }\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ !! imageSizeOptions.length && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => !! sizeSlug }\n\t\t\t\t\tlabel={ __( 'Resolution' ) }\n\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\tsetAttributes( { sizeSlug: undefined } )\n\t\t\t\t\t}\n\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\tsizeSlug: undefined,\n\t\t\t\t\t} ) }\n\t\t\t\t\tisShownByDefault={ false }\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Resolution' ) }\n\t\t\t\t\t\tvalue={ sizeSlug || DEFAULT_SIZE }\n\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\tonChange={ ( nextSizeSlug ) =>\n\t\t\t\t\t\t\tsetAttributes( { sizeSlug: nextSizeSlug } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelp={ __( 'Select the size of the source image.' ) }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</InspectorControls>\n\t);\n};\n\nexport default DimensionControls;\n","/**\n * WordPress dependencies\n */\nimport {\n\tRangeControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\twithColors,\n\t__experimentalColorGradientSettingsDropdown as ColorGradientSettingsDropdown,\n\t__experimentalUseGradient,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n} from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nconst Overlay = ( {\n\tclientId,\n\tattributes,\n\tsetAttributes,\n\toverlayColor,\n\tsetOverlayColor,\n} ) => {\n\tconst { dimRatio } = attributes;\n\tconst { gradientValue, setGradient } = __experimentalUseGradient();\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\n\tif ( ! colorGradientSettings.hasColorsOrGradients ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorControls group=\"color\">\n\t\t\t<ColorGradientSettingsDropdown\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tsettings={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tcolorValue: overlayColor.color,\n\t\t\t\t\t\tgradientValue,\n\t\t\t\t\t\tlabel: __( 'Overlay' ),\n\t\t\t\t\t\tonColorChange: setOverlayColor,\n\t\t\t\t\t\tonGradientChange: setGradient,\n\t\t\t\t\t\tisShownByDefault: true,\n\t\t\t\t\t\tresetAllFilter: () => ( {\n\t\t\t\t\t\t\toverlayColor: undefined,\n\t\t\t\t\t\t\tcustomOverlayColor: undefined,\n\t\t\t\t\t\t\tgradient: undefined,\n\t\t\t\t\t\t\tcustomGradient: undefined,\n\t\t\t\t\t\t} ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t\tpanelId={ clientId }\n\t\t\t\t{ ...colorGradientSettings }\n\t\t\t/>\n\t\t\t<ToolsPanelItem\n\t\t\t\thasValue={ () => dimRatio !== undefined }\n\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\tonDeselect={ () => setAttributes( { dimRatio: 0 } ) }\n\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\tdimRatio: 0,\n\t\t\t\t} ) }\n\t\t\t\tisShownByDefault\n\t\t\t\tpanelId={ clientId }\n\t\t\t>\n\t\t\t\t<RangeControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\tonChange={ ( newDimRatio ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tdimRatio: newDimRatio,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tmin={ 0 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tstep={ 10 }\n\t\t\t\t\trequired\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t/>\n\t\t\t</ToolsPanelItem>\n\t\t</InspectorControls>\n\t);\n};\n\nexport default compose( [\n\twithColors( { overlayColor: 'background-color' } ),\n] )( Overlay );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\twithColors,\n\t__experimentalUseGradient,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n\t__experimentalUseBorderProps as useBorderProps,\n} from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { dimRatioToClass } from './utils';\n\nconst Overlay = ( { attributes, overlayColor } ) => {\n\tconst { dimRatio } = attributes;\n\tconst { gradientClass, gradientValue } = __experimentalUseGradient();\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst overlayStyles = {\n\t\tbackgroundColor: overlayColor.color,\n\t\tbackgroundImage: gradientValue,\n\t\t...borderProps.style,\n\t};\n\n\tif ( ! colorGradientSettings.hasColorsOrGradients || ! dimRatio ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<span\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName={ classnames(\n\t\t\t\t'wp-block-post-featured-image__overlay',\n\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t{\n\t\t\t\t\t[ overlayColor.class ]: overlayColor.class,\n\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t},\n\t\t\t\tborderProps.className\n\t\t\t) }\n\t\t\tstyle={ overlayStyles }\n\t\t/>\n\t);\n};\n\nexport default compose( [\n\twithColors( { overlayColor: 'background-color' } ),\n] )( Overlay );\n","/**\r\n * Generates the opacity/dim class based on given number.\r\n *\r\n * @param {number} ratio Dim/opacity number.\r\n *\r\n * @return {string} Generated class.\r\n */\r\nexport function dimRatioToClass( ratio ) {\r\n\treturn ratio === undefined\r\n\t\t? null\r\n\t\t: 'has-background-dim-' + 10 * Math.round( ratio / 10 );\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tMenuItem,\n\tToggleControl,\n\tPanelBody,\n\tPlaceholder,\n\tButton,\n\tTextControl,\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalGetShadowClassesAndStyles as getShadowClassesAndStyles,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { useMemo } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { upload } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport DimensionControls from './dimension-controls';\nimport OverlayControls from './overlay-controls';\nimport Overlay from './overlay';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nfunction getMediaSourceUrlBySizeSlug( media, slug ) {\n\treturn (\n\t\tmedia?.media_details?.sizes?.[ slug ]?.source_url || media?.source_url\n\t);\n}\n\nconst disabledClickProps = {\n\tonClick: ( event ) => event.preventDefault(),\n\t'aria-disabled': true,\n};\n\nexport default function PostFeaturedImageEdit( {\n\tclientId,\n\tattributes,\n\tsetAttributes,\n\tcontext: { postId, postType: postTypeSlug, queryId },\n} ) {\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\n\tconst {\n\t\tisLink,\n\t\taspectRatio,\n\t\theight,\n\t\twidth,\n\t\tscale,\n\t\tsizeSlug,\n\t\trel,\n\t\tlinkTarget,\n\t\tuseFirstImageFromPost,\n\t} = attributes;\n\n\tconst [ storedFeaturedImage, setFeaturedImage ] = useEntityProp(\n\t\t'postType',\n\t\tpostTypeSlug,\n\t\t'featured_media',\n\t\tpostId\n\t);\n\n\t// Fallback to post content if no featured image is set.\n\t// This is needed for the \"Use first image from post\" option.\n\tconst [ postContent ] = useEntityProp(\n\t\t'postType',\n\t\tpostTypeSlug,\n\t\t'content',\n\t\tpostId\n\t);\n\n\tconst featuredImage = useMemo( () => {\n\t\tif ( storedFeaturedImage ) {\n\t\t\treturn storedFeaturedImage;\n\t\t}\n\n\t\tif ( ! useFirstImageFromPost ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst imageOpener =\n\t\t\t/<!--\\s+wp:(?:core\\/)?image\\s+(?<attrs>{(?:(?:[^}]+|}+(?=})|(?!}\\s+\\/?-->).)*)?}\\s+)?-->/.exec(\n\t\t\t\tpostContent\n\t\t\t);\n\t\tconst imageId =\n\t\t\timageOpener?.groups?.attrs &&\n\t\t\tJSON.parse( imageOpener.groups.attrs )?.id;\n\t\treturn imageId;\n\t}, [ storedFeaturedImage, useFirstImageFromPost, postContent ] );\n\n\tconst { media, postType, postPermalink } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getMedia, getPostType, getEditedEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\treturn {\n\t\t\t\tmedia:\n\t\t\t\t\tfeaturedImage &&\n\t\t\t\t\tgetMedia( featuredImage, {\n\t\t\t\t\t\tcontext: 'view',\n\t\t\t\t\t} ),\n\t\t\t\tpostType: postTypeSlug && getPostType( postTypeSlug ),\n\t\t\t\tpostPermalink: getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostTypeSlug,\n\t\t\t\t\tpostId\n\t\t\t\t)?.link,\n\t\t\t};\n\t\t},\n\t\t[ featuredImage, postTypeSlug, postId ]\n\t);\n\n\tconst mediaUrl = getMediaSourceUrlBySizeSlug( media, sizeSlug );\n\n\tconst imageSizes = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSettings().imageSizes,\n\t\t[]\n\t);\n\tconst imageSizeOptions = imageSizes\n\t\t.filter( ( { slug } ) => {\n\t\t\treturn media?.media_details?.sizes?.[ slug ]?.source_url;\n\t\t} )\n\t\t.map( ( { name, slug } ) => ( {\n\t\t\tvalue: slug,\n\t\t\tlabel: name,\n\t\t} ) );\n\n\tconst blockProps = useBlockProps( {\n\t\tstyle: { width, height, aspectRatio },\n\t} );\n\tconst borderProps = useBorderProps( attributes );\n\tconst shadowProps = getShadowClassesAndStyles( attributes );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\tconst placeholder = ( content ) => {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-editor-media-placeholder',\n\t\t\t\t\tborderProps.className\n\t\t\t\t) }\n\t\t\t\twithIllustration\n\t\t\t\tstyle={ {\n\t\t\t\t\theight: !! aspectRatio && '100%',\n\t\t\t\t\twidth: !! aspectRatio && '100%',\n\t\t\t\t\t...borderProps.style,\n\t\t\t\t\t...shadowProps.style,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ content }\n\t\t\t</Placeholder>\n\t\t);\n\t};\n\n\tconst onSelectImage = ( value ) => {\n\t\tif ( value?.id ) {\n\t\t\tsetFeaturedImage( value.id );\n\t\t}\n\t};\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst onUploadError = ( message ) => {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t};\n\n\tconst controls = blockEditingMode === 'default' && (\n\t\t<>\n\t\t\t<OverlayControls\n\t\t\t\tattributes={ attributes }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tclientId={ clientId }\n\t\t\t/>\n\t\t\t<DimensionControls\n\t\t\t\tclientId={ clientId }\n\t\t\t\tattributes={ attributes }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\timageSizeOptions={ imageSizeOptions }\n\t\t\t/>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tpostType?.labels.singular_name\n\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"Page\".\n\t\t\t\t\t\t\t\t\t\t__( 'Link to %s' ),\n\t\t\t\t\t\t\t\t\t\tpostType.labels.singular_name\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: __( 'Link to post' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLink && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\t\t\t\tvalue={ rel }\n\t\t\t\t\t\t\t\tonChange={ ( newRel ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { rel: newRel } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tlet image;\n\n\t/**\n\t * A Post Featured Image block should not have image replacement\n\t * or upload options in the following cases:\n\t * - Is placed in a Query Loop. This is a consious decision to\n\t * prevent content editing of different posts in Query Loop, and\n\t * this could change in the future.\n\t * - Is in a context where it does not have a postId (for example\n\t * in a template or template part).\n\t */\n\tif ( ! featuredImage && ( isDescendentOfQueryLoop || ! postId ) ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ controls }\n\t\t\t\t<div { ...blockProps }>\n\t\t\t\t\t{ !! isLink ? (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={ postPermalink }\n\t\t\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\t\t\t{ ...disabledClickProps }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ placeholder() }\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tplaceholder()\n\t\t\t\t\t) }\n\t\t\t\t\t<Overlay\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst label = __( 'Add a featured image' );\n\tconst imageStyles = {\n\t\t...borderProps.style,\n\t\t...shadowProps.style,\n\t\theight: aspectRatio ? '100%' : height,\n\t\twidth: !! aspectRatio && '100%',\n\t\tobjectFit: !! ( height || aspectRatio ) && scale,\n\t};\n\n\t/**\n\t * When the post featured image block is placed in a context where:\n\t * - It has a postId (for example in a single post)\n\t * - It is not inside a query loop\n\t * - It has no image assigned yet\n\t * Then display the placeholder with the image upload option.\n\t */\n\tif ( ! featuredImage ) {\n\t\timage = (\n\t\t\t<MediaPlaceholder\n\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\taccept=\"image/*\"\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\tonError={ onUploadError }\n\t\t\t\tplaceholder={ placeholder }\n\t\t\t\tmediaLibraryButton={ ( { open } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\ttooltipPosition=\"top center\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t} else {\n\t\t// We have a Featured image so show a Placeholder if is loading.\n\t\timage = ! media ? (\n\t\t\tplaceholder()\n\t\t) : (\n\t\t\t<img\n\t\t\t\tclassName={ borderProps.className }\n\t\t\t\tsrc={ mediaUrl }\n\t\t\t\talt={\n\t\t\t\t\tmedia.alt_text\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The image's alt text.\n\t\t\t\t\t\t\t\t__( 'Featured image: %s' ),\n\t\t\t\t\t\t\t\tmedia.alt_text\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Featured image' )\n\t\t\t\t}\n\t\t\t\tstyle={ imageStyles }\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * When the post featured image block:\n\t * - Has an image assigned\n\t * - Is not inside a query loop\n\t * Then display the image and the image replacement option.\n\t */\n\treturn (\n\t\t<>\n\t\t\t{ controls }\n\t\t\t{ !! media && ! isDescendentOfQueryLoop && (\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaId={ featuredImage }\n\t\t\t\t\t\tmediaURL={ mediaUrl }\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem onClick={ () => setFeaturedImage( 0 ) }>\n\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MediaReplaceFlow>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t{ /* If the featured image is linked, wrap in an <a /> tag to trigger any inherited link element styles */ }\n\t\t\t\t{ !! isLink ? (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ postPermalink }\n\t\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\t\t{ ...disabledClickProps }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ image }\n\t\t\t\t\t</a>\n\t\t\t\t) : (\n\t\t\t\t\timage\n\t\t\t\t) }\n\t\t\t\t<Overlay\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postFeaturedImage as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst next = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default next;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst previous = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default previous;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { next, previous } from '@wordpress/icons';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tisDefault: true,\r\n\t\tname: 'post-next',\r\n\t\ttitle: __( 'Next post' ),\r\n\t\tdescription: __(\r\n\t\t\t'Displays the post link that follows the current post.'\r\n\t\t),\r\n\t\ticon: next,\r\n\t\tattributes: { type: 'next' },\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t},\r\n\t{\r\n\t\tname: 'post-previous',\r\n\t\ttitle: __( 'Previous post' ),\r\n\t\tdescription: __(\r\n\t\t\t'Displays the post link that precedes the current post.'\r\n\t\t),\r\n\t\ticon: previous,\r\n\t\tattributes: { type: 'previous' },\r\n\t\tscope: [ 'inserter', 'transform' ],\r\n\t},\r\n];\r\n\r\n/**\r\n * Add `isActive` function to all `post-navigation-link` variations, if not defined.\r\n * `isActive` function is used to find a variation match from a created\r\n *  Block by providing its attributes.\r\n */\r\nvariations.forEach( ( variation ) => {\r\n\tif ( variation.isActive ) return;\r\n\tvariation.isActive = ( blockAttributes, variationAttributes ) =>\r\n\t\tblockAttributes.type === variationAttributes.type;\r\n} );\r\n\r\nexport default variations;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\tedit,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tToggleControl,\n\tSelectControl,\n\tPanelBody,\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tRichText,\n\tBlockControls,\n\tAlignmentToolbar,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function PostNavigationLinkEdit( {\n\tcontext: { postType },\n\tattributes: {\n\t\ttype,\n\t\tlabel,\n\t\tshowTitle,\n\t\ttextAlign,\n\t\tlinkLabel,\n\t\tarrow,\n\t\ttaxonomy,\n\t},\n\tsetAttributes,\n} ) {\n\tconst isNext = type === 'next';\n\tlet placeholder = isNext ? __( 'Next' ) : __( 'Previous' );\n\n\tconst arrowMap = {\n\t\tnone: '',\n\t\tarrow: isNext ? '→' : '←',\n\t\tchevron: isNext ? '»' : '«',\n\t};\n\n\tconst displayArrow = arrowMap[ arrow ];\n\n\tif ( showTitle ) {\n\t\t/* translators: Label before for next and previous post. There is a space after the colon. */\n\t\tplaceholder = isNext ? __( 'Next: ' ) : __( 'Previous: ' );\n\t}\n\n\tconst ariaLabel = isNext ? __( 'Next post' ) : __( 'Previous post' );\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getTaxonomies } = select( coreStore );\n\t\t\tconst filteredTaxonomies = getTaxonomies( {\n\t\t\t\ttype: postType,\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t\treturn filteredTaxonomies;\n\t\t},\n\t\t[ postType ]\n\t);\n\tconst getTaxonomyOptions = () => {\n\t\tconst selectOption = {\n\t\t\tlabel: __( 'Unfiltered' ),\n\t\t\tvalue: '',\n\t\t};\n\t\tconst taxonomyOptions = ( taxonomies ?? [] )\n\t\t\t.filter( ( { visibility } ) => !! visibility?.publicly_queryable )\n\t\t\t.map( ( item ) => {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: item.slug,\n\t\t\t\t\tlabel: item.name,\n\t\t\t\t};\n\t\t\t} );\n\n\t\treturn [ selectOption, ...taxonomyOptions ];\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Display the title as a link' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'If you have entered a custom label, it will be prepended before the title.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! showTitle }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowTitle: ! showTitle,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ showTitle && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t'Include the label as part of the link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tchecked={ !! linkLabel }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tlinkLabel: ! linkLabel,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Arrow' ) }\n\t\t\t\t\t\tvalue={ arrow }\n\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\tsetAttributes( { arrow: value } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'A decorative arrow for the next and previous link.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"none\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'None',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"arrow\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'Arrow',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tvalue=\"chevron\"\n\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t'Chevron',\n\t\t\t\t\t\t\t\t'Arrow option for Next/Previous link'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Filter by taxonomy' ) }\n\t\t\t\t\tvalue={ taxonomy }\n\t\t\t\t\toptions={ getTaxonomyOptions() }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\ttaxonomy: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t'Only link to posts that have the same taxonomy terms as the current post. For example the same tags or categories.'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<AlignmentToolbar\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ ! isNext && displayArrow && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-previous is-arrow-${ arrow }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ displayArrow }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tallowedFormats={ [ 'core/bold', 'core/italic' ] }\n\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ showTitle && (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"#post-navigation-pseudo-link\"\n\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'An example title' ) }\n\t\t\t\t\t</a>\n\t\t\t\t) }\n\t\t\t\t{ isNext && displayArrow && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ `wp-block-post-navigation-link__arrow-next is-arrow-${ arrow }` }\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t>\n\t\t\t\t\t\t{ displayArrow }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { memo, useMemo, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tBlockControls,\n\tBlockContextProvider,\n\t__experimentalUseBlockPreview as useBlockPreview,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Spinner, ToolbarGroup } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { list, grid } from '@wordpress/icons';\n\nconst TEMPLATE = [\n\t[ 'core/post-title' ],\n\t[ 'core/post-date' ],\n\t[ 'core/post-excerpt' ],\n];\n\nfunction PostTemplateInnerBlocks() {\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{ className: 'wp-block-post' },\n\t\t{ template: TEMPLATE, __unstableDisableLayoutClassNames: true }\n\t);\n\treturn <li { ...innerBlocksProps } />;\n}\n\nfunction PostTemplateBlockPreview( {\n\tblocks,\n\tblockContextId,\n\tisHidden,\n\tsetActiveBlockContextId,\n} ) {\n\tconst blockPreviewProps = useBlockPreview( {\n\t\tblocks,\n\t\tprops: {\n\t\t\tclassName: 'wp-block-post',\n\t\t},\n\t} );\n\n\tconst handleOnClick = () => {\n\t\tsetActiveBlockContextId( blockContextId );\n\t};\n\n\tconst style = {\n\t\tdisplay: isHidden ? 'none' : undefined,\n\t};\n\n\treturn (\n\t\t<li\n\t\t\t{ ...blockPreviewProps }\n\t\t\ttabIndex={ 0 }\n\t\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n\t\t\trole=\"button\"\n\t\t\tonClick={ handleOnClick }\n\t\t\tonKeyPress={ handleOnClick }\n\t\t\tstyle={ style }\n\t\t/>\n\t);\n}\n\nconst MemoizedPostTemplateBlockPreview = memo( PostTemplateBlockPreview );\n\nexport default function PostTemplateEdit( {\n\tsetAttributes,\n\tclientId,\n\tcontext: {\n\t\tquery: {\n\t\t\tperPage,\n\t\t\toffset = 0,\n\t\t\tpostType,\n\t\t\torder,\n\t\t\torderBy,\n\t\t\tauthor,\n\t\t\tsearch,\n\t\t\texclude,\n\t\t\tsticky,\n\t\t\tinherit,\n\t\t\ttaxQuery,\n\t\t\tparents,\n\t\t\tpages,\n\t\t\t// We gather extra query args to pass to the REST API call.\n\t\t\t// This way extenders of Query Loop can add their own query args,\n\t\t\t// and have accurate previews in the editor.\n\t\t\t// Noting though that these args should either be supported by the\n\t\t\t// REST API or be handled by custom REST filters like `rest_{$this->post_type}_query`.\n\t\t\t...restQueryArgs\n\t\t} = {},\n\t\ttemplateSlug,\n\t\tpreviewPostType,\n\t},\n\tattributes: { layout },\n\t__unstableLayoutClassNames,\n} ) {\n\tconst { type: layoutType, columnCount = 3 } = layout || {};\n\tconst [ activeBlockContextId, setActiveBlockContextId ] = useState();\n\tconst { posts, blocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords, getTaxonomies } = select( coreStore );\n\t\t\tconst { getBlocks } = select( blockEditorStore );\n\t\t\tconst templateCategory =\n\t\t\t\tinherit &&\n\t\t\t\ttemplateSlug?.startsWith( 'category-' ) &&\n\t\t\t\tgetEntityRecords( 'taxonomy', 'category', {\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tper_page: 1,\n\t\t\t\t\t_fields: [ 'id' ],\n\t\t\t\t\tslug: templateSlug.replace( 'category-', '' ),\n\t\t\t\t} );\n\t\t\tconst query = {\n\t\t\t\toffset: offset || 0,\n\t\t\t\torder,\n\t\t\t\torderby: orderBy,\n\t\t\t};\n\t\t\t// There is no need to build the taxQuery if we inherit.\n\t\t\tif ( taxQuery && ! inherit ) {\n\t\t\t\tconst taxonomies = getTaxonomies( {\n\t\t\t\t\ttype: postType,\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t} );\n\t\t\t\t// We have to build the tax query for the REST API and use as\n\t\t\t\t// keys the taxonomies `rest_base` with the `term ids` as values.\n\t\t\t\tconst builtTaxQuery = Object.entries( taxQuery ).reduce(\n\t\t\t\t\t( accumulator, [ taxonomySlug, terms ] ) => {\n\t\t\t\t\t\tconst taxonomy = taxonomies?.find(\n\t\t\t\t\t\t\t( { slug } ) => slug === taxonomySlug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( taxonomy?.rest_base ) {\n\t\t\t\t\t\t\taccumulator[ taxonomy?.rest_base ] = terms;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn accumulator;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\t\t\t\tif ( !! Object.keys( builtTaxQuery ).length ) {\n\t\t\t\t\tObject.assign( query, builtTaxQuery );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( perPage ) {\n\t\t\t\tquery.per_page = perPage;\n\t\t\t}\n\t\t\tif ( author ) {\n\t\t\t\tquery.author = author;\n\t\t\t}\n\t\t\tif ( search ) {\n\t\t\t\tquery.search = search;\n\t\t\t}\n\t\t\tif ( exclude?.length ) {\n\t\t\t\tquery.exclude = exclude;\n\t\t\t}\n\t\t\tif ( parents?.length ) {\n\t\t\t\tquery.parent = parents;\n\t\t\t}\n\t\t\t// If sticky is not set, it will return all posts in the results.\n\t\t\t// If sticky is set to `only`, it will limit the results to sticky posts only.\n\t\t\t// If it is anything else, it will exclude sticky posts from results. For the record the value stored is `exclude`.\n\t\t\tif ( sticky ) {\n\t\t\t\tquery.sticky = sticky === 'only';\n\t\t\t}\n\t\t\t// If `inherit` is truthy, adjust conditionally the query to create a better preview.\n\t\t\tif ( inherit ) {\n\t\t\t\t// Change the post-type if needed.\n\t\t\t\tif ( templateSlug?.startsWith( 'archive-' ) ) {\n\t\t\t\t\tquery.postType = templateSlug.replace( 'archive-', '' );\n\t\t\t\t\tpostType = query.postType;\n\t\t\t\t} else if ( templateCategory ) {\n\t\t\t\t\tquery.categories = templateCategory[ 0 ]?.id;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// When we preview Query Loop blocks we should prefer the current\n\t\t\t// block's postType, which is passed through block context.\n\t\t\tconst usedPostType = previewPostType || postType;\n\t\t\treturn {\n\t\t\t\tposts: getEntityRecords( 'postType', usedPostType, {\n\t\t\t\t\t...query,\n\t\t\t\t\t...restQueryArgs,\n\t\t\t\t} ),\n\t\t\t\tblocks: getBlocks( clientId ),\n\t\t\t};\n\t\t},\n\t\t[\n\t\t\tperPage,\n\t\t\toffset,\n\t\t\torder,\n\t\t\torderBy,\n\t\t\tclientId,\n\t\t\tauthor,\n\t\t\tsearch,\n\t\t\tpostType,\n\t\t\texclude,\n\t\t\tsticky,\n\t\t\tinherit,\n\t\t\ttemplateSlug,\n\t\t\ttaxQuery,\n\t\t\tparents,\n\t\t\trestQueryArgs,\n\t\t\tpreviewPostType,\n\t\t]\n\t);\n\tconst blockContexts = useMemo(\n\t\t() =>\n\t\t\tposts?.map( ( post ) => ( {\n\t\t\t\tpostType: post.type,\n\t\t\t\tpostId: post.id,\n\t\t\t} ) ),\n\t\t[ posts ]\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( __unstableLayoutClassNames, {\n\t\t\t[ `columns-${ columnCount }` ]:\n\t\t\t\tlayoutType === 'grid' && columnCount, // Ensure column count is flagged via classname for backwards compatibility.\n\t\t} ),\n\t} );\n\n\tif ( ! posts ) {\n\t\treturn (\n\t\t\t<p { ...blockProps }>\n\t\t\t\t<Spinner />\n\t\t\t</p>\n\t\t);\n\t}\n\n\tif ( ! posts.length ) {\n\t\treturn <p { ...blockProps }> { __( 'No results found.' ) }</p>;\n\t}\n\n\tconst setDisplayLayout = ( newDisplayLayout ) =>\n\t\tsetAttributes( {\n\t\t\tlayout: { ...layout, ...newDisplayLayout },\n\t\t} );\n\n\tconst displayLayoutControls = [\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: __( 'List view' ),\n\t\t\tonClick: () => setDisplayLayout( { type: 'default' } ),\n\t\t\tisActive: layoutType === 'default' || layoutType === 'constrained',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: __( 'Grid view' ),\n\t\t\tonClick: () =>\n\t\t\t\tsetDisplayLayout( {\n\t\t\t\t\ttype: 'grid',\n\t\t\t\t\tcolumnCount,\n\t\t\t\t} ),\n\t\t\tisActive: layoutType === 'grid',\n\t\t},\n\t];\n\n\t// To avoid flicker when switching active block contexts, a preview is rendered\n\t// for each block context, but the preview for the active block context is hidden.\n\t// This ensures that when it is displayed again, the cached rendering of the\n\t// block preview is used, instead of having to re-render the preview from scratch.\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ displayLayoutControls } />\n\t\t\t</BlockControls>\n\n\t\t\t<ul { ...blockProps }>\n\t\t\t\t{ blockContexts &&\n\t\t\t\t\tblockContexts.map( ( blockContext ) => (\n\t\t\t\t\t\t<BlockContextProvider\n\t\t\t\t\t\t\tkey={ blockContext.postId }\n\t\t\t\t\t\t\tvalue={ blockContext }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ blockContext.postId ===\n\t\t\t\t\t\t\t( activeBlockContextId ||\n\t\t\t\t\t\t\t\tblockContexts[ 0 ]?.postId ) ? (\n\t\t\t\t\t\t\t\t<PostTemplateInnerBlocks />\n\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t<MemoizedPostTemplateBlockPreview\n\t\t\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\t\t\tblockContextId={ blockContext.postId }\n\t\t\t\t\t\t\t\tsetActiveBlockContextId={\n\t\t\t\t\t\t\t\t\tsetActiveBlockContextId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisHidden={\n\t\t\t\t\t\t\t\t\tblockContext.postId ===\n\t\t\t\t\t\t\t\t\t( activeBlockContextId ||\n\t\t\t\t\t\t\t\t\t\tblockContexts[ 0 ]?.postId )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { layout } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon: layout,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function PostTemplateSave() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst postCategories = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path\r\n\t\t\td=\"M20 4H4v1.5h16V4zm-2 9h-3c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3zM4 9.5h9V8H4v1.5zM9 13H6c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3z\"\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default postCategories;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nconst EMPTY_ARRAY = [];\r\n\r\nexport default function usePostTerms( { postId, term } ) {\r\n\tconst { slug } = term;\r\n\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst visible = term?.visibility?.publicly_queryable;\r\n\t\t\tif ( ! visible ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpostTerms: EMPTY_ARRAY,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\thasPostTerms: false,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tconst { getEntityRecords, isResolving } = select( coreStore );\r\n\t\t\tconst taxonomyArgs = [\r\n\t\t\t\t'taxonomy',\r\n\t\t\t\tslug,\r\n\t\t\t\t{\r\n\t\t\t\t\tpost: postId,\r\n\t\t\t\t\tper_page: -1,\r\n\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\tconst terms = getEntityRecords( ...taxonomyArgs );\r\n\r\n\t\t\treturn {\r\n\t\t\t\tpostTerms: terms,\r\n\t\t\t\tisLoading: isResolving( 'getEntityRecords', taxonomyArgs ),\r\n\t\t\t\thasPostTerms: !! terms?.length,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ postId, term?.visibility?.publicly_queryable, slug ]\r\n\t);\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAlignmentToolbar,\n\tInspectorControls,\n\tBlockControls,\n\tuseBlockProps,\n\tuseBlockDisplayInformation,\n\tRichText,\n} from '@wordpress/block-editor';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { Spinner, TextControl } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport usePostTerms from './use-post-terms';\n\n// Allowed formats for the prefix and suffix fields.\nconst ALLOWED_FORMATS = [\n\t'core/bold',\n\t'core/image',\n\t'core/italic',\n\t'core/link',\n\t'core/strikethrough',\n\t'core/text-color',\n];\n\nexport default function PostTermsEdit( {\n\tattributes,\n\tclientId,\n\tcontext,\n\tisSelected,\n\tsetAttributes,\n\tinsertBlocksAfter,\n} ) {\n\tconst { term, textAlign, separator, prefix, suffix } = attributes;\n\tconst { postId, postType } = context;\n\n\tconst selectedTerm = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! term ) return {};\n\t\t\tconst { getTaxonomy } = select( coreStore );\n\t\t\tconst taxonomy = getTaxonomy( term );\n\t\t\treturn taxonomy?.visibility?.publicly_queryable ? taxonomy : {};\n\t\t},\n\t\t[ term ]\n\t);\n\tconst { postTerms, hasPostTerms, isLoading } = usePostTerms( {\n\t\tpostId,\n\t\tterm: selectedTerm,\n\t} );\n\tconst hasPost = postId && postType;\n\tconst blockInformation = useBlockDisplayInformation( clientId );\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t\t[ `taxonomy-${ term }` ]: term,\n\t\t} ),\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<AlignmentToolbar\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tlabel={ __( 'Separator' ) }\n\t\t\t\t\tvalue={ separator || '' }\n\t\t\t\t\tonChange={ ( nextValue ) => {\n\t\t\t\t\t\tsetAttributes( { separator: nextValue } );\n\t\t\t\t\t} }\n\t\t\t\t\thelp={ __( 'Enter character(s) used to separate terms.' ) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ isLoading && hasPost && <Spinner /> }\n\t\t\t\t{ ! isLoading && ( isSelected || prefix ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"prefix\"\n\t\t\t\t\t\tallowedFormats={ ALLOWED_FORMATS }\n\t\t\t\t\t\tclassName=\"wp-block-post-terms__prefix\"\n\t\t\t\t\t\taria-label={ __( 'Prefix' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Prefix' ) + ' ' }\n\t\t\t\t\t\tvalue={ prefix }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { prefix: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( ! hasPost || ! term ) && (\n\t\t\t\t\t<span>{ blockInformation.title }</span>\n\t\t\t\t) }\n\t\t\t\t{ hasPost &&\n\t\t\t\t\t! isLoading &&\n\t\t\t\t\thasPostTerms &&\n\t\t\t\t\tpostTerms\n\t\t\t\t\t\t.map( ( postTerm ) => (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tkey={ postTerm.id }\n\t\t\t\t\t\t\t\thref={ postTerm.link }\n\t\t\t\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ decodeEntities( postTerm.name ) }\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) )\n\t\t\t\t\t\t.reduce( ( prev, curr ) => (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ prev }\n\t\t\t\t\t\t\t\t<span className=\"wp-block-post-terms__separator\">\n\t\t\t\t\t\t\t\t\t{ separator || ' ' }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{ curr }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) ) }\n\t\t\t\t{ hasPost &&\n\t\t\t\t\t! isLoading &&\n\t\t\t\t\t! hasPostTerms &&\n\t\t\t\t\t( selectedTerm?.labels?.no_terms ||\n\t\t\t\t\t\t__( 'Term items not found.' ) ) }\n\t\t\t\t{ ! isLoading && ( isSelected || suffix ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"suffix\"\n\t\t\t\t\t\tallowedFormats={ ALLOWED_FORMATS }\n\t\t\t\t\t\tclassName=\"wp-block-post-terms__suffix\"\n\t\t\t\t\t\taria-label={ __( 'Suffix' ) }\n\t\t\t\t\t\tplaceholder={ ' ' + __( 'Suffix' ) }\n\t\t\t\t\t\tvalue={ suffix }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { suffix: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst postTerms = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M8.1 12.3c.1.1.3.3.5.3.2.1.4.1.6.1.2 0 .4 0 .6-.1.2-.1.4-.2.5-.3l3-3c.3-.3.5-.7.5-1.1 0-.4-.2-.8-.5-1.1L9.7 3.5c-.1-.2-.3-.3-.5-.3H5c-.4 0-.8.4-.8.8v4.2c0 .2.1.4.2.5l3.7 3.6zM5.8 4.8h3.1l3.4 3.4v.1l-3 3 .5.5-.7-.5-3.3-3.4V4.8zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default postTerms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postCategories, postTerms } from '@wordpress/icons';\r\n\r\nconst variationIconMap = {\r\n\tcategory: postCategories,\r\n\tpost_tag: postTerms,\r\n};\r\n\r\n// We add `icons` to categories and tags. The remaining ones use\r\n// the block's default icon.\r\nexport default function enhanceVariations( settings, name ) {\r\n\tif ( name !== 'core/post-terms' ) {\r\n\t\treturn settings;\r\n\t}\r\n\tconst variations = settings.variations.map( ( variation ) => ( {\r\n\t\t...variation,\r\n\t\t...{\r\n\t\t\ticon: variationIconMap[ variation.name ] ?? postCategories,\r\n\t\t},\r\n\t} ) );\r\n\treturn {\r\n\t\t...settings,\r\n\t\tvariations,\r\n\t};\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { postCategories as icon } from '@wordpress/icons';\r\nimport { addFilter } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport enhanceVariations from './hooks';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => {\r\n\taddFilter(\r\n\t\t'blocks.registerBlockType',\r\n\t\t'core/template-part',\r\n\t\tenhanceVariations\r\n\t);\r\n\r\n\treturn initBlock( { name, metadata, settings } );\r\n};\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"wordcount\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/components';\r\n\r\nexport default (\r\n\t<SVG\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"24\"\r\n\t\theight=\"24\"\r\n\t\tviewBox=\"0 0 24 24\"\r\n\t>\r\n\t\t<Path d=\"M12 3c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16.5c-4.1 0-7.5-3.4-7.5-7.5S7.9 4.5 12 4.5s7.5 3.4 7.5 7.5-3.4 7.5-7.5 7.5zM12 7l-1 5c0 .3.2.6.4.8l4.2 2.8-2.7-4.1L12 7z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport icon from './icon';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { _x, _n, sprintf } from '@wordpress/i18n';\r\nimport { useMemo } from '@wordpress/element';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\r\nimport { useEntityProp, useEntityBlockEditor } from '@wordpress/core-data';\r\nimport { count as wordCount } from '@wordpress/wordcount';\r\n\r\n/**\r\n * Average reading rate - based on average taken from\r\n * https://irisreading.com/average-reading-speed-in-various-languages/\r\n * (Characters/minute used for Chinese rather than words).\r\n */\r\nconst AVERAGE_READING_RATE = 189;\r\n\r\nfunction PostTimeToReadEdit( { attributes, setAttributes, context } ) {\r\n\tconst { textAlign } = attributes;\r\n\tconst { postId, postType } = context;\r\n\r\n\tconst [ contentStructure ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'content',\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst [ blocks ] = useEntityBlockEditor( 'postType', postType, {\r\n\t\tid: postId,\r\n\t} );\r\n\r\n\tconst minutesToReadString = useMemo( () => {\r\n\t\t// Replicates the logic found in getEditedPostContent().\r\n\t\tlet content;\r\n\t\tif ( contentStructure instanceof Function ) {\r\n\t\t\tcontent = contentStructure( { blocks } );\r\n\t\t} else if ( blocks ) {\r\n\t\t\t// If we have parsed blocks already, they should be our source of truth.\r\n\t\t\t// Parsing applies block deprecations and legacy block conversions that\r\n\t\t\t// unparsed content will not have.\r\n\t\t\tcontent = __unstableSerializeAndClean( blocks );\r\n\t\t} else {\r\n\t\t\tcontent = contentStructure;\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t * translators: If your word count is based on single characters (e.g. East Asian characters),\r\n\t\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\r\n\t\t * Do not translate into your own language.\r\n\t\t */\r\n\t\tconst wordCountType = _x(\r\n\t\t\t'words',\r\n\t\t\t'Word count type. Do not translate!'\r\n\t\t);\r\n\r\n\t\tconst minutesToRead = Math.max(\r\n\t\t\t1,\r\n\t\t\tMath.round(\r\n\t\t\t\twordCount( content, wordCountType ) / AVERAGE_READING_RATE\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\treturn sprintf(\r\n\t\t\t/* translators: %d is the number of minutes the post will take to read. */\r\n\t\t\t_n( '%d minute', '%d minutes', minutesToRead ),\r\n\t\t\tminutesToRead\r\n\t\t);\r\n\t}, [ contentStructure, blocks ] );\r\n\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div { ...blockProps }>{ minutesToReadString }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default PostTimeToReadEdit;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\ttype: 'number',\r\n\t\t\tdefault: 2,\r\n\t\t},\r\n\t\tisLink: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t\trel: {\r\n\t\t\ttype: 'string',\r\n\t\t\tattribute: 'rel',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: '_self',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { title as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tuseBlockProps,\n\tPlainText,\n\tHeadingLevelDropdown,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { ToggleControl, TextControl, PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { useEntityProp } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { useCanEditEntity } from '../utils/hooks';\n\nexport default function PostTitleEdit( {\n\tattributes: { level, textAlign, isLink, rel, linkTarget },\n\tsetAttributes,\n\tcontext: { postType, postId, queryId },\n\tinsertBlocksAfter,\n} ) {\n\tconst TagName = 'h' + level;\n\tconst isDescendentOfQueryLoop = Number.isFinite( queryId );\n\t/**\n\t * Hack: useCanEditEntity may trigger an OPTIONS request to the REST API via the canUser resolver.\n\t * However, when the Post Title is a descendant of a Query Loop block, the title cannot be edited.\n\t * In order to avoid these unnecessary requests, we call the hook without\n\t * the proper data, resulting in returning early without making them.\n\t */\n\tconst userCanEdit = useCanEditEntity(\n\t\t'postType',\n\t\t! isDescendentOfQueryLoop && postType,\n\t\tpostId\n\t);\n\tconst [ rawTitle = '', setTitle, fullTitle ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'title',\n\t\tpostId\n\t);\n\tconst [ link ] = useEntityProp( 'postType', postType, 'link', postId );\n\tconst onSplitAtEnd = () => {\n\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) );\n\t};\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t} );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\tlet titleElement = <TagName { ...blockProps }>{ __( 'Title' ) }</TagName>;\n\n\tif ( postType && postId ) {\n\t\ttitleElement = userCanEdit ? (\n\t\t\t<PlainText\n\t\t\t\ttagName={ TagName }\n\t\t\t\tplaceholder={ __( 'No Title' ) }\n\t\t\t\tvalue={ rawTitle }\n\t\t\t\tonChange={ setTitle }\n\t\t\t\t__experimentalVersion={ 2 }\n\t\t\t\t__unstableOnSplitAtEnd={ onSplitAtEnd }\n\t\t\t\t{ ...blockProps }\n\t\t\t/>\n\t\t) : (\n\t\t\t<TagName\n\t\t\t\t{ ...blockProps }\n\t\t\t\tdangerouslySetInnerHTML={ { __html: fullTitle?.rendered } }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isLink && postType && postId ) {\n\t\ttitleElement = userCanEdit ? (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<PlainText\n\t\t\t\t\ttagName=\"a\"\n\t\t\t\t\thref={ link }\n\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\trel={ rel }\n\t\t\t\t\tplaceholder={ ! rawTitle.length ? __( 'No Title' ) : null }\n\t\t\t\t\tvalue={ rawTitle }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t__experimentalVersion={ 2 }\n\t\t\t\t\t__unstableOnSplitAtEnd={ onSplitAtEnd }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t) : (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<a\n\t\t\t\t\thref={ link }\n\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\trel={ rel }\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t__html: fullTitle?.rendered,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t<>\n\t\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t\t<HeadingLevelDropdown\n\t\t\t\t\t\t\tvalue={ level }\n\t\t\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<AlignmentControl\n\t\t\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Make title a link' ) }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { isLink: ! isLink } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ isLink && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tlinkTarget: value\n\t\t\t\t\t\t\t\t\t\t\t\t\t? '_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: '_self',\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ rel }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( newRel ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { rel: newRel } )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t{ titleElement }\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst preformatted = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 16.5h6V15H7v1.5zm4-4h6V11h-6v1.5zM9 11H7v1.5h2V11zm6 5.5h2V15h-2v1.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default preformatted;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/code', 'core/paragraph' ],\r\n\t\t\ttransform: ( { content, anchor } ) =>\r\n\t\t\t\tcreateBlock( 'core/preformatted', {\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.nodeName === 'PRE' &&\r\n\t\t\t\t! (\r\n\t\t\t\t\tnode.children.length === 1 &&\r\n\t\t\t\t\tnode.firstChild.nodeName === 'CODE'\r\n\t\t\t\t),\r\n\t\t\tschema: ( { phrasingContentSchema } ) => ( {\r\n\t\t\t\tpre: {\r\n\t\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t\t},\r\n\t\t\t} ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/code' ],\r\n\t\t\ttransform: ( attributes ) => createBlock( 'core/code', attributes ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { preformatted as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\t/* eslint-disable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t\t// translators: Sample content for the Preformatted block. Can be replaced with a more locale-adequate work.\r\n\t\t\tcontent: __(\r\n\t\t\t\t'EXT. XANADU - FAINT DAWN - 1940 (MINIATURE)\\nWindow, very small in the distance, illuminated.\\nAll around this is an almost totally black screen. Now, as the camera moves slowly towards the window which is almost a postage stamp in the frame, other forms appear;'\r\n\t\t\t),\r\n\t\t\t/* eslint-enable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tmerge( attributes, attributesToMerge ) {\r\n\t\treturn {\r\n\t\t\tcontent: attributes.content + '\\n\\n' + attributesToMerge.content,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\nexport default function PreformattedEdit( {\r\n\tattributes,\r\n\tmergeBlocks,\r\n\tsetAttributes,\r\n\tonRemove,\r\n\tinsertBlocksAfter,\r\n\tstyle,\r\n} ) {\r\n\tconst { content } = attributes;\r\n\tconst blockProps = useBlockProps( { style } );\r\n\r\n\treturn (\r\n\t\t<RichText\r\n\t\t\ttagName=\"pre\"\r\n\t\t\tidentifier=\"content\"\r\n\t\t\tpreserveWhiteSpace\r\n\t\t\tvalue={ content }\r\n\t\t\tonChange={ ( nextContent ) => {\r\n\t\t\t\tsetAttributes( {\r\n\t\t\t\t\tcontent: nextContent,\r\n\t\t\t\t} );\r\n\t\t\t} }\r\n\t\t\tonRemove={ onRemove }\r\n\t\t\taria-label={ __( 'Preformatted text' ) }\r\n\t\t\tplaceholder={ __( 'Write preformatted text…' ) }\r\n\t\t\tonMerge={ mergeBlocks }\r\n\t\t\t{ ...blockProps }\r\n\t\t\t__unstablePastePlainText\r\n\t\t\t__unstableOnSplitAtDoubleLineEnd={ () =>\r\n\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { content } = attributes;\r\n\r\n\treturn (\r\n\t\t<pre { ...useBlockProps.save() }>\r\n\t\t\t<RichText.Content value={ content } />\r\n\t\t</pre>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst pullquote = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18 8H6c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm.5 6c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v4zM4 4v1.5h16V4H4zm0 16h16v-1.5H4V20z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default pullquote;\r\n","export const SOLID_COLOR_CLASS = `is-style-solid-color`;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tgetColorClassName,\r\n\tgetColorObjectByAttributeValues,\r\n\tRichText,\r\n\tstore as blockEditorStore,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { select } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { SOLID_COLOR_CLASS } from './shared';\r\n\r\nconst blockAttributes = {\r\n\tvalue: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'html',\r\n\t\tselector: 'blockquote',\r\n\t\tmultiline: 'p',\r\n\t},\r\n\tcitation: {\r\n\t\ttype: 'string',\r\n\t\tsource: 'html',\r\n\t\tselector: 'cite',\r\n\t\tdefault: '',\r\n\t},\r\n\tmainColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcustomMainColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\ttextColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n\tcustomTextColor: {\r\n\t\ttype: 'string',\r\n\t},\r\n};\r\n\r\nfunction parseBorderColor( styleString ) {\r\n\tif ( ! styleString ) {\r\n\t\treturn;\r\n\t}\r\n\tconst matches = styleString.match( /border-color:([^;]+)[;]?/ );\r\n\tif ( matches && matches[ 1 ] ) {\r\n\t\treturn matches[ 1 ];\r\n\t}\r\n}\r\n\r\nfunction multilineToInline( value ) {\r\n\tvalue = value || `<p></p>`;\r\n\tconst padded = `</p>${ value }<p>`;\r\n\tconst values = padded.split( `</p><p>` );\r\n\r\n\tvalues.shift();\r\n\tvalues.pop();\r\n\r\n\treturn values.join( '<br>' );\r\n}\r\n\r\nconst v5 = {\r\n\tattributes: {\r\n\t\tvalue: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'blockquote',\r\n\t\t\tmultiline: 'p',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\tcitation: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'cite',\r\n\t\t\tdefault: '',\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { textAlign, citation, value } = attributes;\r\n\t\tconst shouldShowCitation = ! RichText.isEmpty( citation );\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\t\tclassName: classnames( {\r\n\t\t\t\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<blockquote>\r\n\t\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t\t{ shouldShowCitation && (\r\n\t\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t</blockquote>\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n\tmigrate( { value, ...attributes } ) {\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\n// TODO: this is ripe for a bit of a clean up according to the example in https://developer.wordpress.org/block-editor/reference-guides/block-api/block-deprecation/#example\r\n\r\nconst v4 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tmainColor,\r\n\t\t\tcustomMainColor,\r\n\t\t\tcustomTextColor,\r\n\t\t\ttextColor,\r\n\t\t\tvalue,\r\n\t\t\tcitation,\r\n\t\t\tclassName,\r\n\t\t} = attributes;\r\n\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\r\n\t\tlet figureClasses, figureStyles;\r\n\r\n\t\t// Is solid color style\r\n\t\tif ( isSolidColorStyle ) {\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tmainColor\r\n\t\t\t);\r\n\r\n\t\t\tfigureClasses = classnames( {\r\n\t\t\t\t'has-background': backgroundClass || customMainColor,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tbackgroundColor: backgroundClass ? undefined : customMainColor,\r\n\t\t\t};\r\n\t\t\t// Is normal style and a custom color is being used ( we can set a style directly with its value)\r\n\t\t} else if ( customMainColor ) {\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tborderColor: customMainColor,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst blockquoteTextColorClass = getColorClassName(\r\n\t\t\t'color',\r\n\t\t\ttextColor\r\n\t\t);\r\n\t\tconst blockquoteClasses = classnames( {\r\n\t\t\t'has-text-color': textColor || customTextColor,\r\n\t\t\t[ blockquoteTextColorClass ]: blockquoteTextColorClass,\r\n\t\t} );\r\n\r\n\t\tconst blockquoteStyles = blockquoteTextColorClass\r\n\t\t\t? undefined\r\n\t\t\t: { color: customTextColor };\r\n\r\n\t\treturn (\r\n\t\t\t<figure\r\n\t\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\t\tclassName: figureClasses,\r\n\t\t\t\t\tstyle: figureStyles,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t<blockquote\r\n\t\t\t\t\tclassName={ blockquoteClasses }\r\n\t\t\t\t\tstyle={ blockquoteStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && (\r\n\t\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t</blockquote>\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n\tmigrate( {\r\n\t\tvalue,\r\n\t\tclassName,\r\n\t\tmainColor,\r\n\t\tcustomMainColor,\r\n\t\tcustomTextColor,\r\n\t\t...attributes\r\n\t} ) {\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\t\tlet style;\r\n\r\n\t\tif ( customMainColor ) {\r\n\t\t\tif ( ! isSolidColorStyle ) {\r\n\t\t\t\t// Block supports: Set style.border.color if a deprecated block has a default style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tborder: {\r\n\t\t\t\t\t\tcolor: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\t// Block supports: Set style.color.background if a deprecated block has a solid style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tbackground: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Block supports: Set style.color.text if a deprecated block has a `customTextColor` attribute.\r\n\t\tif ( customTextColor && style ) {\r\n\t\t\tstyle.color = {\r\n\t\t\t\t...style.color,\r\n\t\t\t\ttext: customTextColor,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\tclassName,\r\n\t\t\tbackgroundColor: isSolidColorStyle ? mainColor : undefined,\r\n\t\t\tborderColor: isSolidColorStyle ? undefined : mainColor,\r\n\t\t\ttextAlign: isSolidColorStyle ? 'left' : undefined,\r\n\t\t\tstyle,\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst v3 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\t// figureStyle is an attribute that never existed.\r\n\t\t// We are using it as a way to access the styles previously applied to the figure.\r\n\t\tfigureStyle: {\r\n\t\t\tsource: 'attribute',\r\n\t\t\tselector: 'figure',\r\n\t\t\tattribute: 'style',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tmainColor,\r\n\t\t\tcustomMainColor,\r\n\t\t\ttextColor,\r\n\t\t\tcustomTextColor,\r\n\t\t\tvalue,\r\n\t\t\tcitation,\r\n\t\t\tclassName,\r\n\t\t\tfigureStyle,\r\n\t\t} = attributes;\r\n\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\r\n\t\tlet figureClasses, figureStyles;\r\n\r\n\t\t// Is solid color style\r\n\t\tif ( isSolidColorStyle ) {\r\n\t\t\tconst backgroundClass = getColorClassName(\r\n\t\t\t\t'background-color',\r\n\t\t\t\tmainColor\r\n\t\t\t);\r\n\r\n\t\t\tfigureClasses = classnames( {\r\n\t\t\t\t'has-background': backgroundClass || customMainColor,\r\n\t\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t} );\r\n\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tbackgroundColor: backgroundClass ? undefined : customMainColor,\r\n\t\t\t};\r\n\t\t\t// Is normal style and a custom color is being used ( we can set a style directly with its value)\r\n\t\t} else if ( customMainColor ) {\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tborderColor: customMainColor,\r\n\t\t\t};\r\n\t\t\t// If normal style and a named color are being used, we need to retrieve the color value to set the style,\r\n\t\t\t// as there is no expectation that themes create classes that set border colors.\r\n\t\t} else if ( mainColor ) {\r\n\t\t\t// Previously here we queried the color settings to know the color value\r\n\t\t\t// of a named color. This made the save function impure and the block was refactored,\r\n\t\t\t// because meanwhile a change in the editor made it impossible to query color settings in the save function.\r\n\t\t\t// Here instead of querying the color settings to know the color value, we retrieve the value\r\n\t\t\t// directly from the style previously serialized.\r\n\t\t\tconst borderColor = parseBorderColor( figureStyle );\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tborderColor,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst blockquoteTextColorClass = getColorClassName(\r\n\t\t\t'color',\r\n\t\t\ttextColor\r\n\t\t);\r\n\t\tconst blockquoteClasses =\r\n\t\t\t( textColor || customTextColor ) &&\r\n\t\t\tclassnames( 'has-text-color', {\r\n\t\t\t\t[ blockquoteTextColorClass ]: blockquoteTextColorClass,\r\n\t\t\t} );\r\n\r\n\t\tconst blockquoteStyles = blockquoteTextColorClass\r\n\t\t\t? undefined\r\n\t\t\t: { color: customTextColor };\r\n\r\n\t\treturn (\r\n\t\t\t<figure className={ figureClasses } style={ figureStyles }>\r\n\t\t\t\t<blockquote\r\n\t\t\t\t\tclassName={ blockquoteClasses }\r\n\t\t\t\t\tstyle={ blockquoteStyles }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && (\r\n\t\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t</blockquote>\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n\tmigrate( {\r\n\t\tvalue,\r\n\t\tclassName,\r\n\t\tfigureStyle,\r\n\t\tmainColor,\r\n\t\tcustomMainColor,\r\n\t\tcustomTextColor,\r\n\t\t...attributes\r\n\t} ) {\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\t\tlet style;\r\n\r\n\t\tif ( customMainColor ) {\r\n\t\t\tif ( ! isSolidColorStyle ) {\r\n\t\t\t\t// Block supports: Set style.border.color if a deprecated block has a default style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tborder: {\r\n\t\t\t\t\t\tcolor: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\t// Block supports: Set style.color.background if a deprecated block has a solid style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tbackground: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Block supports: Set style.color.text if a deprecated block has a `customTextColor` attribute.\r\n\t\tif ( customTextColor && style ) {\r\n\t\t\tstyle.color = {\r\n\t\t\t\t...style.color,\r\n\t\t\t\ttext: customTextColor,\r\n\t\t\t};\r\n\t\t}\r\n\t\t// If is the default style, and a main color is set,\r\n\t\t// migrate the main color value into a custom border color.\r\n\t\t// The custom border color value is retrieved by parsing the figure styles.\r\n\t\tif ( ! isSolidColorStyle && mainColor && figureStyle ) {\r\n\t\t\tconst borderColor = parseBorderColor( figureStyle );\r\n\t\t\tif ( borderColor ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: multilineToInline( value ),\r\n\t\t\t\t\t...attributes,\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\t// Block supports: Set style.border.color if a deprecated block has `mainColor`, inline border CSS and is not a solid color style.\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tborder: {\r\n\t\t\t\t\t\t\tcolor: borderColor,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\tclassName,\r\n\t\t\tbackgroundColor: isSolidColorStyle ? mainColor : undefined,\r\n\t\t\tborderColor: isSolidColorStyle ? undefined : mainColor,\r\n\t\t\ttextAlign: isSolidColorStyle ? 'left' : undefined,\r\n\t\t\tstyle,\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst v2 = {\r\n\tattributes: blockAttributes,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tmainColor,\r\n\t\t\tcustomMainColor,\r\n\t\t\ttextColor,\r\n\t\t\tcustomTextColor,\r\n\t\t\tvalue,\r\n\t\t\tcitation,\r\n\t\t\tclassName,\r\n\t\t} = attributes;\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\r\n\t\tlet figureClass, figureStyles;\r\n\t\t// Is solid color style\r\n\t\tif ( isSolidColorStyle ) {\r\n\t\t\tfigureClass = getColorClassName( 'background-color', mainColor );\r\n\t\t\tif ( ! figureClass ) {\r\n\t\t\t\tfigureStyles = {\r\n\t\t\t\t\tbackgroundColor: customMainColor,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// Is normal style and a custom color is being used ( we can set a style directly with its value)\r\n\t\t} else if ( customMainColor ) {\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tborderColor: customMainColor,\r\n\t\t\t};\r\n\t\t\t// Is normal style and a named color is being used, we need to retrieve the color value to set the style,\r\n\t\t\t// as there is no expectation that themes create classes that set border colors.\r\n\t\t} else if ( mainColor ) {\r\n\t\t\tconst colors =\r\n\t\t\t\tselect( blockEditorStore ).getSettings().colors ?? [];\r\n\t\t\tconst colorObject = getColorObjectByAttributeValues(\r\n\t\t\t\tcolors,\r\n\t\t\t\tmainColor\r\n\t\t\t);\r\n\t\t\tfigureStyles = {\r\n\t\t\t\tborderColor: colorObject.color,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tconst blockquoteTextColorClass = getColorClassName(\r\n\t\t\t'color',\r\n\t\t\ttextColor\r\n\t\t);\r\n\t\tconst blockquoteClasses =\r\n\t\t\ttextColor || customTextColor\r\n\t\t\t\t? classnames( 'has-text-color', {\r\n\t\t\t\t\t\t[ blockquoteTextColorClass ]: blockquoteTextColorClass,\r\n\t\t\t\t  } )\r\n\t\t\t\t: undefined;\r\n\t\tconst blockquoteStyle = blockquoteTextColorClass\r\n\t\t\t? undefined\r\n\t\t\t: { color: customTextColor };\r\n\t\treturn (\r\n\t\t\t<figure className={ figureClass } style={ figureStyles }>\r\n\t\t\t\t<blockquote\r\n\t\t\t\t\tclassName={ blockquoteClasses }\r\n\t\t\t\t\tstyle={ blockquoteStyle }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t\t{ ! RichText.isEmpty( citation ) && (\r\n\t\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t\t) }\r\n\t\t\t\t</blockquote>\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n\tmigrate( {\r\n\t\tvalue,\r\n\t\tclassName,\r\n\t\tmainColor,\r\n\t\tcustomMainColor,\r\n\t\tcustomTextColor,\r\n\t\t...attributes\r\n\t} ) {\r\n\t\tconst isSolidColorStyle = className?.includes( SOLID_COLOR_CLASS );\r\n\t\tlet style = {};\r\n\r\n\t\tif ( customMainColor ) {\r\n\t\t\tif ( ! isSolidColorStyle ) {\r\n\t\t\t\t// Block supports: Set style.border.color if a deprecated block has a default style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tborder: {\r\n\t\t\t\t\t\tcolor: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\t// Block supports: Set style.color.background if a deprecated block has a solid style and a `customMainColor` attribute.\r\n\t\t\t\tstyle = {\r\n\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\tbackground: customMainColor,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Block supports: Set style.color.text if a deprecated block has a `customTextColor` attribute.\r\n\t\tif ( customTextColor && style ) {\r\n\t\t\tstyle.color = {\r\n\t\t\t\t...style.color,\r\n\t\t\t\ttext: customTextColor,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\tclassName,\r\n\t\t\tbackgroundColor: isSolidColorStyle ? mainColor : undefined,\r\n\t\t\tborderColor: isSolidColorStyle ? undefined : mainColor,\r\n\t\t\ttextAlign: isSolidColorStyle ? 'left' : undefined,\r\n\t\t\tstyle,\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { value, citation } = attributes;\r\n\t\treturn (\r\n\t\t\t<blockquote>\r\n\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t) }\r\n\t\t\t</blockquote>\r\n\t\t);\r\n\t},\r\n\tmigrate( { value, ...attributes } ) {\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst v0 = {\r\n\tattributes: {\r\n\t\t...blockAttributes,\r\n\t\tcitation: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'footer',\r\n\t\t},\r\n\t\talign: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'none',\r\n\t\t},\r\n\t},\r\n\r\n\tsave( { attributes } ) {\r\n\t\tconst { value, citation, align } = attributes;\r\n\r\n\t\treturn (\r\n\t\t\t<blockquote className={ `align${ align }` }>\r\n\t\t\t\t<RichText.Content value={ value } multiline />\r\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"footer\" value={ citation } />\r\n\t\t\t\t) }\r\n\t\t\t</blockquote>\r\n\t\t);\r\n\t},\r\n\tmigrate( { value, ...attributes } ) {\r\n\t\treturn {\r\n\t\t\tvalue: multilineToInline( value ),\r\n\t\t\t...attributes,\r\n\t\t};\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v5, v4, v3, v2, v1, v0 ];\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tRichText,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\nimport { Platform } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { Figure } from './figure';\r\nimport { BlockQuote } from './blockquote';\r\n\r\nconst isWebPlatform = Platform.OS === 'web';\r\n\r\nfunction PullQuoteEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tisSelected,\r\n\tinsertBlocksAfter,\r\n} ) {\r\n\tconst { textAlign, citation, value } = attributes;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\tconst shouldShowCitation = ! RichText.isEmpty( citation ) || isSelected;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<Figure { ...blockProps }>\r\n\t\t\t\t<BlockQuote>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tidentifier=\"value\"\r\n\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tonChange={ ( nextValue ) =>\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tvalue: nextValue,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\taria-label={ __( 'Pullquote text' ) }\r\n\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t// translators: placeholder text used for the quote\r\n\t\t\t\t\t\t\t__( 'Add quote' )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ shouldShowCitation && (\r\n\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\tidentifier=\"citation\"\r\n\t\t\t\t\t\t\ttagName={ isWebPlatform ? 'cite' : undefined }\r\n\t\t\t\t\t\t\tstyle={ { display: 'block' } }\r\n\t\t\t\t\t\t\tvalue={ citation }\r\n\t\t\t\t\t\t\taria-label={ __( 'Pullquote citation text' ) }\r\n\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t// translators: placeholder text used for the citation\r\n\t\t\t\t\t\t\t\t__( 'Add citation' )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={ ( nextCitation ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tcitation: nextCitation,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"wp-block-pullquote__citation\"\r\n\t\t\t\t\t\t\t__unstableMobileNoFocusOnMount\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\r\n\t\t\t\t\t\t\t\tinsertBlocksAfter(\r\n\t\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</BlockQuote>\r\n\t\t\t</Figure>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default PullQuoteEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport { create, join, toHTMLString } from '@wordpress/rich-text';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) => {\r\n\t\t\t\treturn createBlock( 'core/pullquote', {\r\n\t\t\t\t\tvalue: toHTMLString( {\r\n\t\t\t\t\t\tvalue: join(\r\n\t\t\t\t\t\t\tattributes.map( ( { content } ) =>\r\n\t\t\t\t\t\t\t\tcreate( { html: content } )\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t'\\n'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t} ),\r\n\t\t\t\t\tanchor: attributes.anchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/heading' ],\r\n\t\t\ttransform: ( { content, anchor } ) => {\r\n\t\t\t\treturn createBlock( 'core/pullquote', {\r\n\t\t\t\t\tvalue: content,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( { value, citation } ) => {\r\n\t\t\t\tconst paragraphs = [];\r\n\t\t\t\tif ( value ) {\r\n\t\t\t\t\tparagraphs.push(\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: value,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( citation ) {\r\n\t\t\t\t\tparagraphs.push(\r\n\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t\t} )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tif ( paragraphs.length === 0 ) {\r\n\t\t\t\t\treturn createBlock( 'core/paragraph', {\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\treturn paragraphs;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/heading' ],\r\n\t\t\ttransform: ( { value, citation } ) => {\r\n\t\t\t\t// If there is no pullquote content, use the citation as the\r\n\t\t\t\t// content of the resulting heading. A nonexistent citation\r\n\t\t\t\t// will result in an empty heading.\r\n\t\t\t\tif ( ! value ) {\r\n\t\t\t\t\treturn createBlock( 'core/heading', {\r\n\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\tconst headingBlock = createBlock( 'core/heading', {\r\n\t\t\t\t\tcontent: value,\r\n\t\t\t\t} );\r\n\t\t\t\tif ( ! citation ) {\r\n\t\t\t\t\treturn headingBlock;\r\n\t\t\t\t}\r\n\t\t\t\treturn [\r\n\t\t\t\t\theadingBlock,\r\n\t\t\t\t\tcreateBlock( 'core/heading', {\r\n\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t} ),\r\n\t\t\t\t];\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { pullquote as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tvalue:\r\n\t\t\t\t// translators: Quote serving as example for the Pullquote block. Attributed to Matt Mullenweg.\r\n\t\t\t\t__(\r\n\t\t\t\t\t'One of the hardest things to do in technology is disrupt yourself.'\r\n\t\t\t\t),\r\n\t\t\tcitation: __( 'Matt Mullenweg' ),\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","export const Figure = 'figure';\r\n","export const BlockQuote = 'blockquote';\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { textAlign, citation, value } = attributes;\r\n\tconst shouldShowCitation = ! RichText.isEmpty( citation );\r\n\r\n\treturn (\r\n\t\t<figure\r\n\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\tclassName: classnames( {\r\n\t\t\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t\t\t} ),\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t<blockquote>\r\n\t\t\t\t<RichText.Content tagName=\"p\" value={ value } />\r\n\t\t\t\t{ shouldShowCitation && (\r\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\r\n\t\t\t\t) }\r\n\t\t\t</blockquote>\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst loop = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default loop;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst settings = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z\" />\r\n\t\t<Path d=\"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default settings;\r\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { cloneBlock, store as blocksStore } from '@wordpress/blocks';\n\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\n\n/**\n * @typedef IHasNameAndId\n * @property {string|number} id   The entity's id.\n * @property {string}        name The entity's name.\n */\n\n/**\n * The object used in Query block that contains info and helper mappings\n * from an array of IHasNameAndId objects.\n *\n * @typedef {Object} QueryEntitiesInfo\n * @property {IHasNameAndId[]}               entities  The array of entities.\n * @property {Object<string, IHasNameAndId>} mapById   Object mapping with the id as key and the entity as value.\n * @property {Object<string, IHasNameAndId>} mapByName Object mapping with the name as key and the entity as value.\n * @property {string[]}                      names     Array with the entities' names.\n */\n\n/**\n * Returns a helper object with mapping from Objects that implement\n * the `IHasNameAndId` interface. The returned object is used for\n * integration with `FormTokenField` component.\n *\n * @param {IHasNameAndId[]} entities The entities to extract of helper object.\n * @return {QueryEntitiesInfo} The object with the entities information.\n */\nexport const getEntitiesInfo = ( entities ) => {\n\tconst mapping = entities?.reduce(\n\t\t( accumulator, entity ) => {\n\t\t\tconst { mapById, mapByName, names } = accumulator;\n\t\t\tmapById[ entity.id ] = entity;\n\t\t\tmapByName[ entity.name ] = entity;\n\t\t\tnames.push( entity.name );\n\t\t\treturn accumulator;\n\t\t},\n\t\t{ mapById: {}, mapByName: {}, names: [] }\n\t);\n\treturn {\n\t\tentities,\n\t\t...mapping,\n\t};\n};\n\n/**\n * Helper util to return a value from a certain path of the object.\n * Path is specified as a string of properties, separated by dots,\n * for example: \"parent.child\".\n *\n * @param {Object} object Input object.\n * @param {string} path   Path to the object property.\n * @return {*} Value of the object property at the specified path.\n */\nexport const getValueFromObjectPath = ( object, path ) => {\n\tconst normalizedPath = path.split( '.' );\n\tlet value = object;\n\tnormalizedPath.forEach( ( fieldName ) => {\n\t\tvalue = value?.[ fieldName ];\n\t} );\n\treturn value;\n};\n\n/**\n * Helper util to map records to add a `name` prop from a\n * provided path, in order to handle all entities in the same\n * fashion(implementing`IHasNameAndId` interface).\n *\n * @param {Object[]} entities The array of entities.\n * @param {string}   path     The path to map a `name` property from the entity.\n * @return {IHasNameAndId[]} An array of enitities that now implement the `IHasNameAndId` interface.\n */\nexport const mapToIHasNameAndId = ( entities, path ) => {\n\treturn ( entities || [] ).map( ( entity ) => ( {\n\t\t...entity,\n\t\tname: decodeEntities( getValueFromObjectPath( entity, path ) ),\n\t} ) );\n};\n\n/**\n * Returns a helper object that contains:\n * 1. An `options` object from the available post types, to be passed to a `SelectControl`.\n * 2. A helper map with available taxonomies per post type.\n *\n * @return {Object} The helper object related to post types.\n */\nexport const usePostTypes = () => {\n\tconst postTypes = useSelect( ( select ) => {\n\t\tconst { getPostTypes } = select( coreStore );\n\t\tconst excludedPostTypes = [ 'attachment' ];\n\t\tconst filteredPostTypes = getPostTypes( { per_page: -1 } )?.filter(\n\t\t\t( { viewable, slug } ) =>\n\t\t\t\tviewable && ! excludedPostTypes.includes( slug )\n\t\t);\n\t\treturn filteredPostTypes;\n\t}, [] );\n\tconst postTypesTaxonomiesMap = useMemo( () => {\n\t\tif ( ! postTypes?.length ) return;\n\t\treturn postTypes.reduce( ( accumulator, type ) => {\n\t\t\taccumulator[ type.slug ] = type.taxonomies;\n\t\t\treturn accumulator;\n\t\t}, {} );\n\t}, [ postTypes ] );\n\tconst postTypesSelectOptions = useMemo(\n\t\t() =>\n\t\t\t( postTypes || [] ).map( ( { labels, slug } ) => ( {\n\t\t\t\tlabel: labels.singular_name,\n\t\t\t\tvalue: slug,\n\t\t\t} ) ),\n\t\t[ postTypes ]\n\t);\n\treturn { postTypesTaxonomiesMap, postTypesSelectOptions };\n};\n\n/**\n * Hook that returns the taxonomies associated with a specific post type.\n *\n * @param {string} postType The post type from which to retrieve the associated taxonomies.\n * @return {Object[]} An array of the associated taxonomies.\n */\nexport const useTaxonomies = ( postType ) => {\n\tconst taxonomies = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getTaxonomies } = select( coreStore );\n\t\t\treturn getTaxonomies( {\n\t\t\t\ttype: postType,\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t},\n\t\t[ postType ]\n\t);\n\treturn useMemo( () => {\n\t\treturn taxonomies?.filter(\n\t\t\t( { visibility } ) => !! visibility?.publicly_queryable\n\t\t);\n\t}, [ taxonomies ] );\n};\n\n/**\n * Hook that returns whether a specific post type is hierarchical.\n *\n * @param {string} postType The post type to check.\n * @return {boolean} Whether a specific post type is hierarchical.\n */\nexport function useIsPostTypeHierarchical( postType ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst type = select( coreStore ).getPostType( postType );\n\t\t\treturn type?.viewable && type?.hierarchical;\n\t\t},\n\t\t[ postType ]\n\t);\n}\n\n/**\n * Hook that returns the query properties' names defined by the active\n * block variation, to determine which block's filters to show.\n *\n * @param {Object} attributes Block attributes.\n * @return {string[]} An array of the query attributes.\n */\nexport function useAllowedControls( attributes ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( blocksStore ).getActiveBlockVariation(\n\t\t\t\t'core/query',\n\t\t\t\tattributes\n\t\t\t)?.allowedControls,\n\n\t\t[ attributes ]\n\t);\n}\nexport function isControlAllowed( allowedControls, key ) {\n\t// Every controls is allowed if the list is not defined.\n\tif ( ! allowedControls ) {\n\t\treturn true;\n\t}\n\treturn allowedControls.includes( key );\n}\n\n/**\n * Clones a pattern's blocks and then recurses over that list of blocks,\n * transforming them to retain some `query` attribute properties.\n * For now we retain the `postType` and `inherit` properties as they are\n * fundamental for the expected functionality of the block and don't affect\n * its design and presentation.\n *\n * Returns the cloned/transformed blocks and array of existing Query Loop\n * client ids for further manipulation, in order to avoid multiple recursions.\n *\n * @param {WPBlock[]}        blocks               The list of blocks to look through and transform(mutate).\n * @param {Record<string,*>} queryBlockAttributes The existing Query Loop's attributes.\n * @return {{ newBlocks: WPBlock[], queryClientIds: string[] }} An object with the cloned/transformed blocks and all the Query Loop clients from these blocks.\n */\nexport const getTransformedBlocksFromPattern = (\n\tblocks,\n\tqueryBlockAttributes\n) => {\n\tconst {\n\t\tquery: { postType, inherit },\n\t} = queryBlockAttributes;\n\tconst clonedBlocks = blocks.map( ( block ) => cloneBlock( block ) );\n\tconst queryClientIds = [];\n\tconst blocksQueue = [ ...clonedBlocks ];\n\twhile ( blocksQueue.length > 0 ) {\n\t\tconst block = blocksQueue.shift();\n\t\tif ( block.name === 'core/query' ) {\n\t\t\tblock.attributes.query = {\n\t\t\t\t...block.attributes.query,\n\t\t\t\tpostType,\n\t\t\t\tinherit,\n\t\t\t};\n\t\t\tqueryClientIds.push( block.clientId );\n\t\t}\n\t\tblock.innerBlocks?.forEach( ( innerBlock ) => {\n\t\t\tblocksQueue.push( innerBlock );\n\t\t} );\n\t}\n\treturn { newBlocks: clonedBlocks, queryClientIds };\n};\n\n/**\n * Helper hook that determines if there is an active variation of the block\n * and if there are available specific patterns for this variation.\n * If there are, these patterns are going to be the only ones suggested to\n * the user in setup and replace flow, without including the default ones\n * for Query Loop.\n *\n * If there are no such patterns, the default ones for Query Loop are going\n * to be suggested.\n *\n * @param {string} clientId   The block's client ID.\n * @param {Object} attributes The block's attributes.\n * @return {string} The block name to be used in the patterns suggestions.\n */\nexport function useBlockNameForPatterns( clientId, attributes ) {\n\tconst activeVariationName = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blocksStore ).getActiveBlockVariation(\n\t\t\t\t'core/query',\n\t\t\t\tattributes\n\t\t\t)?.name,\n\t\t[ attributes ]\n\t);\n\tconst blockName = `core/query/${ activeVariationName }`;\n\tconst hasActiveVariationPatterns = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! activeVariationName ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst { getBlockRootClientId, getPatternsByBlockTypes } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\tconst activePatterns = getPatternsByBlockTypes(\n\t\t\t\tblockName,\n\t\t\t\trootClientId\n\t\t\t);\n\t\t\treturn activePatterns.length > 0;\n\t\t},\n\t\t[ clientId, activeVariationName, blockName ]\n\t);\n\treturn hasActiveVariationPatterns ? blockName : 'core/query';\n}\n\n/**\n * Helper hook that determines if there is an active variation of the block\n * and if there are available specific scoped `block` variations connected with\n * this variation.\n *\n * If there are, these variations are going to be the only ones suggested\n * to the user in setup flow when clicking to `start blank`, without including\n * the default ones for Query Loop.\n *\n * If there are no such scoped `block` variations, the default ones for Query\n * Loop are going to be suggested.\n *\n * The way we determine such variations is with the convention that they have the `namespace`\n * attribute defined as an array. This array should contain the names(`name` property) of any\n * variations they want to be connected to.\n * For example, if we have a `Query Loop` scoped `inserter` variation with the name `products`,\n * we can connect a scoped `block` variation by setting its `namespace` attribute to `['products']`.\n * If the user selects this variation, the `namespace` attribute will be overridden by the\n * main `inserter` variation.\n *\n * @param {Object} attributes The block's attributes.\n * @return {WPBlockVariation[]} The block variations to be suggested in setup flow, when clicking to `start blank`.\n */\nexport function useScopedBlockVariations( attributes ) {\n\tconst { activeVariationName, blockVariations } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getActiveBlockVariation, getBlockVariations } =\n\t\t\t\tselect( blocksStore );\n\t\t\treturn {\n\t\t\t\tactiveVariationName: getActiveBlockVariation(\n\t\t\t\t\t'core/query',\n\t\t\t\t\tattributes\n\t\t\t\t)?.name,\n\t\t\t\tblockVariations: getBlockVariations( 'core/query', 'block' ),\n\t\t\t};\n\t\t},\n\t\t[ attributes ]\n\t);\n\tconst variations = useMemo( () => {\n\t\t// Filter out the variations that have defined a `namespace` attribute,\n\t\t// which means they are 'connected' to specific variations of the block.\n\t\tconst isNotConnected = ( variation ) =>\n\t\t\t! variation.attributes?.namespace;\n\t\tif ( ! activeVariationName ) {\n\t\t\treturn blockVariations.filter( isNotConnected );\n\t\t}\n\t\tconst connectedVariations = blockVariations.filter( ( variation ) =>\n\t\t\tvariation.attributes?.namespace?.includes( activeVariationName )\n\t\t);\n\t\tif ( !! connectedVariations.length ) {\n\t\t\treturn connectedVariations;\n\t\t}\n\t\treturn blockVariations.filter( isNotConnected );\n\t}, [ activeVariationName, blockVariations ] );\n\treturn variations;\n}\n\n/**\n * Hook that returns the block patterns for a specific block type.\n *\n * @param {string} clientId The block's client ID.\n * @param {string} name     The block type name.\n * @return {Object[]} An array of valid block patterns.\n */\nexport const usePatterns = ( clientId, name ) => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId, getPatternsByBlockTypes } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\treturn getPatternsByBlockTypes( name, rootClientId );\n\t\t},\n\t\t[ name, clientId ]\n\t);\n};\n\n/**\n * The object returned by useUnsupportedBlocks with info about the type of\n * unsupported blocks present inside the Query block.\n *\n * @typedef  {Object}  UnsupportedBlocksInfo\n * @property {boolean} hasBlocksFromPlugins True if blocks from plugins are present.\n * @property {boolean} hasPostContentBlock  True if a 'core/post-content' block is present.\n * @property {boolean} hasUnsupportedBlocks True if there are any unsupported blocks.\n */\n\n/**\n * Hook that returns an object with information about the unsupported blocks\n * present inside a Query Loop with the given `clientId`. The returned object\n * contains props that are true when a certain type of unsupported block is\n * present.\n *\n * @param {string} clientId The block's client ID.\n * @return {UnsupportedBlocksInfo} The object containing the information.\n */\nexport const useUnsupportedBlocks = ( clientId ) => {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getClientIdsOfDescendants, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst blocks = {};\n\t\t\tgetClientIdsOfDescendants( clientId ).forEach(\n\t\t\t\t( descendantClientId ) => {\n\t\t\t\t\tconst blockName = getBlockName( descendantClientId );\n\t\t\t\t\tif ( ! blockName.startsWith( 'core/' ) ) {\n\t\t\t\t\t\tblocks.hasBlocksFromPlugins = true;\n\t\t\t\t\t} else if ( blockName === 'core/post-content' ) {\n\t\t\t\t\t\tblocks.hasPostContentBlock = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tblocks.hasUnsupportedBlocks =\n\t\t\t\tblocks.hasBlocksFromPlugins || blocks.hasPostContentBlock;\n\t\t\treturn blocks;\n\t\t},\n\t\t[ clientId ]\n\t);\n};\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tToolbarGroup,\r\n\tDropdown,\r\n\tToolbarButton,\r\n\tBaseControl,\r\n\t__experimentalNumberControl as NumberControl,\r\n} from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { settings } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { usePatterns } from '../utils';\r\n\r\nexport default function QueryToolbar( {\r\n\tattributes: { query },\r\n\tsetQuery,\r\n\topenPatternSelectionModal,\r\n\tname,\r\n\tclientId,\r\n} ) {\r\n\tconst hasPatterns = !! usePatterns( clientId, name ).length;\r\n\tconst maxPageInputId = useInstanceId(\r\n\t\tQueryToolbar,\r\n\t\t'blocks-query-pagination-max-page-input'\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ ! query.inherit && (\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tcontentClassName=\"block-library-query-toolbar__popover\"\r\n\t\t\t\t\t\trenderToggle={ ( { onToggle } ) => (\r\n\t\t\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\t\t\ticon={ settings }\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Display settings' ) }\r\n\t\t\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\trenderContent={ () => (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<BaseControl>\r\n\t\t\t\t\t\t\t\t\t<NumberControl\r\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"60px\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Items per Page' ) }\r\n\t\t\t\t\t\t\t\t\t\tlabelPosition=\"edge\"\r\n\t\t\t\t\t\t\t\t\t\tmin={ 1 }\r\n\t\t\t\t\t\t\t\t\t\tmax={ 100 }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNaN( value ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue < 1 ||\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue > 100\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tsetQuery( {\r\n\t\t\t\t\t\t\t\t\t\t\t\tperPage: value,\r\n\t\t\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ query.perPage }\r\n\t\t\t\t\t\t\t\t\t\tisDragEnabled={ false }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</BaseControl>\r\n\t\t\t\t\t\t\t\t<BaseControl>\r\n\t\t\t\t\t\t\t\t\t<NumberControl\r\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"60px\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Offset' ) }\r\n\t\t\t\t\t\t\t\t\t\tlabelPosition=\"edge\"\r\n\t\t\t\t\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\t\t\t\t\tmax={ 100 }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tisNaN( value ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue < 0 ||\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue > 100\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tsetQuery( { offset: value } );\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ query.offset }\r\n\t\t\t\t\t\t\t\t\t\tisDragEnabled={ false }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</BaseControl>\r\n\t\t\t\t\t\t\t\t<BaseControl\r\n\t\t\t\t\t\t\t\t\tid={ maxPageInputId }\r\n\t\t\t\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t\t\t\t'Limit the pages you want to show, even if the query has more results. To show all pages use 0 (zero).'\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<NumberControl\r\n\t\t\t\t\t\t\t\t\t\tid={ maxPageInputId }\r\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"60px\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Max page to show' ) }\r\n\t\t\t\t\t\t\t\t\t\tlabelPosition=\"edge\"\r\n\t\t\t\t\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif ( isNaN( value ) || value < 0 ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tsetQuery( { pages: value } );\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={ query.pages }\r\n\t\t\t\t\t\t\t\t\t\tisDragEnabled={ false }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</BaseControl>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t) }\r\n\t\t\t{ hasPatterns && (\r\n\t\t\t\t<ToolbarGroup className=\"wp-block-template-part__block-control-group\">\r\n\t\t\t\t\t<ToolbarButton onClick={ openPatternSelectionModal }>\r\n\t\t\t\t\t\t{ __( 'Replace' ) }\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst orderOptions = [\r\n\t{\r\n\t\tlabel: __( 'Newest to oldest' ),\r\n\t\tvalue: 'date/desc',\r\n\t},\r\n\t{\r\n\t\tlabel: __( 'Oldest to newest' ),\r\n\t\tvalue: 'date/asc',\r\n\t},\r\n\t{\r\n\t\t/* translators: label for ordering posts by title in ascending order */\r\n\t\tlabel: __( 'A → Z' ),\r\n\t\tvalue: 'title/asc',\r\n\t},\r\n\t{\r\n\t\t/* translators: label for ordering posts by title in descending order */\r\n\t\tlabel: __( 'Z → A' ),\r\n\t\tvalue: 'title/desc',\r\n\t},\r\n];\r\nfunction OrderControl( { order, orderBy, onChange } ) {\r\n\treturn (\r\n\t\t<SelectControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Order by' ) }\r\n\t\t\tvalue={ `${ orderBy }/${ order }` }\r\n\t\t\toptions={ orderOptions }\r\n\t\t\tonChange={ ( value ) => {\r\n\t\t\t\tconst [ newOrderBy, newOrder ] = value.split( '/' );\r\n\t\t\t\tonChange( { order: newOrder, orderBy: newOrderBy } );\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default OrderControl;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { FormTokenField } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getEntitiesInfo } from '../../utils';\r\n\r\nconst AUTHORS_QUERY = {\r\n\twho: 'authors',\r\n\tper_page: -1,\r\n\t_fields: 'id,name',\r\n\tcontext: 'view',\r\n};\r\n\r\nfunction AuthorControl( { value, onChange } ) {\r\n\tconst authorsList = useSelect( ( select ) => {\r\n\t\tconst { getUsers } = select( coreStore );\r\n\t\treturn getUsers( AUTHORS_QUERY );\r\n\t}, [] );\r\n\r\n\tif ( ! authorsList ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst authorsInfo = getEntitiesInfo( authorsList );\r\n\t/**\r\n\t * We need to normalize the value because the block operates on a\r\n\t * comma(`,`) separated string value and `FormTokenFiels` needs an\r\n\t * array.\r\n\t */\r\n\tconst normalizedValue = ! value ? [] : value.toString().split( ',' );\r\n\t// Returns only the existing authors ids. This prevents the component\r\n\t// from crashing in the editor, when non existing ids are provided.\r\n\tconst sanitizedValue = normalizedValue.reduce(\r\n\t\t( accumulator, authorId ) => {\r\n\t\t\tconst author = authorsInfo.mapById[ authorId ];\r\n\t\t\tif ( author ) {\r\n\t\t\t\taccumulator.push( {\r\n\t\t\t\t\tid: authorId,\r\n\t\t\t\t\tvalue: author.name,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst getIdByValue = ( entitiesMappedByName, authorValue ) => {\r\n\t\tconst id = authorValue?.id || entitiesMappedByName[ authorValue ]?.id;\r\n\t\tif ( id ) return id;\r\n\t};\r\n\tconst onAuthorChange = ( newValue ) => {\r\n\t\tconst ids = Array.from(\r\n\t\t\tnewValue.reduce( ( accumulator, author ) => {\r\n\t\t\t\t// Verify that new values point to existing entities.\r\n\t\t\t\tconst id = getIdByValue( authorsInfo.mapByName, author );\r\n\t\t\t\tif ( id ) accumulator.add( id );\r\n\t\t\t\treturn accumulator;\r\n\t\t\t}, new Set() )\r\n\t\t);\r\n\t\tonChange( { author: ids.join( ',' ) } );\r\n\t};\r\n\treturn (\r\n\t\t<FormTokenField\r\n\t\t\tlabel={ __( 'Authors' ) }\r\n\t\t\tvalue={ sanitizedValue }\r\n\t\t\tsuggestions={ authorsInfo.names }\r\n\t\t\tonChange={ onAuthorChange }\r\n\t\t\t__experimentalShowHowTo={ false }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default AuthorControl;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { FormTokenField } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState, useEffect, useMemo } from '@wordpress/element';\r\nimport { useDebounce } from '@wordpress/compose';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { getEntitiesInfo, mapToIHasNameAndId } from '../../utils';\r\n\r\nconst EMPTY_ARRAY = [];\r\nconst BASE_QUERY = {\r\n\torder: 'asc',\r\n\t_fields: 'id,title',\r\n\tcontext: 'view',\r\n};\r\n\r\nfunction ParentControl( { parents, postType, onChange } ) {\r\n\tconst [ search, setSearch ] = useState( '' );\r\n\tconst [ value, setValue ] = useState( EMPTY_ARRAY );\r\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\r\n\tconst debouncedSearch = useDebounce( setSearch, 250 );\r\n\tconst { searchResults, searchHasResolved } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! search ) {\r\n\t\t\t\treturn { searchResults: EMPTY_ARRAY, searchHasResolved: true };\r\n\t\t\t}\r\n\t\t\tconst { getEntityRecords, hasFinishedResolution } =\r\n\t\t\t\tselect( coreStore );\r\n\t\t\tconst selectorArgs = [\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\t{\r\n\t\t\t\t\t...BASE_QUERY,\r\n\t\t\t\t\tsearch,\r\n\t\t\t\t\torderby: 'relevance',\r\n\t\t\t\t\texclude: parents,\r\n\t\t\t\t\tper_page: 20,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\treturn {\r\n\t\t\t\tsearchResults: getEntityRecords( ...selectorArgs ),\r\n\t\t\t\tsearchHasResolved: hasFinishedResolution(\r\n\t\t\t\t\t'getEntityRecords',\r\n\t\t\t\t\tselectorArgs\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ search, parents ]\r\n\t);\r\n\tconst currentParents = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! parents?.length ) return EMPTY_ARRAY;\r\n\t\t\tconst { getEntityRecords } = select( coreStore );\r\n\t\t\treturn getEntityRecords( 'postType', postType, {\r\n\t\t\t\t...BASE_QUERY,\r\n\t\t\t\tinclude: parents,\r\n\t\t\t\tper_page: parents.length,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ parents ]\r\n\t);\r\n\t// Update the `value` state only after the selectors are resolved\r\n\t// to avoid emptying the input when we're changing parents.\r\n\tuseEffect( () => {\r\n\t\tif ( ! parents?.length ) {\r\n\t\t\tsetValue( EMPTY_ARRAY );\r\n\t\t}\r\n\t\tif ( ! currentParents?.length ) return;\r\n\t\tconst currentParentsInfo = getEntitiesInfo(\r\n\t\t\tmapToIHasNameAndId( currentParents, 'title.rendered' )\r\n\t\t);\r\n\t\t// Returns only the existing entity ids. This prevents the component\r\n\t\t// from crashing in the editor, when non existing ids are provided.\r\n\t\tconst sanitizedValue = parents.reduce( ( accumulator, id ) => {\r\n\t\t\tconst entity = currentParentsInfo.mapById[ id ];\r\n\t\t\tif ( entity ) {\r\n\t\t\t\taccumulator.push( {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tvalue: entity.name,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t}, [] );\r\n\t\tsetValue( sanitizedValue );\r\n\t}, [ parents, currentParents ] );\r\n\r\n\tconst entitiesInfo = useMemo( () => {\r\n\t\tif ( ! searchResults?.length ) return EMPTY_ARRAY;\r\n\t\treturn getEntitiesInfo(\r\n\t\t\tmapToIHasNameAndId( searchResults, 'title.rendered' )\r\n\t\t);\r\n\t}, [ searchResults ] );\r\n\t// Update suggestions only when the query has resolved.\r\n\tuseEffect( () => {\r\n\t\tif ( ! searchHasResolved ) return;\r\n\t\tsetSuggestions( entitiesInfo.names );\r\n\t}, [ entitiesInfo.names, searchHasResolved ] );\r\n\r\n\tconst getIdByValue = ( entitiesMappedByName, entity ) => {\r\n\t\tconst id = entity?.id || entitiesMappedByName?.[ entity ]?.id;\r\n\t\tif ( id ) return id;\r\n\t};\r\n\tconst onParentChange = ( newValue ) => {\r\n\t\tconst ids = Array.from(\r\n\t\t\tnewValue.reduce( ( accumulator, entity ) => {\r\n\t\t\t\t// Verify that new values point to existing entities.\r\n\t\t\t\tconst id = getIdByValue( entitiesInfo.mapByName, entity );\r\n\t\t\t\tif ( id ) accumulator.add( id );\r\n\t\t\t\treturn accumulator;\r\n\t\t\t}, new Set() )\r\n\t\t);\r\n\t\tsetSuggestions( EMPTY_ARRAY );\r\n\t\tonChange( { parents: ids } );\r\n\t};\r\n\treturn (\r\n\t\t<FormTokenField\r\n\t\t\tlabel={ __( 'Parents' ) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonInputChange={ debouncedSearch }\r\n\t\t\tsuggestions={ suggestions }\r\n\t\t\tonChange={ onParentChange }\r\n\t\t\t__experimentalShowHowTo={ false }\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default ParentControl;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { FormTokenField } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport { useDebounce } from '@wordpress/compose';\r\nimport { decodeEntities } from '@wordpress/html-entities';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useTaxonomies } from '../../utils';\r\n\r\nconst EMPTY_ARRAY = [];\r\nconst BASE_QUERY = {\r\n\torder: 'asc',\r\n\t_fields: 'id,name',\r\n\tcontext: 'view',\r\n};\r\n\r\n// Helper function to get the term id based on user input in terms `FormTokenField`.\r\nconst getTermIdByTermValue = ( terms, termValue ) => {\r\n\t// First we check for exact match by `term.id` or case sensitive `term.name` match.\r\n\tconst termId =\r\n\t\ttermValue?.id || terms?.find( ( term ) => term.name === termValue )?.id;\r\n\tif ( termId ) {\r\n\t\treturn termId;\r\n\t}\r\n\r\n\t/**\r\n\t * Here we make an extra check for entered terms in a non case sensitive way,\r\n\t * to match user expectations, due to `FormTokenField` behaviour that shows\r\n\t * suggestions which are case insensitive.\r\n\t *\r\n\t * Although WP tries to discourage users to add terms with the same name (case insensitive),\r\n\t * it's still possible if you manually change the name, as long as the terms have different slugs.\r\n\t * In this edge case we always apply the first match from the terms list.\r\n\t */\r\n\tconst termValueLower = termValue.toLocaleLowerCase();\r\n\treturn terms?.find(\r\n\t\t( term ) => term.name.toLocaleLowerCase() === termValueLower\r\n\t)?.id;\r\n};\r\n\r\nexport function TaxonomyControls( { onChange, query } ) {\r\n\tconst { postType, taxQuery } = query;\r\n\r\n\tconst taxonomies = useTaxonomies( postType );\r\n\tif ( ! taxonomies || taxonomies.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ taxonomies.map( ( taxonomy ) => {\r\n\t\t\t\tconst termIds = taxQuery?.[ taxonomy.slug ] || [];\r\n\t\t\t\tconst handleChange = ( newTermIds ) =>\r\n\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\ttaxQuery: {\r\n\t\t\t\t\t\t\t...taxQuery,\r\n\t\t\t\t\t\t\t[ taxonomy.slug ]: newTermIds,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<TaxonomyItem\r\n\t\t\t\t\t\tkey={ taxonomy.slug }\r\n\t\t\t\t\t\ttaxonomy={ taxonomy }\r\n\t\t\t\t\t\ttermIds={ termIds }\r\n\t\t\t\t\t\tonChange={ handleChange }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n/**\r\n * Renders a `FormTokenField` for a given taxonomy.\r\n *\r\n * @param {Object}   props          The props for the component.\r\n * @param {Object}   props.taxonomy The taxonomy object.\r\n * @param {number[]} props.termIds  An array with the block's term ids for the given taxonomy.\r\n * @param {Function} props.onChange Callback `onChange` function.\r\n * @return {JSX.Element} The rendered component.\r\n */\r\nfunction TaxonomyItem( { taxonomy, termIds, onChange } ) {\r\n\tconst [ search, setSearch ] = useState( '' );\r\n\tconst [ value, setValue ] = useState( EMPTY_ARRAY );\r\n\tconst [ suggestions, setSuggestions ] = useState( EMPTY_ARRAY );\r\n\tconst debouncedSearch = useDebounce( setSearch, 250 );\r\n\tconst { searchResults, searchHasResolved } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! search ) {\r\n\t\t\t\treturn { searchResults: EMPTY_ARRAY, searchHasResolved: true };\r\n\t\t\t}\r\n\t\t\tconst { getEntityRecords, hasFinishedResolution } =\r\n\t\t\t\tselect( coreStore );\r\n\t\t\tconst selectorArgs = [\r\n\t\t\t\t'taxonomy',\r\n\t\t\t\ttaxonomy.slug,\r\n\t\t\t\t{\r\n\t\t\t\t\t...BASE_QUERY,\r\n\t\t\t\t\tsearch,\r\n\t\t\t\t\torderby: 'name',\r\n\t\t\t\t\texclude: termIds,\r\n\t\t\t\t\tper_page: 20,\r\n\t\t\t\t},\r\n\t\t\t];\r\n\t\t\treturn {\r\n\t\t\t\tsearchResults: getEntityRecords( ...selectorArgs ),\r\n\t\t\t\tsearchHasResolved: hasFinishedResolution(\r\n\t\t\t\t\t'getEntityRecords',\r\n\t\t\t\t\tselectorArgs\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ search, termIds ]\r\n\t);\r\n\t// `existingTerms` are the ones fetched from the API and their type is `{ id: number; name: string }`.\r\n\t// They are used to extract the terms' names to populate the `FormTokenField` properly\r\n\t// and to sanitize the provided `termIds`, by setting only the ones that exist.\r\n\tconst existingTerms = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tif ( ! termIds?.length ) return EMPTY_ARRAY;\r\n\t\t\tconst { getEntityRecords } = select( coreStore );\r\n\t\t\treturn getEntityRecords( 'taxonomy', taxonomy.slug, {\r\n\t\t\t\t...BASE_QUERY,\r\n\t\t\t\tinclude: termIds,\r\n\t\t\t\tper_page: termIds.length,\r\n\t\t\t} );\r\n\t\t},\r\n\t\t[ termIds ]\r\n\t);\r\n\t// Update the `value` state only after the selectors are resolved\r\n\t// to avoid emptying the input when we're changing terms.\r\n\tuseEffect( () => {\r\n\t\tif ( ! termIds?.length ) {\r\n\t\t\tsetValue( EMPTY_ARRAY );\r\n\t\t}\r\n\t\tif ( ! existingTerms?.length ) return;\r\n\t\t// Returns only the existing entity ids. This prevents the component\r\n\t\t// from crashing in the editor, when non existing ids are provided.\r\n\t\tconst sanitizedValue = termIds.reduce( ( accumulator, id ) => {\r\n\t\t\tconst entity = existingTerms.find( ( term ) => term.id === id );\r\n\t\t\tif ( entity ) {\r\n\t\t\t\taccumulator.push( {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tvalue: entity.name,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t}, [] );\r\n\t\tsetValue( sanitizedValue );\r\n\t}, [ termIds, existingTerms ] );\r\n\t// Update suggestions only when the query has resolved.\r\n\tuseEffect( () => {\r\n\t\tif ( ! searchHasResolved ) return;\r\n\t\tsetSuggestions( searchResults.map( ( result ) => result.name ) );\r\n\t}, [ searchResults, searchHasResolved ] );\r\n\tconst onTermsChange = ( newTermValues ) => {\r\n\t\tconst newTermIds = new Set();\r\n\t\tfor ( const termValue of newTermValues ) {\r\n\t\t\tconst termId = getTermIdByTermValue( searchResults, termValue );\r\n\t\t\tif ( termId ) {\r\n\t\t\t\tnewTermIds.add( termId );\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetSuggestions( EMPTY_ARRAY );\r\n\t\tonChange( Array.from( newTermIds ) );\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"block-library-query-inspector__taxonomy-control\">\r\n\t\t\t<FormTokenField\r\n\t\t\t\tlabel={ taxonomy.name }\r\n\t\t\t\tvalue={ value }\r\n\t\t\t\tonInputChange={ debouncedSearch }\r\n\t\t\t\tsuggestions={ suggestions }\r\n\t\t\t\tdisplayTransform={ decodeEntities }\r\n\t\t\t\tonChange={ onTermsChange }\r\n\t\t\t\t__experimentalShowHowTo={ false }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst stickyOptions = [\r\n\t{ label: __( 'Include' ), value: '' },\r\n\t{ label: __( 'Exclude' ), value: 'exclude' },\r\n\t{ label: __( 'Only' ), value: 'only' },\r\n];\r\n\r\nexport default function StickyControl( { value, onChange } ) {\r\n\treturn (\r\n\t\t<SelectControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Sticky posts' ) }\r\n\t\t\toptions={ stickyOptions }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'Blog posts can be “stickied”, a feature that places them at the top of the front page of posts, keeping it there until new sticky posts are published.'\r\n\t\t\t) }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { ToggleControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useUnsupportedBlocks } from '../../utils';\r\n\r\nexport default function EnhancedPaginationControl( {\r\n\tenhancedPagination,\r\n\tsetAttributes,\r\n\tclientId,\r\n} ) {\r\n\tconst { hasUnsupportedBlocks } = useUnsupportedBlocks( clientId );\r\n\r\n\tlet help = __( 'Browsing between pages requires a full page reload.' );\r\n\tif ( enhancedPagination ) {\r\n\t\thelp = __(\r\n\t\t\t\"Browsing between pages won't require a full page reload, unless non-compatible blocks are detected.\"\r\n\t\t);\r\n\t} else if ( hasUnsupportedBlocks ) {\r\n\t\thelp = __(\r\n\t\t\t\"Force page reload can't be disabled because there are non-compatible blocks inside the Query block.\"\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ToggleControl\r\n\t\t\t\tlabel={ __( 'Force page reload' ) }\r\n\t\t\t\thelp={ help }\r\n\t\t\t\tchecked={ ! enhancedPagination }\r\n\t\t\t\tdisabled={ hasUnsupportedBlocks }\r\n\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\tenhancedPagination: ! value,\r\n\t\t\t\t\t} );\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { createInterpolateElement } from '@wordpress/element';\r\nimport { addQueryArgs } from '@wordpress/url';\r\n\r\nconst CreateNewPostLink = ( {\r\n\tattributes: { query: { postType } = {} } = {},\r\n} ) => {\r\n\tif ( ! postType ) return null;\r\n\tconst newPostUrl = addQueryArgs( 'post-new.php', {\r\n\t\tpost_type: postType,\r\n\t} );\r\n\treturn (\r\n\t\t<div className=\"wp-block-query__create-new-link\">\r\n\t\t\t{ createInterpolateElement(\r\n\t\t\t\t__( '<a>Add new post</a>' ),\r\n\t\t\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content\r\n\t\t\t\t{ a: <a href={ newPostUrl } /> }\r\n\t\t\t) }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CreateNewPostLink;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tPanelBody,\r\n\tTextControl,\r\n\tSelectControl,\r\n\tRangeControl,\r\n\tToggleControl,\r\n\tNotice,\r\n\t__experimentalToolsPanel as ToolsPanel,\r\n\t__experimentalToolsPanelItem as ToolsPanelItem,\r\n} from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\r\nimport { debounce } from '@wordpress/compose';\r\nimport { useEffect, useState, useCallback } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport OrderControl from './order-control';\r\nimport AuthorControl from './author-control';\r\nimport ParentControl from './parent-control';\r\nimport { TaxonomyControls } from './taxonomy-controls';\r\nimport StickyControl from './sticky-control';\r\nimport EnhancedPaginationControl from './enhanced-pagination-control';\r\nimport CreateNewPostLink from './create-new-post-link';\r\nimport { unlock } from '../../../lock-unlock';\r\nimport {\r\n\tusePostTypes,\r\n\tuseIsPostTypeHierarchical,\r\n\tuseAllowedControls,\r\n\tisControlAllowed,\r\n\tuseTaxonomies,\r\n} from '../../utils';\r\nimport { TOOLSPANEL_DROPDOWNMENU_PROPS } from '../../../utils/constants';\r\n\r\nconst { BlockInfo } = unlock( blockEditorPrivateApis );\r\n\r\nexport default function QueryInspectorControls( props ) {\r\n\tconst { attributes, setQuery, setDisplayLayout, setAttributes, clientId } =\r\n\t\tprops;\r\n\tconst { query, displayLayout, enhancedPagination } = attributes;\r\n\tconst {\r\n\t\torder,\r\n\t\torderBy,\r\n\t\tauthor: authorIds,\r\n\t\tpostType,\r\n\t\tsticky,\r\n\t\tinherit,\r\n\t\ttaxQuery,\r\n\t\tparents,\r\n\t} = query;\r\n\tconst allowedControls = useAllowedControls( attributes );\r\n\tconst [ showSticky, setShowSticky ] = useState( postType === 'post' );\r\n\tconst { postTypesTaxonomiesMap, postTypesSelectOptions } = usePostTypes();\r\n\tconst taxonomies = useTaxonomies( postType );\r\n\tconst isPostTypeHierarchical = useIsPostTypeHierarchical( postType );\r\n\tuseEffect( () => {\r\n\t\tsetShowSticky( postType === 'post' );\r\n\t}, [ postType ] );\r\n\tconst onPostTypeChange = ( newValue ) => {\r\n\t\tconst updateQuery = { postType: newValue };\r\n\t\t// We need to dynamically update the `taxQuery` property,\r\n\t\t// by removing any not supported taxonomy from the query.\r\n\t\tconst supportedTaxonomies = postTypesTaxonomiesMap[ newValue ];\r\n\t\tconst updatedTaxQuery = Object.entries( taxQuery || {} ).reduce(\r\n\t\t\t( accumulator, [ taxonomySlug, terms ] ) => {\r\n\t\t\t\tif ( supportedTaxonomies.includes( taxonomySlug ) ) {\r\n\t\t\t\t\taccumulator[ taxonomySlug ] = terms;\r\n\t\t\t\t}\r\n\t\t\t\treturn accumulator;\r\n\t\t\t},\r\n\t\t\t{}\r\n\t\t);\r\n\t\tupdateQuery.taxQuery = !! Object.keys( updatedTaxQuery ).length\r\n\t\t\t? updatedTaxQuery\r\n\t\t\t: undefined;\r\n\r\n\t\tif ( newValue !== 'post' ) {\r\n\t\t\tupdateQuery.sticky = '';\r\n\t\t}\r\n\t\t// We need to reset `parents` because they are tied to each post type.\r\n\t\tupdateQuery.parents = [];\r\n\t\tsetQuery( updateQuery );\r\n\t};\r\n\tconst [ querySearch, setQuerySearch ] = useState( query.search );\r\n\tconst onChangeDebounced = useCallback(\r\n\t\tdebounce( () => {\r\n\t\t\tif ( query.search !== querySearch ) {\r\n\t\t\t\tsetQuery( { search: querySearch } );\r\n\t\t\t}\r\n\t\t}, 250 ),\r\n\t\t[ querySearch, query.search ]\r\n\t);\r\n\tuseEffect( () => {\r\n\t\tonChangeDebounced();\r\n\t\treturn onChangeDebounced.cancel;\r\n\t}, [ querySearch, onChangeDebounced ] );\r\n\tconst showInheritControl = isControlAllowed( allowedControls, 'inherit' );\r\n\tconst showPostTypeControl =\r\n\t\t! inherit && isControlAllowed( allowedControls, 'postType' );\r\n\tconst showColumnsControl = false;\r\n\tconst showOrderControl =\r\n\t\t! inherit && isControlAllowed( allowedControls, 'order' );\r\n\tconst showStickyControl =\r\n\t\t! inherit &&\r\n\t\tshowSticky &&\r\n\t\tisControlAllowed( allowedControls, 'sticky' );\r\n\tconst showSettingsPanel =\r\n\t\tshowInheritControl ||\r\n\t\tshowPostTypeControl ||\r\n\t\tshowColumnsControl ||\r\n\t\tshowOrderControl ||\r\n\t\tshowStickyControl;\r\n\tconst showTaxControl =\r\n\t\t!! taxonomies?.length &&\r\n\t\tisControlAllowed( allowedControls, 'taxQuery' );\r\n\tconst showAuthorControl = isControlAllowed( allowedControls, 'author' );\r\n\tconst showSearchControl = isControlAllowed( allowedControls, 'search' );\r\n\tconst showParentControl =\r\n\t\tisControlAllowed( allowedControls, 'parents' ) &&\r\n\t\tisPostTypeHierarchical;\r\n\r\n\tconst showFiltersPanel =\r\n\t\tshowTaxControl ||\r\n\t\tshowAuthorControl ||\r\n\t\tshowSearchControl ||\r\n\t\tshowParentControl;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockInfo>\r\n\t\t\t\t<CreateNewPostLink { ...props } />\r\n\t\t\t</BlockInfo>\r\n\t\t\t{ showSettingsPanel && (\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t{ showInheritControl && (\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Inherit query from template' ) }\r\n\t\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t\t'Toggle to use the global query context that is set with the current template, such as an archive or search. Disable to customize the settings independently.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\tchecked={ !! inherit }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetQuery( { inherit: !! value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showPostTypeControl && (\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\toptions={ postTypesSelectOptions }\r\n\t\t\t\t\t\t\tvalue={ postType }\r\n\t\t\t\t\t\t\tlabel={ __( 'Post type' ) }\r\n\t\t\t\t\t\t\tonChange={ onPostTypeChange }\r\n\t\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t\t'WordPress contains different types of content and they are divided into collections called “Post types”. By default there are a few different ones such as blog posts and pages, but plugins could add more.'\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showColumnsControl && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\r\n\t\t\t\t\t\t\t\tvalue={ displayLayout.columns }\r\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\t\tsetDisplayLayout( {\r\n\t\t\t\t\t\t\t\t\t\tcolumns: value,\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tmin={ 2 }\r\n\t\t\t\t\t\t\t\tmax={ Math.max( 6, displayLayout.columns ) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{ displayLayout.columns > 6 && (\r\n\t\t\t\t\t\t\t\t<Notice\r\n\t\t\t\t\t\t\t\t\tstatus=\"warning\"\r\n\t\t\t\t\t\t\t\t\tisDismissible={ false }\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{ __(\r\n\t\t\t\t\t\t\t\t\t\t'This column count exceeds the recommended amount and may cause visual breakage.'\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t</Notice>\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showOrderControl && (\r\n\t\t\t\t\t\t<OrderControl\r\n\t\t\t\t\t\t\t{ ...{ order, orderBy } }\r\n\t\t\t\t\t\t\tonChange={ setQuery }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showStickyControl && (\r\n\t\t\t\t\t\t<StickyControl\r\n\t\t\t\t\t\t\tvalue={ sticky }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetQuery( { sticky: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t<EnhancedPaginationControl\r\n\t\t\t\t\t\tenhancedPagination={ enhancedPagination }\r\n\t\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t) }\r\n\t\t\t{ ! inherit && showFiltersPanel && (\r\n\t\t\t\t<ToolsPanel\r\n\t\t\t\t\tclassName=\"block-library-query-toolspanel__filters\"\r\n\t\t\t\t\tlabel={ __( 'Filters' ) }\r\n\t\t\t\t\tresetAll={ () => {\r\n\t\t\t\t\t\tsetQuery( {\r\n\t\t\t\t\t\t\tauthor: '',\r\n\t\t\t\t\t\t\tparents: [],\r\n\t\t\t\t\t\t\tsearch: '',\r\n\t\t\t\t\t\t\ttaxQuery: null,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tsetQuerySearch( '' );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tdropdownMenuProps={ TOOLSPANEL_DROPDOWNMENU_PROPS }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ showTaxControl && (\r\n\t\t\t\t\t\t<ToolsPanelItem\r\n\t\t\t\t\t\t\tlabel={ __( 'Taxonomies' ) }\r\n\t\t\t\t\t\t\thasValue={ () =>\r\n\t\t\t\t\t\t\t\tObject.values( taxQuery || {} ).some(\r\n\t\t\t\t\t\t\t\t\t( terms ) => !! terms.length\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonDeselect={ () => setQuery( { taxQuery: null } ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TaxonomyControls\r\n\t\t\t\t\t\t\t\tonChange={ setQuery }\r\n\t\t\t\t\t\t\t\tquery={ query }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolsPanelItem>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showAuthorControl && (\r\n\t\t\t\t\t\t<ToolsPanelItem\r\n\t\t\t\t\t\t\thasValue={ () => !! authorIds }\r\n\t\t\t\t\t\t\tlabel={ __( 'Authors' ) }\r\n\t\t\t\t\t\t\tonDeselect={ () => setQuery( { author: '' } ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AuthorControl\r\n\t\t\t\t\t\t\t\tvalue={ authorIds }\r\n\t\t\t\t\t\t\t\tonChange={ setQuery }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolsPanelItem>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showSearchControl && (\r\n\t\t\t\t\t\t<ToolsPanelItem\r\n\t\t\t\t\t\t\thasValue={ () => !! querySearch }\r\n\t\t\t\t\t\t\tlabel={ __( 'Keyword' ) }\r\n\t\t\t\t\t\t\tonDeselect={ () => setQuerySearch( '' ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Keyword' ) }\r\n\t\t\t\t\t\t\t\tvalue={ querySearch }\r\n\t\t\t\t\t\t\t\tonChange={ setQuerySearch }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolsPanelItem>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ showParentControl && (\r\n\t\t\t\t\t\t<ToolsPanelItem\r\n\t\t\t\t\t\t\thasValue={ () => !! parents?.length }\r\n\t\t\t\t\t\t\tlabel={ __( 'Parents' ) }\r\n\t\t\t\t\t\t\tonDeselect={ () => setQuery( { parents: [] } ) }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ParentControl\r\n\t\t\t\t\t\t\t\tparents={ parents }\r\n\t\t\t\t\t\t\t\tpostType={ postType }\r\n\t\t\t\t\t\t\t\tonChange={ setQuery }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ToolsPanelItem>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</ToolsPanel>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useUnsupportedBlocks } from '../utils';\n\nconst modalDescriptionId =\n\t'wp-block-query-enhanced-pagination-modal__description';\n\nexport default function EnhancedPaginationModal( {\n\tclientId,\n\tattributes: { enhancedPagination },\n\tsetAttributes,\n} ) {\n\tconst [ isOpen, setOpen ] = useState( false );\n\tconst { hasBlocksFromPlugins, hasPostContentBlock, hasUnsupportedBlocks } =\n\t\tuseUnsupportedBlocks( clientId );\n\n\tuseEffect( () => {\n\t\tif ( enhancedPagination && hasUnsupportedBlocks ) {\n\t\t\tsetAttributes( { enhancedPagination: false } );\n\t\t\tsetOpen( true );\n\t\t}\n\t}, [ enhancedPagination, hasUnsupportedBlocks, setAttributes ] );\n\n\tconst closeModal = () => {\n\t\tsetOpen( false );\n\t};\n\n\tlet notice = __(\n\t\t'If you still want to prevent full page reloads, remove that block, then disable \"Force page reload\" again in the Query Block settings.'\n\t);\n\tif ( hasBlocksFromPlugins ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when blocks from plugins are present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t} else if ( hasPostContentBlock ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when a Content block is present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t}\n\n\treturn (\n\t\tisOpen && (\n\t\t\t<Modal\n\t\t\t\ttitle={ __( 'Query block: Force page reload enabled' ) }\n\t\t\t\tclassName=\"wp-block-query__enhanced-pagination-modal\"\n\t\t\t\taria={ {\n\t\t\t\t\tdescribedby: modalDescriptionId,\n\t\t\t\t} }\n\t\t\t\trole=\"alertdialog\"\n\t\t\t\tfocusOnMount=\"firstElement\"\n\t\t\t\tisDismissible={ false }\n\t\t\t\tonRequestClose={ closeModal }\n\t\t\t>\n\t\t\t\t<VStack alignment=\"right\" spacing={ 5 }>\n\t\t\t\t\t<span id={ modalDescriptionId }>{ notice }</span>\n\t\t\t\t\t<Button variant=\"primary\" onClick={ closeModal }>\n\t\t\t\t\t\t{ __( 'OK' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</VStack>\n\t\t\t</Modal>\n\t\t)\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { useEffect } from '@wordpress/element';\r\nimport {\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n\tuseInnerBlocksProps,\r\n} from '@wordpress/block-editor';\r\nimport { SelectControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport QueryToolbar from './query-toolbar';\r\nimport QueryInspectorControls from './inspector-controls';\r\nimport EnhancedPaginationModal from './enhanced-pagination-modal';\r\n\r\nconst DEFAULTS_POSTS_PER_PAGE = 3;\r\n\r\nconst TEMPLATE = [ [ 'core/post-template' ] ];\r\nexport default function QueryContent( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\topenPatternSelectionModal,\r\n\tname,\r\n\tclientId,\r\n} ) {\r\n\tconst {\r\n\t\tqueryId,\r\n\t\tquery,\r\n\t\tdisplayLayout,\r\n\t\ttagName: TagName = 'div',\r\n\t\tquery: { inherit } = {},\r\n\t} = attributes;\r\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tuseDispatch( blockEditorStore );\r\n\tconst instanceId = useInstanceId( QueryContent );\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t} );\r\n\tconst { postsPerPage } = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\tconst { getEntityRecord, canUser } = select( coreStore );\r\n\t\tconst settingPerPage = canUser( 'read', 'settings' )\r\n\t\t\t? +getEntityRecord( 'root', 'site' )?.posts_per_page\r\n\t\t\t: +getSettings().postsPerPage;\r\n\t\treturn {\r\n\t\t\tpostsPerPage: settingPerPage || DEFAULTS_POSTS_PER_PAGE,\r\n\t\t};\r\n\t}, [] );\r\n\t// There are some effects running where some initialization logic is\r\n\t// happening and setting some values to some attributes (ex. queryId).\r\n\t// These updates can cause an `undo trap` where undoing will result in\r\n\t// resetting again, so we need to mark these changes as not persistent\r\n\t// with `__unstableMarkNextChangeAsNotPersistent`.\r\n\r\n\t// Changes in query property (which is an object) need to be in the same callback,\r\n\t// because updates are batched after the render and changes in different query properties\r\n\t// would cause to override previous wanted changes.\r\n\tuseEffect( () => {\r\n\t\tconst newQuery = {};\r\n\t\t// When we inherit from global query always need to set the `perPage`\r\n\t\t// based on the reading settings.\r\n\t\tif ( inherit && query.perPage !== postsPerPage ) {\r\n\t\t\tnewQuery.perPage = postsPerPage;\r\n\t\t} else if ( ! query.perPage && postsPerPage ) {\r\n\t\t\tnewQuery.perPage = postsPerPage;\r\n\t\t}\r\n\t\tif ( !! Object.keys( newQuery ).length ) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tupdateQuery( newQuery );\r\n\t\t}\r\n\t}, [ query.perPage, postsPerPage, inherit ] );\r\n\t// We need this for multi-query block pagination.\r\n\t// Query parameters for each block are scoped to their ID.\r\n\tuseEffect( () => {\r\n\t\tif ( ! Number.isFinite( queryId ) ) {\r\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\t\tsetAttributes( { queryId: instanceId } );\r\n\t\t}\r\n\t}, [ queryId, instanceId ] );\r\n\tconst updateQuery = ( newQuery ) =>\r\n\t\tsetAttributes( { query: { ...query, ...newQuery } } );\r\n\tconst updateDisplayLayout = ( newDisplayLayout ) =>\r\n\t\tsetAttributes( {\r\n\t\t\tdisplayLayout: { ...displayLayout, ...newDisplayLayout },\r\n\t\t} );\r\n\tconst htmlElementMessages = {\r\n\t\tmain: __(\r\n\t\t\t'The <main> element should be used for the primary content of your document only. '\r\n\t\t),\r\n\t\tsection: __(\r\n\t\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\r\n\t\t),\r\n\t\taside: __(\r\n\t\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\r\n\t\t),\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<EnhancedPaginationModal\r\n\t\t\t\tattributes={ attributes }\r\n\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\tclientId={ clientId }\r\n\t\t\t/>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<QueryInspectorControls\r\n\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\tsetQuery={ updateQuery }\r\n\t\t\t\t\tsetDisplayLayout={ updateDisplayLayout }\r\n\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t/>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<QueryToolbar\r\n\t\t\t\t\tname={ name }\r\n\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\tsetQuery={ updateQuery }\r\n\t\t\t\t\topenPatternSelectionModal={ openPatternSelectionModal }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls group=\"advanced\">\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\tlabel={ __( 'HTML element' ) }\r\n\t\t\t\t\toptions={ [\r\n\t\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\r\n\t\t\t\t\t\t{ label: '<main>', value: 'main' },\r\n\t\t\t\t\t\t{ label: '<section>', value: 'section' },\r\n\t\t\t\t\t\t{ label: '<aside>', value: 'aside' },\r\n\t\t\t\t\t] }\r\n\t\t\t\t\tvalue={ TagName }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { tagName: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\thelp={ htmlElementMessages[ TagName ] }\r\n\t\t\t\t/>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<TagName { ...innerBlocksProps } />\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport {\r\n\tcreateBlocksFromInnerBlocksTemplate,\r\n\tstore as blocksStore,\r\n} from '@wordpress/blocks';\r\nimport { useState } from '@wordpress/element';\r\nimport {\r\n\tuseBlockProps,\r\n\tstore as blockEditorStore,\r\n\t__experimentalBlockVariationPicker,\r\n} from '@wordpress/block-editor';\r\nimport { Button, Placeholder } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useScopedBlockVariations, useBlockNameForPatterns } from '../utils';\r\n\r\nexport default function QueryPlaceholder( {\r\n\tattributes,\r\n\tclientId,\r\n\tname,\r\n\topenPatternSelectionModal,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst [ isStartingBlank, setIsStartingBlank ] = useState( false );\r\n\tconst blockProps = useBlockProps();\r\n\tconst blockNameForPatterns = useBlockNameForPatterns(\r\n\t\tclientId,\r\n\t\tattributes\r\n\t);\r\n\tconst { blockType, activeBlockVariation, hasPatterns } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst { getActiveBlockVariation, getBlockType } =\r\n\t\t\t\tselect( blocksStore );\r\n\t\t\tconst { getBlockRootClientId, getPatternsByBlockTypes } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\r\n\t\t\treturn {\r\n\t\t\t\tblockType: getBlockType( name ),\r\n\t\t\t\tactiveBlockVariation: getActiveBlockVariation(\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tattributes\r\n\t\t\t\t),\r\n\t\t\t\thasPatterns: !! getPatternsByBlockTypes(\r\n\t\t\t\t\tblockNameForPatterns,\r\n\t\t\t\t\trootClientId\r\n\t\t\t\t).length,\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ name, blockNameForPatterns, clientId, attributes ]\r\n\t);\r\n\tconst icon =\r\n\t\tactiveBlockVariation?.icon?.src ||\r\n\t\tactiveBlockVariation?.icon ||\r\n\t\tblockType?.icon?.src;\r\n\tconst label = activeBlockVariation?.title || blockType?.title;\r\n\tif ( isStartingBlank ) {\r\n\t\treturn (\r\n\t\t\t<QueryVariationPicker\r\n\t\t\t\tclientId={ clientId }\r\n\t\t\t\tattributes={ attributes }\r\n\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<Placeholder\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\tinstructions={ __(\r\n\t\t\t\t\t'Choose a pattern for the query loop or start blank.'\r\n\t\t\t\t) }\r\n\t\t\t>\r\n\t\t\t\t{ !! hasPatterns && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\tonClick={ openPatternSelectionModal }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Choose' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) }\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\tsetIsStartingBlank( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Start blank' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t</Placeholder>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction QueryVariationPicker( {\r\n\tclientId,\r\n\tattributes,\r\n\tsetAttributes,\r\n\ticon,\r\n\tlabel,\r\n} ) {\r\n\tconst scopeVariations = useScopedBlockVariations( attributes );\r\n\tconst { replaceInnerBlocks } = useDispatch( blockEditorStore );\r\n\tconst blockProps = useBlockProps();\r\n\treturn (\r\n\t\t<div { ...blockProps }>\r\n\t\t\t<__experimentalBlockVariationPicker\r\n\t\t\t\ticon={ icon }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\tvariations={ scopeVariations }\r\n\t\t\t\tonSelect={ ( variation ) => {\r\n\t\t\t\t\tif ( variation.attributes ) {\r\n\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t...variation.attributes,\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\t...variation.attributes.query,\r\n\t\t\t\t\t\t\t\tpostType:\r\n\t\t\t\t\t\t\t\t\tattributes.query.postType ||\r\n\t\t\t\t\t\t\t\t\tvariation.attributes.query.postType,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tnamespace: attributes.namespace,\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( variation.innerBlocks ) {\r\n\t\t\t\t\t\treplaceInnerBlocks(\r\n\t\t\t\t\t\t\tclientId,\r\n\t\t\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(\r\n\t\t\t\t\t\t\t\tvariation.innerBlocks\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport removeAccents from 'remove-accents';\r\n\r\n/**\r\n * Sanitizes the search input string.\r\n *\r\n * @param {string} input The search input to normalize.\r\n *\r\n * @return {string} The normalized search input.\r\n */\r\nexport function normalizeSearchInput( input = '' ) {\r\n\t// Disregard diacritics.\r\n\tinput = removeAccents( input );\r\n\r\n\t// Trim & Lowercase.\r\n\tinput = input.trim().toLowerCase();\r\n\r\n\treturn input;\r\n}\r\n\r\n/**\r\n * Get the search rank for a given pattern and a specific search term.\r\n *\r\n * @param {Object} pattern     Pattern to rank\r\n * @param {string} searchValue Search term\r\n * @return {number} A pattern search rank\r\n */\r\nexport function getPatternSearchRank( pattern, searchValue ) {\r\n\tconst normalizedSearchValue = normalizeSearchInput( searchValue );\r\n\tconst normalizedTitle = normalizeSearchInput( pattern.title );\r\n\r\n\tlet rank = 0;\r\n\r\n\tif ( normalizedSearchValue === normalizedTitle ) {\r\n\t\trank += 30;\r\n\t} else if ( normalizedTitle.startsWith( normalizedSearchValue ) ) {\r\n\t\trank += 20;\r\n\t} else {\r\n\t\tconst searchTerms = normalizedSearchValue.split( ' ' );\r\n\t\tconst hasMatchedTerms = searchTerms.every( ( searchTerm ) =>\r\n\t\t\tnormalizedTitle.includes( searchTerm )\r\n\t\t);\r\n\r\n\t\t// Prefer pattern with every search word in the title.\r\n\t\tif ( hasMatchedTerms ) {\r\n\t\t\trank += 10;\r\n\t\t}\r\n\t}\r\n\r\n\treturn rank;\r\n}\r\n\r\n/**\r\n * Filters an pattern list given a search term.\r\n *\r\n * @param {Array}  patterns    Item list\r\n * @param {string} searchValue Search input.\r\n *\r\n * @return {Array} Filtered pattern list.\r\n */\r\nexport function searchPatterns( patterns = [], searchValue = '' ) {\r\n\tif ( ! searchValue ) {\r\n\t\treturn patterns;\r\n\t}\r\n\r\n\tconst rankedPatterns = patterns\r\n\t\t.map( ( pattern ) => {\r\n\t\t\treturn [ pattern, getPatternSearchRank( pattern, searchValue ) ];\r\n\t\t} )\r\n\t\t.filter( ( [ , rank ] ) => rank > 0 );\r\n\r\n\trankedPatterns.sort( ( [ , rank1 ], [ , rank2 ] ) => rank2 - rank1 );\r\n\treturn rankedPatterns.map( ( [ pattern ] ) => pattern );\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useState, useMemo } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { Modal, SearchControl } from '@wordpress/components';\nimport { useAsyncList } from '@wordpress/compose';\nimport {\n\tBlockContextProvider,\n\tstore as blockEditorStore,\n\t__experimentalBlockPatternsList as BlockPatternsList,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseBlockNameForPatterns,\n\tgetTransformedBlocksFromPattern,\n\tusePatterns,\n} from '../utils';\nimport { searchPatterns } from '../../utils/search-patterns';\n\nexport default function PatternSelectionModal( {\n\tclientId,\n\tattributes,\n\tsetIsPatternSelectionModalOpen,\n} ) {\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst { replaceBlock, selectBlock } = useDispatch( blockEditorStore );\n\tconst onBlockPatternSelect = ( pattern, blocks ) => {\n\t\tconst { newBlocks, queryClientIds } = getTransformedBlocksFromPattern(\n\t\t\tblocks,\n\t\t\tattributes\n\t\t);\n\t\treplaceBlock( clientId, newBlocks );\n\t\tif ( queryClientIds[ 0 ] ) {\n\t\t\tselectBlock( queryClientIds[ 0 ] );\n\t\t}\n\t};\n\t// When we preview Query Loop blocks we should prefer the current\n\t// block's postType, which is passed through block context.\n\tconst blockPreviewContext = useMemo(\n\t\t() => ( {\n\t\t\tpreviewPostType: attributes.query.postType,\n\t\t} ),\n\t\t[ attributes.query.postType ]\n\t);\n\tconst blockNameForPatterns = useBlockNameForPatterns(\n\t\tclientId,\n\t\tattributes\n\t);\n\tconst blockPatterns = usePatterns( clientId, blockNameForPatterns );\n\tconst filteredBlockPatterns = useMemo( () => {\n\t\treturn searchPatterns( blockPatterns, searchValue );\n\t}, [ blockPatterns, searchValue ] );\n\tconst shownBlockPatterns = useAsyncList( filteredBlockPatterns );\n\n\treturn (\n\t\t<Modal\n\t\t\toverlayClassName=\"block-library-query-pattern__selection-modal\"\n\t\t\ttitle={ __( 'Choose a pattern' ) }\n\t\t\tonRequestClose={ () => setIsPatternSelectionModalOpen( false ) }\n\t\t\tisFullScreen\n\t\t>\n\t\t\t<div className=\"block-library-query-pattern__selection-content\">\n\t\t\t\t<div className=\"block-library-query-pattern__selection-search\">\n\t\t\t\t\t<SearchControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tonChange={ setSearchValue }\n\t\t\t\t\t\tvalue={ searchValue }\n\t\t\t\t\t\tlabel={ __( 'Search for patterns' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<BlockContextProvider value={ blockPreviewContext }>\n\t\t\t\t\t<BlockPatternsList\n\t\t\t\t\t\tblockPatterns={ filteredBlockPatterns }\n\t\t\t\t\t\tshownPatterns={ shownBlockPatterns }\n\t\t\t\t\t\tonClickPattern={ onBlockPatternSelect }\n\t\t\t\t\t/>\n\t\t\t\t</BlockContextProvider>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport QueryContent from './query-content';\r\nimport QueryPlaceholder from './query-placeholder';\r\nimport PatternSelectionModal from './pattern-selection-modal';\r\n\r\nconst QueryEdit = ( props ) => {\r\n\tconst { clientId, attributes } = props;\r\n\tconst [ isPatternSelectionModalOpen, setIsPatternSelectionModalOpen ] =\r\n\t\tuseState( false );\r\n\tconst hasInnerBlocks = useSelect(\r\n\t\t( select ) =>\r\n\t\t\t!! select( blockEditorStore ).getBlocks( clientId ).length,\r\n\t\t[ clientId ]\r\n\t);\r\n\tconst Component = hasInnerBlocks ? QueryContent : QueryPlaceholder;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Component\r\n\t\t\t\t{ ...props }\r\n\t\t\t\topenPatternSelectionModal={ () =>\r\n\t\t\t\t\tsetIsPatternSelectionModalOpen( true )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{ isPatternSelectionModalOpen && (\r\n\t\t\t\t<PatternSelectionModal\r\n\t\t\t\t\tclientId={ clientId }\r\n\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\tsetIsPatternSelectionModalOpen={\r\n\t\t\t\t\t\tsetIsPatternSelectionModalOpen\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default QueryEdit;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/components';\r\n\r\nexport const titleDate = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n\t\t<Path d=\"M41 9H7v3h34V9zm-22 5H7v1h12v-1zM7 26h12v1H7v-1zm34-5H7v3h34v-3zM7 38h12v1H7v-1zm34-5H7v3h34v-3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const titleExcerpt = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n\t\t<Path d=\"M41 9H7v3h34V9zm-4 5H7v1h30v-1zm4 3H7v1h34v-1zM7 20h30v1H7v-1zm0 12h30v1H7v-1zm34 3H7v1h34v-1zM7 38h30v1H7v-1zm34-11H7v3h34v-3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const titleDateExcerpt = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n\t\t<Path d=\"M41 9H7v3h34V9zm-22 5H7v1h12v-1zm22 3H7v1h34v-1zM7 20h34v1H7v-1zm0 12h12v1H7v-1zm34 3H7v1h34v-1zM7 38h34v1H7v-1zm34-11H7v3h34v-3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const imageDateTitle = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\r\n\t\t<Path d=\"M7 9h34v6H7V9zm12 8H7v1h12v-1zm18 3H7v1h30v-1zm0 18H7v1h30v-1zM7 35h12v1H7v-1zm34-8H7v6h34v-6z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { postList } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\ttitleDate,\r\n\ttitleExcerpt,\r\n\ttitleDateExcerpt,\r\n\timageDateTitle,\r\n} from './icons';\r\n\r\nconst QUERY_DEFAULT_ATTRIBUTES = {\r\n\tquery: {\r\n\t\tperPage: 3,\r\n\t\tpages: 0,\r\n\t\toffset: 0,\r\n\t\tpostType: 'post',\r\n\t\torder: 'desc',\r\n\t\torderBy: 'date',\r\n\t\tauthor: '',\r\n\t\tsearch: '',\r\n\t\texclude: [],\r\n\t\tsticky: '',\r\n\t\tinherit: false,\r\n\t},\r\n};\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'posts-list',\r\n\t\ttitle: __( 'Posts List' ),\r\n\t\tdescription: __(\r\n\t\t\t'Display a list of your most recent posts, excluding sticky posts.'\r\n\t\t),\r\n\t\ticon: postList,\r\n\t\tattributes: {\r\n\t\t\tnamespace: 'core/posts-list',\r\n\t\t\tquery: {\r\n\t\t\t\tperPage: 4,\r\n\t\t\t\tpages: 1,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\tsticky: 'exclude',\r\n\t\t\t\tinherit: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\tscope: [ 'inserter' ],\r\n\t\tisActive: ( { namespace, query } ) => {\r\n\t\t\treturn namespace === 'core/posts-list' && query.postType === 'post';\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title-date',\r\n\t\ttitle: __( 'Title & Date' ),\r\n\t\ticon: titleDate,\r\n\t\tattributes: { ...QUERY_DEFAULT_ATTRIBUTES },\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/post-template',\r\n\t\t\t\t{},\r\n\t\t\t\t[ [ 'core/post-title' ], [ 'core/post-date' ] ],\r\n\t\t\t],\r\n\t\t\t[ 'core/query-pagination' ],\r\n\t\t\t[ 'core/query-no-results' ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'title-excerpt',\r\n\t\ttitle: __( 'Title & Excerpt' ),\r\n\t\ticon: titleExcerpt,\r\n\t\tattributes: { ...QUERY_DEFAULT_ATTRIBUTES },\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/post-template',\r\n\t\t\t\t{},\r\n\t\t\t\t[ [ 'core/post-title' ], [ 'core/post-excerpt' ] ],\r\n\t\t\t],\r\n\t\t\t[ 'core/query-pagination' ],\r\n\t\t\t[ 'core/query-no-results' ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'title-date-excerpt',\r\n\t\ttitle: __( 'Title, Date, & Excerpt' ),\r\n\t\ticon: titleDateExcerpt,\r\n\t\tattributes: { ...QUERY_DEFAULT_ATTRIBUTES },\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/post-template',\r\n\t\t\t\t{},\r\n\t\t\t\t[\r\n\t\t\t\t\t[ 'core/post-title' ],\r\n\t\t\t\t\t[ 'core/post-date' ],\r\n\t\t\t\t\t[ 'core/post-excerpt' ],\r\n\t\t\t\t],\r\n\t\t\t],\r\n\t\t\t[ 'core/query-pagination' ],\r\n\t\t\t[ 'core/query-no-results' ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n\t{\r\n\t\tname: 'image-date-title',\r\n\t\ttitle: __( 'Image, Date, & Title' ),\r\n\t\ticon: imageDateTitle,\r\n\t\tattributes: { ...QUERY_DEFAULT_ATTRIBUTES },\r\n\t\tinnerBlocks: [\r\n\t\t\t[\r\n\t\t\t\t'core/post-template',\r\n\t\t\t\t{},\r\n\t\t\t\t[\r\n\t\t\t\t\t[ 'core/post-featured-image' ],\r\n\t\t\t\t\t[ 'core/post-date' ],\r\n\t\t\t\t\t[ 'core/post-title' ],\r\n\t\t\t\t],\r\n\t\t\t],\r\n\t\t\t[ 'core/query-pagination' ],\r\n\t\t\t[ 'core/query-no-results' ],\r\n\t\t],\r\n\t\tscope: [ 'block' ],\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\nimport {\r\n\tInnerBlocks,\r\n\tuseInnerBlocksProps,\r\n\tuseBlockProps,\r\n\tprivateApis as blockEditorPrivateApis,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { unlock } from '../lock-unlock';\r\n\r\nconst { cleanEmptyObject } = unlock( blockEditorPrivateApis );\r\n\r\nconst migrateToTaxQuery = ( attributes ) => {\r\n\tconst { query } = attributes;\r\n\tconst { categoryIds, tagIds, ...newQuery } = query;\r\n\r\n\tif ( query.categoryIds?.length || query.tagIds?.length ) {\r\n\t\tnewQuery.taxQuery = {\r\n\t\t\tcategory: !! query.categoryIds?.length\r\n\t\t\t\t? query.categoryIds\r\n\t\t\t\t: undefined,\r\n\t\t\tpost_tag: !! query.tagIds?.length ? query.tagIds : undefined,\r\n\t\t};\r\n\t}\r\n\treturn {\r\n\t\t...attributes,\r\n\t\tquery: newQuery,\r\n\t};\r\n};\r\n\r\nconst migrateColors = ( attributes, innerBlocks ) => {\r\n\t// Remove color style attributes from the Query block.\r\n\tconst { style, backgroundColor, gradient, textColor, ...newAttributes } =\r\n\t\tattributes;\r\n\r\n\tconst hasColorStyles =\r\n\t\tbackgroundColor ||\r\n\t\tgradient ||\r\n\t\ttextColor ||\r\n\t\tstyle?.color ||\r\n\t\tstyle?.elements?.link;\r\n\r\n\t// If the query block doesn't currently have any color styles,\r\n\t// nothing needs migrating.\r\n\tif ( ! hasColorStyles ) {\r\n\t\treturn [ attributes, innerBlocks ];\r\n\t}\r\n\r\n\t// Clean color values from style attribute object.\r\n\tif ( style ) {\r\n\t\tnewAttributes.style = cleanEmptyObject( {\r\n\t\t\t...style,\r\n\t\t\tcolor: undefined,\r\n\t\t\telements: {\r\n\t\t\t\t...style.elements,\r\n\t\t\t\tlink: undefined,\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\r\n\t// If the inner blocks are already wrapped in a single group\r\n\t// block, add the color support styles to that group block.\r\n\tif ( hasSingleInnerGroupBlock( innerBlocks ) ) {\r\n\t\tconst groupBlock = innerBlocks[ 0 ];\r\n\r\n\t\t// Create new styles for the group block.\r\n\t\tconst hasStyles =\r\n\t\t\tstyle?.color ||\r\n\t\t\tstyle?.elements?.link ||\r\n\t\t\tgroupBlock.attributes.style;\r\n\r\n\t\tconst newStyles = hasStyles\r\n\t\t\t? cleanEmptyObject( {\r\n\t\t\t\t\t...groupBlock.attributes.style,\r\n\t\t\t\t\tcolor: style?.color,\r\n\t\t\t\t\telements: style?.elements?.link\r\n\t\t\t\t\t\t? { link: style?.elements?.link }\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t  } )\r\n\t\t\t: undefined;\r\n\r\n\t\t// Create a new Group block from the original.\r\n\t\tconst updatedGroupBlock = createBlock(\r\n\t\t\t'core/group',\r\n\t\t\t{\r\n\t\t\t\t...groupBlock.attributes,\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tgradient,\r\n\t\t\t\ttextColor,\r\n\t\t\t\tstyle: newStyles,\r\n\t\t\t},\r\n\t\t\tgroupBlock.innerBlocks\r\n\t\t);\r\n\r\n\t\treturn [ newAttributes, [ updatedGroupBlock ] ];\r\n\t}\r\n\r\n\t// When we don't have a single wrapping group block for the inner\r\n\t// blocks, wrap the current inner blocks in a group applying the\r\n\t// color styles to that.\r\n\tconst newGroupBlock = createBlock(\r\n\t\t'core/group',\r\n\t\t{\r\n\t\t\tbackgroundColor,\r\n\t\t\tgradient,\r\n\t\t\ttextColor,\r\n\t\t\tstyle: cleanEmptyObject( {\r\n\t\t\t\tcolor: style?.color,\r\n\t\t\t\telements: style?.elements?.link\r\n\t\t\t\t\t? { link: style?.elements?.link }\r\n\t\t\t\t\t: undefined,\r\n\t\t\t} ),\r\n\t\t},\r\n\t\tinnerBlocks\r\n\t);\r\n\r\n\treturn [ newAttributes, [ newGroupBlock ] ];\r\n};\r\n\r\nconst hasSingleInnerGroupBlock = ( innerBlocks = [] ) =>\r\n\tinnerBlocks.length === 1 && innerBlocks[ 0 ].name === 'core/group';\r\n\r\nconst migrateToConstrainedLayout = ( attributes ) => {\r\n\tconst { layout = null } = attributes;\r\n\tif ( ! layout ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst { inherit = null, contentSize = null, ...newLayout } = layout;\r\n\r\n\tif ( inherit || contentSize ) {\r\n\t\treturn {\r\n\t\t\t...attributes,\r\n\t\t\tlayout: {\r\n\t\t\t\t...newLayout,\r\n\t\t\t\tcontentSize,\r\n\t\t\t\ttype: 'constrained',\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\treturn attributes;\r\n};\r\n\r\nconst findPostTemplateBlock = ( innerBlocks = [] ) => {\r\n\tlet foundBlock = null;\r\n\tfor ( const block of innerBlocks ) {\r\n\t\tif ( block.name === 'core/post-template' ) {\r\n\t\t\tfoundBlock = block;\r\n\t\t\tbreak;\r\n\t\t} else if ( block.innerBlocks.length ) {\r\n\t\t\tfoundBlock = findPostTemplateBlock( block.innerBlocks );\r\n\t\t}\r\n\t}\r\n\treturn foundBlock;\r\n};\r\n\r\nconst replacePostTemplateBlock = ( innerBlocks = [], replacementBlock ) => {\r\n\tinnerBlocks.forEach( ( block, index ) => {\r\n\t\tif ( block.name === 'core/post-template' ) {\r\n\t\t\tinnerBlocks.splice( index, 1, replacementBlock );\r\n\t\t} else if ( block.innerBlocks.length ) {\r\n\t\t\tblock.innerBlocks = replacePostTemplateBlock(\r\n\t\t\t\tblock.innerBlocks,\r\n\t\t\t\treplacementBlock\r\n\t\t\t);\r\n\t\t}\r\n\t} );\r\n\treturn innerBlocks;\r\n};\r\n\r\nconst migrateDisplayLayout = ( attributes, innerBlocks ) => {\r\n\tconst { displayLayout = null, ...newAttributes } = attributes;\r\n\tif ( ! displayLayout ) {\r\n\t\treturn [ attributes, innerBlocks ];\r\n\t}\r\n\tconst postTemplateBlock = findPostTemplateBlock( innerBlocks );\r\n\tif ( ! postTemplateBlock ) {\r\n\t\treturn [ attributes, innerBlocks ];\r\n\t}\r\n\r\n\tconst { type, columns } = displayLayout;\r\n\r\n\t// Convert custom displayLayout values to canonical layout types.\r\n\tconst updatedLayoutType = type === 'flex' ? 'grid' : 'default';\r\n\r\n\tconst newPostTemplateBlock = createBlock(\r\n\t\t'core/post-template',\r\n\t\t{\r\n\t\t\t...postTemplateBlock.attributes,\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: updatedLayoutType,\r\n\t\t\t\t...( columns && { columnCount: columns } ),\r\n\t\t\t},\r\n\t\t},\r\n\t\tpostTemplateBlock.innerBlocks\r\n\t);\r\n\treturn [\r\n\t\tnewAttributes,\r\n\t\treplacePostTemplateBlock( innerBlocks, newPostTemplateBlock ),\r\n\t];\r\n};\r\n\r\n// Version with NO wrapper `div` element.\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tqueryId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\tperPage: null,\r\n\t\t\t\tpages: 0,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\tcategoryIds: [],\r\n\t\t\t\ttagIds: [],\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\texclude: [],\r\n\t\t\t\tsticky: '',\r\n\t\t\t\tinherit: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tlayout: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'list',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\thtml: false,\r\n\t},\r\n\tmigrate( attributes, innerBlocks ) {\r\n\t\tconst withTaxQuery = migrateToTaxQuery( attributes );\r\n\t\tconst { layout, ...restWithTaxQuery } = withTaxQuery;\r\n\t\tconst newAttributes = {\r\n\t\t\t...restWithTaxQuery,\r\n\t\t\tdisplayLayout: withTaxQuery.layout,\r\n\t\t};\r\n\t\treturn migrateDisplayLayout( newAttributes, innerBlocks );\r\n\t},\r\n\tsave() {\r\n\t\treturn <InnerBlocks.Content />;\r\n\t},\r\n};\r\n\r\n// Version with `categoryIds and tagIds`.\r\nconst v2 = {\r\n\tattributes: {\r\n\t\tqueryId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\tperPage: null,\r\n\t\t\t\tpages: 0,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\tcategoryIds: [],\r\n\t\t\t\ttagIds: [],\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\texclude: [],\r\n\t\t\t\tsticky: '',\r\n\t\t\t\tinherit: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttagName: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'div',\r\n\t\t},\r\n\t\tdisplayLayout: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'list',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\tlayout: true,\r\n\t},\r\n\tisEligible: ( { query: { categoryIds, tagIds } = {} } ) =>\r\n\t\tcategoryIds || tagIds,\r\n\tmigrate( attributes, innerBlocks ) {\r\n\t\tconst withTaxQuery = migrateToTaxQuery( attributes );\r\n\t\tconst [ withColorAttributes, withColorInnerBlocks ] = migrateColors(\r\n\t\t\twithTaxQuery,\r\n\t\t\tinnerBlocks\r\n\t\t);\r\n\t\tconst withConstrainedLayoutAttributes =\r\n\t\t\tmigrateToConstrainedLayout( withColorAttributes );\r\n\t\treturn migrateDisplayLayout(\r\n\t\t\twithConstrainedLayoutAttributes,\r\n\t\t\twithColorInnerBlocks\r\n\t\t);\r\n\t},\r\n\tsave( { attributes: { tagName: Tag = 'div' } } ) {\r\n\t\tconst blockProps = useBlockProps.save();\r\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\t\treturn <Tag { ...innerBlocksProps } />;\r\n\t},\r\n};\r\n\r\n// Version with color support prior to moving it to the PostTemplate block.\r\nconst v3 = {\r\n\tattributes: {\r\n\t\tqueryId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\tperPage: null,\r\n\t\t\t\tpages: 0,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\texclude: [],\r\n\t\t\t\tsticky: '',\r\n\t\t\t\tinherit: true,\r\n\t\t\t\ttaxQuery: null,\r\n\t\t\t\tparents: [],\r\n\t\t\t},\r\n\t\t},\r\n\t\ttagName: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'div',\r\n\t\t},\r\n\t\tdisplayLayout: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'list',\r\n\t\t\t},\r\n\t\t},\r\n\t\tnamespace: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tlayout: true,\r\n\t},\r\n\tisEligible( attributes ) {\r\n\t\tconst { style, backgroundColor, gradient, textColor } = attributes;\r\n\t\treturn (\r\n\t\t\tbackgroundColor ||\r\n\t\t\tgradient ||\r\n\t\t\ttextColor ||\r\n\t\t\tstyle?.color ||\r\n\t\t\tstyle?.elements?.link\r\n\t\t);\r\n\t},\r\n\tmigrate( attributes, innerBlocks ) {\r\n\t\tconst [ withColorAttributes, withColorInnerBlocks ] = migrateColors(\r\n\t\t\tattributes,\r\n\t\t\tinnerBlocks\r\n\t\t);\r\n\t\tconst withConstrainedLayoutAttributes =\r\n\t\t\tmigrateToConstrainedLayout( withColorAttributes );\r\n\t\treturn migrateDisplayLayout(\r\n\t\t\twithConstrainedLayoutAttributes,\r\n\t\t\twithColorInnerBlocks\r\n\t\t);\r\n\t},\r\n\tsave( { attributes: { tagName: Tag = 'div' } } ) {\r\n\t\tconst blockProps = useBlockProps.save();\r\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\t\treturn <Tag { ...innerBlocksProps } />;\r\n\t},\r\n};\r\n\r\nconst v4 = {\r\n\tattributes: {\r\n\t\tqueryId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\tperPage: null,\r\n\t\t\t\tpages: 0,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\texclude: [],\r\n\t\t\t\tsticky: '',\r\n\t\t\t\tinherit: true,\r\n\t\t\t\ttaxQuery: null,\r\n\t\t\t\tparents: [],\r\n\t\t\t},\r\n\t\t},\r\n\t\ttagName: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'div',\r\n\t\t},\r\n\t\tdisplayLayout: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'list',\r\n\t\t\t},\r\n\t\t},\r\n\t\tnamespace: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t\t__experimentalDefaultControls: {\r\n\t\t\t\tbackground: true,\r\n\t\t\t\ttext: true,\r\n\t\t\t},\r\n\t\t},\r\n\t\tlayout: true,\r\n\t},\r\n\tsave( { attributes: { tagName: Tag = 'div' } } ) {\r\n\t\tconst blockProps = useBlockProps.save();\r\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\t\treturn <Tag { ...innerBlocksProps } />;\r\n\t},\r\n\tisEligible: ( { layout } ) =>\r\n\t\tlayout?.inherit ||\r\n\t\t( layout?.contentSize && layout?.type !== 'constrained' ),\r\n\tmigrate( attributes, innerBlocks ) {\r\n\t\tconst withConstrainedLayoutAttributes =\r\n\t\t\tmigrateToConstrainedLayout( attributes );\r\n\t\treturn migrateDisplayLayout(\r\n\t\t\twithConstrainedLayoutAttributes,\r\n\t\t\tinnerBlocks\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v5 = {\r\n\tattributes: {\r\n\t\tqueryId: {\r\n\t\t\ttype: 'number',\r\n\t\t},\r\n\t\tquery: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\tperPage: null,\r\n\t\t\t\tpages: 0,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\tpostType: 'post',\r\n\t\t\t\torder: 'desc',\r\n\t\t\t\torderBy: 'date',\r\n\t\t\t\tauthor: '',\r\n\t\t\t\tsearch: '',\r\n\t\t\t\texclude: [],\r\n\t\t\t\tsticky: '',\r\n\t\t\t\tinherit: true,\r\n\t\t\t\ttaxQuery: null,\r\n\t\t\t\tparents: [],\r\n\t\t\t},\r\n\t\t},\r\n\t\ttagName: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: 'div',\r\n\t\t},\r\n\t\tdisplayLayout: {\r\n\t\t\ttype: 'object',\r\n\t\t\tdefault: {\r\n\t\t\t\ttype: 'list',\r\n\t\t\t},\r\n\t\t},\r\n\t\tnamespace: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\tanchor: true,\r\n\t\thtml: false,\r\n\t\tlayout: true,\r\n\t},\r\n\tsave( { attributes: { tagName: Tag = 'div' } } ) {\r\n\t\tconst blockProps = useBlockProps.save();\r\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\t\treturn <Tag { ...innerBlocksProps } />;\r\n\t},\r\n\tisEligible: ( { displayLayout } ) => {\r\n\t\treturn !! displayLayout;\r\n\t},\r\n\tmigrate: migrateDisplayLayout,\r\n};\r\n\r\nconst deprecated = [ v5, v4, v3, v2, v1 ];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { loop as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport variations from './variations';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tvariations,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function QuerySave( { attributes: { tagName: Tag = 'div' } } ) {\r\n\tconst blockProps = useBlockProps.save();\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\treturn <Tag { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, useInnerBlocksProps } from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst TEMPLATE = [\r\n\t[\r\n\t\t'core/paragraph',\r\n\t\t{\r\n\t\t\tplaceholder: __(\r\n\t\t\t\t'Add text or blocks that will display when a query returns no results.'\r\n\t\t\t),\r\n\t\t},\r\n\t],\r\n];\r\n\r\nexport default function QueryNoResultsEdit() {\r\n\tconst blockProps = useBlockProps();\r\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\r\n\t\ttemplate: TEMPLATE,\r\n\t} );\r\n\r\n\treturn <div { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { loop as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function QueryNoResultsSave() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x } from '@wordpress/i18n';\r\nimport {\r\n\t__experimentalToggleGroupControl as ToggleGroupControl,\r\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\r\n} from '@wordpress/components';\r\n\r\nexport function QueryPaginationArrowControls( { value, onChange } ) {\r\n\treturn (\r\n\t\t<ToggleGroupControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Arrow' ) }\r\n\t\t\tvalue={ value }\r\n\t\t\tonChange={ onChange }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'A decorative arrow appended to the next and previous page link.'\r\n\t\t\t) }\r\n\t\t\tisBlock\r\n\t\t>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"none\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'None',\r\n\t\t\t\t\t'Arrow option for Query Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"arrow\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'Arrow',\r\n\t\t\t\t\t'Arrow option for Query Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t\t<ToggleGroupControlOption\r\n\t\t\t\tvalue=\"chevron\"\r\n\t\t\t\tlabel={ _x(\r\n\t\t\t\t\t'Chevron',\r\n\t\t\t\t\t'Arrow option for Query Pagination Next/Previous blocks'\r\n\t\t\t\t) }\r\n\t\t\t/>\r\n\t\t</ToggleGroupControl>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { ToggleControl } from '@wordpress/components';\r\n\r\nexport function QueryPaginationLabelControl( { value, onChange } ) {\r\n\treturn (\r\n\t\t<ToggleControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tlabel={ __( 'Show label text' ) }\r\n\t\t\thelp={ __(\r\n\t\t\t\t'Toggle off to hide the label text, e.g. \"Next Page\".'\r\n\t\t\t) }\r\n\t\t\tonChange={ onChange }\r\n\t\t\tchecked={ value === true }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { QueryPaginationArrowControls } from './query-pagination-arrow-controls';\nimport { QueryPaginationLabelControl } from './query-pagination-label-control';\n\nconst TEMPLATE = [\n\t[ 'core/query-pagination-previous' ],\n\t[ 'core/query-pagination-numbers' ],\n\t[ 'core/query-pagination-next' ],\n];\n\nexport default function QueryPaginationEdit( {\n\tattributes: { paginationArrow, showLabel },\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst hasNextPreviousBlocks = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocks } = select( blockEditorStore );\n\t\t\tconst innerBlocks = getBlocks( clientId );\n\t\t\t/**\n\t\t\t * Show the `paginationArrow` and `showLabel` controls only if a\n\t\t\t * `QueryPaginationNext/Previous` block exists.\n\t\t\t */\n\t\t\treturn innerBlocks?.find( ( innerBlock ) => {\n\t\t\t\treturn [\n\t\t\t\t\t'core/query-pagination-next',\n\t\t\t\t\t'core/query-pagination-previous',\n\t\t\t\t].includes( innerBlock.name );\n\t\t\t} );\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t} );\n\t// Always show label text if paginationArrow is set to 'none'.\n\tuseEffect( () => {\n\t\tif ( paginationArrow === 'none' && ! showLabel ) {\n\t\t\tsetAttributes( { showLabel: true } );\n\t\t}\n\t}, [ paginationArrow, setAttributes, showLabel ] );\n\treturn (\n\t\t<>\n\t\t\t{ hasNextPreviousBlocks && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t<QueryPaginationArrowControls\n\t\t\t\t\t\t\tvalue={ paginationArrow }\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { paginationArrow: value } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ paginationArrow !== 'none' && (\n\t\t\t\t\t\t\t<QueryPaginationLabelControl\n\t\t\t\t\t\t\t\tvalue={ showLabel }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( { showLabel: value } );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<nav { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst deprecated = [\r\n\t// Version with wrapper `div` element.\r\n\t{\r\n\t\tsave() {\r\n\t\t\treturn (\r\n\t\t\t\t<div { ...useBlockProps.save() }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPagination as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks } from '@wordpress/block-editor';\r\n\r\nexport default function save() {\r\n\treturn <InnerBlocks.Content />;\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useBlockProps, PlainText } from '@wordpress/block-editor';\n\nconst arrowMap = {\n\tnone: '',\n\tarrow: '→',\n\tchevron: '»',\n};\n\nexport default function QueryPaginationNextEdit( {\n\tattributes: { label },\n\tsetAttributes,\n\tcontext: { paginationArrow, showLabel },\n} ) {\n\tconst displayArrow = arrowMap[ paginationArrow ];\n\treturn (\n\t\t<a\n\t\t\thref=\"#pagination-next-pseudo-link\"\n\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t{ ...useBlockProps() }\n\t\t>\n\t\t\t{ showLabel && (\n\t\t\t\t<PlainText\n\t\t\t\t\t__experimentalVersion={ 2 }\n\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\taria-label={ __( 'Next page link' ) }\n\t\t\t\t\tplaceholder={ __( 'Next Page' ) }\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ displayArrow && (\n\t\t\t\t<span\n\t\t\t\t\tclassName={ `wp-block-query-pagination-next-arrow is-arrow-${ paginationArrow }` }\n\t\t\t\t\taria-hidden\n\t\t\t\t>\n\t\t\t\t\t{ displayArrow }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</a>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationNext as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\r\nimport { PanelBody, RangeControl } from '@wordpress/components';\r\n\r\nconst createPaginationItem = ( content, Tag = 'a', extraClass = '' ) => (\r\n\t<Tag key={ content } className={ `page-numbers ${ extraClass }` }>\r\n\t\t{ content }\r\n\t</Tag>\r\n);\r\n\r\nconst previewPaginationNumbers = ( midSize ) => {\r\n\tconst paginationItems = [];\r\n\r\n\t// First set of pagination items.\r\n\tfor ( let i = 1; i <= midSize; i++ ) {\r\n\t\tpaginationItems.push( createPaginationItem( i ) );\r\n\t}\r\n\r\n\t// Current pagination item.\r\n\tpaginationItems.push(\r\n\t\tcreatePaginationItem( midSize + 1, 'span', 'current' )\r\n\t);\r\n\r\n\t// Second set of pagination items.\r\n\tfor ( let i = 1; i <= midSize; i++ ) {\r\n\t\tpaginationItems.push( createPaginationItem( midSize + 1 + i ) );\r\n\t}\r\n\r\n\t// Dots.\r\n\tpaginationItems.push( createPaginationItem( '...', 'span', 'dots' ) );\r\n\r\n\t// Last pagination item.\r\n\tpaginationItems.push( createPaginationItem( midSize * 2 + 3 ) );\r\n\r\n\treturn <>{ paginationItems }</>;\r\n};\r\n\r\nexport default function QueryPaginationNumbersEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { midSize } = attributes;\r\n\tconst paginationNumbers = previewPaginationNumbers(\r\n\t\tparseInt( midSize, 10 )\r\n\t);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\tlabel={ __( 'Number of links' ) }\r\n\t\t\t\t\t\thelp={ __(\r\n\t\t\t\t\t\t\t'Specify how many links can appear before and after the current page number. Links to the first, current and last page are always visible.'\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\tvalue={ midSize }\r\n\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\tmidSize: parseInt( value, 10 ),\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tmin={ 0 }\r\n\t\t\t\t\t\tmax={ 5 }\r\n\t\t\t\t\t\twithInputField={ false }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...useBlockProps() }>{ paginationNumbers }</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationNumbers as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useBlockProps, PlainText } from '@wordpress/block-editor';\n\nconst arrowMap = {\n\tnone: '',\n\tarrow: '←',\n\tchevron: '«',\n};\n\nexport default function QueryPaginationPreviousEdit( {\n\tattributes: { label },\n\tsetAttributes,\n\tcontext: { paginationArrow, showLabel },\n} ) {\n\tconst displayArrow = arrowMap[ paginationArrow ];\n\treturn (\n\t\t<a\n\t\t\thref=\"#pagination-previous-pseudo-link\"\n\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t{ ...useBlockProps() }\n\t\t>\n\t\t\t{ displayArrow && (\n\t\t\t\t<span\n\t\t\t\t\tclassName={ `wp-block-query-pagination-previous-arrow is-arrow-${ paginationArrow }` }\n\t\t\t\t\taria-hidden\n\t\t\t\t>\n\t\t\t\t\t{ displayArrow }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ showLabel && (\n\t\t\t\t<PlainText\n\t\t\t\t\t__experimentalVersion={ 2 }\n\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\taria-label={ __( 'Previous page link' ) }\n\t\t\t\t\tplaceholder={ __( 'Previous Page' ) }\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tonChange={ ( newLabel ) =>\n\t\t\t\t\t\tsetAttributes( { label: newLabel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</a>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { queryPaginationPrevious as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tAlignmentControl,\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\tWarning,\r\n\tHeadingLevelDropdown,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { ToggleControl, PanelBody } from '@wordpress/components';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nconst SUPPORTED_TYPES = [ 'archive', 'search' ];\r\n\r\nexport default function QueryTitleEdit( {\r\n\tattributes: { type, level, textAlign, showPrefix, showSearchTerm },\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { archiveTypeTitle, archiveNameLabel } = useSelect( ( select ) => {\r\n\t\tconst { getSettings } = select( blockEditorStore );\r\n\t\tconst {\r\n\t\t\t__experimentalArchiveTitleNameLabel,\r\n\t\t\t__experimentalArchiveTitleTypeLabel,\r\n\t\t} = getSettings();\r\n\t\treturn {\r\n\t\t\tarchiveTypeTitle: __experimentalArchiveTitleTypeLabel,\r\n\t\t\tarchiveNameLabel: __experimentalArchiveTitleNameLabel,\r\n\t\t};\r\n\t} );\r\n\r\n\tconst TagName = `h${ level }`;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( 'wp-block-query-title__placeholder', {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t} );\r\n\r\n\tif ( ! SUPPORTED_TYPES.includes( type ) ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Warning>{ __( 'Provided type is not supported.' ) }</Warning>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tlet titleElement;\r\n\tif ( type === 'archive' ) {\r\n\t\tlet title;\r\n\t\tif ( archiveTypeTitle ) {\r\n\t\t\tif ( showPrefix ) {\r\n\t\t\t\tif ( archiveNameLabel ) {\r\n\t\t\t\t\ttitle = sprintf(\r\n\t\t\t\t\t\t/* translators: 1: Archive type title e.g: \"Category\", 2: Label of the archive e.g: \"Shoes\" */\r\n\t\t\t\t\t\t__( '%1$s: %2$s' ),\r\n\t\t\t\t\t\tarchiveTypeTitle,\r\n\t\t\t\t\t\tarchiveNameLabel\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttitle = sprintf(\r\n\t\t\t\t\t\t/* translators: %s: Archive type title e.g: \"Category\", \"Tag\"... */\r\n\t\t\t\t\t\t__( '%s: Name' ),\r\n\t\t\t\t\t\tarchiveTypeTitle\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if ( archiveNameLabel ) {\r\n\t\t\t\ttitle = archiveNameLabel;\r\n\t\t\t} else {\r\n\t\t\t\ttitle = sprintf(\r\n\t\t\t\t\t/* translators: %s: Archive type title e.g: \"Category\", \"Tag\"... */\r\n\t\t\t\t\t__( '%s name' ),\r\n\t\t\t\t\tarchiveTypeTitle\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttitle = showPrefix\r\n\t\t\t\t? __( 'Archive type: Name' )\r\n\t\t\t\t: __( 'Archive title' );\r\n\t\t}\r\n\r\n\t\ttitleElement = (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Show archive type in title' ) }\r\n\t\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { showPrefix: ! showPrefix } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tchecked={ showPrefix }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t\t<TagName { ...blockProps }>{ title }</TagName>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( type === 'search' ) {\r\n\t\ttitleElement = (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\tlabel={ __( 'Show search term in title' ) }\r\n\t\t\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\tshowSearchTerm: ! showSearchTerm,\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tchecked={ showSearchTerm }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\r\n\t\t\t\t<TagName { ...blockProps }>\r\n\t\t\t\t\t{ showSearchTerm\r\n\t\t\t\t\t\t? __( 'Search results for: “search term”' )\r\n\t\t\t\t\t\t: __( 'Search results' ) }\r\n\t\t\t\t</TagName>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<HeadingLevelDropdown\r\n\t\t\t\t\tvalue={ level }\r\n\t\t\t\t\tonChange={ ( newLevel ) =>\r\n\t\t\t\t\t\tsetAttributes( { level: newLevel } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t{ titleElement }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { title } from '@wordpress/icons';\r\nconst variations = [\r\n\t{\r\n\t\tisDefault: true,\r\n\t\tname: 'archive-title',\r\n\t\ttitle: __( 'Archive Title' ),\r\n\t\tdescription: __(\r\n\t\t\t'Display the archive title based on the queried object.'\r\n\t\t),\r\n\t\ticon: title,\r\n\t\tattributes: {\r\n\t\t\ttype: 'archive',\r\n\t\t},\r\n\t\tscope: [ 'inserter' ],\r\n\t},\r\n\t{\r\n\t\tisDefault: false,\r\n\t\tname: 'search-title',\r\n\t\ttitle: __( 'Search Results Title' ),\r\n\t\tdescription: __(\r\n\t\t\t'Display the search results title based on the queried object.'\r\n\t\t),\r\n\t\ticon: title,\r\n\t\tattributes: {\r\n\t\t\ttype: 'search',\r\n\t\t},\r\n\t\tscope: [ 'inserter' ],\r\n\t},\r\n];\r\n\r\n/**\r\n * Add `isActive` function to all `query-title` variations, if not defined.\r\n * `isActive` function is used to find a variation match from a created\r\n *  Block by providing its attributes.\r\n */\r\nvariations.forEach( ( variation ) => {\r\n\tif ( variation.isActive ) return;\r\n\tvariation.isActive = ( blockAttributes, variationAttributes ) =>\r\n\t\tblockAttributes.type === variationAttributes.type;\r\n} );\r\n\r\nexport default variations;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttype: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tlevel: {\r\n\t\t\ttype: 'number',\r\n\t\t\tdefault: 1,\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { title as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport variations from './variations';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tvariations,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst quote = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M13 6v6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H13zm-9 6h5.2v4c0 .8-.2 1.4-.5 1.7-.6.6-1.6.6-2.5.5h-.3v1.5h.5c1 0 2.3-.1 3.3-1 .6-.6 1-1.6 1-2.8V6H4v6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default quote;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createBlock, parseWithAttributeSchema } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, useBlockProps } from '@wordpress/block-editor';\n\nexport const migrateToQuoteV2 = ( attributes ) => {\n\tconst { value, ...restAttributes } = attributes;\n\n\treturn [\n\t\t{\n\t\t\t...restAttributes,\n\t\t},\n\t\tvalue\n\t\t\t? parseWithAttributeSchema( value, {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'p',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'html',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t  } ).map( ( { content } ) =>\n\t\t\t\t\tcreateBlock( 'core/paragraph', { content } )\n\t\t\t  )\n\t\t\t: createBlock( 'core/paragraph' ),\n\t];\n};\n\nconst TEXT_ALIGN_OPTIONS = [ 'left', 'right', 'center' ];\n\n// Migrate existing text alignment settings to the renamed attribute.\nconst migrateTextAlign = ( attributes, innerBlocks ) => {\n\tconst { align, ...rest } = attributes;\n\t// Check if there are valid alignments stored in the old attribute\n\t// and assign them to the new attribute name.\n\tconst migratedAttributes = TEXT_ALIGN_OPTIONS.includes( align )\n\t\t? { ...rest, textAlign: align }\n\t\t: attributes;\n\n\treturn [ migratedAttributes, innerBlocks ];\n};\n\n// Migrate the v2 blocks with style === `2`;\nconst migrateLargeStyle = ( attributes, innerBlocks ) => {\n\treturn [\n\t\t{\n\t\t\t...attributes,\n\t\t\tclassName: attributes.className\n\t\t\t\t? attributes.className + ' is-style-large'\n\t\t\t\t: 'is-style-large',\n\t\t},\n\t\tinnerBlocks,\n\t];\n};\n\n// Version before the 'align' attribute was replaced with 'textAlign'.\nconst v4 = {\n\tattributes: {\n\t\tvalue: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'blockquote',\n\t\t\tmultiline: 'p',\n\t\t\tdefault: '',\n\t\t\t__experimentalRole: 'content',\n\t\t},\n\t\tcitation: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'cite',\n\t\t\tdefault: '',\n\t\t\t__experimentalRole: 'content',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\thtml: false,\n\t\t__experimentalOnEnter: true,\n\t\t__experimentalOnMerge: true,\n\t\ttypography: {\n\t\t\tfontSize: true,\n\t\t\tlineHeight: true,\n\t\t\t__experimentalFontFamily: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\t__experimentalTextDecoration: true,\n\t\t\t__experimentalLetterSpacing: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tfontSize: true,\n\t\t\t\tfontAppearance: true,\n\t\t\t},\n\t\t},\n\t\tcolor: {\n\t\t\tgradients: true,\n\t\t\theading: true,\n\t\t\tlink: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tbackground: true,\n\t\t\t\ttext: true,\n\t\t\t},\n\t\t},\n\t},\n\tisEligible: ( { align } ) => TEXT_ALIGN_OPTIONS.includes( align ),\n\tsave( { attributes } ) {\n\t\tconst { align, citation } = attributes;\n\t\tconst className = classnames( {\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} );\n\t\treturn (\n\t\t\t<blockquote { ...useBlockProps.save( { className } ) }>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t);\n\t},\n\tmigrate: migrateTextAlign,\n};\n\nconst v3 = {\n\tattributes: {\n\t\tvalue: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'blockquote',\n\t\t\tmultiline: 'p',\n\t\t\tdefault: '',\n\t\t\t__experimentalRole: 'content',\n\t\t},\n\t\tcitation: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'cite',\n\t\t\tdefault: '',\n\t\t\t__experimentalRole: 'content',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\t__experimentalSlashInserter: true,\n\t\ttypography: {\n\t\t\tfontSize: true,\n\t\t\tlineHeight: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalLetterSpacing: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tfontSize: true,\n\t\t\t\tfontAppearance: true,\n\t\t\t},\n\t\t},\n\t},\n\tsave( { attributes } ) {\n\t\tconst { align, value, citation } = attributes;\n\n\t\tconst className = classnames( {\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} );\n\n\t\treturn (\n\t\t\t<blockquote { ...useBlockProps.save( { className } ) }>\n\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\treturn migrateTextAlign( ...migrateToQuoteV2( attributes ) );\n\t},\n};\n\nconst v2 = {\n\tattributes: {\n\t\tvalue: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'blockquote',\n\t\t\tmultiline: 'p',\n\t\t\tdefault: '',\n\t\t},\n\t\tcitation: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'cite',\n\t\t\tdefault: '',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t},\n\tmigrate( attributes ) {\n\t\treturn migrateTextAlign( ...migrateToQuoteV2( attributes ) );\n\t},\n\tsave( { attributes } ) {\n\t\tconst { align, value, citation } = attributes;\n\n\t\treturn (\n\t\t\t<blockquote style={ { textAlign: align ? align : null } }>\n\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t);\n\t},\n};\n\nconst v1 = {\n\tattributes: {\n\t\tvalue: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'blockquote',\n\t\t\tmultiline: 'p',\n\t\t\tdefault: '',\n\t\t},\n\t\tcitation: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'cite',\n\t\t\tdefault: '',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tstyle: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 1,\n\t\t},\n\t},\n\n\tmigrate( attributes ) {\n\t\tif ( attributes.style === 2 ) {\n\t\t\tconst { style, ...restAttributes } = attributes;\n\t\t\treturn migrateTextAlign(\n\t\t\t\t...migrateLargeStyle( ...migrateToQuoteV2( restAttributes ) )\n\t\t\t);\n\t\t}\n\n\t\treturn migrateTextAlign( ...migrateToQuoteV2( attributes ) );\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { align, value, citation, style } = attributes;\n\n\t\treturn (\n\t\t\t<blockquote\n\t\t\t\tclassName={ style === 2 ? 'is-large' : '' }\n\t\t\t\tstyle={ { textAlign: align ? align : null } }\n\t\t\t>\n\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t);\n\t},\n};\n\nconst v0 = {\n\tattributes: {\n\t\tvalue: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'blockquote',\n\t\t\tmultiline: 'p',\n\t\t\tdefault: '',\n\t\t},\n\t\tcitation: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'footer',\n\t\t\tdefault: '',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tstyle: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 1,\n\t\t},\n\t},\n\n\tmigrate( attributes ) {\n\t\tif ( ! isNaN( parseInt( attributes.style ) ) ) {\n\t\t\tconst { style, ...restAttributes } = attributes;\n\t\t\treturn migrateTextAlign( ...migrateToQuoteV2( restAttributes ) );\n\t\t}\n\n\t\treturn migrateTextAlign( ...migrateToQuoteV2( attributes ) );\n\t},\n\n\tsave( { attributes } ) {\n\t\tconst { align, value, citation, style } = attributes;\n\n\t\treturn (\n\t\t\t<blockquote\n\t\t\t\tclassName={ `blocks-quote-style-${ style }` }\n\t\t\t\tstyle={ { textAlign: align ? align : null } }\n\t\t\t>\n\t\t\t\t<RichText.Content multiline value={ value } />\n\t\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t\t<RichText.Content tagName=\"footer\" value={ citation } />\n\t\t\t\t) }\n\t\t\t</blockquote>\n\t\t);\n\t},\n};\n\n/**\n * New deprecations need to be placed first\n * for them to have higher priority.\n *\n * Old deprecations may need to be updated as well.\n *\n * See block-deprecation.md\n */\nexport default [ v4, v3, v2, v1, v0 ];\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst verse = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default verse;\r\n","/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { BlockQuotation } from '@wordpress/components';\nimport { useDispatch, useRegistry } from '@wordpress/data';\nimport { Platform, useEffect } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\nimport { verse } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { migrateToQuoteV2 } from './deprecated';\nimport { Caption } from '../utils/caption';\n\nconst isWebPlatform = Platform.OS === 'web';\n\nconst TEMPLATE = [ [ 'core/paragraph', {} ] ];\n\n/**\n * At the moment, deprecations don't handle create blocks from attributes\n * (like when using CPT templates). For this reason, this hook is necessary\n * to avoid breaking templates using the old quote block format.\n *\n * @param {Object} attributes Block attributes.\n * @param {string} clientId   Block client ID.\n */\nconst useMigrateOnLoad = ( attributes, clientId ) => {\n\tconst registry = useRegistry();\n\tconst { updateBlockAttributes, replaceInnerBlocks } =\n\t\tuseDispatch( blockEditorStore );\n\tuseEffect( () => {\n\t\t// As soon as the block is loaded, migrate it to the new version.\n\n\t\tif ( ! attributes.value ) {\n\t\t\t// No need to migrate if it doesn't have the value attribute.\n\t\t\treturn;\n\t\t}\n\n\t\tconst [ newAttributes, newInnerBlocks ] =\n\t\t\tmigrateToQuoteV2( attributes );\n\n\t\tdeprecated( 'Value attribute on the quote block', {\n\t\t\tsince: '6.0',\n\t\t\tversion: '6.5',\n\t\t\talternative: 'inner blocks',\n\t\t} );\n\n\t\tregistry.batch( () => {\n\t\t\tupdateBlockAttributes( clientId, newAttributes );\n\t\t\treplaceInnerBlocks( clientId, newInnerBlocks );\n\t\t} );\n\t}, [ attributes.value ] );\n};\n\nexport default function QuoteEdit( {\n\tattributes,\n\tsetAttributes,\n\tinsertBlocksAfter,\n\tclientId,\n\tclassName,\n\tstyle,\n\tisSelected,\n} ) {\n\tconst { textAlign } = attributes;\n\n\tuseMigrateOnLoad( attributes, clientId );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classNames( className, {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t} ),\n\t\t...( ! isWebPlatform && { style } ),\n\t} );\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\ttemplateInsertUpdatesSelection: true,\n\t\t__experimentalCaptureToolbars: true,\n\t\trenderAppender: false,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<BlockQuotation { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t<Caption\n\t\t\t\t\tattributeKey=\"citation\"\n\t\t\t\t\ttagName={ isWebPlatform ? 'cite' : undefined }\n\t\t\t\t\tstyle={ isWebPlatform && { display: 'block' } }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t__unstableMobileNoFocusOnMount\n\t\t\t\t\ticon={ verse }\n\t\t\t\t\tlabel={ __( 'Quote citation' ) }\n\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t// translators: placeholder text used for the\n\t\t\t\t\t\t// citation\n\t\t\t\t\t\t__( 'Add citation' )\n\t\t\t\t\t}\n\t\t\t\t\taddLabel={ __( 'Add citation' ) }\n\t\t\t\t\tremoveLabel={ __( 'Remove citation' ) }\n\t\t\t\t\tclassName=\"wp-block-quote__citation\"\n\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\t\t{ ...( ! isWebPlatform ? { textAlign } : {} ) }\n\t\t\t\t/>\n\t\t\t</BlockQuotation>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText } from '@wordpress/block-editor';\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/pullquote' ],\r\n\t\t\ttransform: ( { value, citation, anchor, fontSize, style } ) => {\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/quote',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcitation,\r\n\t\t\t\t\t\tanchor,\r\n\t\t\t\t\t\tfontSize,\r\n\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[ createBlock( 'core/paragraph', { content: value } ) ]\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'prefix',\r\n\t\t\tprefix: '>',\r\n\t\t\ttransform: ( content ) =>\r\n\t\t\t\tcreateBlock( 'core/quote', {}, [\r\n\t\t\t\t\tcreateBlock( 'core/paragraph', { content } ),\r\n\t\t\t\t] ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tschema: () => ( {\r\n\t\t\t\tblockquote: {\r\n\t\t\t\t\tchildren: '*',\r\n\t\t\t\t},\r\n\t\t\t} ),\r\n\t\t\tselector: 'blockquote',\r\n\t\t\ttransform: ( node, handler ) => {\r\n\t\t\t\treturn createBlock(\r\n\t\t\t\t\t'core/quote',\r\n\t\t\t\t\t// Don't try to parse any `cite` out of this content.\r\n\t\t\t\t\t// * There may be more than one cite.\r\n\t\t\t\t\t// * There may be more attribution text than just the cite.\r\n\t\t\t\t\t// * If the cite is nested in the quoted text, it's wrong to\r\n\t\t\t\t\t//   remove it.\r\n\t\t\t\t\t{},\r\n\t\t\t\t\thandler( {\r\n\t\t\t\t\t\tHTML: node.innerHTML,\r\n\t\t\t\t\t\tmode: 'BLOCKS',\r\n\t\t\t\t\t} )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tisMultiBlock: true,\r\n\t\t\tblocks: [ '*' ],\r\n\t\t\tisMatch: ( {}, blocks ) => {\r\n\t\t\t\t// When a single block is selected make the tranformation\r\n\t\t\t\t// available only to specific blocks that make sense.\r\n\t\t\t\tif ( blocks.length === 1 ) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t'core/paragraph',\r\n\t\t\t\t\t\t'core/heading',\r\n\t\t\t\t\t\t'core/list',\r\n\t\t\t\t\t\t'core/pullquote',\r\n\t\t\t\t\t].includes( blocks[ 0 ].name );\r\n\t\t\t\t}\r\n\t\t\t\treturn ! blocks.some( ( { name } ) => name === 'core/quote' );\r\n\t\t\t},\r\n\t\t\t__experimentalConvert: ( blocks ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/quote',\r\n\t\t\t\t\t{},\r\n\t\t\t\t\tblocks.map( ( block ) =>\r\n\t\t\t\t\t\tcreateBlock(\r\n\t\t\t\t\t\t\tblock.name,\r\n\t\t\t\t\t\t\tblock.attributes,\r\n\t\t\t\t\t\t\tblock.innerBlocks\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/pullquote' ],\r\n\t\t\tisMatch: ( {}, block ) => {\r\n\t\t\t\treturn block.innerBlocks.every(\r\n\t\t\t\t\t( { name } ) => name === 'core/paragraph'\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform: (\r\n\t\t\t\t{ citation, anchor, fontSize, style },\r\n\t\t\t\tinnerBlocks\r\n\t\t\t) => {\r\n\t\t\t\tconst value = innerBlocks\r\n\t\t\t\t\t.map( ( { attributes } ) => `${ attributes.content }` )\r\n\t\t\t\t\t.join( '<br>' );\r\n\t\t\t\treturn createBlock( 'core/pullquote', {\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\tcitation,\r\n\t\t\t\t\tanchor,\r\n\t\t\t\t\tfontSize,\r\n\t\t\t\t\tstyle,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( { citation }, innerBlocks ) =>\r\n\t\t\t\tRichText.isEmpty( citation )\r\n\t\t\t\t\t? innerBlocks\r\n\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t...innerBlocks,\r\n\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t  ],\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/group' ],\r\n\t\t\ttransform: ( { citation, anchor }, innerBlocks ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/group',\r\n\t\t\t\t\t{ anchor },\r\n\t\t\t\t\tRichText.isEmpty( citation )\r\n\t\t\t\t\t\t? innerBlocks\r\n\t\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t\t...innerBlocks,\r\n\t\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t  ]\r\n\t\t\t\t),\r\n\t\t},\r\n\t],\r\n\tungroup: ( { citation }, innerBlocks ) =>\r\n\t\tRichText.isEmpty( citation )\r\n\t\t\t? innerBlocks\r\n\t\t\t: [\r\n\t\t\t\t\t...innerBlocks,\r\n\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\tcontent: citation,\r\n\t\t\t\t\t} ),\r\n\t\t\t  ],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { quote as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcitation: 'Julio Cortázar',\r\n\t\t},\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/paragraph',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tcontent: __( 'In quoting others, we cite ourselves.' ),\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { InnerBlocks, RichText, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst { textAlign, citation } = attributes;\n\n\tconst className = classNames( {\n\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t} );\n\n\treturn (\n\t\t<blockquote { ...useBlockProps.save( { className } ) }>\n\t\t\t<InnerBlocks.Content />\n\t\t\t{ ! RichText.isEmpty( citation ) && (\n\t\t\t\t<RichText.Content tagName=\"cite\" value={ citation } />\n\t\t\t) }\n\t\t</blockquote>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst symbol = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default symbol;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"patterns\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useRegistry, useSelect, useDispatch } from '@wordpress/data';\nimport { useRef, useMemo, useEffect } from '@wordpress/element';\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport {\n\tPlaceholder,\n\tSpinner,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseInnerBlocksProps,\n\tRecursionProvider,\n\tuseHasRecursion,\n\tInnerBlocks,\n\tuseBlockProps,\n\tWarning,\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n\tBlockControls,\n} from '@wordpress/block-editor';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { parse, cloneBlock, store as blocksStore } from '@wordpress/blocks';\nimport { RichTextData } from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport { name as patternBlockName } from './index';\nimport { unlock } from '../lock-unlock';\n\nconst { useLayoutClasses } = unlock( blockEditorPrivateApis );\nconst { isOverridableBlock } = unlock( patternsPrivateApis );\n\nconst fullAlignments = [ 'full', 'wide', 'left', 'right' ];\n\nfunction getLegacyIdMap( blocks, content, nameCount = {} ) {\n\tlet idToClientIdMap = {};\n\tfor ( const block of blocks ) {\n\t\tif ( block?.innerBlocks?.length ) {\n\t\t\tidToClientIdMap = {\n\t\t\t\t...idToClientIdMap,\n\t\t\t\t...getLegacyIdMap( block.innerBlocks, content, nameCount ),\n\t\t\t};\n\t\t}\n\n\t\tconst id = block.attributes.metadata?.id;\n\t\tconst clientId = block.clientId;\n\t\tif ( id && content?.[ id ] ) {\n\t\t\tidToClientIdMap[ clientId ] = id;\n\t\t}\n\t}\n\treturn idToClientIdMap;\n}\n\nconst useInferredLayout = ( blocks, parentLayout ) => {\n\tconst initialInferredAlignmentRef = useRef();\n\n\treturn useMemo( () => {\n\t\t// Exit early if the pattern's blocks haven't loaded yet.\n\t\tif ( ! blocks?.length ) {\n\t\t\treturn {};\n\t\t}\n\n\t\tlet alignment = initialInferredAlignmentRef.current;\n\n\t\t// Only track the initial alignment so that temporarily removed\n\t\t// alignments can be reapplied.\n\t\tif ( alignment === undefined ) {\n\t\t\tconst isConstrained = parentLayout?.type === 'constrained';\n\t\t\tconst hasFullAlignment = blocks.some( ( block ) =>\n\t\t\t\tfullAlignments.includes( block.attributes.align )\n\t\t\t);\n\n\t\t\talignment = isConstrained && hasFullAlignment ? 'full' : null;\n\t\t\tinitialInferredAlignmentRef.current = alignment;\n\t\t}\n\n\t\tconst layout = alignment ? parentLayout : undefined;\n\n\t\treturn { alignment, layout };\n\t}, [ blocks, parentLayout ] );\n};\n\nfunction hasOverridableBlocks( blocks ) {\n\treturn blocks.some( ( block ) => {\n\t\tif ( isOverridableBlock( block ) ) return true;\n\t\treturn hasOverridableBlocks( block.innerBlocks );\n\t} );\n}\n\nfunction getOverridableAttributes( block ) {\n\treturn Object.entries( block.attributes.metadata.bindings )\n\t\t.filter(\n\t\t\t( [ , binding ] ) => binding.source === 'core/pattern-overrides'\n\t\t)\n\t\t.map( ( [ attributeKey ] ) => attributeKey );\n}\n\nfunction applyInitialContentValuesToInnerBlocks(\n\tblocks,\n\tcontent = {},\n\tdefaultValues,\n\tlegacyIdMap\n) {\n\treturn blocks.map( ( block ) => {\n\t\tconst innerBlocks = applyInitialContentValuesToInnerBlocks(\n\t\t\tblock.innerBlocks,\n\t\t\tcontent,\n\t\t\tdefaultValues,\n\t\t\tlegacyIdMap\n\t\t);\n\t\tconst metadataName =\n\t\t\tlegacyIdMap?.[ block.clientId ] ?? block.attributes.metadata?.name;\n\n\t\tif ( ! metadataName || ! isOverridableBlock( block ) ) {\n\t\t\treturn { ...block, innerBlocks };\n\t\t}\n\n\t\tconst attributes = getOverridableAttributes( block );\n\t\tconst newAttributes = { ...block.attributes };\n\t\tfor ( const attributeKey of attributes ) {\n\t\t\tdefaultValues[ metadataName ] ??= {};\n\t\t\tdefaultValues[ metadataName ][ attributeKey ] =\n\t\t\t\tblock.attributes[ attributeKey ];\n\n\t\t\tconst contentValues = content[ metadataName ];\n\t\t\tif ( contentValues?.[ attributeKey ] !== undefined ) {\n\t\t\t\tnewAttributes[ attributeKey ] = contentValues[ attributeKey ];\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\t...block,\n\t\t\tattributes: newAttributes,\n\t\t\tinnerBlocks,\n\t\t};\n\t} );\n}\n\nfunction isAttributeEqual( attribute1, attribute2 ) {\n\tif (\n\t\tattribute1 instanceof RichTextData &&\n\t\tattribute2 instanceof RichTextData\n\t) {\n\t\treturn attribute1.toString() === attribute2.toString();\n\t}\n\treturn attribute1 === attribute2;\n}\n\nfunction getContentValuesFromInnerBlocks( blocks, defaultValues, legacyIdMap ) {\n\t/** @type {Record<string, { values: Record<string, unknown>}>} */\n\tconst content = {};\n\tfor ( const block of blocks ) {\n\t\tif ( block.name === patternBlockName ) continue;\n\t\tif ( block.innerBlocks.length ) {\n\t\t\tObject.assign(\n\t\t\t\tcontent,\n\t\t\t\tgetContentValuesFromInnerBlocks(\n\t\t\t\t\tblock.innerBlocks,\n\t\t\t\t\tdefaultValues,\n\t\t\t\t\tlegacyIdMap\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tconst metadataName =\n\t\t\tlegacyIdMap?.[ block.clientId ] ?? block.attributes.metadata?.name;\n\t\tif ( ! metadataName || ! isOverridableBlock( block ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst attributes = getOverridableAttributes( block );\n\n\t\tfor ( const attributeKey of attributes ) {\n\t\t\tif (\n\t\t\t\t! isAttributeEqual(\n\t\t\t\t\tblock.attributes[ attributeKey ],\n\t\t\t\t\tdefaultValues?.[ metadataName ]?.[ attributeKey ]\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tcontent[ metadataName ] ??= {};\n\t\t\t\t// TODO: We need a way to represent `undefined` in the serialized overrides.\n\t\t\t\t// Also see: https://github.com/WordPress/gutenberg/pull/57249#discussion_r1452987871\n\t\t\t\tcontent[ metadataName ][ attributeKey ] =\n\t\t\t\t\tblock.attributes[ attributeKey ] === undefined\n\t\t\t\t\t\t? // TODO: We use an empty string to represent undefined for now until\n\t\t\t\t\t\t  // we support a richer format for overrides and the block binding API.\n\t\t\t\t\t\t  // Currently only the `linkTarget` attribute of `core/button` is affected.\n\t\t\t\t\t\t  ''\n\t\t\t\t\t\t: block.attributes[ attributeKey ];\n\t\t\t}\n\t\t}\n\t}\n\treturn Object.keys( content ).length > 0 ? content : undefined;\n}\n\nfunction setBlockEditMode( setEditMode, blocks, mode ) {\n\tblocks.forEach( ( block ) => {\n\t\tconst editMode =\n\t\t\tmode ||\n\t\t\t( isOverridableBlock( block ) ? 'contentOnly' : 'disabled' );\n\t\tsetEditMode( block.clientId, editMode );\n\n\t\tsetBlockEditMode(\n\t\t\tsetEditMode,\n\t\t\tblock.innerBlocks,\n\t\t\t// Disable editing for nested patterns.\n\t\t\tblock.name === patternBlockName ? 'disabled' : mode\n\t\t);\n\t} );\n}\n\nexport default function ReusableBlockEdit( {\n\tname,\n\tattributes: { ref, content },\n\t__unstableParentLayout: parentLayout,\n\tclientId: patternClientId,\n\tsetAttributes,\n} ) {\n\tconst registry = useRegistry();\n\tconst hasAlreadyRendered = useHasRecursion( ref );\n\tconst { record, editedRecord, hasResolved } = useEntityRecord(\n\t\t'postType',\n\t\t'wp_block',\n\t\tref\n\t);\n\tconst isMissing = hasResolved && ! record;\n\n\t// The initial value of the `content` attribute.\n\tconst initialContent = useRef( content );\n\n\t// The default content values from the original pattern for overridable attributes.\n\t// Set by the `applyInitialContentValuesToInnerBlocks` function.\n\tconst defaultContent = useRef( {} );\n\n\tconst {\n\t\treplaceInnerBlocks,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\tsetBlockEditingMode,\n\t} = useDispatch( blockEditorStore );\n\tconst { syncDerivedUpdates } = unlock( useDispatch( blockEditorStore ) );\n\n\tconst {\n\t\tinnerBlocks,\n\t\tuserCanEdit,\n\t\tgetBlockEditingMode,\n\t\tonNavigateToEntityRecord,\n\t\teditingMode,\n\t\thasPatternOverridesSource,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser } = select( coreStore );\n\t\t\tconst {\n\t\t\t\tgetBlocks,\n\t\t\t\tgetSettings,\n\t\t\t\tgetBlockEditingMode: _getBlockEditingMode,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst { getBlockBindingsSource } = unlock( select( blocksStore ) );\n\t\t\tconst blocks = getBlocks( patternClientId );\n\t\t\tconst canEdit = canUser( 'update', 'blocks', ref );\n\n\t\t\t// For editing link to the site editor if the theme and user permissions support it.\n\t\t\treturn {\n\t\t\t\tinnerBlocks: blocks,\n\t\t\t\tuserCanEdit: canEdit,\n\t\t\t\tgetBlockEditingMode: _getBlockEditingMode,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\tgetSettings().onNavigateToEntityRecord,\n\t\t\t\teditingMode: _getBlockEditingMode( patternClientId ),\n\t\t\t\thasPatternOverridesSource: !! getBlockBindingsSource(\n\t\t\t\t\t'core/pattern-overrides'\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ patternClientId, ref ]\n\t);\n\n\t// Sync the editing mode of the pattern block with the inner blocks.\n\tuseEffect( () => {\n\t\tsetBlockEditMode(\n\t\t\tsetBlockEditingMode,\n\t\t\tinnerBlocks,\n\t\t\t// Disable editing if the pattern itself is disabled.\n\t\t\teditingMode === 'disabled' || ! hasPatternOverridesSource\n\t\t\t\t? 'disabled'\n\t\t\t\t: undefined\n\t\t);\n\t}, [\n\t\teditingMode,\n\t\tinnerBlocks,\n\t\tsetBlockEditingMode,\n\t\thasPatternOverridesSource,\n\t] );\n\n\tconst canOverrideBlocks = useMemo(\n\t\t() => hasPatternOverridesSource && hasOverridableBlocks( innerBlocks ),\n\t\t[ hasPatternOverridesSource, innerBlocks ]\n\t);\n\n\tconst initialBlocks = useMemo(\n\t\t() =>\n\t\t\t// Clone the blocks to generate new client IDs.\n\t\t\teditedRecord.blocks?.map( ( block ) => cloneBlock( block ) ) ??\n\t\t\t( editedRecord.content && typeof editedRecord.content !== 'function'\n\t\t\t\t? parse( editedRecord.content )\n\t\t\t\t: [] ),\n\t\t[ editedRecord.blocks, editedRecord.content ]\n\t);\n\n\tconst legacyIdMap = useRef( {} );\n\n\t// Apply the initial overrides from the pattern block to the inner blocks.\n\tuseEffect( () => {\n\t\t// Build a map of clientIds to the old nano id system to provide back compat.\n\t\tlegacyIdMap.current = getLegacyIdMap(\n\t\t\tinitialBlocks,\n\t\t\tinitialContent.current\n\t\t);\n\t\tdefaultContent.current = {};\n\t\tconst originalEditingMode = getBlockEditingMode( patternClientId );\n\t\t// Replace the contents of the blocks with the overrides.\n\t\tregistry.batch( () => {\n\t\t\tsetBlockEditingMode( patternClientId, 'default' );\n\t\t\tsyncDerivedUpdates( () => {\n\t\t\t\tconst blocks = hasPatternOverridesSource\n\t\t\t\t\t? applyInitialContentValuesToInnerBlocks(\n\t\t\t\t\t\t\tinitialBlocks,\n\t\t\t\t\t\t\tinitialContent.current,\n\t\t\t\t\t\t\tdefaultContent.current,\n\t\t\t\t\t\t\tlegacyIdMap.current\n\t\t\t\t\t  )\n\t\t\t\t\t: initialBlocks;\n\n\t\t\t\treplaceInnerBlocks( patternClientId, blocks );\n\t\t\t} );\n\t\t\tsetBlockEditingMode( patternClientId, originalEditingMode );\n\t\t} );\n\t}, [\n\t\thasPatternOverridesSource,\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\tpatternClientId,\n\t\tinitialBlocks,\n\t\treplaceInnerBlocks,\n\t\tregistry,\n\t\tgetBlockEditingMode,\n\t\tsetBlockEditingMode,\n\t\tsyncDerivedUpdates,\n\t] );\n\n\tconst { alignment, layout } = useInferredLayout(\n\t\tinnerBlocks,\n\t\tparentLayout\n\t);\n\tconst layoutClasses = useLayoutClasses( { layout }, name );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames(\n\t\t\t'block-library-block__reusable-block-container',\n\t\t\tlayout && layoutClasses,\n\t\t\t{ [ `align${ alignment }` ]: alignment }\n\t\t),\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplateLock: 'all',\n\t\tlayout,\n\t\trenderAppender: innerBlocks?.length\n\t\t\t? undefined\n\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t} );\n\n\t// Sync the `content` attribute from the updated blocks to the pattern block.\n\t// `syncDerivedUpdates` is used here to avoid creating an additional undo level.\n\tuseEffect( () => {\n\t\tif ( ! hasPatternOverridesSource ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { getBlocks } = registry.select( blockEditorStore );\n\t\tlet prevBlocks = getBlocks( patternClientId );\n\t\treturn registry.subscribe( () => {\n\t\t\tconst blocks = getBlocks( patternClientId );\n\t\t\tif ( blocks !== prevBlocks ) {\n\t\t\t\tprevBlocks = blocks;\n\t\t\t\tsyncDerivedUpdates( () => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tcontent: getContentValuesFromInnerBlocks(\n\t\t\t\t\t\t\tblocks,\n\t\t\t\t\t\t\tdefaultContent.current,\n\t\t\t\t\t\t\tlegacyIdMap.current\n\t\t\t\t\t\t),\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t}, blockEditorStore );\n\t}, [\n\t\thasPatternOverridesSource,\n\t\tsyncDerivedUpdates,\n\t\tpatternClientId,\n\t\tregistry,\n\t\tsetAttributes,\n\t] );\n\n\tconst handleEditOriginal = () => {\n\t\tonNavigateToEntityRecord( {\n\t\t\tpostId: ref,\n\t\t\tpostType: 'wp_block',\n\t\t} );\n\t};\n\n\tconst resetContent = () => {\n\t\tif ( content ) {\n\t\t\treplaceInnerBlocks( patternClientId, initialBlocks );\n\t\t}\n\t};\n\n\tlet children = null;\n\n\tif ( hasAlreadyRendered ) {\n\t\tchildren = (\n\t\t\t<Warning>\n\t\t\t\t{ __( 'Block cannot be rendered inside itself.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n\n\tif ( isMissing ) {\n\t\tchildren = (\n\t\t\t<Warning>\n\t\t\t\t{ __( 'Block has been deleted or is unavailable.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n\n\tif ( ! hasResolved ) {\n\t\tchildren = (\n\t\t\t<Placeholder>\n\t\t\t\t<Spinner />\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\treturn (\n\t\t<RecursionProvider uniqueId={ ref }>\n\t\t\t{ userCanEdit && onNavigateToEntityRecord && (\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarButton onClick={ handleEditOriginal }>\n\t\t\t\t\t\t\t{ __( 'Edit original' ) }\n\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\n\t\t\t{ canOverrideBlocks && (\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tonClick={ resetContent }\n\t\t\t\t\t\t\tdisabled={ ! content }\n\t\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\n\t\t\t{ children === null ? (\n\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t) : (\n\t\t\t\t<div { ...blockProps }>{ children }</div>\n\t\t\t) }\n\t\t</RecursionProvider>\n\t);\n}\n","const isObject = ( obj ) =>\n\ttypeof obj === 'object' && ! Array.isArray( obj ) && obj !== null;\n\n// v2: Migrate to a more condensed version of the 'content' attribute attribute.\nconst v2 = {\n\tattributes: {\n\t\tref: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tcontent: {\n\t\t\ttype: 'object',\n\t\t},\n\t},\n\tsupports: {\n\t\tcustomClassName: false,\n\t\thtml: false,\n\t\tinserter: false,\n\t\trenaming: false,\n\t},\n\t// Force this deprecation to run whenever there's a values sub-property that's an object.\n\t//\n\t// This could fail in the future if a block ever has binding to a `values` attribute.\n\t// Some extra protection is added to ensure `values` is an object, but this only reduces\n\t// the likelihood, it doesn't solve it completely.\n\tisEligible( { content } ) {\n\t\treturn (\n\t\t\t!! content &&\n\t\t\tObject.keys( content ).every(\n\t\t\t\t( contentKey ) =>\n\t\t\t\t\tcontent[ contentKey ].values &&\n\t\t\t\t\tisObject( content[ contentKey ].values )\n\t\t\t)\n\t\t);\n\t},\n\t/*\n\t * Old attribute format:\n\t * content: {\n\t *     \"V98q_x\": {\n\t * \t   \t\t// The attribute values are now stored as a 'values' sub-property.\n\t *         values: { content: 'My content value' },\n\t * \t       // ... additional metadata, like the block name can be stored here.\n\t *     }\n\t * }\n\t *\n\t * New attribute format:\n\t * content: {\n\t *     \"V98q_x\": {\n\t *         content: 'My content value',\n\t *     }\n\t * }\n\t */\n\tmigrate( attributes ) {\n\t\tconst { content, ...retainedAttributes } = attributes;\n\n\t\tif ( content && Object.keys( content ).length ) {\n\t\t\tconst updatedContent = { ...content };\n\n\t\t\tfor ( const contentKey in content ) {\n\t\t\t\tupdatedContent[ contentKey ] = content[ contentKey ].values;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...retainedAttributes,\n\t\t\t\tcontent: updatedContent,\n\t\t\t};\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\n\n// v1: Rename the `overrides` attribute to the `content` attribute.\nconst v1 = {\n\tattributes: {\n\t\tref: {\n\t\t\ttype: 'number',\n\t\t},\n\t\toverrides: {\n\t\t\ttype: 'object',\n\t\t},\n\t},\n\tsupports: {\n\t\tcustomClassName: false,\n\t\thtml: false,\n\t\tinserter: false,\n\t\trenaming: false,\n\t},\n\t// Force this deprecation to run whenever there's an `overrides` object.\n\tisEligible( { overrides } ) {\n\t\treturn !! overrides;\n\t},\n\t/*\n\t * Old attribute format:\n\t * overrides: {\n\t *     // An key is an id that represents a block.\n\t *     // The values are the attribute values of the block.\n\t *     \"V98q_x\": { content: 'My content value' }\n\t * }\n\t *\n\t * New attribute format:\n\t * content: {\n\t *     \"V98q_x\": { content: 'My content value' }\n\t * }\n\t *\n\t */\n\tmigrate( attributes ) {\n\t\tconst { overrides, ...retainedAttributes } = attributes;\n\n\t\tconst content = {};\n\n\t\tObject.keys( overrides ).forEach( ( id ) => {\n\t\t\tcontent[ id ] = overrides[ id ];\n\t\t} );\n\n\t\treturn {\n\t\t\t...retainedAttributes,\n\t\t\tcontent,\n\t\t};\n\t},\n};\n\nexport default [ v2, v1 ];\n","/**\n * WordPress dependencies\n */\nimport { symbol as icon } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { select } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport metadata from './block.json';\nimport edit from './edit';\nimport deprecated from './deprecated';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\tdeprecated,\n\tedit,\n\ticon,\n\t__experimentalLabel: ( { ref } ) => {\n\t\tif ( ! ref ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst entity = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_block',\n\t\t\tref\n\t\t);\n\t\tif ( ! entity?.title ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn decodeEntities( entity.title );\n\t},\n};\n\nexport const init = () => initBlock( { name, metadata, settings } );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { link as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { ToggleControl, PanelBody } from '@wordpress/components';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ReadMore( {\n\tattributes: { content, linkTarget },\n\tsetAttributes,\n\tinsertBlocksAfter,\n} ) {\n\tconst blockProps = useBlockProps();\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\ttagName=\"a\"\n\t\t\t\taria-label={ __( '“Read more” link text' ) }\n\t\t\t\tplaceholder={ __( 'Read more' ) }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\tsetAttributes( { content: newValue } )\n\t\t\t\t}\n\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\n\t\t\t\t}\n\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t{ ...blockProps }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst rss = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M5 10.2h-.8v1.5H5c1.9 0 3.8.8 5.1 2.1 1.4 1.4 2.1 3.2 2.1 5.1v.8h1.5V19c0-2.3-.9-4.5-2.6-6.2-1.6-1.6-3.8-2.6-6.1-2.6zm10.4-1.6C12.6 5.8 8.9 4.2 5 4.2h-.8v1.5H5c3.5 0 6.9 1.4 9.4 3.9s3.9 5.8 3.9 9.4v.8h1.5V19c0-3.9-1.6-7.6-4.4-10.4zM4 20h3v-3H4v3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default rss;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { rss as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tfeedURL: 'https://wordpress.org',\r\n\t\t},\r\n\t},\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tBlockControls,\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tButton,\r\n\tDisabled,\r\n\tPanelBody,\r\n\tPlaceholder,\r\n\tRangeControl,\r\n\tToggleControl,\r\n\tToolbarGroup,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalInputControl as InputControl,\r\n} from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\nimport { grid, list, edit, rss } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { prependHTTP } from '@wordpress/url';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\n\r\nconst DEFAULT_MIN_ITEMS = 1;\r\nconst DEFAULT_MAX_ITEMS = 20;\r\n\r\nexport default function RSSEdit( { attributes, setAttributes } ) {\r\n\tconst [ isEditing, setIsEditing ] = useState( ! attributes.feedURL );\r\n\r\n\tconst {\r\n\t\tblockLayout,\r\n\t\tcolumns,\r\n\t\tdisplayAuthor,\r\n\t\tdisplayDate,\r\n\t\tdisplayExcerpt,\r\n\t\texcerptLength,\r\n\t\tfeedURL,\r\n\t\titemsToShow,\r\n\t} = attributes;\r\n\r\n\tfunction toggleAttribute( propName ) {\r\n\t\treturn () => {\r\n\t\t\tconst value = attributes[ propName ];\r\n\r\n\t\t\tsetAttributes( { [ propName ]: ! value } );\r\n\t\t};\r\n\t}\r\n\r\n\tfunction onSubmitURL( event ) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( feedURL ) {\r\n\t\t\tsetAttributes( { feedURL: prependHTTP( feedURL ) } );\r\n\t\t\tsetIsEditing( false );\r\n\t\t}\r\n\t}\r\n\r\n\tconst blockProps = useBlockProps();\r\n\r\n\tif ( isEditing ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Placeholder icon={ rss } label=\"RSS\">\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={ onSubmitURL }\r\n\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-form\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<HStack wrap>\r\n\t\t\t\t\t\t\t<InputControl\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t\tplaceholder={ __( 'Enter URL here…' ) }\r\n\t\t\t\t\t\t\t\tvalue={ feedURL }\r\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclassName=\"wp-block-rss__placeholder-input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ __( 'Use URL' ) }\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</HStack>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Placeholder>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tconst toolbarControls = [\r\n\t\t{\r\n\t\t\ticon: edit,\r\n\t\t\ttitle: __( 'Edit RSS URL' ),\r\n\t\t\tonClick: () => setIsEditing( true ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: list,\r\n\t\t\ttitle: __( 'List view' ),\r\n\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\r\n\t\t\tisActive: blockLayout === 'list',\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: grid,\r\n\t\t\ttitle: __( 'Grid view' ),\r\n\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\r\n\t\t\tisActive: blockLayout === 'grid',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\r\n\t\t\t\t\t\tvalue={ itemsToShow }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\r\n\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display author' ) }\r\n\t\t\t\t\t\tchecked={ displayAuthor }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayAuthor' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display date' ) }\r\n\t\t\t\t\t\tchecked={ displayDate }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayDate' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\r\n\t\t\t\t\t\tchecked={ displayExcerpt }\r\n\t\t\t\t\t\tonChange={ toggleAttribute( 'displayExcerpt' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ displayExcerpt && (\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\r\n\t\t\t\t\t\t\tvalue={ excerptLength }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmin={ 10 }\r\n\t\t\t\t\t\t\tmax={ 100 }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t\t{ blockLayout === 'grid' && (\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\r\n\t\t\t\t\t\t\tvalue={ columns }\r\n\t\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmin={ 2 }\r\n\t\t\t\t\t\t\tmax={ 6 }\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t<ServerSideRender\r\n\t\t\t\t\t\tblock=\"core/rss\"\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst search = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default search;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Rect } from '@wordpress/components';\r\n\r\nexport const buttonOnly = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect x=\"7\" y=\"10\" width=\"10\" height=\"4\" rx=\"1\" fill=\"currentColor\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const buttonOutside = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect\r\n\t\t\tx=\"4.75\"\r\n\t\t\ty=\"15.25\"\r\n\t\t\twidth=\"6.5\"\r\n\t\t\theight=\"9.5\"\r\n\t\t\ttransform=\"rotate(-90 4.75 15.25)\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t\tfill=\"none\"\r\n\t\t/>\r\n\t\t<Rect x=\"16\" y=\"10\" width=\"4\" height=\"4\" rx=\"1\" fill=\"currentColor\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const buttonInside = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect\r\n\t\t\tx=\"4.75\"\r\n\t\t\ty=\"15.25\"\r\n\t\t\twidth=\"6.5\"\r\n\t\t\theight=\"14.5\"\r\n\t\t\ttransform=\"rotate(-90 4.75 15.25)\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t\tfill=\"none\"\r\n\t\t/>\r\n\t\t<Rect x=\"14\" y=\"10\" width=\"4\" height=\"4\" rx=\"1\" fill=\"currentColor\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const noButton = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect\r\n\t\t\tx=\"4.75\"\r\n\t\t\ty=\"15.25\"\r\n\t\t\twidth=\"6.5\"\r\n\t\t\theight=\"14.5\"\r\n\t\t\ttransform=\"rotate(-90 4.75 15.25)\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t\tfill=\"none\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport const buttonWithIcon = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect\r\n\t\t\tx=\"4.75\"\r\n\t\t\ty=\"7.75\"\r\n\t\t\twidth=\"14.5\"\r\n\t\t\theight=\"8.5\"\r\n\t\t\trx=\"1.25\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t\tfill=\"none\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t/>\r\n\t\t<Rect x=\"8\" y=\"11\" width=\"8\" height=\"2\" fill=\"currentColor\" />\r\n\t</SVG>\r\n);\r\n\r\nexport const toggleLabel = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Rect\r\n\t\t\tx=\"4.75\"\r\n\t\t\ty=\"17.25\"\r\n\t\t\twidth=\"5.5\"\r\n\t\t\theight=\"14.5\"\r\n\t\t\ttransform=\"rotate(-90 4.75 17.25)\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t\tfill=\"none\"\r\n\t\t\tstrokeWidth=\"1.5\"\r\n\t\t/>\r\n\t\t<Rect x=\"4\" y=\"7\" width=\"10\" height=\"2\" fill=\"currentColor\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * Constants\r\n */\r\nexport const PC_WIDTH_DEFAULT = 50;\r\nexport const PX_WIDTH_DEFAULT = 350;\r\nexport const MIN_WIDTH = 220;\r\n\r\n/**\r\n * Returns a boolean whether passed unit is percentage\r\n *\r\n * @param {string} unit Block width unit.\r\n *\r\n * @return {boolean} \tWhether unit is '%'.\r\n */\r\nexport function isPercentageUnit( unit ) {\r\n\treturn unit === '%';\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tname: 'default',\r\n\t\tisDefault: true,\r\n\t\tattributes: { buttonText: __( 'Search' ), label: __( 'Search' ) },\r\n\t},\r\n];\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { search as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: { buttonText: __( 'Search' ), label: __( 'Search' ) },\r\n\t\tviewportWidth: 400,\r\n\t},\r\n\tvariations,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\t__experimentalUseBorderProps as useBorderProps,\n\t__experimentalUseColorProps as useColorProps,\n\tgetTypographyClassesAndStyles as useTypographyProps,\n\tstore as blockEditorStore,\n\t__experimentalGetElementClassName,\n\tuseSettings,\n} from '@wordpress/block-editor';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\nimport {\n\tToolbarDropdownMenu,\n\tToolbarGroup,\n\tButton,\n\tButtonGroup,\n\tToolbarButton,\n\tResizableBox,\n\tPanelBody,\n\tBaseControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalUnitControl as UnitControl,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { Icon, search } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport {\n\tbuttonOnly,\n\tbuttonOutside,\n\tbuttonInside,\n\tnoButton,\n\tbuttonWithIcon,\n\ttoggleLabel,\n} from './icons';\nimport {\n\tPC_WIDTH_DEFAULT,\n\tPX_WIDTH_DEFAULT,\n\tMIN_WIDTH,\n\tisPercentageUnit,\n} from './utils.js';\n\n// Used to calculate border radius adjustment to avoid \"fat\" corners when\n// button is placed inside wrapper.\nconst DEFAULT_INNER_PADDING = '4px';\n\nexport default function SearchEdit( {\n\tclassName,\n\tattributes,\n\tsetAttributes,\n\ttoggleSelection,\n\tisSelected,\n\tclientId,\n} ) {\n\tconst {\n\t\tlabel,\n\t\tshowLabel,\n\t\tplaceholder,\n\t\twidth,\n\t\twidthUnit,\n\t\talign,\n\t\tbuttonText,\n\t\tbuttonPosition,\n\t\tbuttonUseIcon,\n\t\tisSearchFieldHidden,\n\t\tstyle,\n\t} = attributes;\n\n\tconst wasJustInsertedIntoNavigationBlock = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockParentsByBlockName, wasBlockJustInserted } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn (\n\t\t\t\t!! getBlockParentsByBlockName( clientId, 'core/navigation' )\n\t\t\t\t\t?.length && wasBlockJustInserted( clientId )\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( wasJustInsertedIntoNavigationBlock ) {\n\t\t\t// This side-effect should not create an undo level.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tshowLabel: false,\n\t\t\t\tbuttonUseIcon: true,\n\t\t\t\tbuttonPosition: 'button-inside',\n\t\t\t} );\n\t\t}\n\t}, [\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\twasJustInsertedIntoNavigationBlock,\n\t\tsetAttributes,\n\t] );\n\n\tconst borderRadius = style?.border?.radius;\n\tconst borderProps = useBorderProps( attributes );\n\n\t// Check for old deprecated numerical border radius. Done as a separate\n\t// check so that a borderRadius style won't overwrite the longhand\n\t// per-corner styles.\n\tif ( typeof borderRadius === 'number' ) {\n\t\tborderProps.style.borderRadius = `${ borderRadius }px`;\n\t}\n\n\tconst colorProps = useColorProps( attributes );\n\tconst [ fluidTypographySettings, layout ] = useSettings(\n\t\t'typography.fluid',\n\t\t'layout'\n\t);\n\tconst typographyProps = useTypographyProps( attributes, {\n\t\ttypography: {\n\t\t\tfluid: fluidTypographySettings,\n\t\t},\n\t\tlayout: {\n\t\t\twideSize: layout?.wideSize,\n\t\t},\n\t} );\n\tconst unitControlInstanceId = useInstanceId( UnitControl );\n\tconst unitControlInputId = `wp-block-search__width-${ unitControlInstanceId }`;\n\tconst isButtonPositionInside = 'button-inside' === buttonPosition;\n\tconst isButtonPositionOutside = 'button-outside' === buttonPosition;\n\tconst hasNoButton = 'no-button' === buttonPosition;\n\tconst hasOnlyButton = 'button-only' === buttonPosition;\n\tconst searchFieldRef = useRef();\n\tconst buttonRef = useRef();\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: [ '%', 'px' ],\n\t\tdefaultValues: { '%': PC_WIDTH_DEFAULT, px: PX_WIDTH_DEFAULT },\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( hasOnlyButton && ! isSelected ) {\n\t\t\tsetAttributes( {\n\t\t\t\tisSearchFieldHidden: true,\n\t\t\t} );\n\t\t}\n\t}, [ hasOnlyButton, isSelected, setAttributes ] );\n\n\t// Show the search field when width changes.\n\tuseEffect( () => {\n\t\tif ( ! hasOnlyButton || ! isSelected ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\tisSearchFieldHidden: false,\n\t\t} );\n\t}, [ hasOnlyButton, isSelected, setAttributes, width ] );\n\n\tconst getBlockClassNames = () => {\n\t\treturn classnames(\n\t\t\tclassName,\n\t\t\tisButtonPositionInside\n\t\t\t\t? 'wp-block-search__button-inside'\n\t\t\t\t: undefined,\n\t\t\tisButtonPositionOutside\n\t\t\t\t? 'wp-block-search__button-outside'\n\t\t\t\t: undefined,\n\t\t\thasNoButton ? 'wp-block-search__no-button' : undefined,\n\t\t\thasOnlyButton ? 'wp-block-search__button-only' : undefined,\n\t\t\t! buttonUseIcon && ! hasNoButton\n\t\t\t\t? 'wp-block-search__text-button'\n\t\t\t\t: undefined,\n\t\t\tbuttonUseIcon && ! hasNoButton\n\t\t\t\t? 'wp-block-search__icon-button'\n\t\t\t\t: undefined,\n\t\t\thasOnlyButton && isSearchFieldHidden\n\t\t\t\t? 'wp-block-search__searchfield-hidden'\n\t\t\t\t: undefined\n\t\t);\n\t};\n\n\tconst buttonPositionControls = [\n\t\t{\n\t\t\trole: 'menuitemradio',\n\t\t\ttitle: __( 'Button outside' ),\n\t\t\tisActive: buttonPosition === 'button-outside',\n\t\t\ticon: buttonOutside,\n\t\t\tonClick: () => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tbuttonPosition: 'button-outside',\n\t\t\t\t\tisSearchFieldHidden: false,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\trole: 'menuitemradio',\n\t\t\ttitle: __( 'Button inside' ),\n\t\t\tisActive: buttonPosition === 'button-inside',\n\t\t\ticon: buttonInside,\n\t\t\tonClick: () => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tbuttonPosition: 'button-inside',\n\t\t\t\t\tisSearchFieldHidden: false,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\trole: 'menuitemradio',\n\t\t\ttitle: __( 'No button' ),\n\t\t\tisActive: buttonPosition === 'no-button',\n\t\t\ticon: noButton,\n\t\t\tonClick: () => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tbuttonPosition: 'no-button',\n\t\t\t\t\tisSearchFieldHidden: false,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\trole: 'menuitemradio',\n\t\t\ttitle: __( 'Button only' ),\n\t\t\tisActive: buttonPosition === 'button-only',\n\t\t\ticon: buttonOnly,\n\t\t\tonClick: () => {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tbuttonPosition: 'button-only',\n\t\t\t\t\tisSearchFieldHidden: true,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t];\n\n\tconst getButtonPositionIcon = () => {\n\t\tswitch ( buttonPosition ) {\n\t\t\tcase 'button-inside':\n\t\t\t\treturn buttonInside;\n\t\t\tcase 'button-outside':\n\t\t\t\treturn buttonOutside;\n\t\t\tcase 'no-button':\n\t\t\t\treturn noButton;\n\t\t\tcase 'button-only':\n\t\t\t\treturn buttonOnly;\n\t\t}\n\t};\n\n\tconst getResizableSides = () => {\n\t\tif ( hasOnlyButton ) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn {\n\t\t\tright: align !== 'right',\n\t\t\tleft: align === 'right',\n\t\t};\n\t};\n\n\tconst renderTextField = () => {\n\t\t// If the input is inside the wrapper, the wrapper gets the border color styles/classes, not the input control.\n\t\tconst textFieldClasses = classnames(\n\t\t\t'wp-block-search__input',\n\t\t\tisButtonPositionInside ? undefined : borderProps.className,\n\t\t\ttypographyProps.className\n\t\t);\n\t\tconst textFieldStyles = {\n\t\t\t...( isButtonPositionInside\n\t\t\t\t? { borderRadius }\n\t\t\t\t: borderProps.style ),\n\t\t\t...typographyProps.style,\n\t\t\ttextDecoration: undefined,\n\t\t};\n\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype=\"search\"\n\t\t\t\tclassName={ textFieldClasses }\n\t\t\t\tstyle={ textFieldStyles }\n\t\t\t\taria-label={ __( 'Optional placeholder text' ) }\n\t\t\t\t// We hide the placeholder field's placeholder when there is a value. This\n\t\t\t\t// stops screen readers from reading the placeholder field's placeholder\n\t\t\t\t// which is confusing.\n\t\t\t\tplaceholder={\n\t\t\t\t\tplaceholder ? undefined : __( 'Optional placeholder…' )\n\t\t\t\t}\n\t\t\t\tvalue={ placeholder }\n\t\t\t\tonChange={ ( event ) =>\n\t\t\t\t\tsetAttributes( { placeholder: event.target.value } )\n\t\t\t\t}\n\t\t\t\tref={ searchFieldRef }\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst renderButton = () => {\n\t\t// If the button is inside the wrapper, the wrapper gets the border color styles/classes, not the button.\n\t\tconst buttonClasses = classnames(\n\t\t\t'wp-block-search__button',\n\t\t\tcolorProps.className,\n\t\t\ttypographyProps.className,\n\t\t\tisButtonPositionInside ? undefined : borderProps.className,\n\t\t\tbuttonUseIcon ? 'has-icon' : undefined,\n\t\t\t__experimentalGetElementClassName( 'button' )\n\t\t);\n\t\tconst buttonStyles = {\n\t\t\t...colorProps.style,\n\t\t\t...typographyProps.style,\n\t\t\t...( isButtonPositionInside\n\t\t\t\t? { borderRadius }\n\t\t\t\t: borderProps.style ),\n\t\t};\n\t\tconst handleButtonClick = () => {\n\t\t\tif ( hasOnlyButton ) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\tisSearchFieldHidden: ! isSearchFieldHidden,\n\t\t\t\t} );\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ buttonUseIcon && (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={ buttonClasses }\n\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\tbuttonText\n\t\t\t\t\t\t\t\t? stripHTML( buttonText )\n\t\t\t\t\t\t\t\t: __( 'Search' )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={ handleButtonClick }\n\t\t\t\t\t\tref={ buttonRef }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={ search } />\n\t\t\t\t\t</button>\n\t\t\t\t) }\n\n\t\t\t\t{ ! buttonUseIcon && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"buttonText\"\n\t\t\t\t\t\tclassName={ buttonClasses }\n\t\t\t\t\t\tstyle={ buttonStyles }\n\t\t\t\t\t\taria-label={ __( 'Button text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Add button text…' ) }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tvalue={ buttonText }\n\t\t\t\t\t\tonChange={ ( html ) =>\n\t\t\t\t\t\t\tsetAttributes( { buttonText: html } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={ handleButtonClick }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst controls = (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ttitle={ __( 'Toggle search label' ) }\n\t\t\t\t\t\ticon={ toggleLabel }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowLabel: ! showLabel,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tclassName={ showLabel ? 'is-pressed' : undefined }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\t\ticon={ getButtonPositionIcon() }\n\t\t\t\t\t\tlabel={ __( 'Change button position' ) }\n\t\t\t\t\t\tcontrols={ buttonPositionControls }\n\t\t\t\t\t/>\n\t\t\t\t\t{ ! hasNoButton && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ttitle={ __( 'Use button with icon' ) }\n\t\t\t\t\t\t\ticon={ buttonWithIcon }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tbuttonUseIcon: ! buttonUseIcon,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\tbuttonUseIcon ? 'is-pressed' : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tid={ unitControlInputId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\tid={ unitControlInputId }\n\t\t\t\t\t\t\tmin={\n\t\t\t\t\t\t\t\tisPercentageUnit( widthUnit ) ? 0 : MIN_WIDTH\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmax={\n\t\t\t\t\t\t\t\tisPercentageUnit( widthUnit ) ? 100 : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\tonChange={ ( newWidth ) => {\n\t\t\t\t\t\t\t\tconst filteredWidth =\n\t\t\t\t\t\t\t\t\twidthUnit === '%' &&\n\t\t\t\t\t\t\t\t\tparseInt( newWidth, 10 ) > 100\n\t\t\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t\t\t: newWidth;\n\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\twidth: parseInt( filteredWidth, 10 ),\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonUnitChange={ ( newUnit ) => {\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\t\t\t'%' === newUnit\n\t\t\t\t\t\t\t\t\t\t\t? PC_WIDTH_DEFAULT\n\t\t\t\t\t\t\t\t\t\t\t: PX_WIDTH_DEFAULT,\n\t\t\t\t\t\t\t\t\twidthUnit: newUnit,\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t__unstableInputWidth={ '80px' }\n\t\t\t\t\t\t\tvalue={ `${ width }${ widthUnit }` }\n\t\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\tclassName=\"wp-block-search__components-button-group\"\n\t\t\t\t\t\t\taria-label={ __( 'Percentage Width' ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ [ 25, 50, 75, 100 ].map( ( widthValue ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={ widthValue }\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\twidthValue === width &&\n\t\t\t\t\t\t\t\t\t\t\twidthUnit === '%'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'primary'\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\twidth: widthValue,\n\t\t\t\t\t\t\t\t\t\t\t\twidthUnit: '%',\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ widthValue }%\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tconst padBorderRadius = ( radius ) =>\n\t\tradius ? `calc(${ radius } + ${ DEFAULT_INNER_PADDING })` : undefined;\n\n\tconst getWrapperStyles = () => {\n\t\tconst styles = isButtonPositionInside\n\t\t\t? borderProps.style\n\t\t\t: {\n\t\t\t\t\tborderRadius: borderProps.style?.borderRadius,\n\t\t\t\t\tborderTopLeftRadius: borderProps.style?.borderTopLeftRadius,\n\t\t\t\t\tborderTopRightRadius:\n\t\t\t\t\t\tborderProps.style?.borderTopRightRadius,\n\t\t\t\t\tborderBottomLeftRadius:\n\t\t\t\t\t\tborderProps.style?.borderBottomLeftRadius,\n\t\t\t\t\tborderBottomRightRadius:\n\t\t\t\t\t\tborderProps.style?.borderBottomRightRadius,\n\t\t\t  };\n\n\t\tconst isNonZeroBorderRadius =\n\t\t\tborderRadius !== undefined && parseInt( borderRadius, 10 ) !== 0;\n\n\t\tif ( isButtonPositionInside && isNonZeroBorderRadius ) {\n\t\t\t// We have button inside wrapper and a border radius value to apply.\n\t\t\t// Add default padding so we don't get \"fat\" corners.\n\t\t\t//\n\t\t\t// CSS calc() is used here to support non-pixel units. The inline\n\t\t\t// style using calc() will only apply if both values have units.\n\n\t\t\tif ( typeof borderRadius === 'object' ) {\n\t\t\t\t// Individual corner border radii present.\n\t\t\t\tconst { topLeft, topRight, bottomLeft, bottomRight } =\n\t\t\t\t\tborderRadius;\n\n\t\t\t\treturn {\n\t\t\t\t\t...styles,\n\t\t\t\t\tborderTopLeftRadius: padBorderRadius( topLeft ),\n\t\t\t\t\tborderTopRightRadius: padBorderRadius( topRight ),\n\t\t\t\t\tborderBottomLeftRadius: padBorderRadius( bottomLeft ),\n\t\t\t\t\tborderBottomRightRadius: padBorderRadius( bottomRight ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// The inline style using calc() will only apply if both values\n\t\t\t// supplied to calc() have units. Deprecated block's may have\n\t\t\t// unitless integer.\n\t\t\tconst radius = Number.isInteger( borderRadius )\n\t\t\t\t? `${ borderRadius }px`\n\t\t\t\t: borderRadius;\n\n\t\t\tstyles.borderRadius = `calc(${ radius } + ${ DEFAULT_INNER_PADDING })`;\n\t\t}\n\n\t\treturn styles;\n\t};\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: getBlockClassNames(),\n\t\tstyle: {\n\t\t\t...typographyProps.style,\n\t\t\t// Input opts out of text decoration.\n\t\t\ttextDecoration: undefined,\n\t\t},\n\t} );\n\n\tconst labelClassnames = classnames(\n\t\t'wp-block-search__label',\n\t\ttypographyProps.className\n\t);\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{ controls }\n\n\t\t\t{ showLabel && (\n\t\t\t\t<RichText\n\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\tclassName={ labelClassnames }\n\t\t\t\t\taria-label={ __( 'Label text' ) }\n\t\t\t\t\tplaceholder={ __( 'Add label…' ) }\n\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\tvalue={ label }\n\t\t\t\t\tonChange={ ( html ) => setAttributes( { label: html } ) }\n\t\t\t\t\tstyle={ typographyProps.style }\n\t\t\t\t/>\n\t\t\t) }\n\n\t\t\t<ResizableBox\n\t\t\t\tsize={ {\n\t\t\t\t\twidth: `${ width }${ widthUnit }`,\n\t\t\t\t} }\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'wp-block-search__inside-wrapper',\n\t\t\t\t\tisButtonPositionInside ? borderProps.className : undefined\n\t\t\t\t) }\n\t\t\t\tstyle={ getWrapperStyles() }\n\t\t\t\tminWidth={ MIN_WIDTH }\n\t\t\t\tenable={ getResizableSides() }\n\t\t\t\tonResizeStart={ ( event, direction, elt ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: parseInt( elt.offsetWidth, 10 ),\n\t\t\t\t\t\twidthUnit: 'px',\n\t\t\t\t\t} );\n\t\t\t\t\ttoggleSelection( false );\n\t\t\t\t} }\n\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: parseInt( width + delta.width, 10 ),\n\t\t\t\t\t} );\n\t\t\t\t\ttoggleSelection( true );\n\t\t\t\t} }\n\t\t\t\tshowHandle={ isSelected }\n\t\t\t>\n\t\t\t\t{ ( isButtonPositionInside ||\n\t\t\t\t\tisButtonPositionOutside ||\n\t\t\t\t\thasOnlyButton ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ renderTextField() }\n\t\t\t\t\t\t{ renderButton() }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\n\t\t\t\t{ hasNoButton && renderTextField() }\n\t\t\t</ResizableBox>\n\t\t</div>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst separator = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default separator;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'enter',\r\n\t\t\tregExp: /^-{3,}$/,\r\n\t\t\ttransform: () => createBlock( 'core/separator' ),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tselector: 'hr',\r\n\t\t\tschema: {\r\n\t\t\t\thr: {},\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { getColorClassName, useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tcolor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tcustomColor: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { color, customColor } = attributes;\r\n\r\n\t\t// the hr support changing color using border-color, since border-color\r\n\t\t// is not yet supported in the color palette, we use background-color\r\n\t\tconst backgroundClass = getColorClassName( 'background-color', color );\r\n\t\t// the dots styles uses text for the dots, to change those dots color is\r\n\t\t// using color, not backgroundColor\r\n\t\tconst colorClass = getColorClassName( 'color', color );\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t'has-text-color has-background': color || customColor,\r\n\t\t\t[ backgroundClass ]: backgroundClass,\r\n\t\t\t[ colorClass ]: colorClass,\r\n\t\t} );\r\n\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: backgroundClass ? undefined : customColor,\r\n\t\t\tcolor: colorClass ? undefined : customColor,\r\n\t\t};\r\n\r\n\t\treturn <hr { ...useBlockProps.save( { className, style } ) } />;\r\n\t},\r\n\tmigrate( attributes ) {\r\n\t\tconst { color, customColor, ...restAttributes } = attributes;\r\n\t\treturn {\r\n\t\t\t...restAttributes,\r\n\t\t\tbackgroundColor: color ? color : undefined,\r\n\t\t\topacity: 'css',\r\n\t\t\tstyle: customColor\r\n\t\t\t\t? { color: { background: customColor } }\r\n\t\t\t\t: undefined,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { separator as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tcustomColor: '#065174',\r\n\t\t\tclassName: 'is-style-wide',\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { HorizontalRule } from '@wordpress/components';\r\nimport {\r\n\tuseBlockProps,\r\n\tgetColorClassName,\r\n\t__experimentalUseColorProps as useColorProps,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport useDeprecatedOpacity from './use-deprecated-opacity';\r\n\r\nexport default function SeparatorEdit( { attributes, setAttributes } ) {\r\n\tconst { backgroundColor, opacity, style } = attributes;\r\n\tconst colorProps = useColorProps( attributes );\r\n\tconst currentColor = colorProps?.style?.backgroundColor;\r\n\tconst hasCustomColor = !! style?.color?.background;\r\n\r\n\tuseDeprecatedOpacity( opacity, currentColor, setAttributes );\r\n\r\n\t// The dots styles uses text for the dots, to change those dots color is\r\n\t// using color, not backgroundColor.\r\n\tconst colorClass = getColorClassName( 'color', backgroundColor );\r\n\r\n\tconst className = classnames(\r\n\t\t{\r\n\t\t\t'has-text-color': backgroundColor || currentColor,\r\n\t\t\t[ colorClass ]: colorClass,\r\n\t\t\t'has-css-opacity': opacity === 'css',\r\n\t\t\t'has-alpha-channel-opacity': opacity === 'alpha-channel',\r\n\t\t},\r\n\t\tcolorProps.className\r\n\t);\r\n\r\n\tconst styles = {\r\n\t\tcolor: currentColor,\r\n\t\tbackgroundColor: currentColor,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<HorizontalRule\r\n\t\t\t\t{ ...useBlockProps( {\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tstyle: hasCustomColor ? styles : undefined,\r\n\t\t\t\t} ) }\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useState } from '@wordpress/element';\r\nimport { usePrevious } from '@wordpress/compose';\r\n\r\nexport default function useDeprecatedOpacity(\r\n\topacity,\r\n\tcurrentColor,\r\n\tsetAttributes\r\n) {\r\n\tconst [ deprecatedOpacityWithNoColor, setDeprecatedOpacityWithNoColor ] =\r\n\t\tuseState( false );\r\n\tconst previousColor = usePrevious( currentColor );\r\n\r\n\t// A separator with no color set will always have previousColor set to undefined,\r\n\t// and we need to differentiate these from those with color set that will return\r\n\t// previousColor as undefined on the first render.\r\n\tuseEffect( () => {\r\n\t\tif ( opacity === 'css' && ! currentColor && ! previousColor ) {\r\n\t\t\tsetDeprecatedOpacityWithNoColor( true );\r\n\t\t}\r\n\t}, [ currentColor, previousColor, opacity ] );\r\n\r\n\t// For deprecated blocks, that have a default 0.4 css opacity set, we\r\n\t// need to remove this if the current color is changed, or a color is added.\r\n\t// In these instances the opacity attribute is set back to the default of\r\n\t// alpha-channel which allows a new custom opacity to be set via the color picker.\r\n\tuseEffect( () => {\r\n\t\tif (\r\n\t\t\topacity === 'css' &&\r\n\t\t\t( ( deprecatedOpacityWithNoColor && currentColor ) ||\r\n\t\t\t\t( previousColor && currentColor !== previousColor ) )\r\n\t\t) {\r\n\t\t\tsetAttributes( { opacity: 'alpha-channel' } );\r\n\t\t\tsetDeprecatedOpacityWithNoColor( false );\r\n\t\t}\r\n\t}, [ deprecatedOpacityWithNoColor, currentColor, previousColor ] );\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tgetColorClassName,\r\n\tuseBlockProps,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function separatorSave( { attributes } ) {\r\n\tconst { backgroundColor, style, opacity } = attributes;\r\n\tconst customColor = style?.color?.background;\r\n\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\t// The hr support changing color using border-color, since border-color\r\n\t// is not yet supported in the color palette, we use background-color.\r\n\r\n\t// The dots styles uses text for the dots, to change those dots color is\r\n\t// using color, not backgroundColor.\r\n\tconst colorClass = getColorClassName( 'color', backgroundColor );\r\n\r\n\tconst className = classnames(\r\n\t\t{\r\n\t\t\t'has-text-color': backgroundColor || customColor,\r\n\t\t\t[ colorClass ]: colorClass,\r\n\t\t\t'has-css-opacity': opacity === 'css',\r\n\t\t\t'has-alpha-channel-opacity': opacity === 'alpha-channel',\r\n\t\t},\r\n\t\tcolorProps.className\r\n\t);\r\n\r\n\tconst styles = {\r\n\t\tbackgroundColor: colorProps?.style?.backgroundColor,\r\n\t\tcolor: colorClass ? undefined : customColor,\r\n\t};\r\n\treturn <hr { ...useBlockProps.save( { className, style: styles } ) } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst shortcode = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M16 4.2v1.5h2.5v12.5H16v1.5h4V4.2h-4zM4.2 19.8h4v-1.5H5.8V5.8h2.5V4.2h-4l-.1 15.6zm5.1-3.1l1.4.6 4-10-1.4-.6-4 10z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default shortcode;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"autop\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { removep, autop } from '@wordpress/autop';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'shortcode',\r\n\t\t\t// Per \"Shortcode names should be all lowercase and use all\r\n\t\t\t// letters, but numbers and underscores should work fine too.\r\n\t\t\t// Be wary of using hyphens (dashes), you'll be better off not\r\n\t\t\t// using them.\" in https://codex.wordpress.org/Shortcode_API\r\n\t\t\t// Require that the first character be a letter. This notably\r\n\t\t\t// prevents footnote markings ([1]) from being caught as\r\n\t\t\t// shortcodes.\r\n\t\t\ttag: '[a-z][a-z0-9_-]*',\r\n\t\t\tattributes: {\r\n\t\t\t\ttext: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( attrs, { content } ) => {\r\n\t\t\t\t\t\treturn removep( autop( content ) );\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tpriority: 20,\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { shortcode as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\nimport metadata from './block.json';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { PlainText, useBlockProps } from '@wordpress/block-editor';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { Icon, shortcode } from '@wordpress/icons';\r\n\r\nexport default function ShortcodeEdit( { attributes, setAttributes } ) {\r\n\tconst instanceId = useInstanceId( ShortcodeEdit );\r\n\tconst inputId = `blocks-shortcode-input-${ instanceId }`;\r\n\r\n\treturn (\r\n\t\t<div { ...useBlockProps( { className: 'components-placeholder' } ) }>\r\n\t\t\t<label\r\n\t\t\t\thtmlFor={ inputId }\r\n\t\t\t\tclassName=\"components-placeholder__label\"\r\n\t\t\t>\r\n\t\t\t\t<Icon icon={ shortcode } />\r\n\t\t\t\t{ __( 'Shortcode' ) }\r\n\t\t\t</label>\r\n\t\t\t<PlainText\r\n\t\t\t\tclassName=\"blocks-shortcode__textarea\"\r\n\t\t\t\tid={ inputId }\r\n\t\t\t\tvalue={ attributes.text }\r\n\t\t\t\taria-label={ __( 'Shortcode text' ) }\r\n\t\t\t\tplaceholder={ __( 'Write shortcode here…' ) }\r\n\t\t\t\tonChange={ ( text ) => setAttributes( { text } ) }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RawHTML } from '@wordpress/element';\r\n\r\nexport default function save( { attributes } ) {\r\n\treturn <RawHTML>{ attributes.text }</RawHTML>;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst siteLogo = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12 3c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 1.5c4.1 0 7.5 3.4 7.5 7.5v.1c-1.4-.8-3.3-1.7-3.4-1.8-.2-.1-.5-.1-.8.1l-2.9 2.1L9 11.3c-.2-.1-.4 0-.6.1l-3.7 2.2c-.1-.5-.2-1-.2-1.5 0-4.2 3.4-7.6 7.5-7.6zm0 15c-3.1 0-5.7-1.9-6.9-4.5l3.7-2.2 3.5 1.2c.2.1.5 0 .7-.1l2.9-2.1c.8.4 2.5 1.2 3.5 1.9-.9 3.3-3.9 5.8-7.4 5.8z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default siteLogo;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\tcreateInterpolateElement,\n\tuseEffect,\n\tuseState,\n\tuseRef,\n} from '@wordpress/element';\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\tMenuItem,\n\tPanelBody,\n\tRangeControl,\n\tResizableBox,\n\tSpinner,\n\tToggleControl,\n\tToolbarButton,\n\tPlaceholder,\n\tButton,\n\tDropZone,\n\tFlexItem,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalTruncate as Truncate,\n} from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tMediaReplaceFlow,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n\t__experimentalImageEditor as ImageEditor,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { crop, upload } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport useClientWidth from '../image/use-client-width';\n\n/**\n * Module constants\n */\nimport { MIN_SIZE } from '../image/constants';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\nconst ACCEPT_MEDIA_STRING = 'image/*';\n\nconst SiteLogo = ( {\n\talt,\n\tattributes: { align, width, height, isLink, linkTarget, shouldSyncIcon },\n\tcontainerRef,\n\tisSelected,\n\tsetAttributes,\n\tsetLogo,\n\tlogoUrl,\n\tsiteUrl,\n\tlogoId,\n\ticonId,\n\tsetIcon,\n\tcanUserEdit,\n} ) => {\n\tconst clientWidth = useClientWidth( containerRef, [ align ] );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isWideAligned = [ 'wide', 'full' ].includes( align );\n\tconst isResizable = ! isWideAligned && isLargeViewport;\n\tconst [ { naturalWidth, naturalHeight }, setNaturalSize ] = useState( {} );\n\tconst [ isEditingImage, setIsEditingImage ] = useState( false );\n\tconst { toggleSelection } = useDispatch( blockEditorStore );\n\tconst classes = classnames( 'custom-logo-link', {\n\t\t'is-transient': isBlobURL( logoUrl ),\n\t} );\n\tconst { imageEditing, maxWidth, title } = useSelect( ( select ) => {\n\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\tconst siteEntities = select( coreStore ).getEntityRecord(\n\t\t\t'root',\n\t\t\t'__unstableBase'\n\t\t);\n\t\treturn {\n\t\t\ttitle: siteEntities?.name,\n\t\t\timageEditing: settings.imageEditing,\n\t\t\tmaxWidth: settings.maxWidth,\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t// Turn the `Use as site icon` toggle off if it is on but the logo and icon have\n\t\t// fallen out of sync. This can happen if the toggle is saved in the `on` position,\n\t\t// but changes are later made to the site icon in the Customizer.\n\t\tif ( shouldSyncIcon && logoId !== iconId ) {\n\t\t\tsetAttributes( { shouldSyncIcon: false } );\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\tsetIsEditingImage( false );\n\t\t}\n\t}, [ isSelected ] );\n\n\tfunction onResizeStart() {\n\t\ttoggleSelection( false );\n\t}\n\n\tfunction onResizeStop() {\n\t\ttoggleSelection( true );\n\t}\n\n\tconst img = (\n\t\t<img\n\t\t\tclassName=\"custom-logo\"\n\t\t\tsrc={ logoUrl }\n\t\t\talt={ alt }\n\t\t\tonLoad={ ( event ) => {\n\t\t\t\tsetNaturalSize( {\n\t\t\t\t\tnaturalWidth: event.target.naturalWidth,\n\t\t\t\t\tnaturalHeight: event.target.naturalHeight,\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n\n\tlet imgWrapper = img;\n\n\t// Disable reason: Image itself is not meant to be interactive, but\n\t// should direct focus to block.\n\tif ( isLink ) {\n\t\timgWrapper = (\n\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t\t<a\n\t\t\t\thref={ siteUrl }\n\t\t\t\tclassName={ classes }\n\t\t\t\trel=\"home\"\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t>\n\t\t\t\t{ img }\n\t\t\t</a>\n\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t);\n\t}\n\n\tlet imageWidthWithinContainer;\n\n\tif ( clientWidth && naturalWidth && naturalHeight ) {\n\t\tconst exceedMaxWidth = naturalWidth > clientWidth;\n\t\timageWidthWithinContainer = exceedMaxWidth ? clientWidth : naturalWidth;\n\t}\n\n\tif ( ! isResizable || ! imageWidthWithinContainer ) {\n\t\treturn <div style={ { width, height } }>{ imgWrapper }</div>;\n\t}\n\n\t// Set the default width to a responsible size.\n\t// Note that this width is also set in the attached frontend CSS file.\n\tconst defaultWidth = 120;\n\n\tconst currentWidth = width || defaultWidth;\n\tconst ratio = naturalWidth / naturalHeight;\n\tconst currentHeight = currentWidth / ratio;\n\tconst minWidth =\n\t\tnaturalWidth < naturalHeight ? MIN_SIZE : Math.ceil( MIN_SIZE * ratio );\n\tconst minHeight =\n\t\tnaturalHeight < naturalWidth ? MIN_SIZE : Math.ceil( MIN_SIZE / ratio );\n\n\t// With the current implementation of ResizableBox, an image needs an\n\t// explicit pixel value for the max-width. In absence of being able to\n\t// set the content-width, this max-width is currently dictated by the\n\t// vanilla editor style. The following variable adds a buffer to this\n\t// vanilla style, so 3rd party themes have some wiggleroom. This does,\n\t// in most cases, allow you to scale the image beyond the width of the\n\t// main column, though not infinitely.\n\t// @todo It would be good to revisit this once a content-width variable\n\t// becomes available.\n\tconst maxWidthBuffer = maxWidth * 2.5;\n\n\tlet showRightHandle = false;\n\tlet showLeftHandle = false;\n\n\t/* eslint-disable no-lonely-if */\n\t// See https://github.com/WordPress/gutenberg/issues/7584.\n\tif ( align === 'center' ) {\n\t\t// When the image is centered, show both handles.\n\t\tshowRightHandle = true;\n\t\tshowLeftHandle = true;\n\t} else if ( isRTL() ) {\n\t\t// In RTL mode the image is on the right by default.\n\t\t// Show the right handle and hide the left handle only when it is\n\t\t// aligned left. Otherwise always show the left handle.\n\t\tif ( align === 'left' ) {\n\t\t\tshowRightHandle = true;\n\t\t} else {\n\t\t\tshowLeftHandle = true;\n\t\t}\n\t} else {\n\t\t// Show the left handle and hide the right handle only when the\n\t\t// image is aligned right. Otherwise always show the right handle.\n\t\tif ( align === 'right' ) {\n\t\t\tshowLeftHandle = true;\n\t\t} else {\n\t\t\tshowRightHandle = true;\n\t\t}\n\t}\n\t/* eslint-enable no-lonely-if */\n\n\tconst canEditImage =\n\t\tlogoId && naturalWidth && naturalHeight && imageEditing;\n\n\tconst imgEdit =\n\t\tcanEditImage && isEditingImage ? (\n\t\t\t<ImageEditor\n\t\t\t\tid={ logoId }\n\t\t\t\turl={ logoUrl }\n\t\t\t\twidth={ currentWidth }\n\t\t\t\theight={ currentHeight }\n\t\t\t\tclientWidth={ clientWidth }\n\t\t\t\tnaturalHeight={ naturalHeight }\n\t\t\t\tnaturalWidth={ naturalWidth }\n\t\t\t\tonSaveImage={ ( imageAttributes ) => {\n\t\t\t\t\tsetLogo( imageAttributes.id );\n\t\t\t\t} }\n\t\t\t\tonFinishEditing={ () => {\n\t\t\t\t\tsetIsEditingImage( false );\n\t\t\t\t} }\n\t\t\t/>\n\t\t) : (\n\t\t\t<ResizableBox\n\t\t\t\tsize={ {\n\t\t\t\t\twidth: currentWidth,\n\t\t\t\t\theight: currentHeight,\n\t\t\t\t} }\n\t\t\t\tshowHandle={ isSelected }\n\t\t\t\tminWidth={ minWidth }\n\t\t\t\tmaxWidth={ maxWidthBuffer }\n\t\t\t\tminHeight={ minHeight }\n\t\t\t\tmaxHeight={ maxWidthBuffer / ratio }\n\t\t\t\tlockAspectRatio\n\t\t\t\tenable={ {\n\t\t\t\t\ttop: false,\n\t\t\t\t\tright: showRightHandle,\n\t\t\t\t\tbottom: true,\n\t\t\t\t\tleft: showLeftHandle,\n\t\t\t\t} }\n\t\t\t\tonResizeStart={ onResizeStart }\n\t\t\t\tonResizeStop={ ( event, direction, elt, delta ) => {\n\t\t\t\t\tonResizeStop();\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\twidth: parseInt( currentWidth + delta.width, 10 ),\n\t\t\t\t\t\theight: parseInt( currentHeight + delta.height, 10 ),\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ imgWrapper }\n\t\t\t</ResizableBox>\n\t\t);\n\n\t// Support the previous location for the Site Icon settings. To be removed\n\t// when the required WP core version for Gutenberg is >= 6.5.0.\n\tconst shouldUseNewUrl = ! window?.__experimentalUseCustomizerSiteLogoUrl;\n\n\tconst siteIconSettingsUrl = shouldUseNewUrl\n\t\t? siteUrl + '/wp-admin/options-general.php'\n\t\t: siteUrl + '/wp-admin/customize.php?autofocus[section]=title_tagline';\n\n\tconst syncSiteIconHelpText = createInterpolateElement(\n\t\t__(\n\t\t\t'Site Icons are what you see in browser tabs, bookmark bars, and within the WordPress mobile apps. To use a custom icon that is different from your site logo, use the <a>Site Icon settings</a>.'\n\t\t),\n\t\t{\n\t\t\ta: (\n\t\t\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content\n\t\t\t\t<a\n\t\t\t\t\thref={ siteIconSettingsUrl }\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t/>\n\t\t\t),\n\t\t}\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Image width' ) }\n\t\t\t\t\t\tonChange={ ( newWidth ) =>\n\t\t\t\t\t\t\tsetAttributes( { width: newWidth } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ minWidth }\n\t\t\t\t\t\tmax={ maxWidthBuffer }\n\t\t\t\t\t\tinitialPosition={ Math.min(\n\t\t\t\t\t\t\tdefaultWidth,\n\t\t\t\t\t\t\tmaxWidthBuffer\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ width || '' }\n\t\t\t\t\t\tdisabled={ ! isResizable }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link image to home' ) }\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLink && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ canUserEdit && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Use as Site Icon' ) }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( { shouldSyncIcon: value } );\n\t\t\t\t\t\t\t\t\tsetIcon( value ? logoId : undefined );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tchecked={ !! shouldSyncIcon }\n\t\t\t\t\t\t\t\thelp={ syncSiteIconHelpText }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t{ canEditImage && ! isEditingImage && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={ () => setIsEditingImage( true ) }\n\t\t\t\t\t\ticon={ crop }\n\t\t\t\t\t\tlabel={ __( 'Crop' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t{ imgEdit }\n\t\t</>\n\t);\n};\n\n// This is a light wrapper around MediaReplaceFlow because the block has two\n// different MediaReplaceFlows, one for the inspector and one for the toolbar.\nfunction SiteLogoReplaceFlow( { onRemoveLogo, ...mediaReplaceProps } ) {\n\treturn (\n\t\t<MediaReplaceFlow\n\t\t\t{ ...mediaReplaceProps }\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\taccept={ ACCEPT_MEDIA_STRING }\n\t\t>\n\t\t\t<MenuItem onClick={ onRemoveLogo }>{ __( 'Reset' ) }</MenuItem>\n\t\t</MediaReplaceFlow>\n\t);\n}\n\nconst InspectorLogoPreview = ( { mediaItemData = {}, itemGroupProps } ) => {\n\tconst {\n\t\talt_text: alt,\n\t\tsource_url: logoUrl,\n\t\tslug: logoSlug,\n\t\tmedia_details: logoMediaDetails,\n\t} = mediaItemData;\n\tconst logoLabel = logoMediaDetails?.sizes?.full?.file || logoSlug;\n\treturn (\n\t\t<ItemGroup { ...itemGroupProps } as=\"span\">\n\t\t\t<HStack justify=\"flex-start\" as=\"span\">\n\t\t\t\t<img src={ logoUrl } alt={ alt } />\n\t\t\t\t<FlexItem as=\"span\">\n\t\t\t\t\t<Truncate\n\t\t\t\t\t\tnumberOfLines={ 1 }\n\t\t\t\t\t\tclassName=\"block-library-site-logo__inspector-media-replace-title\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ logoLabel }\n\t\t\t\t\t</Truncate>\n\t\t\t\t</FlexItem>\n\t\t\t</HStack>\n\t\t</ItemGroup>\n\t);\n};\n\nexport default function LogoEdit( {\n\tattributes,\n\tclassName,\n\tsetAttributes,\n\tisSelected,\n} ) {\n\tconst { width, shouldSyncIcon } = attributes;\n\tconst ref = useRef();\n\n\tconst {\n\t\tsiteLogoId,\n\t\tcanUserEdit,\n\t\turl,\n\t\tsiteIconId,\n\t\tmediaItemData,\n\t\tisRequestingMediaItem,\n\t} = useSelect( ( select ) => {\n\t\tconst { canUser, getEntityRecord, getEditedEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst _canUserEdit = canUser( 'update', 'settings' );\n\t\tconst siteSettings = _canUserEdit\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase' );\n\t\tconst _siteLogoId = _canUserEdit\n\t\t\t? siteSettings?.site_logo\n\t\t\t: siteData?.site_logo;\n\t\tconst _siteIconId = siteSettings?.site_icon;\n\t\tconst mediaItem =\n\t\t\t_siteLogoId &&\n\t\t\tselect( coreStore ).getMedia( _siteLogoId, {\n\t\t\t\tcontext: 'view',\n\t\t\t} );\n\t\tconst _isRequestingMediaItem =\n\t\t\t_siteLogoId &&\n\t\t\t! select( coreStore ).hasFinishedResolution( 'getMedia', [\n\t\t\t\t_siteLogoId,\n\t\t\t\t{ context: 'view' },\n\t\t\t] );\n\n\t\treturn {\n\t\t\tsiteLogoId: _siteLogoId,\n\t\t\tcanUserEdit: _canUserEdit,\n\t\t\turl: siteData?.home,\n\t\t\tmediaItemData: mediaItem,\n\t\t\tisRequestingMediaItem: _isRequestingMediaItem,\n\t\t\tsiteIconId: _siteIconId,\n\t\t};\n\t}, [] );\n\tconst { getSettings } = useSelect( blockEditorStore );\n\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tconst setLogo = ( newValue, shouldForceSync = false ) => {\n\t\t// `shouldForceSync` is used to force syncing when the attribute\n\t\t// may not have updated yet.\n\t\tif ( shouldSyncIcon || shouldForceSync ) {\n\t\t\tsetIcon( newValue );\n\t\t}\n\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tsite_logo: newValue,\n\t\t} );\n\t};\n\n\tconst setIcon = ( newValue ) =>\n\t\t// The new value needs to be `null` to reset the Site Icon.\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tsite_icon: newValue ?? null,\n\t\t} );\n\n\tconst { alt_text: alt, source_url: logoUrl } = mediaItemData ?? {};\n\n\tconst onInitialSelectLogo = ( media ) => {\n\t\t// Initialize the syncSiteIcon toggle. If we currently have no Site logo and no\n\t\t// site icon, automatically sync the logo to the icon.\n\t\tif ( shouldSyncIcon === undefined ) {\n\t\t\tconst shouldForceSync = ! siteIconId;\n\t\t\tsetAttributes( { shouldSyncIcon: shouldForceSync } );\n\n\t\t\t// Because we cannot rely on the `shouldSyncIcon` attribute to have updated by\n\t\t\t// the time `setLogo` is called, pass an argument to force the syncing.\n\t\t\tonSelectLogo( media, shouldForceSync );\n\t\t\treturn;\n\t\t}\n\n\t\tonSelectLogo( media );\n\t};\n\n\tconst onSelectLogo = ( media, shouldForceSync = false ) => {\n\t\tif ( ! media ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! media.id && media.url ) {\n\t\t\t// This is a temporary blob image.\n\t\t\tsetLogo( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tsetLogo( media.id, shouldForceSync );\n\t};\n\n\tconst onRemoveLogo = () => {\n\t\tsetLogo( null );\n\t\tsetAttributes( { width: undefined } );\n\t};\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst onUploadError = ( message ) => {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t};\n\n\tconst onFilesDrop = ( filesList ) => {\n\t\tgetSettings().mediaUpload( {\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tfilesList,\n\t\t\tonFileChange( [ image ] ) {\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonInitialSelectLogo( image );\n\t\t\t},\n\t\t\tonError: onUploadError,\n\t\t} );\n\t};\n\n\tconst mediaReplaceFlowProps = {\n\t\tmediaURL: logoUrl,\n\t\tonSelect: onSelectLogo,\n\t\tonError: onUploadError,\n\t\tonRemoveLogo,\n\t};\n\tconst controls = canUserEdit && logoUrl && (\n\t\t<BlockControls group=\"other\">\n\t\t\t<SiteLogoReplaceFlow { ...mediaReplaceFlowProps } />\n\t\t</BlockControls>\n\t);\n\n\tlet logoImage;\n\tconst isLoading = siteLogoId === undefined || isRequestingMediaItem;\n\tif ( isLoading ) {\n\t\tlogoImage = <Spinner />;\n\t}\n\tif ( !! logoUrl ) {\n\t\tlogoImage = (\n\t\t\t<SiteLogo\n\t\t\t\talt={ alt }\n\t\t\t\tattributes={ attributes }\n\t\t\t\tclassName={ className }\n\t\t\t\tcontainerRef={ ref }\n\t\t\t\tisSelected={ isSelected }\n\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\tlogoUrl={ logoUrl }\n\t\t\t\tsetLogo={ setLogo }\n\t\t\t\tlogoId={ mediaItemData?.id || siteLogoId }\n\t\t\t\tsiteUrl={ url }\n\t\t\t\tsetIcon={ setIcon }\n\t\t\t\ticonId={ siteIconId }\n\t\t\t\tcanUserEdit={ canUserEdit }\n\t\t\t/>\n\t\t);\n\t}\n\tconst placeholder = ( content ) => {\n\t\tconst placeholderClassName = classnames(\n\t\t\t'block-editor-media-placeholder',\n\t\t\tclassName\n\t\t);\n\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tclassName={ placeholderClassName }\n\t\t\t\tpreview={ logoImage }\n\t\t\t\twithIllustration\n\t\t\t\tstyle={ {\n\t\t\t\t\twidth,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ content }\n\t\t\t</Placeholder>\n\t\t);\n\t};\n\n\tconst classes = classnames( className, {\n\t\t'is-default-size': ! width,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tref,\n\t\tclassName: classes,\n\t} );\n\n\tconst label = __( 'Add a site logo' );\n\n\tconst mediaInspectorPanel = ( canUserEdit || logoUrl ) && (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Media' ) }>\n\t\t\t\t<div className=\"block-library-site-logo__inspector-media-replace-container\">\n\t\t\t\t\t{ ! canUserEdit && !! logoUrl && (\n\t\t\t\t\t\t<InspectorLogoPreview\n\t\t\t\t\t\t\tmediaItemData={ mediaItemData }\n\t\t\t\t\t\t\titemGroupProps={ {\n\t\t\t\t\t\t\t\tisBordered: true,\n\t\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t\t'block-library-site-logo__inspector-readonly-logo-preview',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ canUserEdit && !! logoUrl && (\n\t\t\t\t\t\t<SiteLogoReplaceFlow\n\t\t\t\t\t\t\t{ ...mediaReplaceFlowProps }\n\t\t\t\t\t\t\tname={\n\t\t\t\t\t\t\t\t<InspectorLogoPreview\n\t\t\t\t\t\t\t\t\tmediaItemData={ mediaItemData }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpopoverProps={ {} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ canUserEdit && ! logoUrl && (\n\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\tonSelect={ onInitialSelectLogo }\n\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<div className=\"block-library-site-logo__inspector-upload-container\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ isLoading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t__( 'Add media' )\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<DropZone onFilesDrop={ onFilesDrop } />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{ controls }\n\t\t\t{ mediaInspectorPanel }\n\t\t\t{ !! logoUrl && logoImage }\n\t\t\t{ ! logoUrl && ! canUserEdit && (\n\t\t\t\t<Placeholder className=\"site-logo_placeholder\">\n\t\t\t\t\t{ !! isLoading && (\n\t\t\t\t\t\t<span className=\"components-placeholder__preview\">\n\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</Placeholder>\n\t\t\t) }\n\t\t\t{ ! logoUrl && canUserEdit && (\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\tonSelect={ onInitialSelectLogo }\n\t\t\t\t\taccept={ ACCEPT_MEDIA_STRING }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tmediaLibraryButton={ ( { open } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\t\t\ttooltipPosition=\"top center\"\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\topen();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/site-title' ],\r\n\t\t\ttransform: ( { isLink, linkTarget } ) => {\r\n\t\t\t\treturn createBlock( 'core/site-title', {\r\n\t\t\t\t\tisLink,\r\n\t\t\t\t\tlinkTarget,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { siteLogo as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tAlignmentControl,\n\tuseBlockProps,\n\tBlockControls,\n\tHeadingLevelDropdown,\n\tRichText,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\n\nconst HEADING_LEVELS = [ 0, 1, 2, 3, 4, 5, 6 ];\n\nexport default function SiteTaglineEdit( {\n\tattributes,\n\tsetAttributes,\n\tinsertBlocksAfter,\n} ) {\n\tconst { textAlign, level } = attributes;\n\tconst { canUserEdit, tagline } = useSelect( ( select ) => {\n\t\tconst { canUser, getEntityRecord, getEditedEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst canEdit = canUser( 'update', 'settings' );\n\t\tconst settings = canEdit ? getEditedEntityRecord( 'root', 'site' ) : {};\n\t\tconst readOnlySettings = getEntityRecord( 'root', '__unstableBase' );\n\n\t\treturn {\n\t\t\tcanUserEdit: canUser( 'update', 'settings' ),\n\t\t\ttagline: canEdit\n\t\t\t\t? settings?.description\n\t\t\t\t: readOnlySettings?.description,\n\t\t};\n\t}, [] );\n\n\tconst TagName = level === 0 ? 'p' : `h${ level }`;\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tfunction setTagline( newTagline ) {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tdescription: newTagline,\n\t\t} );\n\t}\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t\t'wp-block-site-tagline__placeholder': ! canUserEdit && ! tagline,\n\t\t} ),\n\t} );\n\tconst siteTaglineContent = canUserEdit ? (\n\t\t<RichText\n\t\t\tallowedFormats={ [] }\n\t\t\tonChange={ setTagline }\n\t\t\taria-label={ __( 'Site tagline text' ) }\n\t\t\tplaceholder={ __( 'Write site tagline…' ) }\n\t\t\ttagName={ TagName }\n\t\t\tvalue={ tagline }\n\t\t\tdisableLineBreaks\n\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\n\t\t\t}\n\t\t\t{ ...blockProps }\n\t\t/>\n\t) : (\n\t\t<TagName { ...blockProps }>\n\t\t\t{ tagline || __( 'Site Tagline placeholder' ) }\n\t\t</TagName>\n\t);\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<HeadingLevelDropdown\n\t\t\t\t\toptions={ HEADING_LEVELS }\n\t\t\t\t\tvalue={ level }\n\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\tsetAttributes( { textAlign: newAlign } )\n\t\t\t\t\t}\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t{ siteTaglineContent }\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/components';\r\n\r\nexport default (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\r\n\t\t<Path d=\"M4 10.5h16V9H4v1.5ZM4 15h9v-1.5H4V15Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tmargin: true,\r\n\t\t\tpadding: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport icon from './icon';\r\nimport deprecated from './deprecated';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst mapMarker = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default mapMarker;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tRichText,\n\tAlignmentControl,\n\tInspectorControls,\n\tBlockControls,\n\tuseBlockProps,\n\tHeadingLevelDropdown,\n} from '@wordpress/block-editor';\nimport { ToggleControl, PanelBody } from '@wordpress/components';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { decodeEntities } from '@wordpress/html-entities';\n\nconst HEADING_LEVELS = [ 0, 1, 2, 3, 4, 5, 6 ];\n\nexport default function SiteTitleEdit( {\n\tattributes,\n\tsetAttributes,\n\tinsertBlocksAfter,\n} ) {\n\tconst { level, textAlign, isLink, linkTarget } = attributes;\n\tconst { canUserEdit, title } = useSelect( ( select ) => {\n\t\tconst { canUser, getEntityRecord, getEditedEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst canEdit = canUser( 'update', 'settings' );\n\t\tconst settings = canEdit ? getEditedEntityRecord( 'root', 'site' ) : {};\n\t\tconst readOnlySettings = getEntityRecord( 'root', '__unstableBase' );\n\n\t\treturn {\n\t\t\tcanUserEdit: canEdit,\n\t\t\ttitle: canEdit ? settings?.title : readOnlySettings?.name,\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\n\tfunction setTitle( newTitle ) {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\ttitle: newTitle,\n\t\t} );\n\t}\n\n\tconst TagName = level === 0 ? 'p' : `h${ level }`;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( {\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\n\t\t\t'wp-block-site-title__placeholder': ! canUserEdit && ! title,\n\t\t} ),\n\t} );\n\tconst siteTitleContent = canUserEdit ? (\n\t\t<TagName { ...blockProps }>\n\t\t\t<RichText\n\t\t\t\ttagName={ isLink ? 'a' : 'span' }\n\t\t\t\thref={ isLink ? '#site-title-pseudo-link' : undefined }\n\t\t\t\taria-label={ __( 'Site title text' ) }\n\t\t\t\tplaceholder={ __( 'Write site title…' ) }\n\t\t\t\tvalue={ title }\n\t\t\t\tonChange={ setTitle }\n\t\t\t\tallowedFormats={ [] }\n\t\t\t\tdisableLineBreaks\n\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\n\t\t\t\t}\n\t\t\t/>\n\t\t</TagName>\n\t) : (\n\t\t<TagName { ...blockProps }>\n\t\t\t{ isLink ? (\n\t\t\t\t<a\n\t\t\t\t\thref=\"#site-title-pseudo-link\"\n\t\t\t\t\tonClick={ ( event ) => event.preventDefault() }\n\t\t\t\t>\n\t\t\t\t\t{ decodeEntities( title ) ||\n\t\t\t\t\t\t__( 'Site Title placeholder' ) }\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\t<span>\n\t\t\t\t\t{ decodeEntities( title ) ||\n\t\t\t\t\t\t__( 'Site Title placeholder' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</TagName>\n\t);\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<HeadingLevelDropdown\n\t\t\t\t\toptions={ HEADING_LEVELS }\n\t\t\t\t\tvalue={ level }\n\t\t\t\t\tonChange={ ( newLevel ) =>\n\t\t\t\t\t\tsetAttributes( { level: newLevel } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tvalue={ textAlign }\n\t\t\t\t\tonChange={ ( nextAlign ) => {\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Make title link to home' ) }\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLink && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tlinkTarget: value ? '_blank' : '_self',\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ siteTitleContent }\n\t\t</>\n\t);\n}\n","/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tlevel: {\r\n\t\t\ttype: 'number',\r\n\t\t\tdefault: 1,\r\n\t\t},\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t\tisLink: {\r\n\t\t\ttype: 'boolean',\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t\tlinkTarget: {\r\n\t\t\ttype: 'string',\r\n\t\t\tdefault: '_self',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\talign: [ 'wide', 'full' ],\r\n\t\thtml: false,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tpadding: true,\r\n\t\t\tmargin: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\tlineHeight: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t\t__experimentalTextTransform: true,\r\n\t\t\t__experimentalFontStyle: true,\r\n\t\t\t__experimentalFontWeight: true,\r\n\t\t\t__experimentalLetterSpacing: true,\r\n\t\t},\r\n\t},\r\n\tsave() {\r\n\t\treturn null;\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/site-logo' ],\r\n\t\t\ttransform: ( { isLink, linkTarget } ) => {\r\n\t\t\t\treturn createBlock( 'core/site-logo', {\r\n\t\t\t\t\tisLink,\r\n\t\t\t\t\tlinkTarget,\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { mapMarker as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport deprecated from './deprecated';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n\ttransforms,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst share = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default share;\r\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboardReturn = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"m6.734 16.106 2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.158 1.093-1.028-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734Z\" />\n\t</SVG>\n);\n\nexport default keyboardReturn;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const ChainIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tAmazonIcon,\r\n\tBandcampIcon,\r\n\tBehanceIcon,\r\n\tChainIcon,\r\n\tCodepenIcon,\r\n\tDeviantArtIcon,\r\n\tDribbbleIcon,\r\n\tDropboxIcon,\r\n\tEtsyIcon,\r\n\tFacebookIcon,\r\n\tFeedIcon,\r\n\tFivehundredpxIcon,\r\n\tFlickrIcon,\r\n\tFoursquareIcon,\r\n\tGoodreadsIcon,\r\n\tGoogleIcon,\r\n\tGitHubIcon,\r\n\tGravatarIcon,\r\n\tInstagramIcon,\r\n\tLastfmIcon,\r\n\tLinkedInIcon,\r\n\tMailIcon,\r\n\tMastodonIcon,\r\n\tMeetupIcon,\r\n\tMediumIcon,\r\n\tPatreonIcon,\r\n\tPinterestIcon,\r\n\tPocketIcon,\r\n\tRedditIcon,\r\n\tSkypeIcon,\r\n\tSnapchatIcon,\r\n\tSoundCloudIcon,\r\n\tSpotifyIcon,\r\n\tTelegramIcon,\r\n\tThreadsIcon,\r\n\tTiktokIcon,\r\n\tTumblrIcon,\r\n\tTwitchIcon,\r\n\tTwitterIcon,\r\n\tVimeoIcon,\r\n\tVkIcon,\r\n\tWhatsAppIcon,\r\n\tWordPressIcon,\r\n\tXIcon,\r\n\tYelpIcon,\r\n\tYouTubeIcon,\r\n} from './icons';\r\n\r\nconst variations = [\r\n\t{\r\n\t\tisDefault: true,\r\n\t\tname: 'wordpress',\r\n\t\tattributes: { service: 'wordpress' },\r\n\t\ttitle: 'WordPress',\r\n\t\ticon: WordPressIcon,\r\n\t},\r\n\r\n\t{\r\n\t\tname: 'fivehundredpx',\r\n\t\tattributes: { service: 'fivehundredpx' },\r\n\t\ttitle: '500px',\r\n\t\ticon: FivehundredpxIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'amazon',\r\n\t\tattributes: { service: 'amazon' },\r\n\t\ttitle: 'Amazon',\r\n\t\ticon: AmazonIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'bandcamp',\r\n\t\tattributes: { service: 'bandcamp' },\r\n\t\ttitle: 'Bandcamp',\r\n\t\ticon: BandcampIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'behance',\r\n\t\tattributes: { service: 'behance' },\r\n\t\ttitle: 'Behance',\r\n\t\ticon: BehanceIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'chain',\r\n\t\tattributes: { service: 'chain' },\r\n\t\ttitle: 'Link',\r\n\t\ticon: ChainIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'codepen',\r\n\t\tattributes: { service: 'codepen' },\r\n\t\ttitle: 'CodePen',\r\n\t\ticon: CodepenIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'deviantart',\r\n\t\tattributes: { service: 'deviantart' },\r\n\t\ttitle: 'DeviantArt',\r\n\t\ticon: DeviantArtIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'dribbble',\r\n\t\tattributes: { service: 'dribbble' },\r\n\t\ttitle: 'Dribbble',\r\n\t\ticon: DribbbleIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'dropbox',\r\n\t\tattributes: { service: 'dropbox' },\r\n\t\ttitle: 'Dropbox',\r\n\t\ticon: DropboxIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'etsy',\r\n\t\tattributes: { service: 'etsy' },\r\n\t\ttitle: 'Etsy',\r\n\t\ticon: EtsyIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'facebook',\r\n\t\tattributes: { service: 'facebook' },\r\n\t\ttitle: 'Facebook',\r\n\t\ticon: FacebookIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'feed',\r\n\t\tattributes: { service: 'feed' },\r\n\t\ttitle: 'RSS Feed',\r\n\t\ticon: FeedIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'flickr',\r\n\t\tattributes: { service: 'flickr' },\r\n\t\ttitle: 'Flickr',\r\n\t\ticon: FlickrIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'foursquare',\r\n\t\tattributes: { service: 'foursquare' },\r\n\t\ttitle: 'Foursquare',\r\n\t\ticon: FoursquareIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'goodreads',\r\n\t\tattributes: { service: 'goodreads' },\r\n\t\ttitle: 'Goodreads',\r\n\t\ticon: GoodreadsIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'google',\r\n\t\tattributes: { service: 'google' },\r\n\t\ttitle: 'Google',\r\n\t\ticon: GoogleIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'github',\r\n\t\tattributes: { service: 'github' },\r\n\t\ttitle: 'GitHub',\r\n\t\ticon: GitHubIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'gravatar',\r\n\t\tattributes: { service: 'gravatar' },\r\n\t\ttitle: 'Gravatar',\r\n\t\ticon: GravatarIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'instagram',\r\n\t\tattributes: { service: 'instagram' },\r\n\t\ttitle: 'Instagram',\r\n\t\ticon: InstagramIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'lastfm',\r\n\t\tattributes: { service: 'lastfm' },\r\n\t\ttitle: 'Last.fm',\r\n\t\ticon: LastfmIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'linkedin',\r\n\t\tattributes: { service: 'linkedin' },\r\n\t\ttitle: 'LinkedIn',\r\n\t\ticon: LinkedInIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'mail',\r\n\t\tattributes: { service: 'mail' },\r\n\t\ttitle: 'Mail',\r\n\t\tkeywords: [ 'email', 'e-mail' ],\r\n\t\ticon: MailIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'mastodon',\r\n\t\tattributes: { service: 'mastodon' },\r\n\t\ttitle: 'Mastodon',\r\n\t\ticon: MastodonIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'meetup',\r\n\t\tattributes: { service: 'meetup' },\r\n\t\ttitle: 'Meetup',\r\n\t\ticon: MeetupIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'medium',\r\n\t\tattributes: { service: 'medium' },\r\n\t\ttitle: 'Medium',\r\n\t\ticon: MediumIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'patreon',\r\n\t\tattributes: { service: 'patreon' },\r\n\t\ttitle: 'Patreon',\r\n\t\ticon: PatreonIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'pinterest',\r\n\t\tattributes: { service: 'pinterest' },\r\n\t\ttitle: 'Pinterest',\r\n\t\ticon: PinterestIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'pocket',\r\n\t\tattributes: { service: 'pocket' },\r\n\t\ttitle: 'Pocket',\r\n\t\ticon: PocketIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'reddit',\r\n\t\tattributes: { service: 'reddit' },\r\n\t\ttitle: 'Reddit',\r\n\t\ticon: RedditIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'skype',\r\n\t\tattributes: { service: 'skype' },\r\n\t\ttitle: 'Skype',\r\n\t\ticon: SkypeIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'snapchat',\r\n\t\tattributes: { service: 'snapchat' },\r\n\t\ttitle: 'Snapchat',\r\n\t\ticon: SnapchatIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'soundcloud',\r\n\t\tattributes: { service: 'soundcloud' },\r\n\t\ttitle: 'SoundCloud',\r\n\t\ticon: SoundCloudIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'spotify',\r\n\t\tattributes: { service: 'spotify' },\r\n\t\ttitle: 'Spotify',\r\n\t\ticon: SpotifyIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'telegram',\r\n\t\tattributes: { service: 'telegram' },\r\n\t\ttitle: 'Telegram',\r\n\t\ticon: TelegramIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'threads',\r\n\t\tattributes: { service: 'threads' },\r\n\t\ttitle: 'Threads',\r\n\t\ticon: ThreadsIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'tiktok',\r\n\t\tattributes: { service: 'tiktok' },\r\n\t\ttitle: 'TikTok',\r\n\t\ticon: TiktokIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'tumblr',\r\n\t\tattributes: { service: 'tumblr' },\r\n\t\ttitle: 'Tumblr',\r\n\t\ticon: TumblrIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'twitch',\r\n\t\tattributes: { service: 'twitch' },\r\n\t\ttitle: 'Twitch',\r\n\t\ticon: TwitchIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'twitter',\r\n\t\tattributes: { service: 'twitter' },\r\n\t\ttitle: 'Twitter',\r\n\t\ticon: TwitterIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'vimeo',\r\n\t\tattributes: { service: 'vimeo' },\r\n\t\ttitle: 'Vimeo',\r\n\t\ticon: VimeoIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'vk',\r\n\t\tattributes: { service: 'vk' },\r\n\t\ttitle: 'VK',\r\n\t\ticon: VkIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'whatsapp',\r\n\t\tattributes: { service: 'whatsapp' },\r\n\t\ttitle: 'WhatsApp',\r\n\t\ticon: WhatsAppIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'x',\r\n\t\tattributes: { service: 'x' },\r\n\t\tkeywords: [ 'twitter' ],\r\n\t\ttitle: 'X',\r\n\t\ticon: XIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'yelp',\r\n\t\tattributes: { service: 'yelp' },\r\n\t\ttitle: 'Yelp',\r\n\t\ticon: YelpIcon,\r\n\t},\r\n\t{\r\n\t\tname: 'youtube',\r\n\t\tattributes: { service: 'youtube' },\r\n\t\ttitle: 'YouTube',\r\n\t\ticon: YouTubeIcon,\r\n\t},\r\n];\r\n\r\n/**\r\n * Add `isActive` function to all `social link` variations, if not defined.\r\n * `isActive` function is used to find a variation match from a created\r\n *  Block by providing its attributes.\r\n */\r\nvariations.forEach( ( variation ) => {\r\n\tif ( variation.isActive ) return;\r\n\tvariation.isActive = ( blockAttributes, variationAttributes ) =>\r\n\t\tblockAttributes.service === variationAttributes.service;\r\n} );\r\n\r\nexport default variations;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const WordPressIcon = () => (\r\n\t<SVG\r\n\t\twidth=\"24\"\r\n\t\theight=\"24\"\r\n\t\tviewBox=\"0 0 24 24\"\r\n\t\tversion=\"1.1\"\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t>\r\n\t\t<Path d=\"M12.158,12.786L9.46,20.625c0.806,0.237,1.657,0.366,2.54,0.366c1.047,0,2.051-0.181,2.986-0.51 c-0.024-0.038-0.046-0.079-0.065-0.124L12.158,12.786z M3.009,12c0,3.559,2.068,6.634,5.067,8.092L3.788,8.341 C3.289,9.459,3.009,10.696,3.009,12z M18.069,11.546c0-1.112-0.399-1.881-0.741-2.48c-0.456-0.741-0.883-1.368-0.883-2.109 c0-0.826,0.627-1.596,1.51-1.596c0.04,0,0.078,0.005,0.116,0.007C16.472,3.904,14.34,3.009,12,3.009 c-3.141,0-5.904,1.612-7.512,4.052c0.211,0.007,0.41,0.011,0.579,0.011c0.94,0,2.396-0.114,2.396-0.114 C7.947,6.93,8.004,7.642,7.52,7.699c0,0-0.487,0.057-1.029,0.085l3.274,9.739l1.968-5.901l-1.401-3.838 C9.848,7.756,9.389,7.699,9.389,7.699C8.904,7.67,8.961,6.93,9.446,6.958c0,0,1.484,0.114,2.368,0.114 c0.94,0,2.397-0.114,2.397-0.114c0.485-0.028,0.542,0.684,0.057,0.741c0,0-0.488,0.057-1.029,0.085l3.249,9.665l0.897-2.996 C17.841,13.284,18.069,12.316,18.069,11.546z M19.889,7.686c0.039,0.286,0.06,0.593,0.06,0.924c0,0.912-0.171,1.938-0.684,3.22 l-2.746,7.94c2.673-1.558,4.47-4.454,4.47-7.771C20.991,10.436,20.591,8.967,19.889,7.686z M12,22C6.486,22,2,17.514,2,12 C2,6.486,6.486,2,12,2c5.514,0,10,4.486,10,10C22,17.514,17.514,22,12,22z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const FivehundredpxIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M6.94026,15.1412c.00437.01213.108.29862.168.44064a6.55008,6.55008,0,1,0,6.03191-9.09557,6.68654,6.68654,0,0,0-2.58357.51467A8.53914,8.53914,0,0,0,8.21268,8.61344L8.209,8.61725V3.22948l9.0504-.00008c.32934-.0036.32934-.46353.32934-.61466s0-.61091-.33035-.61467L7.47248,2a.43.43,0,0,0-.43131.42692v7.58355c0,.24466.30476.42131.58793.4819.553.11812.68074-.05864.81617-.2457l.018-.02481A10.52673,10.52673,0,0,1,9.32258,9.258a5.35268,5.35268,0,1,1,7.58985,7.54976,5.417,5.417,0,0,1-3.80867,1.56365,5.17483,5.17483,0,0,1-2.69822-.74478l.00342-4.61111a2.79372,2.79372,0,0,1,.71372-1.78792,2.61611,2.61611,0,0,1,1.98282-.89477,2.75683,2.75683,0,0,1,1.95525.79477,2.66867,2.66867,0,0,1,.79656,1.909,2.724,2.724,0,0,1-2.75849,2.748,4.94651,4.94651,0,0,1-.86254-.13719c-.31234-.093-.44519.34058-.48892.48349-.16811.54966.08453.65862.13687.67489a3.75751,3.75751,0,0,0,1.25234.18375,3.94634,3.94634,0,1,0-2.82444-6.742,3.67478,3.67478,0,0,0-1.13028,2.584l-.00041.02323c-.0035.11667-.00579,2.881-.00644,3.78811l-.00407-.00451a6.18521,6.18521,0,0,1-1.0851-1.86092c-.10544-.27856-.34358-.22925-.66857-.12917-.14192.04372-.57386.17677-.47833.489Zm4.65165-1.08338a.51346.51346,0,0,0,.19513.31818l.02276.022a.52945.52945,0,0,0,.3517.18416.24242.24242,0,0,0,.16577-.0611c.05473-.05082.67382-.67812.73287-.738l.69041.68819a.28978.28978,0,0,0,.21437.11032.53239.53239,0,0,0,.35708-.19486c.29792-.30419.14885-.46821.07676-.54751l-.69954-.69975.72952-.73469c.16-.17311.01874-.35708-.12218-.498-.20461-.20461-.402-.25742-.52855-.14083l-.7254.72665-.73354-.73375a.20128.20128,0,0,0-.14179-.05695.54135.54135,0,0,0-.34379.19648c-.22561.22555-.274.38149-.15656.5059l.73374.7315-.72942.73072A.26589.26589,0,0,0,11.59191,14.05782Zm1.59866-9.915A8.86081,8.86081,0,0,0,9.854,4.776a.26169.26169,0,0,0-.16938.22759.92978.92978,0,0,0,.08619.42094c.05682.14524.20779.531.50006.41955a8.40969,8.40969,0,0,1,2.91968-.55484,7.87875,7.87875,0,0,1,3.086.62286,8.61817,8.61817,0,0,1,2.30562,1.49315.2781.2781,0,0,0,.18318.07586c.15529,0,.30425-.15253.43167-.29551.21268-.23861.35873-.4369.1492-.63538a8.50425,8.50425,0,0,0-2.62312-1.694A9.0177,9.0177,0,0,0,13.19058,4.14283ZM19.50945,18.6236h0a.93171.93171,0,0,0-.36642-.25406.26589.26589,0,0,0-.27613.06613l-.06943.06929A7.90606,7.90606,0,0,1,7.60639,18.505a7.57284,7.57284,0,0,1-1.696-2.51537,8.58715,8.58715,0,0,1-.5147-1.77754l-.00871-.04864c-.04939-.25873-.28755-.27684-.62981-.22448-.14234.02178-.5755.088-.53426.39969l.001.00712a9.08807,9.08807,0,0,0,15.406,4.99094c.00193-.00192.04753-.04718.0725-.07436C19.79425,19.16234,19.87422,18.98728,19.50945,18.6236Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const AmazonIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M13.582,8.182C11.934,8.367,9.78,8.49,8.238,9.166c-1.781,0.769-3.03,2.337-3.03,4.644 c0,2.953,1.86,4.429,4.253,4.429c2.02,0,3.125-0.477,4.685-2.065c0.516,0.747,0.685,1.109,1.629,1.894 c0.212,0.114,0.483,0.103,0.672-0.066l0.006,0.006c0.567-0.505,1.599-1.401,2.18-1.888c0.231-0.188,0.19-0.496,0.009-0.754 c-0.52-0.718-1.072-1.303-1.072-2.634V8.305c0-1.876,0.133-3.599-1.249-4.891C15.23,2.369,13.422,2,12.04,2 C9.336,2,6.318,3.01,5.686,6.351C5.618,6.706,5.877,6.893,6.109,6.945l2.754,0.298C9.121,7.23,9.308,6.977,9.357,6.72 c0.236-1.151,1.2-1.706,2.284-1.706c0.584,0,1.249,0.215,1.595,0.738c0.398,0.584,0.346,1.384,0.346,2.061V8.182z M13.049,14.088 c-0.451,0.8-1.169,1.291-1.967,1.291c-1.09,0-1.728-0.83-1.728-2.061c0-2.42,2.171-2.86,4.227-2.86v0.615 C13.582,12.181,13.608,13.104,13.049,14.088z M20.683,19.339C18.329,21.076,14.917,22,11.979,22c-4.118,0-7.826-1.522-10.632-4.057 c-0.22-0.199-0.024-0.471,0.241-0.317c3.027,1.762,6.771,2.823,10.639,2.823c2.608,0,5.476-0.541,8.115-1.66 C20.739,18.62,21.072,19.051,20.683,19.339z M21.336,21.043c-0.194,0.163-0.379,0.076-0.293-0.139 c0.284-0.71,0.92-2.298,0.619-2.684c-0.301-0.386-1.99-0.183-2.749-0.092c-0.23,0.027-0.266-0.173-0.059-0.319 c1.348-0.946,3.555-0.673,3.811-0.356C22.925,17.773,22.599,19.986,21.336,21.043z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\n\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const BandcampIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M15.27 17.289 3 17.289 8.73 6.711 21 6.711 15.27 17.289\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const BehanceIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M7.799,5.698c0.589,0,1.12,0.051,1.606,0.156c0.482,0.102,0.894,0.273,1.241,0.507c0.344,0.235,0.612,0.546,0.804,0.938 c0.188,0.387,0.281,0.871,0.281,1.443c0,0.619-0.141,1.137-0.421,1.551c-0.284,0.413-0.7,0.751-1.255,1.014 c0.756,0.218,1.317,0.601,1.689,1.146c0.374,0.549,0.557,1.205,0.557,1.975c0,0.623-0.12,1.161-0.359,1.612 c-0.241,0.457-0.569,0.828-0.973,1.114c-0.408,0.288-0.876,0.5-1.399,0.637C9.052,17.931,8.514,18,7.963,18H2V5.698H7.799 M7.449,10.668c0.481,0,0.878-0.114,1.192-0.345c0.311-0.228,0.463-0.603,0.463-1.119c0-0.286-0.051-0.523-0.152-0.707 C8.848,8.315,8.711,8.171,8.536,8.07C8.362,7.966,8.166,7.894,7.94,7.854c-0.224-0.044-0.457-0.06-0.697-0.06H4.709v2.874H7.449z M7.6,15.905c0.267,0,0.521-0.024,0.759-0.077c0.243-0.053,0.457-0.137,0.637-0.261c0.182-0.12,0.332-0.283,0.441-0.491 C9.547,14.87,9.6,14.602,9.6,14.278c0-0.633-0.18-1.084-0.533-1.357c-0.356-0.27-0.83-0.404-1.413-0.404H4.709v3.388L7.6,15.905z M16.162,15.864c0.367,0.358,0.897,0.538,1.583,0.538c0.493,0,0.92-0.125,1.277-0.374c0.354-0.248,0.571-0.514,0.654-0.79h2.155 c-0.347,1.072-0.872,1.838-1.589,2.299C19.534,18,18.67,18.23,17.662,18.23c-0.701,0-1.332-0.113-1.899-0.337 c-0.567-0.227-1.041-0.544-1.439-0.958c-0.389-0.415-0.689-0.907-0.904-1.484c-0.213-0.574-0.32-1.21-0.32-1.899 c0-0.666,0.11-1.288,0.329-1.863c0.222-0.577,0.529-1.075,0.933-1.492c0.406-0.42,0.885-0.751,1.444-0.994 c0.558-0.241,1.175-0.363,1.857-0.363c0.754,0,1.414,0.145,1.98,0.44c0.563,0.291,1.026,0.686,1.389,1.181 c0.363,0.493,0.622,1.057,0.783,1.69c0.16,0.632,0.217,1.292,0.171,1.983h-6.428C15.557,14.84,15.795,15.506,16.162,15.864 M18.973,11.184c-0.291-0.321-0.783-0.496-1.384-0.496c-0.39,0-0.714,0.066-0.973,0.2c-0.254,0.132-0.461,0.297-0.621,0.491 c-0.157,0.197-0.265,0.405-0.328,0.628c-0.063,0.217-0.101,0.413-0.111,0.587h3.98C19.478,11.969,19.265,11.509,18.973,11.184z M15.057,7.738h4.985V6.524h-4.985L15.057,7.738z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const CodepenIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M22.016,8.84c-0.002-0.013-0.005-0.025-0.007-0.037c-0.005-0.025-0.008-0.048-0.015-0.072 c-0.003-0.015-0.01-0.028-0.013-0.042c-0.008-0.02-0.015-0.04-0.023-0.062c-0.007-0.015-0.013-0.028-0.02-0.042 c-0.008-0.02-0.018-0.037-0.03-0.057c-0.007-0.013-0.017-0.027-0.025-0.038c-0.012-0.018-0.023-0.035-0.035-0.052 c-0.01-0.013-0.02-0.025-0.03-0.037c-0.015-0.017-0.028-0.032-0.043-0.045c-0.01-0.012-0.022-0.023-0.035-0.035 c-0.015-0.015-0.032-0.028-0.048-0.04c-0.012-0.01-0.025-0.02-0.037-0.03c-0.005-0.003-0.01-0.008-0.015-0.012l-9.161-6.096 c-0.289-0.192-0.666-0.192-0.955,0L2.359,8.237C2.354,8.24,2.349,8.245,2.344,8.249L2.306,8.277 c-0.017,0.013-0.033,0.027-0.048,0.04C2.246,8.331,2.234,8.342,2.222,8.352c-0.015,0.015-0.028,0.03-0.042,0.047 c-0.012,0.013-0.022,0.023-0.03,0.037C2.139,8.453,2.125,8.471,2.115,8.488C2.107,8.501,2.099,8.514,2.09,8.526 C2.079,8.548,2.069,8.565,2.06,8.585C2.054,8.6,2.047,8.613,2.04,8.626C2.032,8.648,2.025,8.67,2.019,8.69 c-0.005,0.013-0.01,0.027-0.013,0.042C1.999,8.755,1.995,8.778,1.99,8.803C1.989,8.817,1.985,8.828,1.984,8.84 C1.978,8.879,1.975,8.915,1.975,8.954v6.093c0,0.037,0.003,0.075,0.008,0.112c0.002,0.012,0.005,0.025,0.007,0.038 c0.005,0.023,0.008,0.047,0.015,0.072c0.003,0.015,0.008,0.028,0.013,0.04c0.007,0.022,0.013,0.042,0.022,0.063 c0.007,0.015,0.013,0.028,0.02,0.04c0.008,0.02,0.018,0.038,0.03,0.058c0.007,0.013,0.015,0.027,0.025,0.038 c0.012,0.018,0.023,0.035,0.035,0.052c0.01,0.013,0.02,0.025,0.03,0.037c0.013,0.015,0.028,0.032,0.042,0.045 c0.012,0.012,0.023,0.023,0.035,0.035c0.015,0.013,0.032,0.028,0.048,0.04l0.038,0.03c0.005,0.003,0.01,0.007,0.013,0.01 l9.163,6.095C11.668,21.953,11.833,22,12,22c0.167,0,0.332-0.047,0.478-0.144l9.163-6.095l0.015-0.01 c0.013-0.01,0.027-0.02,0.037-0.03c0.018-0.013,0.035-0.028,0.048-0.04c0.013-0.012,0.025-0.023,0.035-0.035 c0.017-0.015,0.03-0.032,0.043-0.045c0.01-0.013,0.02-0.025,0.03-0.037c0.013-0.018,0.025-0.035,0.035-0.052 c0.008-0.013,0.018-0.027,0.025-0.038c0.012-0.02,0.022-0.038,0.03-0.058c0.007-0.013,0.013-0.027,0.02-0.04 c0.008-0.022,0.015-0.042,0.023-0.063c0.003-0.013,0.01-0.027,0.013-0.04c0.007-0.025,0.01-0.048,0.015-0.072 c0.002-0.013,0.005-0.027,0.007-0.037c0.003-0.042,0.007-0.079,0.007-0.117V8.954C22.025,8.915,22.022,8.879,22.016,8.84z M12.862,4.464l6.751,4.49l-3.016,2.013l-3.735-2.492V4.464z M11.138,4.464v4.009l-3.735,2.494L4.389,8.954L11.138,4.464z M3.699,10.562L5.853,12l-2.155,1.438V10.562z M11.138,19.536l-6.749-4.491l3.015-2.011l3.735,2.492V19.536z M12,14.035L8.953,12 L12,9.966L15.047,12L12,14.035z M12.862,19.536v-4.009l3.735-2.492l3.016,2.011L12.862,19.536z M20.303,13.438L18.147,12 l2.156-1.438L20.303,13.438z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const DeviantArtIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M 18.19 5.636 18.19 2 18.188 2 14.553 2 14.19 2.366 12.474 5.636 11.935 6 5.81 6 5.81 10.994 9.177 10.994 9.477 11.357 5.81 18.363 5.81 22 5.811 22 9.447 22 9.81 21.634 11.526 18.364 12.065 18 18.19 18 18.19 13.006 14.823 13.006 14.523 12.641 18.19 5.636z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const DribbbleIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12,22C6.486,22,2,17.514,2,12S6.486,2,12,2c5.514,0,10,4.486,10,10S17.514,22,12,22z M20.434,13.369 c-0.292-0.092-2.644-0.794-5.32-0.365c1.117,3.07,1.572,5.57,1.659,6.09C18.689,17.798,20.053,15.745,20.434,13.369z M15.336,19.876c-0.127-0.749-0.623-3.361-1.822-6.477c-0.019,0.006-0.038,0.013-0.056,0.019c-4.818,1.679-6.547,5.02-6.701,5.334 c1.448,1.129,3.268,1.803,5.243,1.803C13.183,20.555,14.311,20.313,15.336,19.876z M5.654,17.724 c0.193-0.331,2.538-4.213,6.943-5.637c0.111-0.036,0.224-0.07,0.337-0.102c-0.214-0.485-0.448-0.971-0.692-1.45 c-4.266,1.277-8.405,1.223-8.778,1.216c-0.003,0.087-0.004,0.174-0.004,0.261C3.458,14.207,4.29,16.21,5.654,17.724z M3.639,10.264 c0.382,0.005,3.901,0.02,7.897-1.041c-1.415-2.516-2.942-4.631-3.167-4.94C5.979,5.41,4.193,7.613,3.639,10.264z M9.998,3.709 c0.236,0.316,1.787,2.429,3.187,5c3.037-1.138,4.323-2.867,4.477-3.085C16.154,4.286,14.17,3.471,12,3.471 C11.311,3.471,10.641,3.554,9.998,3.709z M18.612,6.612C18.432,6.855,17,8.69,13.842,9.979c0.199,0.407,0.389,0.821,0.567,1.237 c0.063,0.148,0.124,0.295,0.184,0.441c2.842-0.357,5.666,0.215,5.948,0.275C20.522,9.916,19.801,8.065,18.612,6.612z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const DropboxIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12,6.134L6.069,9.797L2,6.54l5.883-3.843L12,6.134z M2,13.054l5.883,3.843L12,13.459L6.069,9.797L2,13.054z M12,13.459 l4.116,3.439L22,13.054l-4.069-3.257L12,13.459z M22,6.54l-5.884-3.843L12,6.134l5.931,3.663L22,6.54z M12.011,14.2l-4.129,3.426 l-1.767-1.153v1.291l5.896,3.539l5.897-3.539v-1.291l-1.769,1.153L12.011,14.2z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const EtsyIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M9.16033,4.038c0-.27174.02717-.43478.48913-.43478h6.22283c1.087,0,1.68478.92391,2.11957,2.663l.35326,1.38587h1.05978C19.59511,3.712,19.75815,2,19.75815,2s-2.663.29891-4.23913.29891h-7.962L3.29076,2.163v1.1413L4.731,3.57609c1.00543.19022,1.25.40761,1.33152,1.33152,0,0,.08152,2.71739.08152,7.20109s-.08152,7.17391-.08152,7.17391c0,.81522-.32609,1.11413-1.33152,1.30435l-1.44022.27174V22l4.2663-.13587h7.11957c1.60326,0,5.32609.13587,5.32609.13587.08152-.97826.625-5.40761.70652-5.89674H19.7038L18.644,18.52174c-.84239,1.90217-2.06522,2.038-3.42391,2.038H11.1712c-1.3587,0-2.01087-.54348-2.01087-1.712V12.65217s3.0163,0,3.99457.08152c.76087.05435,1.22283.27174,1.46739,1.33152l.32609,1.413h1.16848l-.08152-3.55978.163-3.587H15.02989l-.38043,1.57609c-.24457,1.03261-.40761,1.22283-1.46739,1.33152-1.38587.13587-4.02174.1087-4.02174.1087Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const FacebookIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const FeedIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M2,8.667V12c5.515,0,10,4.485,10,10h3.333C15.333,14.637,9.363,8.667,2,8.667z M2,2v3.333 c9.19,0,16.667,7.477,16.667,16.667H22C22,10.955,13.045,2,2,2z M4.5,17C3.118,17,2,18.12,2,19.5S3.118,22,4.5,22S7,20.88,7,19.5 S5.882,17,4.5,17z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const FlickrIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M6.5,7c-2.75,0-5,2.25-5,5s2.25,5,5,5s5-2.25,5-5S9.25,7,6.5,7z M17.5,7c-2.75,0-5,2.25-5,5s2.25,5,5,5s5-2.25,5-5 S20.25,7,17.5,7z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const FoursquareIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M17.573,2c0,0-9.197,0-10.668,0S5,3.107,5,3.805s0,16.948,0,16.948c0,0.785,0.422,1.077,0.66,1.172 c0.238,0.097,0.892,0.177,1.285-0.275c0,0,5.035-5.843,5.122-5.93c0.132-0.132,0.132-0.132,0.262-0.132h3.26 c1.368,0,1.588-0.977,1.732-1.552c0.078-0.318,0.692-3.428,1.225-6.122l0.675-3.368C19.56,2.893,19.14,2,17.573,2z M16.495,7.22 c-0.053,0.252-0.372,0.518-0.665,0.518c-0.293,0-4.157,0-4.157,0c-0.467,0-0.802,0.318-0.802,0.787v0.508 c0,0.467,0.337,0.798,0.805,0.798c0,0,3.197,0,3.528,0s0.655,0.362,0.583,0.715c-0.072,0.353-0.407,2.102-0.448,2.295 c-0.04,0.193-0.262,0.523-0.655,0.523c-0.33,0-2.88,0-2.88,0c-0.523,0-0.683,0.068-1.033,0.503 c-0.35,0.437-3.505,4.223-3.505,4.223c-0.032,0.035-0.063,0.027-0.063-0.015V4.852c0-0.298,0.26-0.648,0.648-0.648 c0,0,8.228,0,8.562,0c0.315,0,0.61,0.297,0.528,0.683L16.495,7.22z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const GoodreadsIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M17.3,17.5c-0.2,0.8-0.5,1.4-1,1.9c-0.4,0.5-1,0.9-1.7,1.2C13.9,20.9,13.1,21,12,21c-0.6,0-1.3-0.1-1.9-0.2 c-0.6-0.1-1.1-0.4-1.6-0.7c-0.5-0.3-0.9-0.7-1.2-1.2c-0.3-0.5-0.5-1.1-0.5-1.7h1.5c0.1,0.5,0.2,0.9,0.5,1.2 c0.2,0.3,0.5,0.6,0.9,0.8c0.3,0.2,0.7,0.3,1.1,0.4c0.4,0.1,0.8,0.1,1.2,0.1c1.4,0,2.5-0.4,3.1-1.2c0.6-0.8,1-2,1-3.5v-1.7h0 c-0.4,0.8-0.9,1.4-1.6,1.9c-0.7,0.5-1.5,0.7-2.4,0.7c-1,0-1.9-0.2-2.6-0.5C8.7,15,8.1,14.5,7.7,14c-0.5-0.6-0.8-1.3-1-2.1 c-0.2-0.8-0.3-1.6-0.3-2.5c0-0.9,0.1-1.7,0.4-2.5c0.3-0.8,0.6-1.5,1.1-2c0.5-0.6,1.1-1,1.8-1.4C10.3,3.2,11.1,3,12,3 c0.5,0,0.9,0.1,1.3,0.2c0.4,0.1,0.8,0.3,1.1,0.5c0.3,0.2,0.6,0.5,0.9,0.8c0.3,0.3,0.5,0.6,0.6,1h0V3.4h1.5V15 C17.6,15.9,17.5,16.7,17.3,17.5z M13.8,14.1c0.5-0.3,0.9-0.7,1.3-1.1c0.3-0.5,0.6-1,0.8-1.6c0.2-0.6,0.3-1.2,0.3-1.9 c0-0.6-0.1-1.2-0.2-1.9c-0.1-0.6-0.4-1.2-0.7-1.7c-0.3-0.5-0.7-0.9-1.3-1.2c-0.5-0.3-1.1-0.5-1.9-0.5s-1.4,0.2-1.9,0.5 c-0.5,0.3-1,0.7-1.3,1.2C8.5,6.4,8.3,7,8.1,7.6C8,8.2,7.9,8.9,7.9,9.5c0,0.6,0.1,1.3,0.2,1.9C8.3,12,8.6,12.5,8.9,13 c0.3,0.5,0.8,0.8,1.3,1.1c0.5,0.3,1.1,0.4,1.9,0.4C12.7,14.5,13.3,14.4,13.8,14.1z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const GoogleIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12.02,10.18v3.72v0.01h5.51c-0.26,1.57-1.67,4.22-5.5,4.22c-3.31,0-6.01-2.75-6.01-6.12s2.7-6.12,6.01-6.12 c1.87,0,3.13,0.8,3.85,1.48l2.84-2.76C16.99,2.99,14.73,2,12.03,2c-5.52,0-10,4.48-10,10s4.48,10,10,10c5.77,0,9.6-4.06,9.6-9.77 c0-0.83-0.11-1.42-0.25-2.05H12.02z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const GitHubIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const GravatarIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M10.8001 4.69937V10.6494C10.8001 11.1001 10.9791 11.5323 11.2978 11.851C11.6165 12.1697 12.0487 12.3487 12.4994 12.3487C12.9501 12.3487 13.3824 12.1697 13.7011 11.851C14.0198 11.5323 14.1988 11.1001 14.1988 10.6494V6.69089C15.2418 7.05861 16.1371 7.75537 16.7496 8.67617C17.3622 9.59698 17.6589 10.6919 17.595 11.796C17.5311 12.9001 17.1101 13.9535 16.3954 14.7975C15.6807 15.6415 14.711 16.2303 13.6325 16.4753C12.5541 16.7202 11.4252 16.608 10.4161 16.1555C9.40691 15.703 8.57217 14.9348 8.03763 13.9667C7.50308 12.9985 7.29769 11.8828 7.45242 10.7877C7.60714 9.69266 8.11359 8.67755 8.89545 7.89537C9.20904 7.57521 9.38364 7.14426 9.38132 6.69611C9.37899 6.24797 9.19994 5.81884 8.88305 5.50195C8.56616 5.18506 8.13704 5.00601 7.68889 5.00369C7.24075 5.00137 6.80979 5.17597 6.48964 5.48956C5.09907 6.8801 4.23369 8.7098 4.04094 10.6669C3.84819 12.624 4.34 14.5873 5.43257 16.2224C6.52515 17.8575 8.15088 19.0632 10.0328 19.634C11.9146 20.2049 13.9362 20.1055 15.753 19.3529C17.5699 18.6003 19.0695 17.241 19.9965 15.5066C20.9234 13.7722 21.2203 11.7701 20.8366 9.84133C20.4528 7.91259 19.4122 6.17658 17.892 4.92911C16.3717 3.68163 14.466 2.99987 12.4994 3C12.0487 3 11.6165 3.17904 11.2978 3.49773C10.9791 3.81643 10.8001 4.24867 10.8001 4.69937Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const InstagramIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12,4.622c2.403,0,2.688,0.009,3.637,0.052c0.877,0.04,1.354,0.187,1.671,0.31c0.42,0.163,0.72,0.358,1.035,0.673 c0.315,0.315,0.51,0.615,0.673,1.035c0.123,0.317,0.27,0.794,0.31,1.671c0.043,0.949,0.052,1.234,0.052,3.637 s-0.009,2.688-0.052,3.637c-0.04,0.877-0.187,1.354-0.31,1.671c-0.163,0.42-0.358,0.72-0.673,1.035 c-0.315,0.315-0.615,0.51-1.035,0.673c-0.317,0.123-0.794,0.27-1.671,0.31c-0.949,0.043-1.233,0.052-3.637,0.052 s-2.688-0.009-3.637-0.052c-0.877-0.04-1.354-0.187-1.671-0.31c-0.42-0.163-0.72-0.358-1.035-0.673 c-0.315-0.315-0.51-0.615-0.673-1.035c-0.123-0.317-0.27-0.794-0.31-1.671C4.631,14.688,4.622,14.403,4.622,12 s0.009-2.688,0.052-3.637c0.04-0.877,0.187-1.354,0.31-1.671c0.163-0.42,0.358-0.72,0.673-1.035 c0.315-0.315,0.615-0.51,1.035-0.673c0.317-0.123,0.794-0.27,1.671-0.31C9.312,4.631,9.597,4.622,12,4.622 M12,3 C9.556,3,9.249,3.01,8.289,3.054C7.331,3.098,6.677,3.25,6.105,3.472C5.513,3.702,5.011,4.01,4.511,4.511 c-0.5,0.5-0.808,1.002-1.038,1.594C3.25,6.677,3.098,7.331,3.054,8.289C3.01,9.249,3,9.556,3,12c0,2.444,0.01,2.751,0.054,3.711 c0.044,0.958,0.196,1.612,0.418,2.185c0.23,0.592,0.538,1.094,1.038,1.594c0.5,0.5,1.002,0.808,1.594,1.038 c0.572,0.222,1.227,0.375,2.185,0.418C9.249,20.99,9.556,21,12,21s2.751-0.01,3.711-0.054c0.958-0.044,1.612-0.196,2.185-0.418 c0.592-0.23,1.094-0.538,1.594-1.038c0.5-0.5,0.808-1.002,1.038-1.594c0.222-0.572,0.375-1.227,0.418-2.185 C20.99,14.751,21,14.444,21,12s-0.01-2.751-0.054-3.711c-0.044-0.958-0.196-1.612-0.418-2.185c-0.23-0.592-0.538-1.094-1.038-1.594 c-0.5-0.5-1.002-0.808-1.594-1.038c-0.572-0.222-1.227-0.375-2.185-0.418C14.751,3.01,14.444,3,12,3L12,3z M12,7.378 c-2.552,0-4.622,2.069-4.622,4.622S9.448,16.622,12,16.622s4.622-2.069,4.622-4.622S14.552,7.378,12,7.378z M12,15 c-1.657,0-3-1.343-3-3s1.343-3,3-3s3,1.343,3,3S13.657,15,12,15z M16.804,6.116c-0.596,0-1.08,0.484-1.08,1.08 s0.484,1.08,1.08,1.08c0.596,0,1.08-0.484,1.08-1.08S17.401,6.116,16.804,6.116z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const LastfmIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M 12.0002 1.5 C 6.2006 1.5 1.5 6.2011 1.5 11.9998 C 1.5 17.799 6.2006 22.5 12.0002 22.5 C 17.799 22.5 22.5 17.799 22.5 11.9998 C 22.5 6.2011 17.799 1.5 12.0002 1.5 Z M 16.1974 16.2204 C 14.8164 16.2152 13.9346 15.587 13.3345 14.1859 L 13.1816 13.8451 L 11.8541 10.8101 C 11.4271 9.7688 10.3526 9.0712 9.1801 9.0712 C 7.5695 9.0712 6.2593 10.3851 6.2593 12.001 C 6.2593 13.6165 7.5695 14.9303 9.1801 14.9303 C 10.272 14.9303 11.2651 14.3275 11.772 13.3567 C 11.7893 13.3235 11.8239 13.302 11.863 13.3038 C 11.9007 13.3054 11.9353 13.3288 11.9504 13.3632 L 12.4865 14.6046 C 12.5016 14.639 12.4956 14.6778 12.4723 14.7069 C 11.6605 15.6995 10.4602 16.2683 9.1801 16.2683 C 6.8331 16.2683 4.9234 14.3536 4.9234 12.001 C 4.9234 9.6468 6.833 7.732 9.1801 7.732 C 10.9572 7.732 12.3909 8.6907 13.1138 10.3636 C 13.1206 10.3802 13.8412 12.0708 14.4744 13.5191 C 14.8486 14.374 15.1462 14.896 16.1288 14.9292 C 17.0663 14.9613 17.7538 14.4122 17.7538 13.6485 C 17.7538 12.9691 17.3321 12.8004 16.3803 12.4822 C 14.7365 11.9398 13.845 11.3861 13.845 10.0182 C 13.845 8.6809 14.7667 7.8162 16.192 7.8162 C 17.1288 7.8162 17.8155 8.2287 18.2921 9.0768 C 18.305 9.1006 18.3079 9.1281 18.3004 9.1542 C 18.2929 9.1803 18.2748 9.2021 18.2507 9.2138 L 17.3614 9.669 C 17.3178 9.692 17.2643 9.6781 17.2356 9.6385 C 16.9329 9.2135 16.5956 9.0251 16.1423 9.0251 C 15.5512 9.0251 15.122 9.429 15.122 9.9865 C 15.122 10.6738 15.6529 10.8414 16.5339 11.1192 C 16.6491 11.1558 16.7696 11.194 16.8939 11.2343 C 18.2763 11.6865 19.0768 12.2311 19.0768 13.6836 C 19.0769 15.1297 17.8389 16.2204 16.1974 16.2204 Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const LinkedInIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const MailIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm.5 12c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V9.8l7.5 5.6 7.5-5.6V17zm0-9.1L12 13.6 4.5 7.9V7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v.9z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const MastodonIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M23.193 7.879c0-5.206-3.411-6.732-3.411-6.732C18.062.357 15.108.025 12.041 0h-.076c-3.068.025-6.02.357-7.74 1.147 0 0-3.411 1.526-3.411 6.732 0 1.192-.023 2.618.015 4.129.124 5.092.934 10.109 5.641 11.355 2.17.574 4.034.695 5.535.612 2.722-.15 4.25-.972 4.25-.972l-.09-1.975s-1.945.613-4.129.539c-2.165-.074-4.449-.233-4.799-2.891a5.499 5.499 0 0 1-.048-.745s2.125.52 4.817.643c1.646.075 3.19-.097 4.758-.283 3.007-.359 5.625-2.212 5.954-3.905.517-2.665.475-6.507.475-6.507zm-4.024 6.709h-2.497V8.469c0-1.29-.543-1.944-1.628-1.944-1.2 0-1.802.776-1.802 2.312v3.349h-2.483v-3.35c0-1.536-.602-2.312-1.802-2.312-1.085 0-1.628.655-1.628 1.944v6.119H4.832V8.284c0-1.289.328-2.313.987-3.07.68-.758 1.569-1.146 2.674-1.146 1.278 0 2.246.491 2.886 1.474L12 6.585l.622-1.043c.64-.983 1.608-1.474 2.886-1.474 1.104 0 1.994.388 2.674 1.146.658.757.986 1.781.986 3.07v6.304z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const MeetupIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M19.24775,14.722a3.57032,3.57032,0,0,1-2.94457,3.52073,3.61886,3.61886,0,0,1-.64652.05634c-.07314-.0008-.10187.02846-.12507.09547A2.38881,2.38881,0,0,1,13.49453,20.094a2.33092,2.33092,0,0,1-1.827-.50716.13635.13635,0,0,0-.19878-.00408,3.191,3.191,0,0,1-2.104.60248,3.26309,3.26309,0,0,1-3.00324-2.71993,2.19076,2.19076,0,0,1-.03512-.30865c-.00156-.08579-.03413-.1189-.11608-.13493a2.86421,2.86421,0,0,1-1.23189-.56111,2.945,2.945,0,0,1-1.166-2.05749,2.97484,2.97484,0,0,1,.87524-2.50774.112.112,0,0,0,.02091-.16107,2.7213,2.7213,0,0,1-.36648-1.48A2.81256,2.81256,0,0,1,6.57673,7.58838a.35764.35764,0,0,0,.28869-.22819,4.2208,4.2208,0,0,1,6.02892-1.90111.25161.25161,0,0,0,.22023.0243,3.65608,3.65608,0,0,1,3.76031.90678A3.57244,3.57244,0,0,1,17.95918,8.626a2.97339,2.97339,0,0,1,.01829.57356.10637.10637,0,0,0,.0853.12792,1.97669,1.97669,0,0,1,1.27939,1.33733,2.00266,2.00266,0,0,1-.57112,2.12652c-.05284.05166-.04168.08328-.01173.13489A3.51189,3.51189,0,0,1,19.24775,14.722Zm-6.35959-.27836a1.6984,1.6984,0,0,0,1.14556,1.61113,3.82039,3.82039,0,0,0,1.036.17935,1.46888,1.46888,0,0,0,.73509-.12255.44082.44082,0,0,0,.26057-.44274.45312.45312,0,0,0-.29211-.43375.97191.97191,0,0,0-.20678-.063c-.21326-.03806-.42754-.0701-.63973-.11215a.54787.54787,0,0,1-.50172-.60926,2.75864,2.75864,0,0,1,.1773-.901c.1763-.535.414-1.045.64183-1.55913A12.686,12.686,0,0,0,15.85,10.47863a1.58461,1.58461,0,0,0,.04861-.87208,1.04531,1.04531,0,0,0-.85432-.83981,1.60658,1.60658,0,0,0-1.23654.16594.27593.27593,0,0,1-.36286-.03413c-.085-.0747-.16594-.15379-.24918-.23055a.98682.98682,0,0,0-1.33577-.04933,6.1468,6.1468,0,0,1-.4989.41615.47762.47762,0,0,1-.51535.03566c-.17448-.09307-.35512-.175-.53531-.25665a1.74949,1.74949,0,0,0-.56476-.2016,1.69943,1.69943,0,0,0-1.61654.91787,8.05815,8.05815,0,0,0-.32952.80126c-.45471,1.2557-.82507,2.53825-1.20838,3.81639a1.24151,1.24151,0,0,0,.51532,1.44389,1.42659,1.42659,0,0,0,1.22008.17166,1.09728,1.09728,0,0,0,.66994-.69764c.44145-1.04111.839-2.09989,1.25981-3.14926.11581-.28876.22792-.57874.35078-.86438a.44548.44548,0,0,1,.69189-.19539.50521.50521,0,0,1,.15044.43836,1.75625,1.75625,0,0,1-.14731.50453c-.27379.69219-.55265,1.38236-.82766,2.074a2.0836,2.0836,0,0,0-.14038.42876.50719.50719,0,0,0,.27082.57722.87236.87236,0,0,0,.66145.02739.99137.99137,0,0,0,.53406-.532q.61571-1.20914,1.228-2.42031.28423-.55863.57585-1.1133a.87189.87189,0,0,1,.29055-.35253.34987.34987,0,0,1,.37634-.01265.30291.30291,0,0,1,.12434.31459.56716.56716,0,0,1-.04655.1915c-.05318.12739-.10286.25669-.16183.38156-.34118.71775-.68754,1.43273-1.02568,2.152A2.00213,2.00213,0,0,0,12.88816,14.44366Zm4.78568,5.28972a.88573.88573,0,0,0-1.77139.00465.8857.8857,0,0,0,1.77139-.00465Zm-14.83838-7.296a.84329.84329,0,1,0,.00827-1.68655.8433.8433,0,0,0-.00827,1.68655Zm10.366-9.43673a.83506.83506,0,1,0-.0091,1.67.83505.83505,0,0,0,.0091-1.67Zm6.85014,5.22a.71651.71651,0,0,0-1.433.0093.71656.71656,0,0,0,1.433-.0093ZM5.37528,6.17908A.63823.63823,0,1,0,6.015,5.54483.62292.62292,0,0,0,5.37528,6.17908Zm6.68214,14.80843a.54949.54949,0,1,0-.55052.541A.54556.54556,0,0,0,12.05742,20.98752Zm8.53235-8.49689a.54777.54777,0,0,0-.54027.54023.53327.53327,0,0,0,.532.52293.51548.51548,0,0,0,.53272-.5237A.53187.53187,0,0,0,20.58977,12.49063ZM7.82846,2.4715a.44927.44927,0,1,0,.44484.44766A.43821.43821,0,0,0,7.82846,2.4715Zm13.775,7.60492a.41186.41186,0,0,0-.40065.39623.40178.40178,0,0,0,.40168.40168A.38994.38994,0,0,0,22,10.48172.39946.39946,0,0,0,21.60349,10.07642ZM5.79193,17.96207a.40469.40469,0,0,0-.397-.39646.399.399,0,0,0-.396.405.39234.39234,0,0,0,.39939.389A.39857.39857,0,0,0,5.79193,17.96207Z\" />\r\n\t</SVG>\r\n);\r\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const MediumIcon = () => (\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\n\t\t<Path d=\"M13.2,12c0,3-2.4,5.4-5.3,5.4S2.6,15,2.6,12s2.4-5.4,5.3-5.4S13.2,9,13.2,12 M19.1,12c0,2.8-1.2,5-2.7,5s-2.7-2.3-2.7-5s1.2-5,2.7-5C17.9,7,19.1,9.2,19.1,12 M21.4,12c0,2.5-0.4,4.5-0.9,4.5c-0.5,0-0.9-2-0.9-4.5s0.4-4.5,0.9-4.5C21,7.5,21.4,9.5,21.4,12\" />\n\t</SVG>\n);\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const PatreonIcon = () => (\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\n\t\t<Path d=\"M20 8.40755C19.9969 6.10922 18.2543 4.22555 16.2097 3.54588C13.6708 2.70188 10.3222 2.82421 7.89775 3.99921C4.95932 5.42355 4.03626 8.54355 4.00186 11.6552C3.97363 14.2136 4.2222 20.9517 7.92225 20.9997C10.6715 21.0356 11.0809 17.3967 12.3529 15.6442C13.258 14.3974 14.4233 14.0452 15.8578 13.6806C18.3233 13.0537 20.0036 11.0551 20 8.40755Z\" />\n\t</SVG>\n);\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const PinterestIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12.289,2C6.617,2,3.606,5.648,3.606,9.622c0,1.846,1.025,4.146,2.666,4.878c0.25,0.111,0.381,0.063,0.439-0.169 c0.044-0.175,0.267-1.029,0.365-1.428c0.032-0.128,0.017-0.237-0.091-0.362C6.445,11.911,6.01,10.75,6.01,9.668 c0-2.777,2.194-5.464,5.933-5.464c3.23,0,5.49,2.108,5.49,5.122c0,3.407-1.794,5.768-4.13,5.768c-1.291,0-2.257-1.021-1.948-2.277 c0.372-1.495,1.089-3.112,1.089-4.191c0-0.967-0.542-1.775-1.663-1.775c-1.319,0-2.379,1.309-2.379,3.059 c0,1.115,0.394,1.869,0.394,1.869s-1.302,5.279-1.54,6.261c-0.405,1.666,0.053,4.368,0.094,4.604 c0.021,0.126,0.167,0.169,0.25,0.063c0.129-0.165,1.699-2.419,2.142-4.051c0.158-0.59,0.817-2.995,0.817-2.995 c0.43,0.784,1.681,1.446,3.013,1.446c3.963,0,6.822-3.494,6.822-7.833C20.394,5.112,16.849,2,12.289,2\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const PocketIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M21.927,4.194C21.667,3.48,20.982,3,20.222,3h-0.01h-1.721H3.839C3.092,3,2.411,3.47,2.145,4.17 C2.066,4.378,2.026,4.594,2.026,4.814v6.035l0.069,1.2c0.29,2.73,1.707,5.115,3.899,6.778c0.039,0.03,0.079,0.059,0.119,0.089 l0.025,0.018c1.175,0.859,2.491,1.441,3.91,1.727c0.655,0.132,1.325,0.2,1.991,0.2c0.615,0,1.232-0.057,1.839-0.17 c0.073-0.014,0.145-0.028,0.219-0.044c0.02-0.004,0.042-0.012,0.064-0.023c1.359-0.297,2.621-0.864,3.753-1.691l0.025-0.018 c0.04-0.029,0.08-0.058,0.119-0.089c2.192-1.664,3.609-4.049,3.898-6.778l0.069-1.2V4.814C22.026,4.605,22,4.398,21.927,4.194z M17.692,10.481l-4.704,4.512c-0.266,0.254-0.608,0.382-0.949,0.382c-0.342,0-0.684-0.128-0.949-0.382l-4.705-4.512 C5.838,9.957,5.82,9.089,6.344,8.542c0.524-0.547,1.392-0.565,1.939-0.04l3.756,3.601l3.755-3.601 c0.547-0.524,1.415-0.506,1.939,0.04C18.256,9.089,18.238,9.956,17.692,10.481z\" />\r\n\t</SVG>\r\n);\r\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const RedditIcon = () => (\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\n\t\t<Path d=\"M5.27 9.221A2.775 2.775 0 0 0 2.498 11.993a2.785 2.785 0 0 0 1.6 2.511 5.337 5.337 0 0 0 2.374 4.11 9.386 9.386 0 0 0 5.539 1.7 9.386 9.386 0 0 0 5.541-1.7 5.331 5.331 0 0 0 2.372-4.114 2.787 2.787 0 0 0 1.583-2.5 2.775 2.775 0 0 0-2.772-2.772 2.742 2.742 0 0 0-1.688.574 9.482 9.482 0 0 0-4.637-1.348v-.008a2.349 2.349 0 0 1 2.011-2.316 1.97 1.97 0 0 0 1.926 1.521 1.98 1.98 0 0 0 1.978-1.978 1.98 1.98 0 0 0-1.978-1.978 1.985 1.985 0 0 0-1.938 1.578 3.183 3.183 0 0 0-2.849 3.172v.011a9.463 9.463 0 0 0-4.59 1.35 2.741 2.741 0 0 0-1.688-.574Zm6.736 9.1a3.162 3.162 0 0 1-2.921-1.944.215.215 0 0 1 .014-.2.219.219 0 0 1 .168-.106 27.327 27.327 0 0 1 2.74-.133 27.357 27.357 0 0 1 2.74.133.219.219 0 0 1 .168.106.215.215 0 0 1 .014.2 3.158 3.158 0 0 1-2.921 1.944Zm3.743-3.157a1.265 1.265 0 0 1-1.4-1.371 1.954 1.954 0 0 1 .482-1.442 1.15 1.15 0 0 1 .842-.379 1.7 1.7 0 0 1 1.49 1.777 1.323 1.323 0 0 1-.325 1.015 1.476 1.476 0 0 1-1.089.4Zm-7.485 0a1.476 1.476 0 0 1-1.086-.4 1.323 1.323 0 0 1-.325-1.016 1.7 1.7 0 0 1 1.49-1.777 1.151 1.151 0 0 1 .843.379 1.951 1.951 0 0 1 .481 1.441 1.276 1.276 0 0 1-1.403 1.373Z\" />\n\t</SVG>\n);\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const SkypeIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M10.113,2.699c0.033-0.006,0.067-0.013,0.1-0.02c0.033,0.017,0.066,0.033,0.098,0.051L10.113,2.699z M2.72,10.223 c-0.006,0.034-0.011,0.069-0.017,0.103c0.018,0.032,0.033,0.064,0.051,0.095L2.72,10.223z M21.275,13.771 c0.007-0.035,0.011-0.071,0.018-0.106c-0.018-0.031-0.033-0.064-0.052-0.095L21.275,13.771z M13.563,21.199 c0.032,0.019,0.065,0.035,0.096,0.053c0.036-0.006,0.071-0.011,0.105-0.017L13.563,21.199z M22,16.386 c0,1.494-0.581,2.898-1.637,3.953c-1.056,1.057-2.459,1.637-3.953,1.637c-0.967,0-1.914-0.251-2.75-0.725 c0.036-0.006,0.071-0.011,0.105-0.017l-0.202-0.035c0.032,0.019,0.065,0.035,0.096,0.053c-0.543,0.096-1.099,0.147-1.654,0.147 c-1.275,0-2.512-0.25-3.676-0.743c-1.125-0.474-2.135-1.156-3.002-2.023c-0.867-0.867-1.548-1.877-2.023-3.002 c-0.493-1.164-0.743-2.401-0.743-3.676c0-0.546,0.049-1.093,0.142-1.628c0.018,0.032,0.033,0.064,0.051,0.095L2.72,10.223 c-0.006,0.034-0.011,0.069-0.017,0.103C2.244,9.5,2,8.566,2,7.615c0-1.493,0.582-2.898,1.637-3.953 c1.056-1.056,2.46-1.638,3.953-1.638c0.915,0,1.818,0.228,2.622,0.655c-0.033,0.007-0.067,0.013-0.1,0.02l0.199,0.031 c-0.032-0.018-0.066-0.034-0.098-0.051c0.002,0,0.003-0.001,0.004-0.001c0.586-0.112,1.187-0.169,1.788-0.169 c1.275,0,2.512,0.249,3.676,0.742c1.124,0.476,2.135,1.156,3.002,2.024c0.868,0.867,1.548,1.877,2.024,3.002 c0.493,1.164,0.743,2.401,0.743,3.676c0,0.575-0.054,1.15-0.157,1.712c-0.018-0.031-0.033-0.064-0.052-0.095l0.034,0.201 c0.007-0.035,0.011-0.071,0.018-0.106C21.754,14.494,22,15.432,22,16.386z M16.817,14.138c0-1.331-0.613-2.743-3.033-3.282 l-2.209-0.49c-0.84-0.192-1.807-0.444-1.807-1.237c0-0.794,0.679-1.348,1.903-1.348c2.468,0,2.243,1.696,3.468,1.696 c0.645,0,1.209-0.379,1.209-1.031c0-1.521-2.435-2.663-4.5-2.663c-2.242,0-4.63,0.952-4.63,3.488c0,1.221,0.436,2.521,2.839,3.123 l2.984,0.745c0.903,0.223,1.129,0.731,1.129,1.189c0,0.762-0.758,1.507-2.129,1.507c-2.679,0-2.307-2.062-3.743-2.062 c-0.645,0-1.113,0.444-1.113,1.078c0,1.236,1.501,2.886,4.856,2.886C15.236,17.737,16.817,16.199,16.817,14.138z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const SnapchatIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12.065,2a5.526,5.526,0,0,1,3.132.892A5.854,5.854,0,0,1,17.326,5.4a5.821,5.821,0,0,1,.351,2.33q0,.612-.117,2.487a.809.809,0,0,0,.365.091,1.93,1.93,0,0,0,.664-.176,1.93,1.93,0,0,1,.664-.176,1.3,1.3,0,0,1,.729.234.7.7,0,0,1,.351.6.839.839,0,0,1-.41.7,2.732,2.732,0,0,1-.9.41,3.192,3.192,0,0,0-.9.378.728.728,0,0,0-.41.618,1.575,1.575,0,0,0,.156.56,6.9,6.9,0,0,0,1.334,1.953,5.6,5.6,0,0,0,1.881,1.315,5.875,5.875,0,0,0,1.042.3.42.42,0,0,1,.365.456q0,.911-2.852,1.341a1.379,1.379,0,0,0-.143.507,1.8,1.8,0,0,1-.182.605.451.451,0,0,1-.429.241,5.878,5.878,0,0,1-.807-.085,5.917,5.917,0,0,0-.833-.085,4.217,4.217,0,0,0-.807.065,2.42,2.42,0,0,0-.82.293,6.682,6.682,0,0,0-.755.5q-.351.267-.755.527a3.886,3.886,0,0,1-.989.436A4.471,4.471,0,0,1,11.831,22a4.307,4.307,0,0,1-1.256-.176,3.784,3.784,0,0,1-.976-.436q-.4-.26-.749-.527a6.682,6.682,0,0,0-.755-.5,2.422,2.422,0,0,0-.807-.293,4.432,4.432,0,0,0-.82-.065,5.089,5.089,0,0,0-.853.1,5,5,0,0,1-.762.1.474.474,0,0,1-.456-.241,1.819,1.819,0,0,1-.182-.618,1.411,1.411,0,0,0-.143-.521q-2.852-.429-2.852-1.341a.42.42,0,0,1,.365-.456,5.793,5.793,0,0,0,1.042-.3,5.524,5.524,0,0,0,1.881-1.315,6.789,6.789,0,0,0,1.334-1.953A1.575,1.575,0,0,0,6,12.9a.728.728,0,0,0-.41-.618,3.323,3.323,0,0,0-.9-.384,2.912,2.912,0,0,1-.9-.41.814.814,0,0,1-.41-.684.71.71,0,0,1,.338-.593,1.208,1.208,0,0,1,.716-.241,1.976,1.976,0,0,1,.625.169,2.008,2.008,0,0,0,.69.169.919.919,0,0,0,.416-.091q-.117-1.849-.117-2.474A5.861,5.861,0,0,1,6.385,5.4,5.516,5.516,0,0,1,8.625,2.819,7.075,7.075,0,0,1,12.062,2Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const SoundCloudIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M8.9,16.1L9,14L8.9,9.5c0-0.1,0-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1,0-0.1,0.1c0,0-0.1,0.1-0.1,0.1L8.3,14l0.1,2.1 c0,0.1,0,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1C8.8,16.3,8.9,16.3,8.9,16.1z M11.4,15.9l0.1-1.8L11.4,9c0-0.1,0-0.2-0.1-0.2 c0,0-0.1,0-0.1,0s-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.1,0.2l0,0.1l-0.1,5c0,0,0,0.7,0.1,2v0c0,0.1,0,0.1,0.1,0.1c0.1,0.1,0.1,0.1,0.2,0.1 c0.1,0,0.1,0,0.2-0.1c0.1,0,0.1-0.1,0.1-0.2L11.4,15.9z M2.4,12.9L2.5,14l-0.2,1.1c0,0.1,0,0.1-0.1,0.1c0,0-0.1,0-0.1-0.1L2.1,14 l0.1-1.1C2.2,12.9,2.3,12.9,2.4,12.9C2.3,12.9,2.4,12.9,2.4,12.9z M3.1,12.2L3.3,14l-0.2,1.8c0,0.1,0,0.1-0.1,0.1 c-0.1,0-0.1,0-0.1-0.1L2.8,14L3,12.2C3,12.2,3,12.2,3.1,12.2C3.1,12.2,3.1,12.2,3.1,12.2z M3.9,11.9L4.1,14l-0.2,2.1 c0,0.1,0,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L3.5,14l0.2-2.1c0-0.1,0-0.1,0.1-0.1C3.9,11.8,3.9,11.8,3.9,11.9z M4.7,11.9L4.9,14 l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L4.3,14l0.2-2.2c0-0.1,0-0.1,0.1-0.1C4.7,11.7,4.7,11.8,4.7,11.9z M5.6,12 l0.2,2l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c0,0-0.1,0-0.1,0c0,0,0-0.1,0-0.1L5.1,14l0.2-2c0,0,0-0.1,0-0.1s0.1,0,0.1,0 C5.5,11.9,5.5,11.9,5.6,12L5.6,12z M6.4,10.7L6.6,14l-0.2,2.1c0,0,0,0.1,0,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.2L5.9,14 l0.2-3.3c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0C6.4,10.7,6.4,10.7,6.4,10.7z M7.2,10l0.2,4.1l-0.2,2.1c0,0,0,0.1,0,0.1 c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.1-0.2-0.2l-0.1-2.1L6.8,10c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0S7.2,9.9,7.2,10z M8,9.6L8.2,14 L8,16.1c0,0.1-0.1,0.2-0.2,0.2c-0.1,0-0.2-0.1-0.2-0.2L7.5,14l0.1-4.4c0-0.1,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.1,0,0.1,0,0.1,0.1 C8,9.6,8,9.6,8,9.6z M11.4,16.1L11.4,16.1L11.4,16.1z M9.7,9.6L9.8,14l-0.1,2.1c0,0.1,0,0.1-0.1,0.2s-0.1,0.1-0.2,0.1 c-0.1,0-0.1,0-0.1-0.1s-0.1-0.1-0.1-0.2L9.2,14l0.1-4.4c0-0.1,0-0.1,0.1-0.2s0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S9.7,9.5,9.7,9.6 L9.7,9.6z M10.6,9.8l0.1,4.3l-0.1,2c0,0.1,0,0.1-0.1,0.2c0,0-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1-0.1-0.1-0.2L10,14 l0.1-4.3c0-0.1,0-0.1,0.1-0.2c0,0,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S10.6,9.7,10.6,9.8z M12.4,14l-0.1,2c0,0.1,0,0.1-0.1,0.2 c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2l-0.1-1l-0.1-1l0.1-5.5v0c0-0.1,0-0.2,0.1-0.2 c0.1,0,0.1-0.1,0.2-0.1c0,0,0.1,0,0.1,0c0.1,0,0.1,0.1,0.1,0.2L12.4,14z M22.1,13.9c0,0.7-0.2,1.3-0.7,1.7c-0.5,0.5-1.1,0.7-1.7,0.7 h-6.8c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V8.2c0-0.1,0.1-0.2,0.2-0.3c0.5-0.2,1-0.3,1.6-0.3c1.1,0,2.1,0.4,2.9,1.1 c0.8,0.8,1.3,1.7,1.4,2.8c0.3-0.1,0.6-0.2,1-0.2c0.7,0,1.3,0.2,1.7,0.7C21.8,12.6,22.1,13.2,22.1,13.9L22.1,13.9z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const SpotifyIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12,2C6.477,2,2,6.477,2,12c0,5.523,4.477,10,10,10c5.523,0,10-4.477,10-10C22,6.477,17.523,2,12,2 M16.586,16.424 c-0.18,0.295-0.563,0.387-0.857,0.207c-2.348-1.435-5.304-1.76-8.785-0.964c-0.335,0.077-0.67-0.133-0.746-0.469 c-0.077-0.335,0.132-0.67,0.469-0.746c3.809-0.871,7.077-0.496,9.713,1.115C16.673,15.746,16.766,16.13,16.586,16.424 M17.81,13.7 c-0.226,0.367-0.706,0.482-1.072,0.257c-2.687-1.652-6.785-2.131-9.965-1.166C6.36,12.917,5.925,12.684,5.8,12.273 C5.675,11.86,5.908,11.425,6.32,11.3c3.632-1.102,8.147-0.568,11.234,1.328C17.92,12.854,18.035,13.335,17.81,13.7 M17.915,10.865 c-3.223-1.914-8.54-2.09-11.618-1.156C5.804,9.859,5.281,9.58,5.131,9.086C4.982,8.591,5.26,8.069,5.755,7.919 c3.532-1.072,9.404-0.865,13.115,1.338c0.445,0.264,0.59,0.838,0.327,1.282C18.933,10.983,18.359,11.129,17.915,10.865\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const TelegramIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 128 128\" version=\"1.1\">\r\n\t\t<Path d=\"M28.9700376,63.3244248 C47.6273373,55.1957357 60.0684594,49.8368063 66.2934036,47.2476366 C84.0668845,39.855031 87.7600616,38.5708563 90.1672227,38.528 C90.6966555,38.5191258 91.8804274,38.6503351 92.6472251,39.2725385 C93.294694,39.7979149 93.4728387,40.5076237 93.5580865,41.0057381 C93.6433345,41.5038525 93.7494885,42.63857 93.6651041,43.5252052 C92.7019529,53.6451182 88.5344133,78.2034783 86.4142057,89.5379542 C85.5170662,94.3339958 83.750571,95.9420841 82.0403991,96.0994568 C78.3237996,96.4414641 75.5015827,93.6432685 71.9018743,91.2836143 C66.2690414,87.5912212 63.0868492,85.2926952 57.6192095,81.6896017 C51.3004058,77.5256038 55.3966232,75.2369981 58.9976911,71.4967761 C59.9401076,70.5179421 76.3155302,55.6232293 76.6324771,54.2720454 C76.6721165,54.1030573 76.7089039,53.4731496 76.3346867,53.1405352 C75.9604695,52.8079208 75.4081573,52.921662 75.0095933,53.0121213 C74.444641,53.1403447 65.4461175,59.0880351 48.0140228,70.8551922 C45.4598218,72.6091037 43.1463059,73.4636682 41.0734751,73.4188859 C38.7883453,73.3695169 34.3926725,72.1268388 31.1249416,71.0646282 C27.1169366,69.7617838 23.931454,69.0729605 24.208838,66.8603276 C24.3533167,65.7078514 25.9403832,64.5292172 28.9700376,63.3244248 Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const ThreadsIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M16.3 11.3c-.1 0-.2-.1-.2-.1-.1-2.6-1.5-4-3.9-4-1.4 0-2.6.6-3.3 1.7l1.3.9c.5-.8 1.4-1 2-1 .8 0 1.4.2 1.7.7.3.3.5.8.5 1.3-.7-.1-1.4-.2-2.2-.1-2.2.1-3.7 1.4-3.6 3.2 0 .9.5 1.7 1.3 2.2.7.4 1.5.6 2.4.6 1.2-.1 2.1-.5 2.7-1.3.5-.6.8-1.4.9-2.4.6.3 1 .8 1.2 1.3.4.9.4 2.4-.8 3.6-1.1 1.1-2.3 1.5-4.3 1.5-2.1 0-3.8-.7-4.8-2S5.7 14.3 5.7 12c0-2.3.5-4.1 1.5-5.4 1.1-1.3 2.7-2 4.8-2 2.2 0 3.8.7 4.9 2 .5.7.9 1.5 1.2 2.5l1.5-.4c-.3-1.2-.8-2.2-1.5-3.1-1.3-1.7-3.3-2.6-6-2.6-2.6 0-4.7.9-6 2.6C4.9 7.2 4.3 9.3 4.3 12s.6 4.8 1.9 6.4c1.4 1.7 3.4 2.6 6 2.6 2.3 0 4-.6 5.3-2 1.8-1.8 1.7-4 1.1-5.4-.4-.9-1.2-1.7-2.3-2.3zm-4 3.8c-1 .1-2-.4-2-1.3 0-.7.5-1.5 2.1-1.6h.5c.6 0 1.1.1 1.6.2-.2 2.3-1.3 2.7-2.2 2.7z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const TiktokIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" version=\"1.1\">\r\n\t\t<Path d=\"M16.708 0.027c1.745-0.027 3.48-0.011 5.213-0.027 0.105 2.041 0.839 4.12 2.333 5.563 1.491 1.479 3.6 2.156 5.652 2.385v5.369c-1.923-0.063-3.855-0.463-5.6-1.291-0.76-0.344-1.468-0.787-2.161-1.24-0.009 3.896 0.016 7.787-0.025 11.667-0.104 1.864-0.719 3.719-1.803 5.255-1.744 2.557-4.771 4.224-7.88 4.276-1.907 0.109-3.812-0.411-5.437-1.369-2.693-1.588-4.588-4.495-4.864-7.615-0.032-0.667-0.043-1.333-0.016-1.984 0.24-2.537 1.495-4.964 3.443-6.615 2.208-1.923 5.301-2.839 8.197-2.297 0.027 1.975-0.052 3.948-0.052 5.923-1.323-0.428-2.869-0.308-4.025 0.495-0.844 0.547-1.485 1.385-1.819 2.333-0.276 0.676-0.197 1.427-0.181 2.145 0.317 2.188 2.421 4.027 4.667 3.828 1.489-0.016 2.916-0.88 3.692-2.145 0.251-0.443 0.532-0.896 0.547-1.417 0.131-2.385 0.079-4.76 0.095-7.145 0.011-5.375-0.016-10.735 0.025-16.093z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const TumblrIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M17.04 21.28h-3.28c-2.84 0-4.94-1.37-4.94-5.02v-5.67H6.08V7.5c2.93-.73 4.11-3.3 4.3-5.48h3.01v4.93h3.47v3.65H13.4v4.93c0 1.47.73 2.01 1.92 2.01h1.73v3.75z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const TwitchIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M16.499,8.089h-1.636v4.91h1.636V8.089z M12,8.089h-1.637v4.91H12V8.089z M4.228,3.178L3,6.451v13.092h4.499V22h2.456 l2.454-2.456h3.681L21,14.636V3.178H4.228z M19.364,13.816l-2.864,2.865H12l-2.453,2.453V16.68H5.863V4.814h13.501V13.816z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const TwitterIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const VimeoIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M22.396,7.164c-0.093,2.026-1.507,4.799-4.245,8.32C15.322,19.161,12.928,21,10.97,21c-1.214,0-2.24-1.119-3.079-3.359 c-0.56-2.053-1.119-4.106-1.68-6.159C5.588,9.243,4.921,8.122,4.206,8.122c-0.156,0-0.701,0.328-1.634,0.98L1.594,7.841 c1.027-0.902,2.04-1.805,3.037-2.708C6.001,3.95,7.03,3.327,7.715,3.264c1.619-0.156,2.616,0.951,2.99,3.321 c0.404,2.557,0.685,4.147,0.841,4.769c0.467,2.121,0.981,3.181,1.542,3.181c0.435,0,1.09-0.688,1.963-2.065 c0.871-1.376,1.338-2.422,1.401-3.142c0.125-1.187-0.343-1.782-1.401-1.782c-0.498,0-1.012,0.115-1.541,0.341 c1.023-3.35,2.977-4.977,5.862-4.884C21.511,3.066,22.52,4.453,22.396,7.164z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const VkIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M22,7.1c0.2,0.4-0.4,1.5-1.6,3.1c-0.2,0.2-0.4,0.5-0.7,0.9c-0.5,0.7-0.9,1.1-0.9,1.4c-0.1,0.3-0.1,0.6,0.1,0.8 c0.1,0.1,0.4,0.4,0.8,0.9h0l0,0c1,0.9,1.6,1.7,2,2.3c0,0,0,0.1,0.1,0.1c0,0.1,0,0.1,0.1,0.3c0,0.1,0,0.2,0,0.4 c0,0.1-0.1,0.2-0.3,0.3c-0.1,0.1-0.4,0.1-0.6,0.1l-2.7,0c-0.2,0-0.4,0-0.6-0.1c-0.2-0.1-0.4-0.1-0.5-0.2l-0.2-0.1 c-0.2-0.1-0.5-0.4-0.7-0.7s-0.5-0.6-0.7-0.8c-0.2-0.2-0.4-0.4-0.6-0.6C14.8,15,14.6,15,14.4,15c0,0,0,0-0.1,0c0,0-0.1,0.1-0.2,0.2 c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.1-0.1,0.3-0.2,0.5c-0.1,0.2-0.1,0.5-0.1,0.8c0,0.1,0,0.2,0,0.3c0,0.1-0.1,0.2-0.1,0.2l0,0.1 c-0.1,0.1-0.3,0.2-0.6,0.2h-1.2c-0.5,0-1,0-1.5-0.2c-0.5-0.1-1-0.3-1.4-0.6s-0.7-0.5-1.1-0.7s-0.6-0.4-0.7-0.6l-0.3-0.3 c-0.1-0.1-0.2-0.2-0.3-0.3s-0.4-0.5-0.7-0.9s-0.7-1-1.1-1.6c-0.4-0.6-0.8-1.3-1.3-2.2C2.9,9.4,2.5,8.5,2.1,7.5C2,7.4,2,7.3,2,7.2 c0-0.1,0-0.1,0-0.2l0-0.1c0.1-0.1,0.3-0.2,0.6-0.2l2.9,0c0.1,0,0.2,0,0.2,0.1S5.9,6.9,5.9,7L6,7c0.1,0.1,0.2,0.2,0.3,0.3 C6.4,7.7,6.5,8,6.7,8.4C6.9,8.8,7,9,7.1,9.2l0.2,0.3c0.2,0.4,0.4,0.8,0.6,1.1c0.2,0.3,0.4,0.5,0.5,0.7s0.3,0.3,0.4,0.4 c0.1,0.1,0.3,0.1,0.4,0.1c0.1,0,0.2,0,0.3-0.1c0,0,0,0,0.1-0.1c0,0,0.1-0.1,0.1-0.2c0.1-0.1,0.1-0.3,0.1-0.5c0-0.2,0.1-0.5,0.1-0.8 c0-0.4,0-0.8,0-1.3c0-0.3,0-0.5-0.1-0.8c0-0.2-0.1-0.4-0.1-0.5L9.6,7.6C9.4,7.3,9.1,7.2,8.7,7.1C8.6,7.1,8.6,7,8.7,6.9 C8.9,6.7,9,6.6,9.1,6.5c0.4-0.2,1.2-0.3,2.5-0.3c0.6,0,1,0.1,1.4,0.1c0.1,0,0.3,0.1,0.3,0.1c0.1,0.1,0.2,0.1,0.2,0.3 c0,0.1,0.1,0.2,0.1,0.3s0,0.3,0,0.5c0,0.2,0,0.4,0,0.6c0,0.2,0,0.4,0,0.7c0,0.3,0,0.6,0,0.9c0,0.1,0,0.2,0,0.4c0,0.2,0,0.4,0,0.5 c0,0.1,0,0.3,0,0.4s0.1,0.3,0.1,0.4c0.1,0.1,0.1,0.2,0.2,0.3c0.1,0,0.1,0,0.2,0c0.1,0,0.2,0,0.3-0.1c0.1-0.1,0.2-0.2,0.4-0.4 s0.3-0.4,0.5-0.7c0.2-0.3,0.5-0.7,0.7-1.1c0.4-0.7,0.8-1.5,1.1-2.3c0-0.1,0.1-0.1,0.1-0.2c0-0.1,0.1-0.1,0.1-0.1l0,0l0.1,0 c0,0,0,0,0.1,0s0.2,0,0.2,0l3,0c0.3,0,0.5,0,0.7,0S21.9,7,21.9,7L22,7.1z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const WhatsAppIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M 12.011719 2 C 6.5057187 2 2.0234844 6.478375 2.0214844 11.984375 C 2.0204844 13.744375 2.4814687 15.462563 3.3554688 16.976562 L 2 22 L 7.2324219 20.763672 C 8.6914219 21.559672 10.333859 21.977516 12.005859 21.978516 L 12.009766 21.978516 C 17.514766 21.978516 21.995047 17.499141 21.998047 11.994141 C 22.000047 9.3251406 20.962172 6.8157344 19.076172 4.9277344 C 17.190172 3.0407344 14.683719 2.001 12.011719 2 z M 12.009766 4 C 14.145766 4.001 16.153109 4.8337969 17.662109 6.3417969 C 19.171109 7.8517969 20.000047 9.8581875 19.998047 11.992188 C 19.996047 16.396187 16.413812 19.978516 12.007812 19.978516 C 10.674812 19.977516 9.3544062 19.642812 8.1914062 19.007812 L 7.5175781 18.640625 L 6.7734375 18.816406 L 4.8046875 19.28125 L 5.2851562 17.496094 L 5.5019531 16.695312 L 5.0878906 15.976562 C 4.3898906 14.768562 4.0204844 13.387375 4.0214844 11.984375 C 4.0234844 7.582375 7.6067656 4 12.009766 4 z M 8.4765625 7.375 C 8.3095625 7.375 8.0395469 7.4375 7.8105469 7.6875 C 7.5815469 7.9365 6.9355469 8.5395781 6.9355469 9.7675781 C 6.9355469 10.995578 7.8300781 12.182609 7.9550781 12.349609 C 8.0790781 12.515609 9.68175 15.115234 12.21875 16.115234 C 14.32675 16.946234 14.754891 16.782234 15.212891 16.740234 C 15.670891 16.699234 16.690438 16.137687 16.898438 15.554688 C 17.106437 14.971687 17.106922 14.470187 17.044922 14.367188 C 16.982922 14.263188 16.816406 14.201172 16.566406 14.076172 C 16.317406 13.951172 15.090328 13.348625 14.861328 13.265625 C 14.632328 13.182625 14.464828 13.140625 14.298828 13.390625 C 14.132828 13.640625 13.655766 14.201187 13.509766 14.367188 C 13.363766 14.534188 13.21875 14.556641 12.96875 14.431641 C 12.71875 14.305641 11.914938 14.041406 10.960938 13.191406 C 10.218937 12.530406 9.7182656 11.714844 9.5722656 11.464844 C 9.4272656 11.215844 9.5585938 11.079078 9.6835938 10.955078 C 9.7955938 10.843078 9.9316406 10.663578 10.056641 10.517578 C 10.180641 10.371578 10.223641 10.267562 10.306641 10.101562 C 10.389641 9.9355625 10.347156 9.7890625 10.285156 9.6640625 C 10.223156 9.5390625 9.737625 8.3065 9.515625 7.8125 C 9.328625 7.3975 9.131125 7.3878594 8.953125 7.3808594 C 8.808125 7.3748594 8.6425625 7.375 8.4765625 7.375 z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const XIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M13.982 10.622 20.54 3h-1.554l-5.693 6.618L8.745 3H3.5l6.876 10.007L3.5 21h1.554l6.012-6.989L15.868 21h5.245l-7.131-10.378Zm-2.128 2.474-.697-.997-5.543-7.93H8l4.474 6.4.697.996 5.815 8.318h-2.387l-4.745-6.787Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const YelpIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M12.271,16.718v1.417q-.011,3.257-.067,3.4a.707.707,0,0,1-.569.446,4.637,4.637,0,0,1-2.024-.424A4.609,4.609,0,0,1,7.8,20.565a.844.844,0,0,1-.19-.4.692.692,0,0,1,.044-.29,3.181,3.181,0,0,1,.379-.524q.335-.412,2.019-2.409.011,0,.669-.781a.757.757,0,0,1,.44-.274.965.965,0,0,1,.552.039.945.945,0,0,1,.418.324.732.732,0,0,1,.139.468Zm-1.662-2.8a.783.783,0,0,1-.58.781l-1.339.435q-3.067.981-3.257.981a.711.711,0,0,1-.6-.4,2.636,2.636,0,0,1-.19-.836,9.134,9.134,0,0,1,.011-1.857,3.559,3.559,0,0,1,.335-1.389.659.659,0,0,1,.625-.357,22.629,22.629,0,0,1,2.253.859q.781.324,1.283.524l.937.379a.771.771,0,0,1,.4.34A.982.982,0,0,1,10.609,13.917Zm9.213,3.313a4.467,4.467,0,0,1-1.021,1.8,4.559,4.559,0,0,1-1.512,1.417.671.671,0,0,1-.7-.078q-.156-.112-2.052-3.2l-.524-.859a.761.761,0,0,1-.128-.513.957.957,0,0,1,.217-.513.774.774,0,0,1,.926-.29q.011.011,1.327.446,2.264.736,2.7.887a2.082,2.082,0,0,1,.524.229.673.673,0,0,1,.245.68Zm-7.5-7.049q.056,1.137-.6,1.361-.647.19-1.272-.792L6.237,4.08a.7.7,0,0,1,.212-.691,5.788,5.788,0,0,1,2.314-1,5.928,5.928,0,0,1,2.5-.352.681.681,0,0,1,.547.5q.034.2.245,3.407T12.327,10.181Zm7.384,1.2a.679.679,0,0,1-.29.658q-.167.112-3.67.959-.747.167-1.015.257l.011-.022a.769.769,0,0,1-.513-.044.914.914,0,0,1-.413-.357.786.786,0,0,1,0-.971q.011-.011.836-1.137,1.394-1.908,1.673-2.275a2.423,2.423,0,0,1,.379-.435A.7.7,0,0,1,17.435,8a4.482,4.482,0,0,1,1.372,1.489,4.81,4.81,0,0,1,.9,1.868v.034Z\" />\r\n\t</SVG>\r\n);\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nexport const YouTubeIcon = () => (\r\n\t<SVG width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n\t\t<Path d=\"M21.8,8.001c0,0-0.195-1.378-0.795-1.985c-0.76-0.797-1.613-0.801-2.004-0.847c-2.799-0.202-6.997-0.202-6.997-0.202 h-0.009c0,0-4.198,0-6.997,0.202C4.608,5.216,3.756,5.22,2.995,6.016C2.395,6.623,2.2,8.001,2.2,8.001S2,9.62,2,11.238v1.517 c0,1.618,0.2,3.237,0.2,3.237s0.195,1.378,0.795,1.985c0.761,0.797,1.76,0.771,2.205,0.855c1.6,0.153,6.8,0.201,6.8,0.201 s4.203-0.006,7.001-0.209c0.391-0.047,1.243-0.051,2.004-0.847c0.6-0.607,0.795-1.985,0.795-1.985s0.2-1.618,0.2-3.237v-1.517 C22,9.62,21.8,8.001,21.8,8.001z M9.935,14.594l-0.001-5.62l5.404,2.82L9.935,14.594z\" />\r\n\t</SVG>\r\n);\r\n","/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { DELETE, BACKSPACE } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\n\nimport {\n\tInspectorControls,\n\tURLPopover,\n\tURLInput,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getIconBySite, getNameBySite } from './social-list';\n\nconst SocialLinkURLPopover = ( {\n\turl,\n\tsetAttributes,\n\tsetPopover,\n\tpopoverAnchor,\n\tclientId,\n} ) => {\n\tconst { removeBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<URLPopover\n\t\t\tanchor={ popoverAnchor }\n\t\t\tonClose={ () => setPopover( false ) }\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"block-editor-url-popover__link-editor\"\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tsetPopover( false );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-url-input\">\n\t\t\t\t\t<URLInput\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\tonChange={ ( nextURL ) =>\n\t\t\t\t\t\t\tsetAttributes( { url: nextURL } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ __( 'Enter address' ) }\n\t\t\t\t\t\tdisableSuggestions\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!! url ||\n\t\t\t\t\t\t\t\tevent.defaultPrevented ||\n\t\t\t\t\t\t\t\t! [ BACKSPACE, DELETE ].includes(\n\t\t\t\t\t\t\t\t\tevent.keyCode\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tremoveBlock( clientId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</URLPopover>\n\t);\n};\n\nconst SocialLinkEdit = ( {\n\tattributes,\n\tcontext,\n\tisSelected,\n\tsetAttributes,\n\tclientId,\n} ) => {\n\tconst { url, service, label, rel } = attributes;\n\tconst {\n\t\tshowLabels,\n\t\ticonColor,\n\t\ticonColorValue,\n\t\ticonBackgroundColor,\n\t\ticonBackgroundColorValue,\n\t} = context;\n\tconst [ showURLPopover, setPopover ] = useState( false );\n\tconst classes = classNames( 'wp-social-link', 'wp-social-link-' + service, {\n\t\t'wp-social-link__is-incomplete': ! url,\n\t\t[ `has-${ iconColor }-color` ]: iconColor,\n\t\t[ `has-${ iconBackgroundColor }-background-color` ]:\n\t\t\ticonBackgroundColor,\n\t} );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\tconst IconComponent = getIconBySite( service );\n\tconst socialLinkName = getNameBySite( service );\n\tconst socialLinkLabel = label ?? socialLinkName;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\tstyle: {\n\t\t\tcolor: iconColorValue,\n\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t},\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t\t/* translators: %s: name of the social service. */\n\t\t\t\t\t\t__( '%s label' ),\n\t\t\t\t\t\tsocialLinkName\n\t\t\t\t\t) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Link label' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Briefly describe the link to help screen reader users.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ label || '' }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { label: value || undefined } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { rel: value } ) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<li { ...blockProps }>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"wp-block-social-link-anchor\"\n\t\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\t\tonClick={ () => setPopover( true ) }\n\t\t\t\t>\n\t\t\t\t\t<IconComponent />\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ classNames( 'wp-block-social-link-label', {\n\t\t\t\t\t\t\t'screen-reader-text': ! showLabels,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ socialLinkLabel }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ isSelected && showURLPopover && (\n\t\t\t\t\t\t<SocialLinkURLPopover\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\tsetPopover={ setPopover }\n\t\t\t\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</>\n\t);\n};\n\nexport default SocialLinkEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { share as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport variations from './variations';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tvariations,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport variations from './variations';\r\nimport { ChainIcon } from './icons';\r\n\r\n/**\r\n * Retrieves the social service's icon component.\r\n *\r\n * @param {string} name key for a social service (lowercase slug)\r\n *\r\n * @return {Component} Icon component for social service.\r\n */\r\nexport const getIconBySite = ( name ) => {\r\n\tconst variation = variations.find( ( v ) => v.name === name );\r\n\treturn variation ? variation.icon : ChainIcon;\r\n};\r\n\r\n/**\r\n * Retrieves the display name for the social service.\r\n *\r\n * @param {string} name key for a social service (lowercase slug)\r\n *\r\n * @return {string} Display name for social service\r\n */\r\nexport const getNameBySite = ( name ) => {\r\n\tconst variation = variations.find( ( v ) => v.name === name );\r\n\treturn variation ? variation.title : __( 'Social Icon' );\r\n};\r\n","/**\r\n * External dependencies\r\n */\r\nimport classNames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { InnerBlocks, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * The specific handling by `className` below is needed because `itemsJustification`\r\n * was introduced in https://github.com/WordPress/gutenberg/pull/28980/files and wasn't\r\n * declared in block.json.\r\n *\r\n * @param {Object} attributes Block's attributes.\r\n */\r\nconst migrateWithLayout = ( attributes ) => {\r\n\tif ( !! attributes.layout ) {\r\n\t\treturn attributes;\r\n\t}\r\n\tconst { className } = attributes;\r\n\t// Matches classes with `items-justified-` prefix.\r\n\tconst prefix = `items-justified-`;\r\n\tconst justifiedItemsRegex = new RegExp( `\\\\b${ prefix }[^ ]*[ ]?\\\\b`, 'g' );\r\n\tconst newAttributes = {\r\n\t\t...attributes,\r\n\t\tclassName: className?.replace( justifiedItemsRegex, '' ).trim(),\r\n\t};\r\n\t/**\r\n\t * Add `layout` prop only if `justifyContent` is defined, for backwards\r\n\t * compatibility. In other cases the block's default layout will be used.\r\n\t * Also noting that due to the missing attribute, it's possible for a block\r\n\t * to have more than one of `justified` classes.\r\n\t */\r\n\tconst justifyContent = className\r\n\t\t?.match( justifiedItemsRegex )?.[ 0 ]\r\n\t\t?.trim();\r\n\tif ( justifyContent ) {\r\n\t\tObject.assign( newAttributes, {\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: 'flex',\r\n\t\t\t\tjustifyContent: justifyContent.slice( prefix.length ),\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\treturn newAttributes;\r\n};\r\n\r\n// Social Links block deprecations.\r\nconst deprecated = [\r\n\t// V1. Remove CSS variable use for colors.\r\n\t{\r\n\t\tattributes: {\r\n\t\t\ticonColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomIconColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ticonColorValue: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ticonBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\tcustomIconBackgroundColor: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\ticonBackgroundColorValue: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t\topenInNewTab: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tsize: {\r\n\t\t\t\ttype: 'string',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprovidesContext: {\r\n\t\t\topenInNewTab: 'openInNewTab',\r\n\t\t},\r\n\t\tsupports: {\r\n\t\t\talign: [ 'left', 'center', 'right' ],\r\n\t\t\tanchor: true,\r\n\t\t},\r\n\t\tmigrate: migrateWithLayout,\r\n\t\tsave: ( props ) => {\r\n\t\t\tconst {\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\ticonBackgroundColorValue,\r\n\t\t\t\t\ticonColorValue,\r\n\t\t\t\t\titemsJustification,\r\n\t\t\t\t\tsize,\r\n\t\t\t\t},\r\n\t\t\t} = props;\r\n\r\n\t\t\tconst className = classNames( size, {\r\n\t\t\t\t'has-icon-color': iconColorValue,\r\n\t\t\t\t'has-icon-background-color': iconBackgroundColorValue,\r\n\t\t\t\t[ `items-justified-${ itemsJustification }` ]:\r\n\t\t\t\t\titemsJustification,\r\n\t\t\t} );\r\n\r\n\t\t\tconst style = {\r\n\t\t\t\t'--wp--social-links--icon-color': iconColorValue,\r\n\t\t\t\t'--wp--social-links--icon-background-color':\r\n\t\t\t\t\ticonBackgroundColorValue,\r\n\t\t\t};\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<ul { ...useBlockProps.save( { className, style } ) }>\r\n\t\t\t\t\t<InnerBlocks.Content />\r\n\t\t\t\t</ul>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst check = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default check;\r\n","/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tuseInnerBlocksProps,\n\tuseBlockProps,\n\tInspectorControls,\n\tContrastChecker,\n\twithColors,\n\t__experimentalColorGradientSettingsDropdown as ColorGradientSettingsDropdown,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n} from '@wordpress/block-editor';\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tPanelBody,\n\tToggleControl,\n\tToolbarDropdownMenu,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\n\nconst sizeOptions = [\n\t{ name: __( 'Small' ), value: 'has-small-icon-size' },\n\t{ name: __( 'Normal' ), value: 'has-normal-icon-size' },\n\t{ name: __( 'Large' ), value: 'has-large-icon-size' },\n\t{ name: __( 'Huge' ), value: 'has-huge-icon-size' },\n];\n\nexport function SocialLinksEdit( props ) {\n\tconst {\n\t\tclientId,\n\t\tattributes,\n\t\ticonBackgroundColor,\n\t\ticonColor,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tsetIconBackgroundColor,\n\t\tsetIconColor,\n\t} = props;\n\n\tconst {\n\t\ticonBackgroundColorValue,\n\t\tcustomIconBackgroundColor,\n\t\ticonColorValue,\n\t\topenInNewTab,\n\t\tshowLabels,\n\t\tsize,\n\t} = attributes;\n\n\tconst logosOnly = attributes.className?.includes( 'is-style-logos-only' );\n\n\t// Remove icon background color when logos only style is selected or\n\t// restore it when any other style is selected.\n\tconst backgroundBackup = useRef( {} );\n\tuseEffect( () => {\n\t\tif ( logosOnly ) {\n\t\t\tbackgroundBackup.current = {\n\t\t\t\ticonBackgroundColor,\n\t\t\t\ticonBackgroundColorValue,\n\t\t\t\tcustomIconBackgroundColor,\n\t\t\t};\n\t\t\tsetAttributes( {\n\t\t\t\ticonBackgroundColor: undefined,\n\t\t\t\tcustomIconBackgroundColor: undefined,\n\t\t\t\ticonBackgroundColorValue: undefined,\n\t\t\t} );\n\t\t} else {\n\t\t\tsetAttributes( { ...backgroundBackup.current } );\n\t\t}\n\t}, [ logosOnly ] );\n\n\tconst SocialPlaceholder = (\n\t\t<li className=\"wp-block-social-links__social-placeholder\">\n\t\t\t<div className=\"wp-block-social-links__social-placeholder-icons\">\n\t\t\t\t<div className=\"wp-social-link wp-social-link-twitter\"></div>\n\t\t\t\t<div className=\"wp-social-link wp-social-link-facebook\"></div>\n\t\t\t\t<div className=\"wp-social-link wp-social-link-instagram\"></div>\n\t\t\t</div>\n\t\t</li>\n\t);\n\n\tconst SelectedSocialPlaceholder = (\n\t\t<li className=\"wp-block-social-links__social-prompt\">\n\t\t\t{ __( 'Click plus to add' ) }\n\t\t</li>\n\t);\n\n\t// Fallback color values are used maintain selections in case switching\n\t// themes and named colors in palette do not match.\n\tconst className = classNames( size, {\n\t\t'has-visible-labels': showLabels,\n\t\t'has-icon-color': iconColor.color || iconColorValue,\n\t\t'has-icon-background-color':\n\t\t\ticonBackgroundColor.color || iconBackgroundColorValue,\n\t} );\n\n\tconst blockProps = useBlockProps( { className } );\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tplaceholder: isSelected ? SelectedSocialPlaceholder : SocialPlaceholder,\n\t\ttemplateLock: false,\n\t\torientation: attributes.layout?.orientation ?? 'horizontal',\n\t\t__experimentalAppenderTagName: 'li',\n\t} );\n\n\tconst POPOVER_PROPS = {\n\t\tposition: 'bottom right',\n\t};\n\n\tconst colorSettings = [\n\t\t{\n\t\t\t// Use custom attribute as fallback to prevent loss of named color selection when\n\t\t\t// switching themes to a new theme that does not have a matching named color.\n\t\t\tvalue: iconColor.color || iconColorValue,\n\t\t\tonChange: ( colorValue ) => {\n\t\t\t\tsetIconColor( colorValue );\n\t\t\t\tsetAttributes( { iconColorValue: colorValue } );\n\t\t\t},\n\t\t\tlabel: __( 'Icon color' ),\n\t\t\tresetAllFilter: () => {\n\t\t\t\tsetIconColor( undefined );\n\t\t\t\tsetAttributes( { iconColorValue: undefined } );\n\t\t\t},\n\t\t},\n\t];\n\n\tif ( ! logosOnly ) {\n\t\tcolorSettings.push( {\n\t\t\t// Use custom attribute as fallback to prevent loss of named color selection when\n\t\t\t// switching themes to a new theme that does not have a matching named color.\n\t\t\tvalue: iconBackgroundColor.color || iconBackgroundColorValue,\n\t\t\tonChange: ( colorValue ) => {\n\t\t\t\tsetIconBackgroundColor( colorValue );\n\t\t\t\tsetAttributes( {\n\t\t\t\t\ticonBackgroundColorValue: colorValue,\n\t\t\t\t} );\n\t\t\t},\n\t\t\tlabel: __( 'Icon background' ),\n\t\t\tresetAllFilter: () => {\n\t\t\t\tsetIconBackgroundColor( undefined );\n\t\t\t\tsetAttributes( { iconBackgroundColorValue: undefined } );\n\t\t\t},\n\t\t} );\n\t}\n\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\tlabel={ __( 'Size' ) }\n\t\t\t\t\ttext={ __( 'Size' ) }\n\t\t\t\t\ticon={ null }\n\t\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\t>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t{ sizeOptions.map( ( entry ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t( size === entry.value ||\n\t\t\t\t\t\t\t\t\t\t\t\t( ! size &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tentry.value ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'has-normal-icon-size' ) ) &&\n\t\t\t\t\t\t\t\t\t\t\tcheck\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisSelected={ size === entry.value }\n\t\t\t\t\t\t\t\t\t\tkey={ entry.value }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tsize: entry.value,\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t\t\t\trole=\"menuitemradio\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ entry.name }\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarDropdownMenu>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Open links in new tab' ) }\n\t\t\t\t\t\tchecked={ openInNewTab }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( { openInNewTab: ! openInNewTab } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Show labels' ) }\n\t\t\t\t\t\tchecked={ showLabels }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( { showLabels: ! showLabels } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ colorGradientSettings.hasColorsOrGradients && (\n\t\t\t\t<InspectorControls group=\"color\">\n\t\t\t\t\t{ colorSettings.map(\n\t\t\t\t\t\t( { onChange, label, value, resetAllFilter } ) => (\n\t\t\t\t\t\t\t<ColorGradientSettingsDropdown\n\t\t\t\t\t\t\t\tkey={ `social-links-color-${ label }` }\n\t\t\t\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\t\t\t\tsettings={ [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcolorValue: value,\n\t\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\t\tonColorChange: onChange,\n\t\t\t\t\t\t\t\t\t\tisShownByDefault: true,\n\t\t\t\t\t\t\t\t\t\tresetAllFilter,\n\t\t\t\t\t\t\t\t\t\tenableAlpha: true,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t\t\t\t{ ...colorGradientSettings }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! logosOnly && (\n\t\t\t\t\t\t<ContrastChecker\n\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\ttextColor: iconColorValue,\n\t\t\t\t\t\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tisLargeText={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<ul { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n\nconst iconColorAttributes = {\n\ticonColor: 'icon-color',\n\ticonBackgroundColor: 'icon-background-color',\n};\n\nexport default withColors( iconColorAttributes )( SocialLinksEdit );\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { share as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\texample: {\r\n\t\tinnerBlocks: [\r\n\t\t\t{\r\n\t\t\t\tname: 'core/social-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tservice: 'wordpress',\r\n\t\t\t\t\turl: 'https://wordpress.org',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/social-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tservice: 'facebook',\r\n\t\t\t\t\turl: 'https://www.facebook.com/WordPress/',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'core/social-link',\r\n\t\t\t\tattributes: {\r\n\t\t\t\t\tservice: 'twitter',\r\n\t\t\t\t\turl: 'https://twitter.com/WordPress',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classNames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( props ) {\r\n\tconst {\r\n\t\tattributes: {\r\n\t\t\ticonBackgroundColorValue,\r\n\t\t\ticonColorValue,\r\n\t\t\tshowLabels,\r\n\t\t\tsize,\r\n\t\t},\r\n\t} = props;\r\n\r\n\tconst className = classNames( size, {\r\n\t\t'has-visible-labels': showLabels,\r\n\t\t'has-icon-color': iconColorValue,\r\n\t\t'has-icon-background-color': iconBackgroundColorValue,\r\n\t} );\r\n\tconst blockProps = useBlockProps.save( { className } );\r\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\r\n\r\n\treturn <ul { ...innerBlocksProps } />;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst resizeCornerNE = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M7 18h4.5v1.5h-7v-7H6V17L17 6h-4.5V4.5h7v7H18V7L7 18Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default resizeCornerNE;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst deprecated = [\r\n\t{\r\n\t\tattributes: {\r\n\t\t\theight: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t\tdefault: 100,\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: 'number',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmigrate( attributes ) {\r\n\t\t\tconst { height, width } = attributes;\r\n\t\t\treturn {\r\n\t\t\t\t...attributes,\r\n\t\t\t\twidth: width !== undefined ? `${ width }px` : undefined,\r\n\t\t\t\theight: height !== undefined ? `${ height }px` : undefined,\r\n\t\t\t};\r\n\t\t},\r\n\t\tsave( { attributes } ) {\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\theight: attributes.height,\r\n\t\t\t\t\t\t\twidth: attributes.width,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'aria-hidden': true,\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t},\r\n\t},\r\n];\r\n\r\nexport default deprecated;\r\n","export const MIN_SPACER_SIZE = 0;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInspectorControls,\r\n\tuseSettings,\r\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\r\n\tisValueSpacingPreset,\r\n} from '@wordpress/block-editor';\r\nimport {\r\n\tBaseControl,\r\n\tPanelBody,\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n\t__experimentalUnitControl as UnitControl,\r\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\r\n} from '@wordpress/components';\r\nimport { useInstanceId } from '@wordpress/compose';\r\nimport { View } from '@wordpress/primitives';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { MIN_SPACER_SIZE } from './constants';\r\n\r\nfunction DimensionInput( { label, onChange, isResizing, value = '' } ) {\r\n\tconst inputId = useInstanceId( UnitControl, 'block-spacer-height-input' );\r\n\tconst [ spacingSizes, spacingUnits ] = useSettings(\r\n\t\t'spacing.spacingSizes',\r\n\t\t'spacing.units'\r\n\t);\r\n\t// In most contexts the spacer size cannot meaningfully be set to a\r\n\t// percentage, since this is relative to the parent container. This\r\n\t// unit is disabled from the UI.\r\n\tconst availableUnits = spacingUnits\r\n\t\t? spacingUnits.filter( ( unit ) => unit !== '%' )\r\n\t\t: [ 'px', 'em', 'rem', 'vw', 'vh' ];\r\n\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits,\r\n\t\tdefaultValues: { px: 100, em: 10, rem: 10, vw: 10, vh: 25 },\r\n\t} );\r\n\r\n\tconst handleOnChange = ( unprocessedValue ) => {\r\n\t\tonChange( unprocessedValue.all );\r\n\t};\r\n\r\n\t// Force the unit to update to `px` when the Spacer is being resized.\r\n\tconst [ parsedQuantity, parsedUnit ] =\r\n\t\tparseQuantityAndUnitFromRawValue( value );\r\n\tconst computedValue = isValueSpacingPreset( value )\r\n\t\t? value\r\n\t\t: [ parsedQuantity, isResizing ? 'px' : parsedUnit ].join( '' );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ ( ! spacingSizes || spacingSizes?.length === 0 ) && (\r\n\t\t\t\t<BaseControl label={ label } id={ inputId }>\r\n\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\tid={ inputId }\r\n\t\t\t\t\t\tisResetValueOnUnitChange\r\n\t\t\t\t\t\tmin={ MIN_SPACER_SIZE }\r\n\t\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\t\tstyle={ { maxWidth: 80 } }\r\n\t\t\t\t\t\tvalue={ computedValue }\r\n\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</BaseControl>\r\n\t\t\t) }\r\n\r\n\t\t\t{ spacingSizes?.length > 0 && (\r\n\t\t\t\t<View className=\"tools-panel-item-spacing\">\r\n\t\t\t\t\t<SpacingSizesControl\r\n\t\t\t\t\t\tvalues={ { all: computedValue } }\r\n\t\t\t\t\t\tonChange={ handleOnChange }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t\tsides={ [ 'all' ] }\r\n\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\tallowReset={ false }\r\n\t\t\t\t\t\tsplitOnAxis={ false }\r\n\t\t\t\t\t\tshowSideInLabel={ false }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default function SpacerControls( {\r\n\tsetAttributes,\r\n\torientation,\r\n\theight,\r\n\twidth,\r\n\tisResizing,\r\n} ) {\r\n\treturn (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t{ orientation === 'horizontal' && (\r\n\t\t\t\t\t<DimensionInput\r\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\r\n\t\t\t\t\t\tvalue={ width }\r\n\t\t\t\t\t\tonChange={ ( nextWidth ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { width: nextWidth } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tisResizing={ isResizing }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ orientation !== 'horizontal' && (\r\n\t\t\t\t\t<DimensionInput\r\n\t\t\t\t\t\tlabel={ __( 'Height' ) }\r\n\t\t\t\t\t\tvalue={ height }\r\n\t\t\t\t\t\tonChange={ ( nextHeight ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { height: nextHeight } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tisResizing={ isResizing }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseBlockProps,\n\tuseSettings,\n\tgetCustomValueFromPreset,\n\tgetSpacingPresetCssVar,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ResizableBox } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport { View } from '@wordpress/primitives';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SpacerControls from './controls';\nimport { MIN_SPACER_SIZE } from './constants';\n\nconst ResizableSpacer = ( {\n\torientation,\n\tonResizeStart,\n\tonResize,\n\tonResizeStop,\n\tisSelected,\n\tisResizing,\n\tsetIsResizing,\n\t...props\n} ) => {\n\tconst getCurrentSize = ( elt ) => {\n\t\treturn orientation === 'horizontal'\n\t\t\t? elt.clientWidth\n\t\t\t: elt.clientHeight;\n\t};\n\n\tconst getNextVal = ( elt ) => {\n\t\treturn `${ getCurrentSize( elt ) }px`;\n\t};\n\n\treturn (\n\t\t<ResizableBox\n\t\t\tclassName={ classnames( 'block-library-spacer__resize-container', {\n\t\t\t\t'resize-horizontal': orientation === 'horizontal',\n\t\t\t\t'is-resizing': isResizing,\n\t\t\t\t'is-selected': isSelected,\n\t\t\t} ) }\n\t\t\tonResizeStart={ ( _event, _direction, elt ) => {\n\t\t\t\tconst nextVal = getNextVal( elt );\n\t\t\t\tonResizeStart( nextVal );\n\t\t\t\tonResize( nextVal );\n\t\t\t} }\n\t\t\tonResize={ ( _event, _direction, elt ) => {\n\t\t\t\tonResize( getNextVal( elt ) );\n\t\t\t\tif ( ! isResizing ) {\n\t\t\t\t\tsetIsResizing( true );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tonResizeStop={ ( _event, _direction, elt ) => {\n\t\t\t\tconst nextVal = getCurrentSize( elt );\n\t\t\t\tonResizeStop( `${ nextVal }px` );\n\t\t\t\tsetIsResizing( false );\n\t\t\t} }\n\t\t\t__experimentalShowTooltip\n\t\t\t__experimentalTooltipProps={ {\n\t\t\t\taxis: orientation === 'horizontal' ? 'x' : 'y',\n\t\t\t\tposition: 'corner',\n\t\t\t\tisVisible: isResizing,\n\t\t\t} }\n\t\t\tshowHandle={ isSelected }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n};\n\nconst SpacerEdit = ( {\n\tattributes,\n\tisSelected,\n\tsetAttributes,\n\ttoggleSelection,\n\tcontext,\n\t__unstableParentLayout: parentLayout,\n\tclassName,\n} ) => {\n\tconst disableCustomSpacingSizes = useSelect( ( select ) => {\n\t\tconst editorSettings = select( blockEditorStore ).getSettings();\n\t\treturn editorSettings?.disableCustomSpacingSizes;\n\t} );\n\tconst { orientation } = context;\n\tconst {\n\t\torientation: parentOrientation,\n\t\ttype,\n\t\tdefault: { type: defaultType } = {},\n\t} = parentLayout || {};\n\t// Check if the spacer is inside a flex container.\n\tconst isFlexLayout =\n\t\ttype === 'flex' || ( ! type && defaultType === 'flex' );\n\t// If the spacer is inside a flex container, it should either inherit the orientation\n\t// of the parent or use the flex default orientation.\n\tconst inheritedOrientation =\n\t\t! parentOrientation && isFlexLayout\n\t\t\t? 'horizontal'\n\t\t\t: parentOrientation || orientation;\n\tconst { height, width, style: blockStyle = {} } = attributes;\n\n\tconst { layout = {} } = blockStyle;\n\tconst { selfStretch, flexSize } = layout;\n\n\tconst [ spacingSizes ] = useSettings( 'spacing.spacingSizes' );\n\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\tconst [ temporaryHeight, setTemporaryHeight ] = useState( null );\n\tconst [ temporaryWidth, setTemporaryWidth ] = useState( null );\n\n\tconst onResizeStart = () => toggleSelection( false );\n\tconst onResizeStop = () => toggleSelection( true );\n\n\tconst handleOnVerticalResizeStop = ( newHeight ) => {\n\t\tonResizeStop();\n\n\t\tif ( isFlexLayout ) {\n\t\t\tsetAttributes( {\n\t\t\t\tstyle: {\n\t\t\t\t\t...blockStyle,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...layout,\n\t\t\t\t\t\tflexSize: newHeight,\n\t\t\t\t\t\tselfStretch: 'fixed',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\tsetAttributes( { height: newHeight } );\n\t\tsetTemporaryHeight( null );\n\t};\n\n\tconst handleOnHorizontalResizeStop = ( newWidth ) => {\n\t\tonResizeStop();\n\n\t\tif ( isFlexLayout ) {\n\t\t\tsetAttributes( {\n\t\t\t\tstyle: {\n\t\t\t\t\t...blockStyle,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...layout,\n\t\t\t\t\t\tflexSize: newWidth,\n\t\t\t\t\t\tselfStretch: 'fixed',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\n\t\tsetAttributes( { width: newWidth } );\n\t\tsetTemporaryWidth( null );\n\t};\n\n\tconst getHeightForVerticalBlocks = () => {\n\t\tif ( isFlexLayout ) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn temporaryHeight || getSpacingPresetCssVar( height ) || undefined;\n\t};\n\n\tconst getWidthForHorizontalBlocks = () => {\n\t\tif ( isFlexLayout ) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn temporaryWidth || getSpacingPresetCssVar( width ) || undefined;\n\t};\n\n\tconst sizeConditionalOnOrientation =\n\t\tinheritedOrientation === 'horizontal'\n\t\t\t? temporaryWidth || flexSize\n\t\t\t: temporaryHeight || flexSize;\n\n\tconst style = {\n\t\theight:\n\t\t\tinheritedOrientation === 'horizontal'\n\t\t\t\t? 24\n\t\t\t\t: getHeightForVerticalBlocks(),\n\t\twidth:\n\t\t\tinheritedOrientation === 'horizontal'\n\t\t\t\t? getWidthForHorizontalBlocks()\n\t\t\t\t: undefined,\n\t\t// In vertical flex containers, the spacer shrinks to nothing without a minimum width.\n\t\tminWidth:\n\t\t\tinheritedOrientation === 'vertical' && isFlexLayout\n\t\t\t\t? 48\n\t\t\t\t: undefined,\n\t\t// Add flex-basis so temporary sizes are respected.\n\t\tflexBasis: isFlexLayout ? sizeConditionalOnOrientation : undefined,\n\t\t// Remove flex-grow when resizing.\n\t\tflexGrow: isFlexLayout && isResizing ? 0 : undefined,\n\t};\n\n\tconst resizableBoxWithOrientation = ( blockOrientation ) => {\n\t\tif ( blockOrientation === 'horizontal' ) {\n\t\t\treturn (\n\t\t\t\t<ResizableSpacer\n\t\t\t\t\tminWidth={ MIN_SPACER_SIZE }\n\t\t\t\t\tenable={ {\n\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\tright: true,\n\t\t\t\t\t\tbottom: false,\n\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\ttopRight: false,\n\t\t\t\t\t\tbottomRight: false,\n\t\t\t\t\t\tbottomLeft: false,\n\t\t\t\t\t\ttopLeft: false,\n\t\t\t\t\t} }\n\t\t\t\t\torientation={ blockOrientation }\n\t\t\t\t\tonResizeStart={ onResizeStart }\n\t\t\t\t\tonResize={ setTemporaryWidth }\n\t\t\t\t\tonResizeStop={ handleOnHorizontalResizeStop }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\tsetIsResizing={ setIsResizing }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ResizableSpacer\n\t\t\t\t\tminHeight={ MIN_SPACER_SIZE }\n\t\t\t\t\tenable={ {\n\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\tright: false,\n\t\t\t\t\t\tbottom: true,\n\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\ttopRight: false,\n\t\t\t\t\t\tbottomRight: false,\n\t\t\t\t\t\tbottomLeft: false,\n\t\t\t\t\t\ttopLeft: false,\n\t\t\t\t\t} }\n\t\t\t\t\torientation={ blockOrientation }\n\t\t\t\t\tonResizeStart={ onResizeStart }\n\t\t\t\t\tonResize={ setTemporaryHeight }\n\t\t\t\t\tonResizeStop={ handleOnVerticalResizeStop }\n\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\tsetIsResizing={ setIsResizing }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t};\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tisFlexLayout &&\n\t\t\tselfStretch !== 'fill' &&\n\t\t\tselfStretch !== 'fit' &&\n\t\t\t! flexSize\n\t\t) {\n\t\t\tif ( inheritedOrientation === 'horizontal' ) {\n\t\t\t\t// If spacer is moving from a vertical container to a horizontal container,\n\t\t\t\t// it might not have width but have height instead.\n\t\t\t\tconst newSize =\n\t\t\t\t\tgetCustomValueFromPreset( width, spacingSizes ) ||\n\t\t\t\t\tgetCustomValueFromPreset( height, spacingSizes ) ||\n\t\t\t\t\t'100px';\n\t\t\t\tsetAttributes( {\n\t\t\t\t\twidth: '0px',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\tflexSize: newSize,\n\t\t\t\t\t\t\tselfStretch: 'fixed',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tconst newSize =\n\t\t\t\t\tgetCustomValueFromPreset( height, spacingSizes ) ||\n\t\t\t\t\tgetCustomValueFromPreset( width, spacingSizes ) ||\n\t\t\t\t\t'100px';\n\t\t\t\tsetAttributes( {\n\t\t\t\t\theight: '0px',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t...blockStyle,\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t...layout,\n\t\t\t\t\t\t\tflexSize: newSize,\n\t\t\t\t\t\t\tselfStretch: 'fixed',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t} else if (\n\t\t\tisFlexLayout &&\n\t\t\t( selfStretch === 'fill' || selfStretch === 'fit' )\n\t\t) {\n\t\t\tif ( inheritedOrientation === 'horizontal' ) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\twidth: undefined,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\theight: undefined,\n\t\t\t\t} );\n\t\t\t}\n\t\t} else if ( ! isFlexLayout && ( selfStretch || flexSize ) ) {\n\t\t\tif ( inheritedOrientation === 'horizontal' ) {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\twidth: flexSize,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tsetAttributes( {\n\t\t\t\t\theight: flexSize,\n\t\t\t\t} );\n\t\t\t}\n\t\t\tsetAttributes( {\n\t\t\t\tstyle: {\n\t\t\t\t\t...blockStyle,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\t...layout,\n\t\t\t\t\t\tflexSize: undefined,\n\t\t\t\t\t\tselfStretch: undefined,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t}, [\n\t\tblockStyle,\n\t\tflexSize,\n\t\theight,\n\t\tinheritedOrientation,\n\t\tisFlexLayout,\n\t\tlayout,\n\t\tselfStretch,\n\t\tsetAttributes,\n\t\tspacingSizes,\n\t\twidth,\n\t] );\n\n\treturn (\n\t\t<>\n\t\t\t<View\n\t\t\t\t{ ...useBlockProps( {\n\t\t\t\t\tstyle,\n\t\t\t\t\tclassName: classnames( className, {\n\t\t\t\t\t\t'custom-sizes-disabled': disableCustomSpacingSizes,\n\t\t\t\t\t} ),\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ resizableBoxWithOrientation( inheritedOrientation ) }\n\t\t\t</View>\n\t\t\t{ ! isFlexLayout && (\n\t\t\t\t<SpacerControls\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\theight={ temporaryHeight || height }\n\t\t\t\t\twidth={ temporaryWidth || width }\n\t\t\t\t\torientation={ inheritedOrientation }\n\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nexport default SpacerEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { resizeCornerNE as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps, getSpacingPresetCssVar } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { height, width, style } = attributes;\r\n\tconst { layout: { selfStretch } = {} } = style || {};\r\n\t// If selfStretch is set to 'fill' or 'fit', don't set default height.\r\n\tconst finalHeight =\r\n\t\tselfStretch === 'fill' || selfStretch === 'fit' ? undefined : height;\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\theight: getSpacingPresetCssVar( finalHeight ),\r\n\t\t\t\t\twidth: getSpacingPresetCssVar( width ),\r\n\t\t\t\t},\r\n\t\t\t\t'aria-hidden': true,\r\n\t\t\t} ) }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst blockTable = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default blockTable;\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tgetColorClassName,\n\tuseBlockProps,\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\n// As the previous arbitrary colors won't match theme color palettes, the hex\n// value will be mapped to the style.color.background attribute as if it was\n// a custom color selection.\nconst oldColors = {\n\t'subtle-light-gray': '#f3f4f5',\n\t'subtle-pale-green': '#e9fbe5',\n\t'subtle-pale-blue': '#e7f5fe',\n\t'subtle-pale-pink': '#fcf0ef',\n};\n\n// Fixed width table cells on by default.\nconst v4Query = {\n\tcontent: {\n\t\ttype: 'rich-text',\n\t\tsource: 'rich-text',\n\t},\n\ttag: {\n\t\ttype: 'string',\n\t\tdefault: 'td',\n\t\tsource: 'tag',\n\t},\n\tscope: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'scope',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'data-align',\n\t},\n\tcolspan: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'colspan',\n\t},\n\trowspan: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'rowspan',\n\t},\n};\n\nconst v4 = {\n\tattributes: {\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'rich-text',\n\t\t\tsource: 'rich-text',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\thead: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'thead tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v4Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbody: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tbody tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v4Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfoot: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tfoot tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v4Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t\tcolor: {\n\t\t\t__experimentalSkipSerialization: true,\n\t\t\tgradients: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tbackground: true,\n\t\t\t\ttext: true,\n\t\t\t},\n\t\t},\n\t\tspacing: {\n\t\t\tmargin: true,\n\t\t\tpadding: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tmargin: false,\n\t\t\t\tpadding: false,\n\t\t\t},\n\t\t},\n\t\ttypography: {\n\t\t\tfontSize: true,\n\t\t\tlineHeight: true,\n\t\t\t__experimentalFontFamily: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalLetterSpacing: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\t__experimentalTextDecoration: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tfontSize: true,\n\t\t\t},\n\t\t},\n\t\t__experimentalBorder: {\n\t\t\t__experimentalSkipSerialization: true,\n\t\t\tcolor: true,\n\t\t\tstyle: true,\n\t\t\twidth: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tcolor: true,\n\t\t\t\tstyle: true,\n\t\t\t\twidth: true,\n\t\t\t},\n\t\t},\n\t\t__experimentalSelector: '.wp-block-table > table',\n\t\tinteractivity: {\n\t\t\tclientNavigation: true,\n\t\t},\n\t},\n\tsave( { attributes } ) {\n\t\tconst { hasFixedLayout, head, body, foot, caption } = attributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\n\n\t\tconst classes = classnames(\n\t\t\tcolorProps.className,\n\t\t\tborderProps.className,\n\t\t\t{\n\t\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t}\n\t\t);\n\n\t\tconst hasCaption = ! RichText.isEmpty( caption );\n\n\t\tconst Section = ( { type, rows } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }`;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\talign,\n\t\t\t\t\t\t\t\t\t\tcolspan,\n\t\t\t\t\t\t\t\t\t\trowspan,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcellIndex\n\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\tconst cellClasses = classnames( {\n\t\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tcellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t? cellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdata-align={ align }\n\t\t\t\t\t\t\t\t\t\t\ttagName={ tag }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\n\t\t\t\t\t\t\t\t\t\t\tscope={\n\t\t\t\t\t\t\t\t\t\t\t\ttag === 'th' ? scope : undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={ colspan }\n\t\t\t\t\t\t\t\t\t\t\trowSpan={ rowspan }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) ) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save() }>\n\t\t\t\t<table\n\t\t\t\t\tclassName={ classes === '' ? undefined : classes }\n\t\t\t\t\tstyle={ { ...colorProps.style, ...borderProps.style } }\n\t\t\t\t>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t\t{ hasCaption && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\n\t\t\t\t\t\t\t'caption'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\n// In #41140 support was added to global styles for caption elements which\n// added a `wp-element-caption` classname to the embed figcaption element.\nconst v3Query = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t},\n\ttag: {\n\t\ttype: 'string',\n\t\tdefault: 'td',\n\t\tsource: 'tag',\n\t},\n\tscope: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'scope',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'data-align',\n\t},\n};\n\nconst v3 = {\n\tattributes: {\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t\tdefault: '',\n\t\t},\n\t\thead: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'thead tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v3Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbody: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tbody tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v3Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfoot: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tfoot tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v3Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t\tcolor: {\n\t\t\t__experimentalSkipSerialization: true,\n\t\t\tgradients: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tbackground: true,\n\t\t\t\ttext: true,\n\t\t\t},\n\t\t},\n\t\tspacing: {\n\t\t\tmargin: true,\n\t\t\tpadding: true,\n\t\t},\n\t\ttypography: {\n\t\t\tfontSize: true,\n\t\t\tlineHeight: true,\n\t\t\t__experimentalFontFamily: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalLetterSpacing: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\t__experimentalTextDecoration: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tfontSize: true,\n\t\t\t},\n\t\t},\n\t\t__experimentalBorder: {\n\t\t\t__experimentalSkipSerialization: true,\n\t\t\tcolor: true,\n\t\t\tstyle: true,\n\t\t\twidth: true,\n\t\t\t__experimentalDefaultControls: {\n\t\t\t\tcolor: true,\n\t\t\t\tstyle: true,\n\t\t\t\twidth: true,\n\t\t\t},\n\t\t},\n\t\t__experimentalSelector: '.wp-block-table > table',\n\t},\n\tsave( { attributes } ) {\n\t\tconst { hasFixedLayout, head, body, foot, caption } = attributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\n\t\tconst borderProps = getBorderClassesAndStyles( attributes );\n\n\t\tconst classes = classnames(\n\t\t\tcolorProps.className,\n\t\t\tborderProps.className,\n\t\t\t{\n\t\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t}\n\t\t);\n\n\t\tconst hasCaption = ! RichText.isEmpty( caption );\n\n\t\tconst Section = ( { type, rows } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }`;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t{ content, tag, scope, align },\n\t\t\t\t\t\t\t\t\tcellIndex\n\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\tconst cellClasses = classnames( {\n\t\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tcellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t? cellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdata-align={ align }\n\t\t\t\t\t\t\t\t\t\t\ttagName={ tag }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\n\t\t\t\t\t\t\t\t\t\t\tscope={\n\t\t\t\t\t\t\t\t\t\t\t\ttag === 'th' ? scope : undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) ) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save() }>\n\t\t\t\t<table\n\t\t\t\t\tclassName={ classes === '' ? undefined : classes }\n\t\t\t\t\tstyle={ { ...colorProps.style, ...borderProps.style } }\n\t\t\t\t>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t\t{ hasCaption && (\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\n// Deprecation migrating table block to use colors block support feature.\nconst v2Query = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t},\n\ttag: {\n\t\ttype: 'string',\n\t\tdefault: 'td',\n\t\tsource: 'tag',\n\t},\n\tscope: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'scope',\n\t},\n\talign: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'data-align',\n\t},\n};\n\nconst v2 = {\n\tattributes: {\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t\tdefault: '',\n\t\t},\n\t\thead: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'thead tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v2Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbody: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tbody tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v2Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfoot: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tfoot tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v2Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t\t__experimentalSelector: '.wp-block-table > table',\n\t},\n\tsave: ( { attributes } ) => {\n\t\tconst { hasFixedLayout, head, body, foot, backgroundColor, caption } =\n\t\t\tattributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst backgroundClass = getColorClassName(\n\t\t\t'background-color',\n\t\t\tbackgroundColor\n\t\t);\n\n\t\tconst classes = classnames( backgroundClass, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t'has-background': !! backgroundClass,\n\t\t} );\n\n\t\tconst hasCaption = ! RichText.isEmpty( caption );\n\n\t\tconst Section = ( { type, rows } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }`;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t{ content, tag, scope, align },\n\t\t\t\t\t\t\t\t\tcellIndex\n\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\tconst cellClasses = classnames( {\n\t\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tcellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t? cellClasses\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdata-align={ align }\n\t\t\t\t\t\t\t\t\t\t\ttagName={ tag }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\n\t\t\t\t\t\t\t\t\t\t\tscope={\n\t\t\t\t\t\t\t\t\t\t\t\ttag === 'th' ? scope : undefined\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) ) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save() }>\n\t\t\t\t<table className={ classes === '' ? undefined : classes }>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t\t{ hasCaption && (\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n\tisEligible: ( attributes ) => {\n\t\treturn (\n\t\t\tattributes.backgroundColor &&\n\t\t\tattributes.backgroundColor in oldColors &&\n\t\t\t! attributes.style\n\t\t);\n\t},\n\n\t// This version is the first to introduce the style attribute to the\n\t// table block. As a result, we'll explicitly override that.\n\tmigrate: ( attributes ) => {\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tbackgroundColor: undefined,\n\t\t\tstyle: {\n\t\t\t\tcolor: {\n\t\t\t\t\tbackground: oldColors[ attributes.backgroundColor ],\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n};\n\nconst v1Query = {\n\tcontent: {\n\t\ttype: 'string',\n\t\tsource: 'html',\n\t},\n\ttag: {\n\t\ttype: 'string',\n\t\tdefault: 'td',\n\t\tsource: 'tag',\n\t},\n\tscope: {\n\t\ttype: 'string',\n\t\tsource: 'attribute',\n\t\tattribute: 'scope',\n\t},\n};\n\nconst v1 = {\n\tattributes: {\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: 'string',\n\t\t},\n\t\thead: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'thead tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v1Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbody: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tbody tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v1Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfoot: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tfoot tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: v1Query,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst { hasFixedLayout, head, body, foot, backgroundColor } =\n\t\t\tattributes;\n\t\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst backgroundClass = getColorClassName(\n\t\t\t'background-color',\n\t\t\tbackgroundColor\n\t\t);\n\n\t\tconst classes = classnames( backgroundClass, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t'has-background': !! backgroundClass,\n\t\t} );\n\n\t\tconst Section = ( { type, rows } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }`;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t\t( { content, tag, scope }, cellIndex ) => (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName={ tag }\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\n\t\t\t\t\t\t\t\t\t\tscope={\n\t\t\t\t\t\t\t\t\t\t\ttag === 'th' ? scope : undefined\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) ) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\treturn (\n\t\t\t<table className={ classes }>\n\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t</table>\n\t\t);\n\t},\n};\n\n/**\n * New deprecations need to be placed first\n * for them to have higher priority.\n *\n * Old deprecations may need to be updated as well.\n *\n * See block-deprecation.md\n */\nexport default [ v4, v3, v2, v1 ];\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst alignLeft = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default alignLeft;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst alignCenter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default alignCenter;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst alignRight = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default alignRight;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableRowBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableRowBefore;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableRowAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableRowAfter;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableRowDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableRowDelete;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableColumnBefore = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableColumnBefore;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableColumnAfter = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableColumnAfter;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableColumnDelete = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\r\n\t\t<Path d=\"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableColumnDelete;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst table = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default table;\r\n","const INHERITED_COLUMN_ATTRIBUTES = [ 'align' ];\r\n\r\n/**\r\n * Creates a table state.\r\n *\r\n * @param {Object} options\r\n * @param {number} options.rowCount    Row count for the table to create.\r\n * @param {number} options.columnCount Column count for the table to create.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function createTable( { rowCount, columnCount } ) {\r\n\treturn {\r\n\t\tbody: Array.from( { length: rowCount } ).map( () => ( {\r\n\t\t\tcells: Array.from( { length: columnCount } ).map( () => ( {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\ttag: 'td',\r\n\t\t\t} ) ),\r\n\t\t} ) ),\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns the first row in the table.\r\n *\r\n * @param {Object} state Current table state.\r\n *\r\n * @return {Object | undefined} The first table row.\r\n */\r\nexport function getFirstRow( state ) {\r\n\tif ( ! isEmptyTableSection( state.head ) ) {\r\n\t\treturn state.head[ 0 ];\r\n\t}\r\n\tif ( ! isEmptyTableSection( state.body ) ) {\r\n\t\treturn state.body[ 0 ];\r\n\t}\r\n\tif ( ! isEmptyTableSection( state.foot ) ) {\r\n\t\treturn state.foot[ 0 ];\r\n\t}\r\n}\r\n\r\n/**\r\n * Gets an attribute for a cell.\r\n *\r\n * @param {Object} state         Current table state.\r\n * @param {Object} cellLocation  The location of the cell\r\n * @param {string} attributeName The name of the attribute to get the value of.\r\n *\r\n * @return {*} The attribute value.\r\n */\r\nexport function getCellAttribute( state, cellLocation, attributeName ) {\r\n\tconst { sectionName, rowIndex, columnIndex } = cellLocation;\r\n\treturn state[ sectionName ]?.[ rowIndex ]?.cells?.[ columnIndex ]?.[\r\n\t\tattributeName\r\n\t];\r\n}\r\n\r\n/**\r\n * Returns updated cell attributes after applying the `updateCell` function to the selection.\r\n *\r\n * @param {Object}   state      The block attributes.\r\n * @param {Object}   selection  The selection of cells to update.\r\n * @param {Function} updateCell A function to update the selected cell attributes.\r\n *\r\n * @return {Object} New table state including the updated cells.\r\n */\r\nexport function updateSelectedCell( state, selection, updateCell ) {\r\n\tif ( ! selection ) {\r\n\t\treturn state;\r\n\t}\r\n\r\n\tconst tableSections = Object.fromEntries(\r\n\t\tObject.entries( state ).filter( ( [ key ] ) =>\r\n\t\t\t[ 'head', 'body', 'foot' ].includes( key )\r\n\t\t)\r\n\t);\r\n\tconst { sectionName: selectionSectionName, rowIndex: selectionRowIndex } =\r\n\t\tselection;\r\n\r\n\treturn Object.fromEntries(\r\n\t\tObject.entries( tableSections ).map( ( [ sectionName, section ] ) => {\r\n\t\t\tif (\r\n\t\t\t\tselectionSectionName &&\r\n\t\t\t\tselectionSectionName !== sectionName\r\n\t\t\t) {\r\n\t\t\t\treturn [ sectionName, section ];\r\n\t\t\t}\r\n\r\n\t\t\treturn [\r\n\t\t\t\tsectionName,\r\n\t\t\t\tsection.map( ( row, rowIndex ) => {\r\n\t\t\t\t\tif ( selectionRowIndex && selectionRowIndex !== rowIndex ) {\r\n\t\t\t\t\t\treturn row;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcells: row.cells.map(\r\n\t\t\t\t\t\t\t( cellAttributes, columnIndex ) => {\r\n\t\t\t\t\t\t\t\tconst cellLocation = {\r\n\t\t\t\t\t\t\t\t\tsectionName,\r\n\t\t\t\t\t\t\t\t\tcolumnIndex,\r\n\t\t\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t! isCellSelected( cellLocation, selection )\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\treturn cellAttributes;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn updateCell( cellAttributes );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t};\r\n\t\t\t\t} ),\r\n\t\t\t];\r\n\t\t} )\r\n\t);\r\n}\r\n\r\n/**\r\n * Returns whether the cell at `cellLocation` is included in the selection `selection`.\r\n *\r\n * @param {Object} cellLocation An object containing cell location properties.\r\n * @param {Object} selection    An object containing selection properties.\r\n *\r\n * @return {boolean} True if the cell is selected, false otherwise.\r\n */\r\nexport function isCellSelected( cellLocation, selection ) {\r\n\tif ( ! cellLocation || ! selection ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tswitch ( selection.type ) {\r\n\t\tcase 'column':\r\n\t\t\treturn (\r\n\t\t\t\tselection.type === 'column' &&\r\n\t\t\t\tcellLocation.columnIndex === selection.columnIndex\r\n\t\t\t);\r\n\t\tcase 'cell':\r\n\t\t\treturn (\r\n\t\t\t\tselection.type === 'cell' &&\r\n\t\t\t\tcellLocation.sectionName === selection.sectionName &&\r\n\t\t\t\tcellLocation.columnIndex === selection.columnIndex &&\r\n\t\t\t\tcellLocation.rowIndex === selection.rowIndex\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\n/**\r\n * Inserts a row in the table state.\r\n *\r\n * @param {Object} state               Current table state.\r\n * @param {Object} options\r\n * @param {string} options.sectionName Section in which to insert the row.\r\n * @param {number} options.rowIndex    Row index at which to insert the row.\r\n * @param {number} options.columnCount Column count for the table to create.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function insertRow( state, { sectionName, rowIndex, columnCount } ) {\r\n\tconst firstRow = getFirstRow( state );\r\n\tconst cellCount =\r\n\t\tcolumnCount === undefined ? firstRow?.cells?.length : columnCount;\r\n\r\n\t// Bail early if the function cannot determine how many cells to add.\r\n\tif ( ! cellCount ) {\r\n\t\treturn state;\r\n\t}\r\n\r\n\treturn {\r\n\t\t[ sectionName ]: [\r\n\t\t\t...state[ sectionName ].slice( 0, rowIndex ),\r\n\t\t\t{\r\n\t\t\t\tcells: Array.from( { length: cellCount } ).map(\r\n\t\t\t\t\t( _, index ) => {\r\n\t\t\t\t\t\tconst firstCellInColumn =\r\n\t\t\t\t\t\t\tfirstRow?.cells?.[ index ] ?? {};\r\n\r\n\t\t\t\t\t\tconst inheritedAttributes = Object.fromEntries(\r\n\t\t\t\t\t\t\tObject.entries( firstCellInColumn ).filter(\r\n\t\t\t\t\t\t\t\t( [ key ] ) =>\r\n\t\t\t\t\t\t\t\t\tINHERITED_COLUMN_ATTRIBUTES.includes( key )\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...inheritedAttributes,\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\ttag: sectionName === 'head' ? 'th' : 'td',\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t...state[ sectionName ].slice( rowIndex ),\r\n\t\t],\r\n\t};\r\n}\r\n\r\n/**\r\n * Deletes a row from the table state.\r\n *\r\n * @param {Object} state               Current table state.\r\n * @param {Object} options\r\n * @param {string} options.sectionName Section in which to delete the row.\r\n * @param {number} options.rowIndex    Row index to delete.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function deleteRow( state, { sectionName, rowIndex } ) {\r\n\treturn {\r\n\t\t[ sectionName ]: state[ sectionName ].filter(\r\n\t\t\t( row, index ) => index !== rowIndex\r\n\t\t),\r\n\t};\r\n}\r\n\r\n/**\r\n * Inserts a column in the table state.\r\n *\r\n * @param {Object} state               Current table state.\r\n * @param {Object} options\r\n * @param {number} options.columnIndex Column index at which to insert the column.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function insertColumn( state, { columnIndex } ) {\r\n\tconst tableSections = Object.fromEntries(\r\n\t\tObject.entries( state ).filter( ( [ key ] ) =>\r\n\t\t\t[ 'head', 'body', 'foot' ].includes( key )\r\n\t\t)\r\n\t);\r\n\r\n\treturn Object.fromEntries(\r\n\t\tObject.entries( tableSections ).map( ( [ sectionName, section ] ) => {\r\n\t\t\t// Bail early if the table section is empty.\r\n\t\t\tif ( isEmptyTableSection( section ) ) {\r\n\t\t\t\treturn [ sectionName, section ];\r\n\t\t\t}\r\n\r\n\t\t\treturn [\r\n\t\t\t\tsectionName,\r\n\t\t\t\tsection.map( ( row ) => {\r\n\t\t\t\t\t// Bail early if the row is empty or it's an attempt to insert past\r\n\t\t\t\t\t// the last possible index of the array.\r\n\t\t\t\t\tif ( isEmptyRow( row ) || row.cells.length < columnIndex ) {\r\n\t\t\t\t\t\treturn row;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t\t...row.cells.slice( 0, columnIndex ),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\ttag: sectionName === 'head' ? 'th' : 'td',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t...row.cells.slice( columnIndex ),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t};\r\n\t\t\t\t} ),\r\n\t\t\t];\r\n\t\t} )\r\n\t);\r\n}\r\n\r\n/**\r\n * Deletes a column from the table state.\r\n *\r\n * @param {Object} state               Current table state.\r\n * @param {Object} options\r\n * @param {number} options.columnIndex Column index to delete.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function deleteColumn( state, { columnIndex } ) {\r\n\tconst tableSections = Object.fromEntries(\r\n\t\tObject.entries( state ).filter( ( [ key ] ) =>\r\n\t\t\t[ 'head', 'body', 'foot' ].includes( key )\r\n\t\t)\r\n\t);\r\n\r\n\treturn Object.fromEntries(\r\n\t\tObject.entries( tableSections ).map( ( [ sectionName, section ] ) => {\r\n\t\t\t// Bail early if the table section is empty.\r\n\t\t\tif ( isEmptyTableSection( section ) ) {\r\n\t\t\t\treturn [ sectionName, section ];\r\n\t\t\t}\r\n\r\n\t\t\treturn [\r\n\t\t\t\tsectionName,\r\n\t\t\t\tsection\r\n\t\t\t\t\t.map( ( row ) => ( {\r\n\t\t\t\t\t\tcells:\r\n\t\t\t\t\t\t\trow.cells.length >= columnIndex\r\n\t\t\t\t\t\t\t\t? row.cells.filter(\r\n\t\t\t\t\t\t\t\t\t\t( cell, index ) => index !== columnIndex\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: row.cells,\r\n\t\t\t\t\t} ) )\r\n\t\t\t\t\t.filter( ( row ) => row.cells.length ),\r\n\t\t\t];\r\n\t\t} )\r\n\t);\r\n}\r\n\r\n/**\r\n * Toggles the existence of a section.\r\n *\r\n * @param {Object} state       Current table state.\r\n * @param {string} sectionName Name of the section to toggle.\r\n *\r\n * @return {Object} New table state.\r\n */\r\nexport function toggleSection( state, sectionName ) {\r\n\t// Section exists, replace it with an empty row to remove it.\r\n\tif ( ! isEmptyTableSection( state[ sectionName ] ) ) {\r\n\t\treturn { [ sectionName ]: [] };\r\n\t}\r\n\r\n\t// Get the length of the first row of the body to use when creating the header.\r\n\tconst columnCount = state.body?.[ 0 ]?.cells?.length ?? 1;\r\n\r\n\t// Section doesn't exist, insert an empty row to create the section.\r\n\treturn insertRow( state, { sectionName, rowIndex: 0, columnCount } );\r\n}\r\n\r\n/**\r\n * Determines whether a table section is empty.\r\n *\r\n * @param {Object} section Table section state.\r\n *\r\n * @return {boolean} True if the table section is empty, false otherwise.\r\n */\r\nexport function isEmptyTableSection( section ) {\r\n\treturn ! section || ! section.length || section.every( isEmptyRow );\r\n}\r\n\r\n/**\r\n * Determines whether a table row is empty.\r\n *\r\n * @param {Object} row Table row state.\r\n *\r\n * @return {boolean} True if the table section is empty, false otherwise.\r\n */\r\nexport function isEmptyRow( row ) {\r\n\treturn ! ( row.cells && row.cells.length );\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useEffect, useRef, useState } from '@wordpress/element';\r\nimport {\r\n\tInspectorControls,\r\n\tBlockControls,\r\n\tRichText,\r\n\tBlockIcon,\r\n\tAlignmentControl,\r\n\tuseBlockProps,\r\n\t__experimentalUseColorProps as useColorProps,\r\n\t__experimentalUseBorderProps as useBorderProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tButton,\r\n\tPanelBody,\r\n\tPlaceholder,\r\n\tTextControl,\r\n\tToggleControl,\r\n\tToolbarDropdownMenu,\r\n\t__experimentalHasSplitBorders as hasSplitBorders,\r\n} from '@wordpress/components';\r\nimport {\r\n\talignLeft,\r\n\talignRight,\r\n\talignCenter,\r\n\tblockTable as icon,\r\n\ttableColumnAfter,\r\n\ttableColumnBefore,\r\n\ttableColumnDelete,\r\n\ttableRowAfter,\r\n\ttableRowBefore,\r\n\ttableRowDelete,\r\n\ttable,\r\n} from '@wordpress/icons';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tcreateTable,\r\n\tupdateSelectedCell,\r\n\tgetCellAttribute,\r\n\tinsertRow,\r\n\tdeleteRow,\r\n\tinsertColumn,\r\n\tdeleteColumn,\r\n\ttoggleSection,\r\n\tisEmptyTableSection,\r\n} from './state';\r\n\r\nconst ALIGNMENT_CONTROLS = [\r\n\t{\r\n\t\ticon: alignLeft,\r\n\t\ttitle: __( 'Align column left' ),\r\n\t\talign: 'left',\r\n\t},\r\n\t{\r\n\t\ticon: alignCenter,\r\n\t\ttitle: __( 'Align column center' ),\r\n\t\talign: 'center',\r\n\t},\r\n\t{\r\n\t\ticon: alignRight,\r\n\t\ttitle: __( 'Align column right' ),\r\n\t\talign: 'right',\r\n\t},\r\n];\r\n\r\nconst cellAriaLabel = {\r\n\thead: __( 'Header cell text' ),\r\n\tbody: __( 'Body cell text' ),\r\n\tfoot: __( 'Footer cell text' ),\r\n};\r\n\r\nconst placeholder = {\r\n\thead: __( 'Header label' ),\r\n\tfoot: __( 'Footer label' ),\r\n};\r\n\r\nfunction TSection( { name, ...props } ) {\r\n\tconst TagName = `t${ name }`;\r\n\treturn <TagName { ...props } />;\r\n}\r\n\r\nfunction TableEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tinsertBlocksAfter,\r\n\tisSelected,\r\n} ) {\r\n\tconst { hasFixedLayout, caption, head, foot } = attributes;\r\n\tconst [ initialRowCount, setInitialRowCount ] = useState( 2 );\r\n\tconst [ initialColumnCount, setInitialColumnCount ] = useState( 2 );\r\n\tconst [ selectedCell, setSelectedCell ] = useState();\r\n\r\n\tconst colorProps = useColorProps( attributes );\r\n\tconst borderProps = useBorderProps( attributes );\r\n\r\n\tconst tableRef = useRef();\r\n\tconst [ hasTableCreated, setHasTableCreated ] = useState( false );\r\n\r\n\t/**\r\n\t * Updates the initial column count used for table creation.\r\n\t *\r\n\t * @param {number} count New initial column count.\r\n\t */\r\n\tfunction onChangeInitialColumnCount( count ) {\r\n\t\tsetInitialColumnCount( count );\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the initial row count used for table creation.\r\n\t *\r\n\t * @param {number} count New initial row count.\r\n\t */\r\n\tfunction onChangeInitialRowCount( count ) {\r\n\t\tsetInitialRowCount( count );\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a table based on dimensions in local state.\r\n\t *\r\n\t * @param {Object} event Form submit event.\r\n\t */\r\n\tfunction onCreateTable( event ) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tsetAttributes(\r\n\t\t\tcreateTable( {\r\n\t\t\t\trowCount: parseInt( initialRowCount, 10 ) || 2,\r\n\t\t\t\tcolumnCount: parseInt( initialColumnCount, 10 ) || 2,\r\n\t\t\t} )\r\n\t\t);\r\n\t\tsetHasTableCreated( true );\r\n\t}\r\n\r\n\t/**\r\n\t * Toggles whether the table has a fixed layout or not.\r\n\t */\r\n\tfunction onChangeFixedLayout() {\r\n\t\tsetAttributes( { hasFixedLayout: ! hasFixedLayout } );\r\n\t}\r\n\r\n\t/**\r\n\t * Changes the content of the currently selected cell.\r\n\t *\r\n\t * @param {Array} content A RichText content value.\r\n\t */\r\n\tfunction onChange( content ) {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetAttributes(\r\n\t\t\tupdateSelectedCell(\r\n\t\t\t\tattributes,\r\n\t\t\t\tselectedCell,\r\n\t\t\t\t( cellAttributes ) => ( {\r\n\t\t\t\t\t...cellAttributes,\r\n\t\t\t\t\tcontent,\r\n\t\t\t\t} )\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * Align text within the a column.\r\n\t *\r\n\t * @param {string} align The new alignment to apply to the column.\r\n\t */\r\n\tfunction onChangeColumnAlignment( align ) {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Convert the cell selection to a column selection so that alignment\r\n\t\t// is applied to the entire column.\r\n\t\tconst columnSelection = {\r\n\t\t\ttype: 'column',\r\n\t\t\tcolumnIndex: selectedCell.columnIndex,\r\n\t\t};\r\n\r\n\t\tconst newAttributes = updateSelectedCell(\r\n\t\t\tattributes,\r\n\t\t\tcolumnSelection,\r\n\t\t\t( cellAttributes ) => ( {\r\n\t\t\t\t...cellAttributes,\r\n\t\t\t\talign,\r\n\t\t\t} )\r\n\t\t);\r\n\t\tsetAttributes( newAttributes );\r\n\t}\r\n\r\n\t/**\r\n\t * Get the alignment of the currently selected cell.\r\n\t *\r\n\t * @return {string | undefined} The new alignment to apply to the column.\r\n\t */\r\n\tfunction getCellAlignment() {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn getCellAttribute( attributes, selectedCell, 'align' );\r\n\t}\r\n\r\n\t/**\r\n\t * Add or remove a `head` table section.\r\n\t */\r\n\tfunction onToggleHeaderSection() {\r\n\t\tsetAttributes( toggleSection( attributes, 'head' ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Add or remove a `foot` table section.\r\n\t */\r\n\tfunction onToggleFooterSection() {\r\n\t\tsetAttributes( toggleSection( attributes, 'foot' ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a row at the currently selected row index, plus `delta`.\r\n\t *\r\n\t * @param {number} delta Offset for selected row index at which to insert.\r\n\t */\r\n\tfunction onInsertRow( delta ) {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex } = selectedCell;\r\n\t\tconst newRowIndex = rowIndex + delta;\r\n\r\n\t\tsetAttributes(\r\n\t\t\tinsertRow( attributes, {\r\n\t\t\t\tsectionName,\r\n\t\t\t\trowIndex: newRowIndex,\r\n\t\t\t} )\r\n\t\t);\r\n\t\t// Select the first cell of the new row.\r\n\t\tsetSelectedCell( {\r\n\t\t\tsectionName,\r\n\t\t\trowIndex: newRowIndex,\r\n\t\t\tcolumnIndex: 0,\r\n\t\t\ttype: 'cell',\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a row before the currently selected row.\r\n\t */\r\n\tfunction onInsertRowBefore() {\r\n\t\tonInsertRow( 0 );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a row after the currently selected row.\r\n\t */\r\n\tfunction onInsertRowAfter() {\r\n\t\tonInsertRow( 1 );\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes the currently selected row.\r\n\t */\r\n\tfunction onDeleteRow() {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, rowIndex } = selectedCell;\r\n\r\n\t\tsetSelectedCell();\r\n\t\tsetAttributes( deleteRow( attributes, { sectionName, rowIndex } ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a column at the currently selected column index, plus `delta`.\r\n\t *\r\n\t * @param {number} delta Offset for selected column index at which to insert.\r\n\t */\r\n\tfunction onInsertColumn( delta = 0 ) {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { columnIndex } = selectedCell;\r\n\t\tconst newColumnIndex = columnIndex + delta;\r\n\r\n\t\tsetAttributes(\r\n\t\t\tinsertColumn( attributes, {\r\n\t\t\t\tcolumnIndex: newColumnIndex,\r\n\t\t\t} )\r\n\t\t);\r\n\t\t// Select the first cell of the new column.\r\n\t\tsetSelectedCell( {\r\n\t\t\trowIndex: 0,\r\n\t\t\tcolumnIndex: newColumnIndex,\r\n\t\t\ttype: 'cell',\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a column before the currently selected column.\r\n\t */\r\n\tfunction onInsertColumnBefore() {\r\n\t\tonInsertColumn( 0 );\r\n\t}\r\n\r\n\t/**\r\n\t * Inserts a column after the currently selected column.\r\n\t */\r\n\tfunction onInsertColumnAfter() {\r\n\t\tonInsertColumn( 1 );\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes the currently selected column.\r\n\t */\r\n\tfunction onDeleteColumn() {\r\n\t\tif ( ! selectedCell ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst { sectionName, columnIndex } = selectedCell;\r\n\r\n\t\tsetSelectedCell();\r\n\t\tsetAttributes(\r\n\t\t\tdeleteColumn( attributes, { sectionName, columnIndex } )\r\n\t\t);\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! isSelected ) {\r\n\t\t\tsetSelectedCell();\r\n\t\t}\r\n\t}, [ isSelected ] );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( hasTableCreated ) {\r\n\t\t\ttableRef?.current\r\n\t\t\t\t?.querySelector( 'td div[contentEditable=\"true\"]' )\r\n\t\t\t\t?.focus();\r\n\t\t\tsetHasTableCreated( false );\r\n\t\t}\r\n\t}, [ hasTableCreated ] );\r\n\r\n\tconst sections = [ 'head', 'body', 'foot' ].filter(\r\n\t\t( name ) => ! isEmptyTableSection( attributes[ name ] )\r\n\t);\r\n\r\n\tconst tableControls = [\r\n\t\t{\r\n\t\t\ticon: tableRowBefore,\r\n\t\t\ttitle: __( 'Insert row before' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onInsertRowBefore,\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowAfter,\r\n\t\t\ttitle: __( 'Insert row after' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onInsertRowAfter,\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableRowDelete,\r\n\t\t\ttitle: __( 'Delete row' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onDeleteRow,\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnBefore,\r\n\t\t\ttitle: __( 'Insert column before' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onInsertColumnBefore,\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnAfter,\r\n\t\t\ttitle: __( 'Insert column after' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onInsertColumnAfter,\r\n\t\t},\r\n\t\t{\r\n\t\t\ticon: tableColumnDelete,\r\n\t\t\ttitle: __( 'Delete column' ),\r\n\t\t\tisDisabled: ! selectedCell,\r\n\t\t\tonClick: onDeleteColumn,\r\n\t\t},\r\n\t];\r\n\r\n\tconst renderedSections = sections.map( ( name ) => (\r\n\t\t<TSection name={ name } key={ name }>\r\n\t\t\t{ attributes[ name ].map( ( { cells }, rowIndex ) => (\r\n\t\t\t\t<tr key={ rowIndex }>\r\n\t\t\t\t\t{ cells.map(\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\ttag: CellTag,\r\n\t\t\t\t\t\t\t\tscope,\r\n\t\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t\t\t\tcolspan,\r\n\t\t\t\t\t\t\t\trowspan,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcolumnIndex\r\n\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t<CellTag\r\n\t\t\t\t\t\t\t\tkey={ columnIndex }\r\n\t\t\t\t\t\t\t\tscope={ CellTag === 'th' ? scope : undefined }\r\n\t\t\t\t\t\t\t\tcolSpan={ colspan }\r\n\t\t\t\t\t\t\t\trowSpan={ rowspan }\r\n\t\t\t\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t'wp-block-table__cell-content'\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\t\t\t\t\tonChange={ onChange }\r\n\t\t\t\t\t\t\t\t\tonFocus={ () => {\r\n\t\t\t\t\t\t\t\t\t\tsetSelectedCell( {\r\n\t\t\t\t\t\t\t\t\t\t\tsectionName: name,\r\n\t\t\t\t\t\t\t\t\t\t\trowIndex,\r\n\t\t\t\t\t\t\t\t\t\t\tcolumnIndex,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'cell',\r\n\t\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\taria-label={ cellAriaLabel[ name ] }\r\n\t\t\t\t\t\t\t\t\tplaceholder={ placeholder[ name ] }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</CellTag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) }\r\n\t\t\t\t</tr>\r\n\t\t\t) ) }\r\n\t\t</TSection>\r\n\t) );\r\n\r\n\tconst isEmpty = ! sections.length;\r\n\r\n\treturn (\r\n\t\t<figure { ...useBlockProps( { ref: tableRef } ) }>\r\n\t\t\t{ ! isEmpty && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t\t\t<AlignmentControl\r\n\t\t\t\t\t\t\tlabel={ __( 'Change column alignment' ) }\r\n\t\t\t\t\t\t\talignmentControls={ ALIGNMENT_CONTROLS }\r\n\t\t\t\t\t\t\tvalue={ getCellAlignment() }\r\n\t\t\t\t\t\t\tonChange={ ( nextAlign ) =>\r\n\t\t\t\t\t\t\t\tonChangeColumnAlignment( nextAlign )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BlockControls>\r\n\t\t\t\t\t<BlockControls group=\"other\">\r\n\t\t\t\t\t\t<ToolbarDropdownMenu\r\n\t\t\t\t\t\t\thasArrowIndicator\r\n\t\t\t\t\t\t\ticon={ table }\r\n\t\t\t\t\t\t\tlabel={ __( 'Edit table' ) }\r\n\t\t\t\t\t\t\tcontrols={ tableControls }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</BlockControls>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody\r\n\t\t\t\t\ttitle={ __( 'Settings' ) }\r\n\t\t\t\t\tclassName=\"blocks-table-settings\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Fixed width table cells' ) }\r\n\t\t\t\t\t\tchecked={ !! hasFixedLayout }\r\n\t\t\t\t\t\tonChange={ onChangeFixedLayout }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{ ! isEmpty && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Header section' ) }\r\n\t\t\t\t\t\t\t\tchecked={ !! ( head && head.length ) }\r\n\t\t\t\t\t\t\t\tonChange={ onToggleHeaderSection }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Footer section' ) }\r\n\t\t\t\t\t\t\t\tchecked={ !! ( foot && foot.length ) }\r\n\t\t\t\t\t\t\t\tonChange={ onToggleFooterSection }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t{ ! isEmpty && (\r\n\t\t\t\t<table\r\n\t\t\t\t\tclassName={ classnames(\r\n\t\t\t\t\t\tcolorProps.className,\r\n\t\t\t\t\t\tborderProps.className,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'has-fixed-layout': hasFixedLayout,\r\n\t\t\t\t\t\t\t// This is required in the editor only to overcome\r\n\t\t\t\t\t\t\t// the fact the editor rewrites individual border\r\n\t\t\t\t\t\t\t// widths into a shorthand format.\r\n\t\t\t\t\t\t\t'has-individual-borders': hasSplitBorders(\r\n\t\t\t\t\t\t\t\tattributes?.style?.border\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tstyle={ { ...colorProps.style, ...borderProps.style } }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ renderedSections }\r\n\t\t\t\t</table>\r\n\t\t\t) }\r\n\t\t\t{ ! isEmpty && (\r\n\t\t\t\t<RichText\r\n\t\t\t\t\tidentifier=\"caption\"\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tclassName={ __experimentalGetElementClassName( 'caption' ) }\r\n\t\t\t\t\taria-label={ __( 'Table caption text' ) }\r\n\t\t\t\t\tplaceholder={ __( 'Add caption' ) }\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { caption: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Deselect the selected table cell when the caption is focused.\r\n\t\t\t\t\tonFocus={ () => setSelectedCell() }\r\n\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\r\n\t\t\t\t\t\tinsertBlocksAfter(\r\n\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t\t{ isEmpty && (\r\n\t\t\t\t<Placeholder\r\n\t\t\t\t\tlabel={ __( 'Table' ) }\r\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } showColors /> }\r\n\t\t\t\t\tinstructions={ __( 'Insert a table for sharing data.' ) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName=\"blocks-table__placeholder-form\"\r\n\t\t\t\t\t\tonSubmit={ onCreateTable }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Column count' ) }\r\n\t\t\t\t\t\t\tvalue={ initialColumnCount }\r\n\t\t\t\t\t\t\tonChange={ onChangeInitialColumnCount }\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tclassName=\"blocks-table__placeholder-input\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tlabel={ __( 'Row count' ) }\r\n\t\t\t\t\t\t\tvalue={ initialRowCount }\r\n\t\t\t\t\t\t\tonChange={ onChangeInitialRowCount }\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tclassName=\"blocks-table__placeholder-input\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Create Table' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Placeholder>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n\r\nexport default TableEdit;\r\n","/**\r\n * Normalize the rowspan/colspan value.\r\n * Returns undefined if the parameter is not a positive number\r\n * or the default value (1) for rowspan/colspan.\r\n *\r\n * @param {number|undefined} rowColSpan rowspan/colspan value.\r\n *\r\n * @return {string|undefined} normalized rowspan/colspan value.\r\n */\r\nexport function normalizeRowColSpan( rowColSpan ) {\r\n\tconst parsedValue = parseInt( rowColSpan, 10 );\r\n\tif ( ! Number.isInteger( parsedValue ) ) {\r\n\t\treturn undefined;\r\n\t}\r\n\treturn parsedValue < 0 || parsedValue === 1\r\n\t\t? undefined\r\n\t\t: parsedValue.toString();\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { normalizeRowColSpan } from './utils';\r\n\r\nconst tableContentPasteSchema = ( { phrasingContentSchema } ) => ( {\r\n\ttr: {\r\n\t\tallowEmpty: true,\r\n\t\tchildren: {\r\n\t\t\tth: {\r\n\t\t\t\tallowEmpty: true,\r\n\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t\tattributes: [ 'scope', 'colspan', 'rowspan' ],\r\n\t\t\t},\r\n\t\t\ttd: {\r\n\t\t\t\tallowEmpty: true,\r\n\t\t\t\tchildren: phrasingContentSchema,\r\n\t\t\t\tattributes: [ 'colspan', 'rowspan' ],\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n} );\r\n\r\nconst tablePasteSchema = ( args ) => ( {\r\n\ttable: {\r\n\t\tchildren: {\r\n\t\t\tthead: {\r\n\t\t\t\tallowEmpty: true,\r\n\t\t\t\tchildren: tableContentPasteSchema( args ),\r\n\t\t\t},\r\n\t\t\ttfoot: {\r\n\t\t\t\tallowEmpty: true,\r\n\t\t\t\tchildren: tableContentPasteSchema( args ),\r\n\t\t\t},\r\n\t\t\ttbody: {\r\n\t\t\t\tallowEmpty: true,\r\n\t\t\t\tchildren: tableContentPasteSchema( args ),\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n} );\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tselector: 'table',\r\n\t\t\tschema: tablePasteSchema,\r\n\t\t\ttransform: ( node ) => {\r\n\t\t\t\tconst attributes = Array.from( node.children ).reduce(\r\n\t\t\t\t\t( sectionAcc, section ) => {\r\n\t\t\t\t\t\tif ( ! section.children.length ) {\r\n\t\t\t\t\t\t\treturn sectionAcc;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconst sectionName = section.nodeName\r\n\t\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t\t.slice( 1 );\r\n\r\n\t\t\t\t\t\tconst sectionAttributes = Array.from(\r\n\t\t\t\t\t\t\tsection.children\r\n\t\t\t\t\t\t).reduce( ( rowAcc, row ) => {\r\n\t\t\t\t\t\t\tif ( ! row.children.length ) {\r\n\t\t\t\t\t\t\t\treturn rowAcc;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst rowAttributes = Array.from(\r\n\t\t\t\t\t\t\t\trow.children\r\n\t\t\t\t\t\t\t).reduce( ( colAcc, col ) => {\r\n\t\t\t\t\t\t\t\tconst rowspan = normalizeRowColSpan(\r\n\t\t\t\t\t\t\t\t\tcol.getAttribute( 'rowspan' )\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tconst colspan = normalizeRowColSpan(\r\n\t\t\t\t\t\t\t\t\tcol.getAttribute( 'colspan' )\r\n\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\tcolAcc.push( {\r\n\t\t\t\t\t\t\t\t\ttag: col.nodeName.toLowerCase(),\r\n\t\t\t\t\t\t\t\t\tcontent: col.innerHTML,\r\n\t\t\t\t\t\t\t\t\trowspan,\r\n\t\t\t\t\t\t\t\t\tcolspan,\r\n\t\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t\t\treturn colAcc;\r\n\t\t\t\t\t\t\t}, [] );\r\n\r\n\t\t\t\t\t\t\trowAcc.push( {\r\n\t\t\t\t\t\t\t\tcells: rowAttributes,\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t\treturn rowAcc;\r\n\t\t\t\t\t\t}, [] );\r\n\r\n\t\t\t\t\t\tsectionAcc[ sectionName ] = sectionAttributes;\r\n\t\t\t\t\t\treturn sectionAcc;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn createBlock( 'core/table', attributes );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { blockTable as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\thead: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'Version' ),\r\n\t\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'Jazz Musician' ),\r\n\t\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'Release Date' ),\r\n\t\t\t\t\t\t\ttag: 'th',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tbody: [\r\n\t\t\t\t{\r\n\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: '5.2',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: 'Jaco Pastorius',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'May 7, 2019' ),\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: '5.1',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: 'Betty Carter',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'February 21, 2019' ),\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: '5.0',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: 'Bebo Valdés',\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcontent: __( 'December 6, 2018' ),\r\n\t\t\t\t\t\t\ttag: 'td',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t\tviewportWidth: 450,\r\n\t},\r\n\ttransforms,\r\n\tedit,\r\n\tsave,\r\n\tdeprecated,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetBorderClassesAndStyles as getBorderClassesAndStyles,\r\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { hasFixedLayout, head, body, foot, caption } = attributes;\r\n\tconst isEmpty = ! head.length && ! body.length && ! foot.length;\r\n\r\n\tif ( isEmpty ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst colorProps = getColorClassesAndStyles( attributes );\r\n\tconst borderProps = getBorderClassesAndStyles( attributes );\r\n\r\n\tconst classes = classnames( colorProps.className, borderProps.className, {\r\n\t\t'has-fixed-layout': hasFixedLayout,\r\n\t} );\r\n\r\n\tconst hasCaption = ! RichText.isEmpty( caption );\r\n\r\n\tconst Section = ( { type, rows } ) => {\r\n\t\tif ( ! rows.length ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst Tag = `t${ type }`;\r\n\r\n\t\treturn (\r\n\t\t\t<Tag>\r\n\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\r\n\t\t\t\t\t<tr key={ rowIndex }>\r\n\t\t\t\t\t\t{ cells.map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcontent,\r\n\t\t\t\t\t\t\t\t\ttag,\r\n\t\t\t\t\t\t\t\t\tscope,\r\n\t\t\t\t\t\t\t\t\talign,\r\n\t\t\t\t\t\t\t\t\tcolspan,\r\n\t\t\t\t\t\t\t\t\trowspan,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcellIndex\r\n\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\tconst cellClasses = classnames( {\r\n\t\t\t\t\t\t\t\t\t[ `has-text-align-${ align }` ]: align,\r\n\t\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tcellClasses\r\n\t\t\t\t\t\t\t\t\t\t\t\t? cellClasses\r\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdata-align={ align }\r\n\t\t\t\t\t\t\t\t\t\ttagName={ tag }\r\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\r\n\t\t\t\t\t\t\t\t\t\tscope={\r\n\t\t\t\t\t\t\t\t\t\t\ttag === 'th' ? scope : undefined\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tcolSpan={ colspan }\r\n\t\t\t\t\t\t\t\t\t\trowSpan={ rowspan }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t) ) }\r\n\t\t\t</Tag>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<figure { ...useBlockProps.save() }>\r\n\t\t\t<table\r\n\t\t\t\tclassName={ classes === '' ? undefined : classes }\r\n\t\t\t\tstyle={ { ...colorProps.style, ...borderProps.style } }\r\n\t\t\t>\r\n\t\t\t\t<Section type=\"head\" rows={ head } />\r\n\t\t\t\t<Section type=\"body\" rows={ body } />\r\n\t\t\t\t<Section type=\"foot\" rows={ foot } />\r\n\t\t\t</table>\r\n\t\t\t{ hasCaption && (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t\tclassName={ __experimentalGetElementClassName( 'caption' ) }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tableOfContents = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t\td=\"M20 9.484h-8.889v-1.5H20v1.5Zm0 7h-4.889v-1.5H20v1.5Zm-14 .032a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"\r\n\t\t/>\r\n\t\t<Path d=\"M13 15.516a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 8.484a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tableOfContents;\r\n","/**\r\n * External dependencies\r\n */\r\nimport type { MouseEvent, ReactElement } from 'react';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport type { NestedHeadingData } from './utils';\r\n\r\nconst ENTRY_CLASS_NAME = 'wp-block-table-of-contents__entry';\r\n\r\nexport default function TableOfContentsList( {\r\n\tnestedHeadingList,\r\n\tdisableLinkActivation,\r\n\tonClick,\r\n}: {\r\n\tnestedHeadingList: NestedHeadingData[];\r\n\tdisableLinkActivation?: boolean;\r\n\tonClick?: ( event: MouseEvent< HTMLAnchorElement > ) => void;\r\n} ): ReactElement {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ nestedHeadingList.map( ( node, index ) => {\r\n\t\t\t\tconst { content, link } = node.heading;\r\n\r\n\t\t\t\tconst entry = link ? (\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={ ENTRY_CLASS_NAME }\r\n\t\t\t\t\t\thref={ link }\r\n\t\t\t\t\t\taria-disabled={ disableLinkActivation || undefined }\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tdisableLinkActivation &&\r\n\t\t\t\t\t\t\t'function' === typeof onClick\r\n\t\t\t\t\t\t\t\t? onClick\r\n\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ content }\r\n\t\t\t\t\t</a>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span className={ ENTRY_CLASS_NAME }>{ content }</span>\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li key={ index }>\r\n\t\t\t\t\t\t{ entry }\r\n\t\t\t\t\t\t{ node.children ? (\r\n\t\t\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t\t\t<TableOfContentsList\r\n\t\t\t\t\t\t\t\t\tnestedHeadingList={ node.children }\r\n\t\t\t\t\t\t\t\t\tdisableLinkActivation={\r\n\t\t\t\t\t\t\t\t\t\tdisableLinkActivation\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\tdisableLinkActivation &&\r\n\t\t\t\t\t\t\t\t\t\t'function' === typeof onClick\r\n\t\t\t\t\t\t\t\t\t\t\t? onClick\r\n\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t\t) : null }\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n}\r\n","export interface HeadingData {\r\n\t/** The plain text content of the heading. */\r\n\tcontent: string;\r\n\t/** The heading level. */\r\n\tlevel: number;\r\n\t/** Link to the heading. */\r\n\tlink: string;\r\n}\r\n\r\nexport interface NestedHeadingData {\r\n\t/** The heading content, level, and link. */\r\n\theading: HeadingData;\r\n\t/** The sub-headings of this heading, if any. */\r\n\tchildren: NestedHeadingData[] | null;\r\n}\r\n\r\n/**\r\n * Takes a flat list of heading parameters and nests them based on each header's\r\n * immediate parent's level.\r\n *\r\n * @param headingList The flat list of headings to nest.\r\n *\r\n * @return The nested list of headings.\r\n */\r\nexport function linearToNestedHeadingList(\r\n\theadingList: HeadingData[]\r\n): NestedHeadingData[] {\r\n\tconst nestedHeadingList: NestedHeadingData[] = [];\r\n\r\n\theadingList.forEach( ( heading, key ) => {\r\n\t\tif ( heading.content === '' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Make sure we are only working with the same level as the first iteration in our set.\r\n\t\tif ( heading.level === headingList[ 0 ].level ) {\r\n\t\t\t// Check that the next iteration will return a value.\r\n\t\t\t// If it does and the next level is greater than the current level,\r\n\t\t\t// the next iteration becomes a child of the current iteration.\r\n\t\t\tif ( headingList[ key + 1 ]?.level > heading.level ) {\r\n\t\t\t\t// We must calculate the last index before the next iteration that\r\n\t\t\t\t// has the same level (siblings). We then use this index to slice\r\n\t\t\t\t// the array for use in recursion. This prevents duplicate nodes.\r\n\t\t\t\tlet endOfSlice = headingList.length;\r\n\t\t\t\tfor ( let i = key + 1; i < headingList.length; i++ ) {\r\n\t\t\t\t\tif ( headingList[ i ].level === heading.level ) {\r\n\t\t\t\t\t\tendOfSlice = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We found a child node: Push a new node onto the return array\r\n\t\t\t\t// with children.\r\n\t\t\t\tnestedHeadingList.push( {\r\n\t\t\t\t\theading,\r\n\t\t\t\t\tchildren: linearToNestedHeadingList(\r\n\t\t\t\t\t\theadingList.slice( key + 1, endOfSlice )\r\n\t\t\t\t\t),\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\t// No child node: Push a new node onto the return array.\r\n\t\t\t\tnestedHeadingList.push( {\r\n\t\t\t\t\theading,\r\n\t\t\t\t\tchildren: null,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\treturn nestedHeadingList;\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { tableOfContents as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\nimport save from './save';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tInspectorControls,\n\tstore as blockEditorStore,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tPanelBody,\n\tPlaceholder,\n\tToggleControl,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { renderToString } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as noticeStore } from '@wordpress/notices';\nimport { tableOfContents as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport TableOfContentsList from './list';\nimport { linearToNestedHeadingList } from './utils';\nimport { useObserveHeadings } from './hooks';\n\n/** @typedef {import('./utils').HeadingData} HeadingData */\n\n/**\n * Table of Contents block edit component.\n *\n * @param {Object}                       props                                   The props.\n * @param {Object}                       props.attributes                        The block attributes.\n * @param {HeadingData[]}                props.attributes.headings               A list of data for each heading in the post.\n * @param {boolean}                      props.attributes.onlyIncludeCurrentPage Whether to only include headings from the current page (if the post is paginated).\n * @param {string}                       props.clientId\n * @param {(attributes: Object) => void} props.setAttributes\n *\n * @return {Component} The component.\n */\nexport default function TableOfContentsEdit( {\n\tattributes: { headings = [], onlyIncludeCurrentPage },\n\tclientId,\n\tsetAttributes,\n} ) {\n\tuseObserveHeadings( clientId );\n\n\tconst blockProps = useBlockProps();\n\tconst instanceId = useInstanceId(\n\t\tTableOfContentsEdit,\n\t\t'table-of-contents'\n\t);\n\n\t// If a user clicks to a link prevent redirection and show a warning.\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticeStore );\n\tlet noticeId;\n\tconst showRedirectionPreventedNotice = ( event ) => {\n\t\tevent.preventDefault();\n\t\t// Remove previous warning if any, to show one at a time per block.\n\t\tremoveNotice( noticeId );\n\t\tnoticeId = `block-library/core/table-of-contents/redirection-prevented/${ instanceId }`;\n\t\tcreateWarningNotice( __( 'Links are disabled in the editor.' ), {\n\t\t\tid: noticeId,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t};\n\n\tconst canInsertList = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockRootClientId, canInsertBlockType } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\n\t\t\treturn canInsertBlockType( 'core/list', rootClientId );\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst headingTree = linearToNestedHeadingList( headings );\n\n\tconst toolbarControls = canInsertList && (\n\t\t<BlockControls>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\treplaceBlocks(\n\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\tcreateBlock( 'core/list', {\n\t\t\t\t\t\t\t\tordered: true,\n\t\t\t\t\t\t\t\tvalues: renderToString(\n\t\t\t\t\t\t\t\t\t<TableOfContentsList\n\t\t\t\t\t\t\t\t\t\tnestedHeadingList={ headingTree }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Convert to static list' ) }\n\t\t\t\t</ToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</BlockControls>\n\t);\n\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Only include current page' ) }\n\t\t\t\t\tchecked={ onlyIncludeCurrentPage }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { onlyIncludeCurrentPage: value } )\n\t\t\t\t\t}\n\t\t\t\t\thelp={\n\t\t\t\t\t\tonlyIncludeCurrentPage\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'Only including headings from the current page (if the post is paginated).'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'Toggle to only include headings from the current page (if the post is paginated).'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\t// If there are no headings or the only heading is empty.\n\t// Note that the toolbar controls are intentionally omitted since the\n\t// \"Convert to static list\" option is useless to the placeholder state.\n\tif ( headings.length === 0 ) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div { ...blockProps }>\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\t\tlabel={ __( 'Table of Contents' ) }\n\t\t\t\t\t\tinstructions={ __(\n\t\t\t\t\t\t\t'Start adding Heading blocks to create a table of contents. Headings with HTML anchors will be linked here.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{ inspectorControls }\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<nav { ...blockProps }>\n\t\t\t\t<ol>\n\t\t\t\t\t<TableOfContentsList\n\t\t\t\t\t\tnestedHeadingList={ headingTree }\n\t\t\t\t\t\tdisableLinkActivation\n\t\t\t\t\t\tonClick={ showRedirectionPreventedNotice }\n\t\t\t\t\t/>\n\t\t\t\t</ol>\n\t\t\t</nav>\n\t\t\t{ toolbarControls }\n\t\t\t{ inspectorControls }\n\t\t</>\n\t);\n}\n","/**\r\n * External dependencies\r\n */\r\nimport fastDeepEqual from 'fast-deep-equal/es6';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useRegistry } from '@wordpress/data';\r\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\n\r\nfunction getLatestHeadings( select, clientId ) {\r\n\tconst {\r\n\t\tgetBlockAttributes,\r\n\t\tgetBlockName,\r\n\t\tgetClientIdsWithDescendants,\r\n\t\tgetBlocksByName,\r\n\t} = select( blockEditorStore );\r\n\r\n\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t// Blocks can be loaded into a *non-post* block editor, so to avoid\r\n\t// declaring @wordpress/editor as a dependency, we must access its\r\n\t// store by string. When the store is not available, editorSelectors\r\n\t// will be null, and the block's saved markup will lack permalinks.\r\n\t// eslint-disable-next-line @wordpress/data-no-store-string-literals\r\n\tconst permalink = select( 'core/editor' ).getPermalink() ?? null;\r\n\r\n\tconst isPaginated = getBlocksByName( 'core/nextpage' ).length !== 0;\r\n\tconst { onlyIncludeCurrentPage } = getBlockAttributes( clientId ) ?? {};\r\n\r\n\t// Get the client ids of all blocks in the editor.\r\n\tconst allBlockClientIds = getClientIdsWithDescendants();\r\n\r\n\t// If onlyIncludeCurrentPage is true, calculate the page (of a paginated post) this block is part of, so we know which headings to include; otherwise, skip the calculation.\r\n\tlet tocPage = 1;\r\n\r\n\tif ( isPaginated && onlyIncludeCurrentPage ) {\r\n\t\t// We can't use getBlockIndex because it only returns the index\r\n\t\t// relative to sibling blocks.\r\n\t\tconst tocIndex = allBlockClientIds.indexOf( clientId );\r\n\r\n\t\tfor ( const [\r\n\t\t\tblockIndex,\r\n\t\t\tblockClientId,\r\n\t\t] of allBlockClientIds.entries() ) {\r\n\t\t\t// If we've reached blocks after the Table of Contents, we've\r\n\t\t\t// finished calculating which page the block is on.\r\n\t\t\tif ( blockIndex >= tocIndex ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( getBlockName( blockClientId ) === 'core/nextpage' ) {\r\n\t\t\t\ttocPage++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst latestHeadings = [];\r\n\r\n\t/** The page (of a paginated post) a heading will be part of. */\r\n\tlet headingPage = 1;\r\n\tlet headingPageLink = null;\r\n\r\n\t// If the core/editor store is available, we can add permalinks to the\r\n\t// generated table of contents.\r\n\tif ( typeof permalink === 'string' ) {\r\n\t\theadingPageLink = isPaginated\r\n\t\t\t? addQueryArgs( permalink, { page: headingPage } )\r\n\t\t\t: permalink;\r\n\t}\r\n\r\n\tfor ( const blockClientId of allBlockClientIds ) {\r\n\t\tconst blockName = getBlockName( blockClientId );\r\n\t\tif ( blockName === 'core/nextpage' ) {\r\n\t\t\theadingPage++;\r\n\r\n\t\t\t// If we're only including headings from the current page (of\r\n\t\t\t// a paginated post), then exit the loop if we've reached the\r\n\t\t\t// pages after the one with the Table of Contents block.\r\n\t\t\tif ( onlyIncludeCurrentPage && headingPage > tocPage ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof permalink === 'string' ) {\r\n\t\t\t\theadingPageLink = addQueryArgs(\r\n\t\t\t\t\tremoveQueryArgs( permalink, [ 'page' ] ),\r\n\t\t\t\t\t{ page: headingPage }\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If we're including all headings or we've reached headings on\r\n\t\t// the same page as the Table of Contents block, add them to the\r\n\t\t// list.\r\n\t\telse if ( ! onlyIncludeCurrentPage || headingPage === tocPage ) {\r\n\t\t\tif ( blockName === 'core/heading' ) {\r\n\t\t\t\tconst headingAttributes = getBlockAttributes( blockClientId );\r\n\r\n\t\t\t\tconst canBeLinked =\r\n\t\t\t\t\ttypeof headingPageLink === 'string' &&\r\n\t\t\t\t\ttypeof headingAttributes.anchor === 'string' &&\r\n\t\t\t\t\theadingAttributes.anchor !== '';\r\n\r\n\t\t\t\tlatestHeadings.push( {\r\n\t\t\t\t\t// Convert line breaks to spaces, and get rid of HTML tags in the headings.\r\n\t\t\t\t\tcontent: stripHTML(\r\n\t\t\t\t\t\theadingAttributes.content.replace(\r\n\t\t\t\t\t\t\t/(<br *\\/?>)+/g,\r\n\t\t\t\t\t\t\t' '\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t),\r\n\t\t\t\t\tlevel: headingAttributes.level,\r\n\t\t\t\t\tlink: canBeLinked\r\n\t\t\t\t\t\t? `${ headingPageLink }#${ headingAttributes.anchor }`\r\n\t\t\t\t\t\t: null,\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn latestHeadings;\r\n}\r\n\r\nfunction observeCallback( select, dispatch, clientId ) {\r\n\tconst { getBlockAttributes } = select( blockEditorStore );\r\n\tconst { updateBlockAttributes, __unstableMarkNextChangeAsNotPersistent } =\r\n\t\tdispatch( blockEditorStore );\r\n\r\n\t/**\r\n\t * If the block no longer exists in the store, skip the update.\r\n\t * The \"undo\" action recreates the block and provides a new `clientId`.\r\n\t * The hook still might be observing the changes while the old block unmounts.\r\n\t */\r\n\tconst attributes = getBlockAttributes( clientId );\r\n\tif ( attributes === null ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst headings = getLatestHeadings( select, clientId );\r\n\tif ( ! fastDeepEqual( headings, attributes.headings ) ) {\r\n\t\t__unstableMarkNextChangeAsNotPersistent();\r\n\t\tupdateBlockAttributes( clientId, { headings } );\r\n\t}\r\n}\r\n\r\nexport function useObserveHeadings( clientId ) {\r\n\tconst registry = useRegistry();\r\n\tuseEffect( () => {\r\n\t\t// Todo: Limit subscription to block editor store when data no longer depends on `getPermalink`.\r\n\t\t// See: https://github.com/WordPress/gutenberg/pull/45513\r\n\t\treturn registry.subscribe( () =>\r\n\t\t\tobserveCallback( registry.select, registry.dispatch, clientId )\r\n\t\t);\r\n\t}, [ registry, clientId ] );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport TableOfContentsList from './list';\r\nimport { linearToNestedHeadingList } from './utils';\r\n\r\nexport default function save( { attributes: { headings = [] } } ) {\r\n\tif ( headings.length === 0 ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<nav { ...useBlockProps.save() }>\r\n\t\t\t<ol>\r\n\t\t\t\t<TableOfContentsList\r\n\t\t\t\t\tnestedHeadingList={ linearToNestedHeadingList( headings ) }\r\n\t\t\t\t/>\r\n\t\t\t</ol>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/categories' ],\r\n\t\t\ttransform: () => createBlock( 'core/tag-cloud' ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/categories' ],\r\n\t\t\ttransform: () => createBlock( 'core/categories' ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { tag as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport transforms from './transforms';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {},\r\n\tedit,\r\n\ttransforms,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tFlex,\r\n\tFlexItem,\r\n\tPanelBody,\r\n\tToggleControl,\r\n\tSelectControl,\r\n\tRangeControl,\r\n\t__experimentalUnitControl as UnitControl,\r\n\t__experimentalUseCustomUnits as useCustomUnits,\r\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\r\n\tDisabled,\r\n} from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tInspectorControls,\r\n\tuseBlockProps,\r\n\tuseSettings,\r\n} from '@wordpress/block-editor';\r\nimport ServerSideRender from '@wordpress/server-side-render';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/**\r\n * Minimum number of tags a user can show using this block.\r\n *\r\n * @type {number}\r\n */\r\nconst MIN_TAGS = 1;\r\n\r\n/**\r\n * Maximum number of tags a user can show using this block.\r\n *\r\n * @type {number}\r\n */\r\nconst MAX_TAGS = 100;\r\n\r\nconst MIN_FONT_SIZE = 0.1;\r\nconst MAX_FONT_SIZE = 100;\r\n\r\nfunction TagCloudEdit( { attributes, setAttributes } ) {\r\n\tconst {\r\n\t\ttaxonomy,\r\n\t\tshowTagCounts,\r\n\t\tnumberOfTags,\r\n\t\tsmallestFontSize,\r\n\t\tlargestFontSize,\r\n\t} = attributes;\r\n\r\n\tconst [ availableUnits ] = useSettings( 'spacing.units' );\r\n\tconst units = useCustomUnits( {\r\n\t\tavailableUnits: availableUnits || [ '%', 'px', 'em', 'rem' ],\r\n\t} );\r\n\tconst taxonomies = useSelect(\r\n\t\t( select ) => select( coreStore ).getTaxonomies( { per_page: -1 } ),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst getTaxonomyOptions = () => {\r\n\t\tconst selectOption = {\r\n\t\t\tlabel: __( '- Select -' ),\r\n\t\t\tvalue: '',\r\n\t\t\tdisabled: true,\r\n\t\t};\r\n\t\tconst taxonomyOptions = ( taxonomies ?? [] )\r\n\t\t\t.filter( ( tax ) => !! tax.show_cloud )\r\n\t\t\t.map( ( item ) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.slug,\r\n\t\t\t\t\tlabel: item.name,\r\n\t\t\t\t};\r\n\t\t\t} );\r\n\r\n\t\treturn [ selectOption, ...taxonomyOptions ];\r\n\t};\r\n\r\n\tconst onFontSizeChange = ( fontSizeLabel, newValue ) => {\r\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\r\n\t\tconst [ quantity, newUnit ] =\r\n\t\t\tparseQuantityAndUnitFromRawValue( newValue );\r\n\t\tif ( ! Number.isFinite( quantity ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst updateObj = { [ fontSizeLabel ]: newValue };\r\n\t\t// We need to keep in sync the `unit` changes to both `smallestFontSize`\r\n\t\t// and `largestFontSize` attributes.\r\n\t\tObject.entries( {\r\n\t\t\tsmallestFontSize,\r\n\t\t\tlargestFontSize,\r\n\t\t} ).forEach( ( [ attribute, currentValue ] ) => {\r\n\t\t\tconst [ currentQuantity, currentUnit ] =\r\n\t\t\t\tparseQuantityAndUnitFromRawValue( currentValue );\r\n\t\t\t// Only add an update if the other font size attribute has a different unit.\r\n\t\t\tif ( attribute !== fontSizeLabel && currentUnit !== newUnit ) {\r\n\t\t\t\tupdateObj[ attribute ] = `${ currentQuantity }${ newUnit }`;\r\n\t\t\t}\r\n\t\t} );\r\n\t\tsetAttributes( updateObj );\r\n\t};\r\n\r\n\tconst inspectorControls = (\r\n\t\t<InspectorControls>\r\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Taxonomy' ) }\r\n\t\t\t\t\toptions={ getTaxonomyOptions() }\r\n\t\t\t\t\tvalue={ taxonomy }\r\n\t\t\t\t\tonChange={ ( selectedTaxonomy ) =>\r\n\t\t\t\t\t\tsetAttributes( { taxonomy: selectedTaxonomy } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ToggleControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\tlabel={ __( 'Show post counts' ) }\r\n\t\t\t\t\tchecked={ showTagCounts }\r\n\t\t\t\t\tonChange={ () =>\r\n\t\t\t\t\t\tsetAttributes( { showTagCounts: ! showTagCounts } )\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<RangeControl\r\n\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\tlabel={ __( 'Number of tags' ) }\r\n\t\t\t\t\tvalue={ numberOfTags }\r\n\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\tsetAttributes( { numberOfTags: value } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmin={ MIN_TAGS }\r\n\t\t\t\t\tmax={ MAX_TAGS }\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<Flex>\r\n\t\t\t\t\t<FlexItem isBlock>\r\n\t\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\t\tlabel={ __( 'Smallest size' ) }\r\n\t\t\t\t\t\t\tvalue={ smallestFontSize }\r\n\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\tonFontSizeChange( 'smallestFontSize', value );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\t\tmin={ MIN_FONT_SIZE }\r\n\t\t\t\t\t\t\tmax={ MAX_FONT_SIZE }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FlexItem>\r\n\t\t\t\t\t<FlexItem isBlock>\r\n\t\t\t\t\t\t<UnitControl\r\n\t\t\t\t\t\t\tlabel={ __( 'Largest size' ) }\r\n\t\t\t\t\t\t\tvalue={ largestFontSize }\r\n\t\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\t\tonFontSizeChange( 'largestFontSize', value );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tunits={ units }\r\n\t\t\t\t\t\t\tmin={ MIN_FONT_SIZE }\r\n\t\t\t\t\t\t\tmax={ MAX_FONT_SIZE }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FlexItem>\r\n\t\t\t\t</Flex>\r\n\t\t\t</PanelBody>\r\n\t\t</InspectorControls>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ inspectorControls }\r\n\t\t\t<div { ...useBlockProps() }>\r\n\t\t\t\t<Disabled>\r\n\t\t\t\t\t<ServerSideRender\r\n\t\t\t\t\t\tskipBlockSupportAttributes\r\n\t\t\t\t\t\tblock=\"core/tag-cloud\"\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Disabled>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default TagCloudEdit;\r\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * Locale character mapping rules.\n */\ninterface Locale {\n  regexp: RegExp;\n  map: Record<string, string>;\n}\n\n/**\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n */\nconst SUPPORTED_LOCALE: Record<string, Locale> = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      İ: \"\\u0069\",\n      I: \"\\u0131\",\n      İ: \"\\u0069\",\n    },\n  },\n  az: {\n    regexp: /\\u0130/g,\n    map: {\n      İ: \"\\u0069\",\n      I: \"\\u0131\",\n      İ: \"\\u0069\",\n    },\n  },\n  lt: {\n    regexp: /\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,\n    map: {\n      I: \"\\u0069\\u0307\",\n      J: \"\\u006A\\u0307\",\n      Į: \"\\u012F\\u0307\",\n      Ì: \"\\u0069\\u0307\\u0300\",\n      Í: \"\\u0069\\u0307\\u0301\",\n      Ĩ: \"\\u0069\\u0307\\u0303\",\n    },\n  },\n};\n\n/**\n * Localized lower case.\n */\nexport function localeLowerCase(str: string, locale: string) {\n  const lang = SUPPORTED_LOCALE[locale.toLowerCase()];\n  if (lang) return lowerCase(str.replace(lang.regexp, (m) => lang.map[m]));\n  return lowerCase(str);\n}\n\n/**\n * Lower case as a function.\n */\nexport function lowerCase(str: string) {\n  return str.toLowerCase();\n}\n","import { lowerCase } from \"lower-case\";\n\nexport interface Options {\n  splitRegexp?: RegExp | RegExp[];\n  stripRegexp?: RegExp | RegExp[];\n  delimiter?: string;\n  transform?: (part: string, index: number, parts: string[]) => string;\n}\n\n// Support camel case (\"camelCase\" -> \"camel Case\" and \"CAMELCase\" -> \"CAMEL Case\").\nconst DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];\n\n// Remove all non-word characters.\nconst DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;\n\n/**\n * Normalize the string into something other libraries can manipulate easier.\n */\nexport function noCase(input: string, options: Options = {}) {\n  const {\n    splitRegexp = DEFAULT_SPLIT_REGEXP,\n    stripRegexp = DEFAULT_STRIP_REGEXP,\n    transform = lowerCase,\n    delimiter = \" \",\n  } = options;\n\n  let result = replace(\n    replace(input, splitRegexp, \"$1\\0$2\"),\n    stripRegexp,\n    \"\\0\"\n  );\n  let start = 0;\n  let end = result.length;\n\n  // Trim the delimiter from around the output string.\n  while (result.charAt(start) === \"\\0\") start++;\n  while (result.charAt(end - 1) === \"\\0\") end--;\n\n  // Transform each token independently.\n  return result.slice(start, end).split(\"\\0\").map(transform).join(delimiter);\n}\n\n/**\n * Replace `re` in the input string with the replacement value.\n */\nfunction replace(input: string, re: RegExp | RegExp[], value: string) {\n  if (re instanceof RegExp) return input.replace(re, value);\n  return re.reduce((input, re) => input.replace(re, value), input);\n}\n","import { noCase, Options } from \"no-case\";\nimport { upperCaseFirst } from \"upper-case-first\";\n\nexport { Options };\n\nexport function capitalCaseTransform(input: string) {\n  return upperCaseFirst(input.toLowerCase());\n}\n\nexport function capitalCase(input: string, options: Options = {}) {\n  return noCase(input, {\n    delimiter: \" \",\n    transform: capitalCaseTransform,\n    ...options,\n  });\n}\n","/**\n * Upper case the first character of an input string.\n */\nexport function upperCaseFirst(input: string) {\n  return input.charAt(0).toUpperCase() + input.substr(1);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst symbolFilled = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default symbolFilled;\r\n","import { dotCase, Options } from \"dot-case\";\n\nexport { Options };\n\nexport function paramCase(input: string, options: Options = {}) {\n  return dotCase(input, {\n    delimiter: \"-\",\n    ...options,\n  });\n}\n","import { noCase, Options } from \"no-case\";\n\nexport { Options };\n\nexport function dotCase(input: string, options: Options = {}) {\n  return noCase(input, {\n    delimiter: \".\",\n    ...options,\n  });\n}\n","/**\r\n * External dependencies\r\n */\r\nimport { paramCase as kebabCase } from 'change-case';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { useDispatch, useSelect } from '@wordpress/data';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as blockEditorStore } from '@wordpress/block-editor';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { serialize } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { createTemplatePartId } from './create-template-part-id';\r\n\r\n/**\r\n * Retrieves the available template parts for the given area.\r\n *\r\n * @param {string} area       Template part area.\r\n * @param {string} excludedId Template part ID to exclude.\r\n *\r\n * @return {{ templateParts: Array, isResolving: boolean }} array of template parts.\r\n */\r\nexport function useAlternativeTemplateParts( area, excludedId ) {\r\n\tconst { templateParts, isResolving } = useSelect( ( select ) => {\r\n\t\tconst { getEntityRecords, isResolving: _isResolving } =\r\n\t\t\tselect( coreStore );\r\n\t\tconst query = { per_page: -1 };\r\n\t\treturn {\r\n\t\t\ttemplateParts: getEntityRecords(\r\n\t\t\t\t'postType',\r\n\t\t\t\t'wp_template_part',\r\n\t\t\t\tquery\r\n\t\t\t),\r\n\t\t\tisResolving: _isResolving( 'getEntityRecords', [\r\n\t\t\t\t'postType',\r\n\t\t\t\t'wp_template_part',\r\n\t\t\t\tquery,\r\n\t\t\t] ),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst filteredTemplateParts = useMemo( () => {\r\n\t\tif ( ! templateParts ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn (\r\n\t\t\ttemplateParts.filter(\r\n\t\t\t\t( templatePart ) =>\r\n\t\t\t\t\tcreateTemplatePartId(\r\n\t\t\t\t\t\ttemplatePart.theme,\r\n\t\t\t\t\t\ttemplatePart.slug\r\n\t\t\t\t\t) !== excludedId &&\r\n\t\t\t\t\t( ! area ||\r\n\t\t\t\t\t\t'uncategorized' === area ||\r\n\t\t\t\t\t\ttemplatePart.area === area )\r\n\t\t\t) || []\r\n\t\t);\r\n\t}, [ templateParts, area, excludedId ] );\r\n\r\n\treturn {\r\n\t\ttemplateParts: filteredTemplateParts,\r\n\t\tisResolving,\r\n\t};\r\n}\r\n\r\n/**\r\n * Retrieves the available block patterns for the given area.\r\n *\r\n * @param {string} area     Template part area.\r\n * @param {string} clientId Block Client ID. (The container of the block can impact allowed blocks).\r\n *\r\n * @return {Array} array of block patterns.\r\n */\r\nexport function useAlternativeBlockPatterns( area, clientId ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\tconst blockNameWithArea = area\r\n\t\t\t\t? `core/template-part/${ area }`\r\n\t\t\t\t: 'core/template-part';\r\n\t\t\tconst { getBlockRootClientId, getPatternsByBlockTypes } =\r\n\t\t\t\tselect( blockEditorStore );\r\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\r\n\t\t\treturn getPatternsByBlockTypes( blockNameWithArea, rootClientId );\r\n\t\t},\r\n\t\t[ area, clientId ]\r\n\t);\r\n}\r\n\r\nexport function useCreateTemplatePartFromBlocks( area, setAttributes ) {\r\n\tconst { saveEntityRecord } = useDispatch( coreStore );\r\n\r\n\treturn async ( blocks = [], title = __( 'Untitled Template Part' ) ) => {\r\n\t\t// Currently template parts only allow latin chars.\r\n\t\t// Fallback slug will receive suffix by default.\r\n\t\tconst cleanSlug =\r\n\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\r\n\r\n\t\t// If we have `area` set from block attributes, means an exposed\r\n\t\t// block variation was inserted. So add this prop to the template\r\n\t\t// part entity on creation. Afterwards remove `area` value from\r\n\t\t// block attributes.\r\n\t\tconst record = {\r\n\t\t\ttitle,\r\n\t\t\tslug: cleanSlug,\r\n\t\t\tcontent: serialize( blocks ),\r\n\t\t\t// `area` is filterable on the server and defaults to `UNCATEGORIZED`\r\n\t\t\t// if provided value is not allowed.\r\n\t\t\tarea,\r\n\t\t};\r\n\t\tconst templatePart = await saveEntityRecord(\r\n\t\t\t'postType',\r\n\t\t\t'wp_template_part',\r\n\t\t\trecord\r\n\t\t);\r\n\t\tsetAttributes( {\r\n\t\t\tslug: templatePart.slug,\r\n\t\t\ttheme: templatePart.theme,\r\n\t\t\tarea: undefined,\r\n\t\t} );\r\n\t};\r\n}\r\n\r\n/**\r\n * Retrieves the template part area object.\r\n *\r\n * @param {string} area Template part area identifier.\r\n *\r\n * @return {{icon: Object, label: string, tagName: string}} Template Part area.\r\n */\r\nexport function useTemplatePartArea( area ) {\r\n\treturn useSelect(\r\n\t\t( select ) => {\r\n\t\t\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t\t\t// Blocks can be loaded into a *non-post* block editor.\r\n\t\t\t/* eslint-disable @wordpress/data-no-store-string-literals */\r\n\t\t\tconst definedAreas =\r\n\t\t\t\tselect(\r\n\t\t\t\t\t'core/editor'\r\n\t\t\t\t).__experimentalGetDefaultTemplatePartAreas();\r\n\t\t\t/* eslint-enable @wordpress/data-no-store-string-literals */\r\n\r\n\t\t\tconst selectedArea = definedAreas.find(\r\n\t\t\t\t( definedArea ) => definedArea.area === area\r\n\t\t\t);\r\n\t\t\tconst defaultArea = definedAreas.find(\r\n\t\t\t\t( definedArea ) => definedArea.area === 'uncategorized'\r\n\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\ticon: selectedArea?.icon || defaultArea?.icon,\r\n\t\t\t\tlabel: selectedArea?.label || __( 'Template Part' ),\r\n\t\t\t\ttagName: selectedArea?.area_tag ?? 'div',\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ area ]\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useState } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport {\r\n\tTextControl,\r\n\tButton,\r\n\tModal,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\n\r\nexport default function TitleModal( { areaLabel, onClose, onSubmit } ) {\r\n\t// Restructure onCreate to set the blocks on local state.\r\n\t// Add modal to confirm title and trigger onCreate.\r\n\tconst [ title, setTitle ] = useState( __( 'Untitled Template Part' ) );\r\n\r\n\tconst submitForCreation = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tonSubmit( title );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={ sprintf(\r\n\t\t\t\t// Translators: %s as template part area title (\"Header\", \"Footer\", etc.).\r\n\t\t\t\t__( 'Name and create your new %s' ),\r\n\t\t\t\tareaLabel.toLowerCase()\r\n\t\t\t) }\r\n\t\t\toverlayClassName=\"wp-block-template-part__placeholder-create-new__title-form\"\r\n\t\t\tonRequestClose={ onClose }\r\n\t\t>\r\n\t\t\t<form onSubmit={ submitForCreation }>\r\n\t\t\t\t<VStack spacing=\"5\">\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\r\n\t\t\t\t\t\tvalue={ title }\r\n\t\t\t\t\t\tonChange={ setTitle }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<HStack justify=\"right\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={ ! title.length }\r\n\t\t\t\t\t\t\taria-disabled={ ! title.length }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Create' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { Placeholder, Button, Spinner } from '@wordpress/components';\r\nimport { useState } from '@wordpress/element';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tuseAlternativeBlockPatterns,\r\n\tuseAlternativeTemplateParts,\r\n\tuseCreateTemplatePartFromBlocks,\r\n\tuseTemplatePartArea,\r\n} from './utils/hooks';\r\nimport TitleModal from './title-modal';\r\n\r\nexport default function TemplatePartPlaceholder( {\r\n\tarea,\r\n\tclientId,\r\n\ttemplatePartId,\r\n\tonOpenSelectionModal,\r\n\tsetAttributes,\r\n} ) {\r\n\tconst { templateParts, isResolving } = useAlternativeTemplateParts(\r\n\t\tarea,\r\n\t\ttemplatePartId\r\n\t);\r\n\tconst blockPatterns = useAlternativeBlockPatterns( area, clientId );\r\n\tconst [ showTitleModal, setShowTitleModal ] = useState( false );\r\n\tconst areaObject = useTemplatePartArea( area );\r\n\tconst createFromBlocks = useCreateTemplatePartFromBlocks(\r\n\t\tarea,\r\n\t\tsetAttributes\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Placeholder\r\n\t\t\ticon={ areaObject.icon }\r\n\t\t\tlabel={ areaObject.label }\r\n\t\t\tinstructions={ sprintf(\r\n\t\t\t\t// Translators: %s as template part area title (\"Header\", \"Footer\", etc.).\r\n\t\t\t\t__( 'Choose an existing %s or create a new one.' ),\r\n\t\t\t\tareaObject.label.toLowerCase()\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t{ isResolving && <Spinner /> }\r\n\r\n\t\t\t{ ! isResolving &&\r\n\t\t\t\t!! ( templateParts.length || blockPatterns.length ) && (\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={ onOpenSelectionModal }>\r\n\t\t\t\t\t\t{ __( 'Choose' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) }\r\n\r\n\t\t\t{ ! isResolving && (\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\tsetShowTitleModal( true );\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ __( 'Start blank' ) }\r\n\t\t\t\t</Button>\r\n\t\t\t) }\r\n\t\t\t{ showTitleModal && (\r\n\t\t\t\t<TitleModal\r\n\t\t\t\t\tareaLabel={ areaObject.label }\r\n\t\t\t\t\tonClose={ () => setShowTitleModal( false ) }\r\n\t\t\t\t\tonSubmit={ ( title ) => {\r\n\t\t\t\t\t\tcreateFromBlocks( [], title );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</Placeholder>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useDispatch } from '@wordpress/data';\nimport { useAsyncList } from '@wordpress/compose';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport {\n\tSearchControl,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseAlternativeBlockPatterns,\n\tuseAlternativeTemplateParts,\n} from './utils/hooks';\nimport { mapTemplatePartToBlockPattern } from './utils/map-template-part-to-block-pattern';\nimport { searchPatterns } from '../../utils/search-patterns';\n\nexport default function TemplatePartSelectionModal( {\n\tsetAttributes,\n\tonClose,\n\ttemplatePartId = null,\n\tarea,\n\tclientId,\n} ) {\n\tconst [ searchValue, setSearchValue ] = useState( '' );\n\tconst { templateParts } = useAlternativeTemplateParts(\n\t\tarea,\n\t\ttemplatePartId\n\t);\n\n\t// We can map template parts to block patters to reuse the BlockPatternsList UI\n\tconst filteredTemplateParts = useMemo( () => {\n\t\tconst partsAsPatterns = templateParts.map( ( templatePart ) =>\n\t\t\tmapTemplatePartToBlockPattern( templatePart )\n\t\t);\n\n\t\treturn searchPatterns( partsAsPatterns, searchValue );\n\t}, [ templateParts, searchValue ] );\n\tconst shownTemplateParts = useAsyncList( filteredTemplateParts );\n\tconst blockPatterns = useAlternativeBlockPatterns( area, clientId );\n\tconst filteredBlockPatterns = useMemo( () => {\n\t\treturn searchPatterns( blockPatterns, searchValue );\n\t}, [ blockPatterns, searchValue ] );\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onTemplatePartSelect = ( templatePart ) => {\n\t\tsetAttributes( {\n\t\t\tslug: templatePart.slug,\n\t\t\ttheme: templatePart.theme,\n\t\t\tarea: undefined,\n\t\t} );\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: template part title. */\n\t\t\t\t__( 'Template Part \"%s\" inserted.' ),\n\t\t\t\ttemplatePart.title?.rendered || templatePart.slug\n\t\t\t),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t\tonClose();\n\t};\n\n\tconst hasTemplateParts = !! filteredTemplateParts.length;\n\tconst hasBlockPatterns = !! filteredBlockPatterns.length;\n\n\treturn (\n\t\t<div className=\"block-library-template-part__selection-content\">\n\t\t\t<div className=\"block-library-template-part__selection-search\">\n\t\t\t\t<SearchControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tonChange={ setSearchValue }\n\t\t\t\t\tvalue={ searchValue }\n\t\t\t\t\tlabel={ __( 'Search for replacements' ) }\n\t\t\t\t\tplaceholder={ __( 'Search' ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ hasTemplateParts && (\n\t\t\t\t<div>\n\t\t\t\t\t<h2>{ __( 'Existing template parts' ) }</h2>\n\t\t\t\t\t<BlockPatternsList\n\t\t\t\t\t\tblockPatterns={ filteredTemplateParts }\n\t\t\t\t\t\tshownPatterns={ shownTemplateParts }\n\t\t\t\t\t\tonClickPattern={ ( pattern ) => {\n\t\t\t\t\t\t\tonTemplatePartSelect( pattern.templatePart );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ! hasTemplateParts && ! hasBlockPatterns && (\n\t\t\t\t<HStack alignment=\"center\">\n\t\t\t\t\t<p>{ __( 'No results found.' ) }</p>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { parse } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { createTemplatePartId } from './create-template-part-id';\n\n/**\n * This maps the properties of a template part to those of a block pattern.\n * @param {Object} templatePart\n * @return {Object} The template part in the shape of block pattern.\n */\nexport function mapTemplatePartToBlockPattern( templatePart ) {\n\treturn {\n\t\tname: createTemplatePartId( templatePart.theme, templatePart.slug ),\n\t\ttitle: templatePart.title.rendered,\n\t\tblocks: parse( templatePart.content.raw ),\n\t\ttemplatePart,\n\t};\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tparse,\r\n\tcloneBlock,\r\n\tcreateBlock,\r\n\tgetGroupingBlockName,\r\n\tgetPossibleBlockTransformations,\r\n\tswitchToBlockType,\r\n} from '@wordpress/blocks';\r\n\r\n/**\r\n * Converts a widget entity record into a block.\r\n *\r\n * @param {Object} widget The widget entity record.\r\n * @return {Object} a block (converted from the entity record).\r\n */\r\nexport function transformWidgetToBlock( widget ) {\r\n\tif ( widget.id_base !== 'block' ) {\r\n\t\tlet attributes;\r\n\t\tif ( widget._embedded.about[ 0 ].is_multi ) {\r\n\t\t\tattributes = {\r\n\t\t\t\tidBase: widget.id_base,\r\n\t\t\t\tinstance: widget.instance,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tattributes = {\r\n\t\t\t\tid: widget.id,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn switchLegacyWidgetType(\r\n\t\t\tcreateBlock( 'core/legacy-widget', attributes )\r\n\t\t);\r\n\t}\r\n\r\n\tconst parsedBlocks = parse( widget.instance.raw.content, {\r\n\t\t__unstableSkipAutop: true,\r\n\t} );\r\n\r\n\tif ( ! parsedBlocks.length ) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tconst block = parsedBlocks[ 0 ];\r\n\r\n\tif ( block.name === 'core/widget-group' ) {\r\n\t\treturn createBlock(\r\n\t\t\tgetGroupingBlockName(),\r\n\t\t\tundefined,\r\n\t\t\ttransformInnerBlocks( block.innerBlocks )\r\n\t\t);\r\n\t}\r\n\r\n\tif ( block.innerBlocks.length > 0 ) {\r\n\t\treturn cloneBlock(\r\n\t\t\tblock,\r\n\t\t\tundefined,\r\n\t\t\ttransformInnerBlocks( block.innerBlocks )\r\n\t\t);\r\n\t}\r\n\r\n\treturn block;\r\n}\r\n\r\n/**\r\n * Switch Legacy Widget to the first matching transformation block.\r\n *\r\n * @param {Object} block Legacy Widget block object\r\n * @return {Object|undefined} a block\r\n */\r\nfunction switchLegacyWidgetType( block ) {\r\n\tconst transforms = getPossibleBlockTransformations( [ block ] ).filter(\r\n\t\t( item ) => {\r\n\t\t\t// The block without any transformations can't be a wildcard.\r\n\t\t\tif ( ! item.transforms ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tconst hasWildCardFrom = item.transforms?.from?.find(\r\n\t\t\t\t( from ) => from.blocks && from.blocks.includes( '*' )\r\n\t\t\t);\r\n\t\t\tconst hasWildCardTo = item.transforms?.to?.find(\r\n\t\t\t\t( to ) => to.blocks && to.blocks.includes( '*' )\r\n\t\t\t);\r\n\r\n\t\t\t// Skip wildcard transformations.\r\n\t\t\treturn ! hasWildCardFrom && ! hasWildCardTo;\r\n\t\t}\r\n\t);\r\n\r\n\tif ( ! transforms.length ) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\treturn switchToBlockType( block, transforms[ 0 ].name );\r\n}\r\n\r\nfunction transformInnerBlocks( innerBlocks = [] ) {\r\n\treturn innerBlocks\r\n\t\t.flatMap( ( block ) => {\r\n\t\t\tif ( block.name === 'core/legacy-widget' ) {\r\n\t\t\t\treturn switchLegacyWidgetType( block );\r\n\t\t\t}\r\n\r\n\t\t\treturn createBlock(\r\n\t\t\t\tblock.name,\r\n\t\t\t\tblock.attributes,\r\n\t\t\t\ttransformInnerBlocks( block.innerBlocks )\r\n\t\t\t);\r\n\t\t} )\r\n\t\t.filter( ( block ) => !! block );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, _x, sprintf } from '@wordpress/i18n';\r\nimport { useMemo, useState } from '@wordpress/element';\r\nimport { useDispatch, useSelect, useRegistry } from '@wordpress/data';\r\nimport {\r\n\tButton,\r\n\tFlexBlock,\r\n\tFlexItem,\r\n\tSelectControl,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalSpacer as Spacer,\r\n} from '@wordpress/components';\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { store as noticesStore } from '@wordpress/notices';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { useCreateTemplatePartFromBlocks } from './utils/hooks';\r\nimport { transformWidgetToBlock } from './utils/transformers';\r\n\r\nconst SIDEBARS_QUERY = {\r\n\tper_page: -1,\r\n\t_fields: 'id,name,description,status,widgets',\r\n};\r\n\r\nexport function TemplatePartImportControls( { area, setAttributes } ) {\r\n\tconst [ selectedSidebar, setSelectedSidebar ] = useState( '' );\r\n\tconst [ isBusy, setIsBusy ] = useState( false );\r\n\r\n\tconst registry = useRegistry();\r\n\tconst { sidebars, hasResolved } = useSelect( ( select ) => {\r\n\t\tconst { getSidebars, hasFinishedResolution } = select( coreStore );\r\n\r\n\t\treturn {\r\n\t\t\tsidebars: getSidebars( SIDEBARS_QUERY ),\r\n\t\t\thasResolved: hasFinishedResolution( 'getSidebars', [\r\n\t\t\t\tSIDEBARS_QUERY,\r\n\t\t\t] ),\r\n\t\t};\r\n\t}, [] );\r\n\tconst { createErrorNotice } = useDispatch( noticesStore );\r\n\r\n\tconst createFromBlocks = useCreateTemplatePartFromBlocks(\r\n\t\tarea,\r\n\t\tsetAttributes\r\n\t);\r\n\r\n\tconst options = useMemo( () => {\r\n\t\tconst sidebarOptions = ( sidebars ?? [] )\r\n\t\t\t.filter(\r\n\t\t\t\t( widgetArea ) =>\r\n\t\t\t\t\twidgetArea.id !== 'wp_inactive_widgets' &&\r\n\t\t\t\t\twidgetArea.widgets.length > 0\r\n\t\t\t)\r\n\t\t\t.map( ( widgetArea ) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: widgetArea.id,\r\n\t\t\t\t\tlabel: widgetArea.name,\r\n\t\t\t\t};\r\n\t\t\t} );\r\n\r\n\t\tif ( ! sidebarOptions.length ) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{ value: '', label: __( 'Select widget area' ) },\r\n\t\t\t...sidebarOptions,\r\n\t\t];\r\n\t}, [ sidebars ] );\r\n\r\n\t// Render an empty node while data is loading to avoid SlotFill re-positioning bug.\r\n\t// See: https://github.com/WordPress/gutenberg/issues/15641.\r\n\tif ( ! hasResolved ) {\r\n\t\treturn <Spacer marginBottom=\"0\" />;\r\n\t}\r\n\r\n\tif ( hasResolved && ! options.length ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tasync function createFromWidgets( event ) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( isBusy || ! selectedSidebar ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsBusy( true );\r\n\r\n\t\tconst sidebar = options.find(\r\n\t\t\t( { value } ) => value === selectedSidebar\r\n\t\t);\r\n\t\tconst { getWidgets } = registry.resolveSelect( coreStore );\r\n\r\n\t\t// The widgets API always returns a successful response.\r\n\t\tconst widgets = await getWidgets( {\r\n\t\t\tsidebar: sidebar.value,\r\n\t\t\t_embed: 'about',\r\n\t\t} );\r\n\r\n\t\tconst skippedWidgets = new Set();\r\n\t\tconst blocks = widgets.flatMap( ( widget ) => {\r\n\t\t\tconst block = transformWidgetToBlock( widget );\r\n\r\n\t\t\t// Skip the block if we have no matching transformations.\r\n\t\t\tif ( ! block ) {\r\n\t\t\t\tskippedWidgets.add( widget.id_base );\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\r\n\t\t\treturn block;\r\n\t\t} );\r\n\r\n\t\tawait createFromBlocks(\r\n\t\t\tblocks,\r\n\t\t\t/* translators: %s: name of the widget area */\r\n\t\t\tsprintf( __( 'Widget area: %s' ), sidebar.label )\r\n\t\t);\r\n\r\n\t\tif ( skippedWidgets.size ) {\r\n\t\t\tcreateErrorNotice(\r\n\t\t\t\tsprintf(\r\n\t\t\t\t\t/* translators: %s: the list of widgets */\r\n\t\t\t\t\t__( 'Unable to import the following widgets: %s.' ),\r\n\t\t\t\t\tArray.from( skippedWidgets ).join( ', ' )\r\n\t\t\t\t),\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'snackbar',\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetIsBusy( false );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spacer marginBottom=\"4\">\r\n\t\t\t<HStack as=\"form\" onSubmit={ createFromWidgets }>\r\n\t\t\t\t<FlexBlock>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={ __( 'Import widget area' ) }\r\n\t\t\t\t\t\tvalue={ selectedSidebar }\r\n\t\t\t\t\t\toptions={ options }\r\n\t\t\t\t\t\tonChange={ ( value ) => setSelectedSidebar( value ) }\r\n\t\t\t\t\t\tdisabled={ ! options.length }\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FlexBlock>\r\n\t\t\t\t<FlexItem\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\tmarginBottom: '8px',\r\n\t\t\t\t\t\tmarginTop: 'auto',\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tisBusy={ isBusy }\r\n\t\t\t\t\t\taria-disabled={ isBusy || ! selectedSidebar }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ _x( 'Import', 'button label' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</FlexItem>\r\n\t\t\t</HStack>\r\n\t\t</Spacer>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { SelectControl, TextControl } from '@wordpress/components';\r\nimport { sprintf, __ } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport { TemplatePartImportControls } from './import-controls';\r\n\r\nconst htmlElementMessages = {\r\n\theader: __(\r\n\t\t'The <header> element should represent introductory content, typically a group of introductory or navigational aids.'\r\n\t),\r\n\tmain: __(\r\n\t\t'The <main> element should be used for the primary content of your document only.'\r\n\t),\r\n\tsection: __(\r\n\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\r\n\t),\r\n\tarticle: __(\r\n\t\t'The <article> element should represent a self-contained, syndicatable portion of the document.'\r\n\t),\r\n\taside: __(\r\n\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\r\n\t),\r\n\tfooter: __(\r\n\t\t'The <footer> element should represent a footer for its nearest sectioning element (e.g.: <section>, <article>, <main> etc.).'\r\n\t),\r\n};\r\n\r\nexport function TemplatePartAdvancedControls( {\r\n\ttagName,\r\n\tsetAttributes,\r\n\tisEntityAvailable,\r\n\ttemplatePartId,\r\n\tdefaultWrapper,\r\n\thasInnerBlocks,\r\n} ) {\r\n\tconst [ area, setArea ] = useEntityProp(\r\n\t\t'postType',\r\n\t\t'wp_template_part',\r\n\t\t'area',\r\n\t\ttemplatePartId\r\n\t);\r\n\r\n\tconst [ title, setTitle ] = useEntityProp(\r\n\t\t'postType',\r\n\t\t'wp_template_part',\r\n\t\t'title',\r\n\t\ttemplatePartId\r\n\t);\r\n\r\n\tconst definedAreas = useSelect( ( select ) => {\r\n\t\t// FIXME: @wordpress/block-library should not depend on @wordpress/editor.\r\n\t\t// Blocks can be loaded into a *non-post* block editor.\r\n\t\t/* eslint-disable-next-line @wordpress/data-no-store-string-literals */\r\n\t\treturn select(\r\n\t\t\t'core/editor'\r\n\t\t).__experimentalGetDefaultTemplatePartAreas();\r\n\t}, [] );\r\n\r\n\tconst areaOptions = definedAreas.map( ( { label, area: _area } ) => ( {\r\n\t\tlabel,\r\n\t\tvalue: _area,\r\n\t} ) );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ isEntityAvailable && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Title' ) }\r\n\t\t\t\t\t\tvalue={ title }\r\n\t\t\t\t\t\tonChange={ ( value ) => {\r\n\t\t\t\t\t\t\tsetTitle( value );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonFocus={ ( event ) => event.target.select() }\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tlabel={ __( 'Area' ) }\r\n\t\t\t\t\t\tlabelPosition=\"top\"\r\n\t\t\t\t\t\toptions={ areaOptions }\r\n\t\t\t\t\t\tvalue={ area }\r\n\t\t\t\t\t\tonChange={ setArea }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t) }\r\n\t\t\t<SelectControl\r\n\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\tlabel={ __( 'HTML element' ) }\r\n\t\t\t\toptions={ [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: sprintf(\r\n\t\t\t\t\t\t\t/* translators: %s: HTML tag based on area. */\r\n\t\t\t\t\t\t\t__( 'Default based on area (%s)' ),\r\n\t\t\t\t\t\t\t`<${ defaultWrapper }>`\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ label: '<header>', value: 'header' },\r\n\t\t\t\t\t{ label: '<main>', value: 'main' },\r\n\t\t\t\t\t{ label: '<section>', value: 'section' },\r\n\t\t\t\t\t{ label: '<article>', value: 'article' },\r\n\t\t\t\t\t{ label: '<aside>', value: 'aside' },\r\n\t\t\t\t\t{ label: '<footer>', value: 'footer' },\r\n\t\t\t\t\t{ label: '<div>', value: 'div' },\r\n\t\t\t\t] }\r\n\t\t\t\tvalue={ tagName || '' }\r\n\t\t\t\tonChange={ ( value ) => setAttributes( { tagName: value } ) }\r\n\t\t\t\thelp={ htmlElementMessages[ tagName ] }\r\n\t\t\t/>\r\n\t\t\t{ ! hasInnerBlocks && (\r\n\t\t\t\t<TemplatePartImportControls\r\n\t\t\t\t\tarea={ area }\r\n\t\t\t\t\tsetAttributes={ setAttributes }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport { useEntityBlockEditor, store as coreStore } from '@wordpress/core-data';\nimport {\n\tInnerBlocks,\n\tuseInnerBlocksProps,\n\tuseSettings,\n\tstore as blockEditorStore,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { parse } from '@wordpress/blocks';\n\nfunction useRenderAppender( hasInnerBlocks ) {\n\tconst blockEditingMode = useBlockEditingMode();\n\t// Disable appending when the editing mode is 'contentOnly'. This is so that the user can't\n\t// append into a template part when editing a page in the site editor. See\n\t// DisableNonPageContentBlocks. Ideally instead of (mis)using editing mode there would be a\n\t// block editor API for achieving this.\n\tif ( blockEditingMode === 'contentOnly' ) {\n\t\treturn false;\n\t}\n\tif ( ! hasInnerBlocks ) {\n\t\treturn InnerBlocks.ButtonBlockAppender;\n\t}\n}\n\nfunction useLayout( layout ) {\n\tconst themeSupportsLayout = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn getSettings()?.supportsLayout;\n\t}, [] );\n\tconst [ defaultLayout ] = useSettings( 'layout' );\n\tif ( themeSupportsLayout ) {\n\t\treturn layout?.inherit ? defaultLayout || {} : layout;\n\t}\n}\n\nfunction NonEditableTemplatePartPreview( {\n\tpostId: id,\n\tlayout,\n\ttagName: TagName,\n\tblockProps,\n} ) {\n\tuseBlockEditingMode( 'disabled' );\n\n\tconst { content, editedBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( ! id ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst editedRecord = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\tid,\n\t\t\t\t{ context: 'view' }\n\t\t\t);\n\t\t\treturn {\n\t\t\t\teditedBlocks: editedRecord.blocks,\n\t\t\t\tcontent: editedRecord.content,\n\t\t\t};\n\t\t},\n\t\t[ id ]\n\t);\n\n\tconst blocks = useMemo( () => {\n\t\tif ( ! id ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif ( editedBlocks ) {\n\t\t\treturn editedBlocks;\n\t\t}\n\n\t\tif ( ! content || typeof content !== 'string' ) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn parse( content );\n\t}, [ id, editedBlocks, content ] );\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tvalue: blocks,\n\t\tonInput: () => {},\n\t\tonChange: () => {},\n\t\trenderAppender: false,\n\t\tlayout: useLayout( layout ),\n\t} );\n\n\treturn <TagName { ...innerBlocksProps } />;\n}\n\nfunction EditableTemplatePartInnerBlocks( {\n\tpostId: id,\n\thasInnerBlocks,\n\tlayout,\n\ttagName: TagName,\n\tblockProps,\n} ) {\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\t'wp_template_part',\n\t\t{ id }\n\t);\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tvalue: blocks,\n\t\tonInput,\n\t\tonChange,\n\t\trenderAppender: useRenderAppender( hasInnerBlocks ),\n\t\tlayout: useLayout( layout ),\n\t} );\n\n\treturn <TagName { ...innerBlocksProps } />;\n}\n\nexport default function TemplatePartInnerBlocks( {\n\tpostId: id,\n\thasInnerBlocks,\n\tlayout,\n\ttagName: TagName,\n\tblockProps,\n} ) {\n\tconst { canViewTemplatePart, canEditTemplatePart } = useSelect(\n\t\t( select ) => {\n\t\t\treturn {\n\t\t\t\tcanViewTemplatePart:\n\t\t\t\t\tselect( coreStore ).canUser( 'read', 'templates' ) ?? false,\n\t\t\t\tcanEditTemplatePart:\n\t\t\t\t\tselect( coreStore ).canUser( 'create', 'templates' ) ??\n\t\t\t\t\tfalse,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tif ( ! canViewTemplatePart ) {\n\t\treturn null;\n\t}\n\n\tconst TemplatePartInnerBlocksComponent = canEditTemplatePart\n\t\t? EditableTemplatePartInnerBlocks\n\t\t: NonEditableTemplatePartPreview;\n\n\treturn (\n\t\t<TemplatePartInnerBlocksComponent\n\t\t\tpostId={ id }\n\t\t\thasInnerBlocks={ hasInnerBlocks }\n\t\t\tlayout={ layout }\n\t\t\ttagName={ TagName }\n\t\t\tblockProps={ blockProps }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { serialize } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tuseBlockProps,\n\tWarning,\n\tstore as blockEditorStore,\n\tRecursionProvider,\n\tuseHasRecursion,\n\tInspectorControls,\n\t__experimentalBlockPatternsList as BlockPatternsList,\n\tBlockControls,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tSpinner,\n\tModal,\n\tMenuItem,\n\tToolbarButton,\n} from '@wordpress/components';\nimport { useAsyncList } from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport TemplatePartPlaceholder from './placeholder';\nimport TemplatePartSelectionModal from './selection-modal';\nimport { TemplatePartAdvancedControls } from './advanced-controls';\nimport TemplatePartInnerBlocks from './inner-blocks';\nimport { createTemplatePartId } from './utils/create-template-part-id';\nimport {\n\tuseAlternativeBlockPatterns,\n\tuseAlternativeTemplateParts,\n\tuseTemplatePartArea,\n} from './utils/hooks';\n\nfunction ReplaceButton( {\n\tisEntityAvailable,\n\tarea,\n\ttemplatePartId,\n\tisTemplatePartSelectionOpen,\n\tsetIsTemplatePartSelectionOpen,\n} ) {\n\t// This hook fetches patterns, so don't run it unconditionally in the main\n\t// edit function!\n\tconst { templateParts } = useAlternativeTemplateParts(\n\t\tarea,\n\t\ttemplatePartId\n\t);\n\tconst hasReplacements = !! templateParts.length;\n\tconst canReplace =\n\t\tisEntityAvailable &&\n\t\thasReplacements &&\n\t\t( area === 'header' || area === 'footer' );\n\n\tif ( ! canReplace ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\tsetIsTemplatePartSelectionOpen( true );\n\t\t\t} }\n\t\t\taria-expanded={ isTemplatePartSelectionOpen }\n\t\t\taria-haspopup=\"dialog\"\n\t\t>\n\t\t\t{ __( 'Replace' ) }\n\t\t</MenuItem>\n\t);\n}\n\nfunction TemplatesList( { area, clientId, isEntityAvailable, onSelect } ) {\n\t// This hook fetches patterns, so don't run it unconditionally in the main\n\t// edit function!\n\tconst blockPatterns = useAlternativeBlockPatterns( area, clientId );\n\tconst canReplace =\n\t\tisEntityAvailable &&\n\t\t!! blockPatterns.length &&\n\t\t( area === 'header' || area === 'footer' );\n\tconst shownTemplates = useAsyncList( blockPatterns );\n\n\tif ( ! canReplace ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Design' ) }>\n\t\t\t<BlockPatternsList\n\t\t\t\tlabel={ __( 'Templates' ) }\n\t\t\t\tblockPatterns={ blockPatterns }\n\t\t\t\tshownPatterns={ shownTemplates }\n\t\t\t\tonClickPattern={ onSelect }\n\t\t\t\tshowTitle={ false }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n\nexport default function TemplatePartEdit( {\n\tattributes,\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst currentTheme = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme()?.stylesheet,\n\t\t[]\n\t);\n\tconst { slug, theme = currentTheme, tagName, layout = {} } = attributes;\n\tconst templatePartId = createTemplatePartId( theme, slug );\n\tconst hasAlreadyRendered = useHasRecursion( templatePartId );\n\tconst [ isTemplatePartSelectionOpen, setIsTemplatePartSelectionOpen ] =\n\t\tuseState( false );\n\n\tconst {\n\t\tisResolved,\n\t\thasInnerBlocks,\n\t\tisMissing,\n\t\tarea,\n\t\tonNavigateToEntityRecord,\n\t\ttitle,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst { getBlockCount, getSettings } = select( blockEditorStore );\n\n\t\t\tconst getEntityArgs = [\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\ttemplatePartId,\n\t\t\t];\n\t\t\tconst entityRecord = templatePartId\n\t\t\t\t? getEditedEntityRecord( ...getEntityArgs )\n\t\t\t\t: null;\n\t\t\tconst _area = entityRecord?.area || attributes.area;\n\t\t\tconst hasResolvedEntity = templatePartId\n\t\t\t\t? hasFinishedResolution(\n\t\t\t\t\t\t'getEditedEntityRecord',\n\t\t\t\t\t\tgetEntityArgs\n\t\t\t\t  )\n\t\t\t\t: false;\n\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: getBlockCount( clientId ) > 0,\n\t\t\t\tisResolved: hasResolvedEntity,\n\t\t\t\tisMissing:\n\t\t\t\t\thasResolvedEntity &&\n\t\t\t\t\t( ! entityRecord ||\n\t\t\t\t\t\tObject.keys( entityRecord ).length === 0 ),\n\t\t\t\tarea: _area,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\tgetSettings().onNavigateToEntityRecord,\n\t\t\t\ttitle: entityRecord?.title,\n\t\t\t};\n\t\t},\n\t\t[ templatePartId, attributes.area, clientId ]\n\t);\n\n\tconst areaObject = useTemplatePartArea( area );\n\tconst blockProps = useBlockProps();\n\tconst isPlaceholder = ! slug;\n\tconst isEntityAvailable = ! isPlaceholder && ! isMissing && isResolved;\n\tconst TagName = tagName || areaObject.tagName;\n\n\tconst onPatternSelect = async ( pattern ) => {\n\t\tawait editEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\ttemplatePartId,\n\t\t\t{\n\t\t\t\tblocks: pattern.blocks,\n\t\t\t\tcontent: serialize( pattern.blocks ),\n\t\t\t}\n\t\t);\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: template part title. */\n\t\t\t\t__( 'Template Part \"%s\" updated.' ),\n\t\t\t\ttitle || slug\n\t\t\t),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t};\n\n\t// We don't want to render a missing state if we have any inner blocks.\n\t// A new template part is automatically created if we have any inner blocks but no entity.\n\tif (\n\t\t! hasInnerBlocks &&\n\t\t( ( slug && ! theme ) || ( slug && isMissing ) )\n\t) {\n\t\treturn (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<Warning>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: Template part slug */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Template part has been deleted or is unavailable: %s'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tslug\n\t\t\t\t\t) }\n\t\t\t\t</Warning>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\tif ( isEntityAvailable && hasAlreadyRendered ) {\n\t\treturn (\n\t\t\t<TagName { ...blockProps }>\n\t\t\t\t<Warning>\n\t\t\t\t\t{ __( 'Block cannot be rendered inside itself.' ) }\n\t\t\t\t</Warning>\n\t\t\t</TagName>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<RecursionProvider uniqueId={ templatePartId }>\n\t\t\t\t{ isEntityAvailable && onNavigateToEntityRecord && (\n\t\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\t\t\tpostId: templatePartId,\n\t\t\t\t\t\t\t\t\tpostType: 'wp_template_part',\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t\t<TemplatePartAdvancedControls\n\t\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tisEntityAvailable={ isEntityAvailable }\n\t\t\t\t\t\ttemplatePartId={ templatePartId }\n\t\t\t\t\t\tdefaultWrapper={ areaObject.tagName }\n\t\t\t\t\t\thasInnerBlocks={ hasInnerBlocks }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t\t{ isPlaceholder && (\n\t\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t\t<TemplatePartPlaceholder\n\t\t\t\t\t\t\tarea={ attributes.area }\n\t\t\t\t\t\t\ttemplatePartId={ templatePartId }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\tonOpenSelectionModal={ () =>\n\t\t\t\t\t\t\t\tsetIsTemplatePartSelectionOpen( true )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TagName>\n\t\t\t\t) }\n\t\t\t\t<BlockSettingsMenuControls>\n\t\t\t\t\t{ ( { selectedClientIds } ) => {\n\t\t\t\t\t\t// Only enable for single selection that matches the current block.\n\t\t\t\t\t\t// Ensures menu item doesn't render multiple times.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! (\n\t\t\t\t\t\t\t\tselectedClientIds.length === 1 &&\n\t\t\t\t\t\t\t\tclientId === selectedClientIds[ 0 ]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ReplaceButton\n\t\t\t\t\t\t\t\t{ ...{\n\t\t\t\t\t\t\t\t\tisEntityAvailable,\n\t\t\t\t\t\t\t\t\tarea,\n\t\t\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\t\t\ttemplatePartId,\n\t\t\t\t\t\t\t\t\tisTemplatePartSelectionOpen,\n\t\t\t\t\t\t\t\t\tsetIsTemplatePartSelectionOpen,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t</BlockSettingsMenuControls>\n\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<TemplatesList\n\t\t\t\t\t\tarea={ area }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\tisEntityAvailable={ isEntityAvailable }\n\t\t\t\t\t\tonSelect={ ( pattern ) => onPatternSelect( pattern ) }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t{ isEntityAvailable && (\n\t\t\t\t\t<TemplatePartInnerBlocks\n\t\t\t\t\t\ttagName={ TagName }\n\t\t\t\t\t\tblockProps={ blockProps }\n\t\t\t\t\t\tpostId={ templatePartId }\n\t\t\t\t\t\thasInnerBlocks={ hasInnerBlocks }\n\t\t\t\t\t\tlayout={ layout }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! isPlaceholder && ! isResolved && (\n\t\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</TagName>\n\t\t\t\t) }\n\t\t\t</RecursionProvider>\n\t\t\t{ isTemplatePartSelectionOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\toverlayClassName=\"block-editor-template-part__selection-modal\"\n\t\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t\t// Translators: %s as template part area title (\"Header\", \"Footer\", etc.).\n\t\t\t\t\t\t__( 'Choose a %s' ),\n\t\t\t\t\t\tareaObject.label.toLowerCase()\n\t\t\t\t\t) }\n\t\t\t\t\tonRequestClose={ () =>\n\t\t\t\t\t\tsetIsTemplatePartSelectionOpen( false )\n\t\t\t\t\t}\n\t\t\t\t\tisFullScreen\n\t\t\t\t>\n\t\t\t\t\t<TemplatePartSelectionModal\n\t\t\t\t\t\ttemplatePartId={ templatePartId }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\tarea={ area }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tonClose={ () =>\n\t\t\t\t\t\t\tsetIsTemplatePartSelectionOpen( false )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst header = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default header;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst footer = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\td=\"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\"\r\n\t\t/>\r\n\t</SVG>\r\n);\r\n\r\nexport default footer;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst sidebar = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default sidebar;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { store as coreDataStore } from '@wordpress/core-data';\r\nimport { select } from '@wordpress/data';\r\nimport {\r\n\theader as headerIcon,\r\n\tfooter as footerIcon,\r\n\tsidebar as sidebarIcon,\r\n\tsymbolFilled as symbolFilledIcon,\r\n} from '@wordpress/icons';\r\n\r\nfunction getTemplatePartIcon( iconName ) {\r\n\tif ( 'header' === iconName ) {\r\n\t\treturn headerIcon;\r\n\t} else if ( 'footer' === iconName ) {\r\n\t\treturn footerIcon;\r\n\t} else if ( 'sidebar' === iconName ) {\r\n\t\treturn sidebarIcon;\r\n\t}\r\n\treturn symbolFilledIcon;\r\n}\r\n\r\nexport function enhanceTemplatePartVariations( settings, name ) {\r\n\tif ( name !== 'core/template-part' ) {\r\n\t\treturn settings;\r\n\t}\r\n\r\n\tif ( settings.variations ) {\r\n\t\tconst isActive = ( blockAttributes, variationAttributes ) => {\r\n\t\t\tconst { area, theme, slug } = blockAttributes;\r\n\t\t\t// We first check the `area` block attribute which is set during insertion.\r\n\t\t\t// This property is removed on the creation of a template part.\r\n\t\t\tif ( area ) return area === variationAttributes.area;\r\n\t\t\t// Find a matching variation from the created template part\r\n\t\t\t// by checking the entity's `area` property.\r\n\t\t\tif ( ! slug ) return false;\r\n\t\t\tconst { getCurrentTheme, getEntityRecord } =\r\n\t\t\t\tselect( coreDataStore );\r\n\t\t\tconst entity = getEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\t'wp_template_part',\r\n\t\t\t\t`${ theme || getCurrentTheme()?.stylesheet }//${ slug }`\r\n\t\t\t);\r\n\r\n\t\t\tif ( entity?.slug ) {\r\n\t\t\t\treturn entity.slug === variationAttributes.slug;\r\n\t\t\t}\r\n\t\t\treturn entity?.area === variationAttributes.area;\r\n\t\t};\r\n\r\n\t\tconst variations = settings.variations.map( ( variation ) => {\r\n\t\t\treturn {\r\n\t\t\t\t...variation,\r\n\t\t\t\t...( ! variation.isActive && { isActive } ),\r\n\t\t\t\t...( typeof variation.icon === 'string' && {\r\n\t\t\t\t\ticon: getTemplatePartIcon( variation.icon ),\r\n\t\t\t\t} ),\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\treturn {\r\n\t\t\t...settings,\r\n\t\t\tvariations,\r\n\t\t};\r\n\t}\r\n\treturn settings;\r\n}\r\n","/**\n * External dependencies\n */\nimport { capitalCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { select } from '@wordpress/data';\nimport { symbolFilled } from '@wordpress/icons';\nimport { addFilter } from '@wordpress/hooks';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport metadata from './block.json';\nimport edit from './edit';\nimport { enhanceTemplatePartVariations } from './variations';\n\nconst { name } = metadata;\nexport { metadata, name };\n\nexport const settings = {\n\ticon: symbolFilled,\n\t__experimentalLabel: ( { slug, theme } ) => {\n\t\t// Attempt to find entity title if block is a template part.\n\t\t// Require slug to request, otherwise entity is uncreated and will throw 404.\n\t\tif ( ! slug ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { getCurrentTheme, getEditedEntityRecord } =\n\t\t\tselect( coreDataStore );\n\t\tconst entity = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t( theme || getCurrentTheme()?.stylesheet ) + '//' + slug\n\t\t);\n\t\tif ( ! entity ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn (\n\t\t\tdecodeEntities( entity.title ) || capitalCase( entity.slug || '' )\n\t\t);\n\t},\n\tedit,\n};\n\nexport const init = () => {\n\taddFilter(\n\t\t'blocks.registerBlockType',\n\t\t'core/template-part',\n\t\tenhanceTemplatePartVariations\n\t);\n\n\t// Prevent adding template parts inside post templates.\n\tconst DISALLOWED_PARENTS = [ 'core/post-template', 'core/post-content' ];\n\taddFilter(\n\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t'core/block-library/removeTemplatePartsFromPostTemplates',\n\t\t(\n\t\t\tcanInsert,\n\t\t\tblockType,\n\t\t\trootClientId,\n\t\t\t{ getBlock, getBlockParentsByBlockName }\n\t\t) => {\n\t\t\tif ( blockType.name !== 'core/template-part' ) {\n\t\t\t\treturn canInsert;\n\t\t\t}\n\n\t\t\tfor ( const disallowedParentType of DISALLOWED_PARENTS ) {\n\t\t\t\tconst hasDisallowedParent =\n\t\t\t\t\tgetBlock( rootClientId )?.name === disallowedParentType ||\n\t\t\t\t\tgetBlockParentsByBlockName(\n\t\t\t\t\t\trootClientId,\n\t\t\t\t\t\tdisallowedParentType\n\t\t\t\t\t).length;\n\t\t\t\tif ( hasDisallowedParent ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t);\n\n\treturn initBlock( { name, metadata, settings } );\n};\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { SVG, Path } from '@wordpress/primitives';\r\n\r\nconst tag = (\r\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n\t\t<Path d=\"M6.08 10.103h2.914L9.657 12h1.417L8.23 4H6.846L4 12h1.417l.663-1.897Zm1.463-4.137.994 2.857h-2l1.006-2.857ZM11 16H4v-1.5h7V16Zm1 0h8v-1.5h-8V16Zm-4 4H4v-1.5h4V20Zm7-1.5V20H9v-1.5h6Z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default tag;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { termDescription as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport metadata from './block.json';\r\nimport edit from './edit';\r\n\r\nconst { name } = metadata;\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tuseBlockProps,\r\n\tBlockControls,\r\n\tAlignmentControl,\r\n} from '@wordpress/block-editor';\r\n\r\nexport default function TermDescriptionEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tmergedStyle,\r\n} ) {\r\n\tconst { textAlign } = attributes;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t\tstyle: mergedStyle,\r\n\t} );\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls group=\"block\">\r\n\t\t\t\t<AlignmentControl\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<div className=\"wp-block-term-description__placeholder\">\r\n\t\t\t\t\t<span>{ __( 'Term Description' ) }</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/columns' ],\r\n\t\t\ttransform: ( { className, columns, content, width } ) =>\r\n\t\t\t\tcreateBlock(\r\n\t\t\t\t\t'core/columns',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\talign:\r\n\t\t\t\t\t\t\t'wide' === width || 'full' === width\r\n\t\t\t\t\t\t\t\t? width\r\n\t\t\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\tcolumns,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcontent.map( ( { children } ) =>\r\n\t\t\t\t\t\tcreateBlock( 'core/column', {}, [\r\n\t\t\t\t\t\t\tcreateBlock( 'core/paragraph', {\r\n\t\t\t\t\t\t\t\tcontent: children,\r\n\t\t\t\t\t\t\t} ),\r\n\t\t\t\t\t\t] )\r\n\t\t\t\t\t)\r\n\t\t\t\t),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ttransforms,\r\n\tgetEditWrapperProps( attributes ) {\r\n\t\tconst { width } = attributes;\r\n\t\tif ( 'wide' === width || 'full' === width ) {\r\n\t\t\treturn { 'data-align': width };\r\n\t\t}\r\n\t},\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { PanelBody, RangeControl } from '@wordpress/components';\r\nimport {\r\n\tBlockControls,\r\n\tBlockAlignmentToolbar,\r\n\tInspectorControls,\r\n\tRichText,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport deprecated from '@wordpress/deprecated';\r\n\r\nexport default function TextColumnsEdit( { attributes, setAttributes } ) {\r\n\tconst { width, content, columns } = attributes;\r\n\r\n\tdeprecated( 'The Text Columns block', {\r\n\t\tsince: '5.3',\r\n\t\talternative: 'the Columns block',\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<BlockAlignmentToolbar\r\n\t\t\t\t\tvalue={ width }\r\n\t\t\t\t\tonChange={ ( nextWidth ) =>\r\n\t\t\t\t\t\tsetAttributes( { width: nextWidth } )\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontrols={ [ 'center', 'wide', 'full' ] }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody>\r\n\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t__next40pxDefaultSize\r\n\t\t\t\t\t\tlabel={ __( 'Columns' ) }\r\n\t\t\t\t\t\tvalue={ columns }\r\n\t\t\t\t\t\tonChange={ ( value ) =>\r\n\t\t\t\t\t\t\tsetAttributes( { columns: value } )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmin={ 2 }\r\n\t\t\t\t\t\tmax={ 4 }\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div\r\n\t\t\t\t{ ...useBlockProps( {\r\n\t\t\t\t\tclassName: `align${ width } columns-${ columns }`,\r\n\t\t\t\t} ) }\r\n\t\t\t>\r\n\t\t\t\t{ Array.from( { length: columns } ).map( ( _, index ) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"wp-block-column\"\r\n\t\t\t\t\t\t\tkey={ `column-${ index }` }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RichText\r\n\t\t\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\t\t\tvalue={ content?.[ index ]?.children }\r\n\t\t\t\t\t\t\t\tonChange={ ( nextContent ) => {\r\n\t\t\t\t\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\t\t\t\t\tcontent: [\r\n\t\t\t\t\t\t\t\t\t\t\t...content.slice( 0, index ),\r\n\t\t\t\t\t\t\t\t\t\t\t{ children: nextContent },\r\n\t\t\t\t\t\t\t\t\t\t\t...content.slice( index + 1 ),\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t\t\t\t// translators: %d: column index (starting with 1)\r\n\t\t\t\t\t\t\t\t\t__( 'Column %d text' ),\r\n\t\t\t\t\t\t\t\t\tindex + 1\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\tplaceholder={ __( 'New Column' ) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { width, content, columns } = attributes;\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...useBlockProps.save( {\r\n\t\t\t\tclassName: `align${ width } columns-${ columns }`,\r\n\t\t\t} ) }\r\n\t\t>\r\n\t\t\t{ Array.from( { length: columns } ).map( ( _, index ) => (\r\n\t\t\t\t<div className=\"wp-block-column\" key={ `column-${ index }` }>\r\n\t\t\t\t\t<RichText.Content\r\n\t\t\t\t\t\ttagName=\"p\"\r\n\t\t\t\t\t\tvalue={ content?.[ index ]?.children }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) ) }\r\n\t\t</div>\r\n\t);\r\n}\r\n","/**\n * Returns a column width attribute value rounded to standard precision.\n * Returns `undefined` if the value is not a valid finite number.\n *\n * @param {?number} value Raw value.\n *\n * @return {number} Value rounded to standard precision.\n */\nexport const toWidthPrecision = ( value ) => {\n\tconst unitlessValue = parseFloat( value );\n\treturn Number.isFinite( unitlessValue )\n\t\t? parseFloat( unitlessValue.toFixed( 2 ) )\n\t\t: undefined;\n};\n/**\n * Returns an effective width for a given block. An effective width is equal to\n * its attribute value if set, or a computed value assuming equal distribution.\n *\n * @param {WPBlock} block           Block object.\n * @param {number}  totalBlockCount Total number of blocks in Columns.\n *\n * @return {number} Effective column width.\n */\nexport function getEffectiveColumnWidth( block, totalBlockCount ) {\n\tconst { width = 100 / totalBlockCount } = block.attributes;\n\treturn toWidthPrecision( width );\n}\n\n/**\n * Returns the total width occupied by the given set of column blocks.\n *\n * @param {WPBlock[]} blocks          Block objects.\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\n *                                    Defaults to number of blocks passed.\n *\n * @return {number} Total width occupied by blocks.\n */\nexport function getTotalColumnsWidth(\n\tblocks,\n\ttotalBlockCount = blocks.length\n) {\n\treturn blocks.reduce(\n\t\t( sum, block ) =>\n\t\t\tsum + getEffectiveColumnWidth( block, totalBlockCount ),\n\t\t0\n\t);\n}\n\n/**\n * Returns an object of `clientId` → `width` of effective column widths.\n *\n * @param {WPBlock[]} blocks          Block objects.\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\n *                                    Defaults to number of blocks passed.\n *\n * @return {Object<string,number>} Column widths.\n */\nexport function getColumnWidths( blocks, totalBlockCount = blocks.length ) {\n\treturn blocks.reduce( ( accumulator, block ) => {\n\t\tconst width = getEffectiveColumnWidth( block, totalBlockCount );\n\t\treturn Object.assign( accumulator, { [ block.clientId ]: width } );\n\t}, {} );\n}\n\n/**\n * Returns an object of `clientId` → `width` of column widths as redistributed\n * proportional to their current widths, constrained or expanded to fit within\n * the given available width.\n *\n * @param {WPBlock[]} blocks          Block objects.\n * @param {number}    availableWidth  Maximum width to fit within.\n * @param {?number}   totalBlockCount Total number of blocks in Columns.\n *                                    Defaults to number of blocks passed.\n *\n * @return {Object<string,number>} Redistributed column widths.\n */\nexport function getRedistributedColumnWidths(\n\tblocks,\n\tavailableWidth,\n\ttotalBlockCount = blocks.length\n) {\n\tconst totalWidth = getTotalColumnsWidth( blocks, totalBlockCount );\n\n\treturn Object.fromEntries(\n\t\tObject.entries( getColumnWidths( blocks, totalBlockCount ) ).map(\n\t\t\t( [ clientId, width ] ) => {\n\t\t\t\tconst newWidth = ( availableWidth * width ) / totalWidth;\n\t\t\t\treturn [ clientId, toWidthPrecision( newWidth ) ];\n\t\t\t}\n\t\t)\n\t);\n}\n\n/**\n * Returns true if column blocks within the provided set are assigned with\n * explicit widths, or false otherwise.\n *\n * @param {WPBlock[]} blocks Block objects.\n *\n * @return {boolean} Whether columns have explicit widths.\n */\nexport function hasExplicitPercentColumnWidths( blocks ) {\n\treturn blocks.every( ( block ) => {\n\t\tconst blockWidth = block.attributes.width;\n\t\treturn Number.isFinite(\n\t\t\tblockWidth?.endsWith?.( '%' )\n\t\t\t\t? parseFloat( blockWidth )\n\t\t\t\t: blockWidth\n\t\t);\n\t} );\n}\n\n/**\n * Returns a copy of the given set of blocks with new widths assigned from the\n * provided object of redistributed column widths.\n *\n * @param {WPBlock[]}             blocks Block objects.\n * @param {Object<string,number>} widths Redistributed column widths.\n *\n * @return {WPBlock[]} blocks Mapped block objects.\n */\nexport function getMappedColumnWidths( blocks, widths ) {\n\treturn blocks.map( ( block ) => ( {\n\t\t...block,\n\t\tattributes: {\n\t\t\t...block.attributes,\n\t\t\twidth: `${ widths[ block.clientId ] }%`,\n\t\t},\n\t} ) );\n}\n\n/**\n * Returns an array with columns widths values, parsed or no depends on `withParsing` flag.\n *\n * @param {WPBlock[]} blocks      Block objects.\n * @param {?boolean}  withParsing Whether value has to be parsed.\n *\n * @return {Array<number,string>} Column widths.\n */\nexport function getWidths( blocks, withParsing = true ) {\n\treturn blocks.map( ( innerColumn ) => {\n\t\tconst innerColumnWidth =\n\t\t\tinnerColumn.attributes.width || 100 / blocks.length;\n\n\t\treturn withParsing ? parseFloat( innerColumnWidth ) : innerColumnWidth;\n\t} );\n}\n\n/**\n * Returns a column width with unit.\n *\n * @param {string} width Column width.\n * @param {string} unit  Column width unit.\n *\n * @return {string} Column width with unit.\n */\nexport function getWidthWithUnit( width, unit ) {\n\twidth = 0 > parseFloat( width ) ? '0' : width;\n\n\tif ( isPercentageUnit( unit ) ) {\n\t\twidth = Math.min( width, 100 );\n\t}\n\n\treturn `${ width }${ unit }`;\n}\n\n/**\n * Returns a boolean whether passed unit is percentage\n *\n * @param {string} unit Column width unit.\n *\n * @return {boolean} \tWhether unit is '%'.\n */\nexport function isPercentageUnit( unit ) {\n\treturn unit === '%';\n}\n","/**\n * External dependencies\n */\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Notice, PanelBody, RangeControl } from '@wordpress/components';\n\nimport {\n\tInspectorControls,\n\tuseInnerBlocksProps,\n\t__experimentalBlockVariationPicker,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { withDispatch, useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\n/**\n * Internal dependencies\n */\nimport {\n\thasExplicitPercentColumnWidths,\n\tgetMappedColumnWidths,\n\tgetRedistributedColumnWidths,\n\ttoWidthPrecision,\n} from './utils';\n\n/**\n * Allowed blocks constant is passed to InnerBlocks precisely as specified here.\n * The contents of the array should never change.\n * The array should contain the name of each block that is allowed.\n * In tiles block, the only block we allow is 'custom/tile' and a heading.\n *\n * @constant\n * @type {string[]}\n */\nconst ALLOWED_BLOCKS = [ 'custom/tile', 'core/heading' ];\n\nfunction TilesEditContainer( {\n\tattributes,\n\tsetAttributes,\n\tupdateTiles,\n\tclientId,\n} ) {\n\tconst { templateLock, rowCount } = attributes;\n\n\tconst { tileCount, headingCount, canInsertTileBlock, minCount } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tcanInsertBlockType,\n\t\t\t\tcanRemoveBlock,\n\t\t\t\tgetBlocks,\n\t\t\t\tgetBlockCount,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst innerBlocks = getBlocks( clientId );\n\n\t\t\t// Get the indexes of tiles for which removal is prevented.\n\t\t\t// The highest index will be used to determine the minimum tile count.\n\t\t\tconst preventRemovalBlockIndexes = innerBlocks.reduce(\n\t\t\t\t( acc, block, index ) => {\n\t\t\t\t\tif ( ! canRemoveBlock( block.clientId ) ) {\n\t\t\t\t\t\tacc.push( index );\n\t\t\t\t\t}\n\t\t\t\t\treturn acc;\n\t\t\t\t},\n\t\t\t\t[]\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\ttileCount: innerBlocks.filter(\n\t\t\t\t\t( block ) => block.name === 'custom/tile'\n\t\t\t\t).length,\n\t\t\t\theadingCount: innerBlocks.filter(\n\t\t\t\t\t( block ) => block.name === 'core/heading'\n\t\t\t\t).length,\n\t\t\t\tcanInsertTileBlock: canInsertBlockType(\n\t\t\t\t\t'custom/tile',\n\t\t\t\t\tclientId\n\t\t\t\t),\n\t\t\t\tminCount: Math.max( ...preventRemovalBlockIndexes ) + 1,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst classes = classnames( [ 'wp-block-tiles' ] );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\t'data-ideal-row-count': rowCount + headingCount,\n\t\t'data-ideal-col-count': Math.ceil( tileCount / rowCount ),\n\t\t'data-heading-count': headingCount,\n\t} );\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tallowedBlocks: ALLOWED_BLOCKS,\n\t\torientation: 'horizontal',\n\t\trenderAppender: false,\n\t\ttemplateLock,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t{ canInsertTileBlock && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={ __( 'Total tiles' ) }\n\t\t\t\t\t\t\t\tvalue={ tileCount }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tupdateTiles(\n\t\t\t\t\t\t\t\t\t\ttileCount,\n\t\t\t\t\t\t\t\t\t\tMath.max( minCount, value )\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ Math.max( 1, minCount ) }\n\t\t\t\t\t\t\t\tmax={ Math.max( 16, tileCount ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ tileCount > 6 * rowCount && (\n\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'This tile count exceeds the recommended amount for your row count and may cause visual breakage.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={ __( 'Split across rows' ) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Ideal number of tiles to display per row (they may automatically stack to fewer per row depending on the available space)'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ rowCount }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { rowCount: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n\nconst TilesEditContainerWrapper = withDispatch(\n\t( dispatch, ownProps, registry ) => ( {\n\t\t/**\n\t\t * Updates the tile count, including necessary revisions to child Tile\n\t\t * @param          previousTiles\n\t\t * @param {number} newTiles      New tile count.\n\t\t */\n\t\tupdateTiles( previousTiles, newTiles ) {\n\t\t\tconst { clientId } = ownProps;\n\t\t\tconst { replaceInnerBlocks } = dispatch( blockEditorStore );\n\t\t\tconst { getBlocks } = registry.select( blockEditorStore );\n\t\t\tlet innerBlocks = getBlocks( clientId );\n\n\t\t\t// If adding a new tile, assign width to the new tile equal to\n\t\t\t// as if it were `1 / tiles` of the total available space.\n\t\t\tconst newTileWidth = toWidthPrecision( 100 / newTiles );\n\n\t\t\t// Redistribute in consideration of pending block insertion as\n\t\t\t// constraining the available working width.\n\t\t\tconst widths = getRedistributedColumnWidths(\n\t\t\t\tinnerBlocks,\n\t\t\t\t100 - newTileWidth\n\t\t\t);\n\n\t\t\tinnerBlocks = [\n\t\t\t\t...getMappedColumnWidths( innerBlocks, widths ),\n\t\t\t\t...Array.from( {\n\t\t\t\t\tlength: newTiles - previousTiles,\n\t\t\t\t} ).map( () => {\n\t\t\t\t\treturn createBlock( 'custom/tile', {\n\t\t\t\t\t\twidth: `${ newTileWidth }%`,\n\t\t\t\t\t} );\n\t\t\t\t} ),\n\t\t\t];\n\n\t\t\treplaceInnerBlocks( clientId, innerBlocks );\n\t\t},\n\t} )\n)( TilesEditContainer );\n\nfunction Placeholder( { clientId, name, setAttributes } ) {\n\tconst { blockType, defaultVariation, variations } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockVariations,\n\t\t\t\tgetBlockType,\n\t\t\t\tgetDefaultBlockVariation,\n\t\t\t} = select( blocksStore );\n\n\t\t\treturn {\n\t\t\t\tblockType: getBlockType( name ),\n\t\t\t\tdefaultVariation: getDefaultBlockVariation( name, 'block' ),\n\t\t\t\tvariations: getBlockVariations( name, 'block' ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\tconst { replaceInnerBlocks } = useDispatch( blockEditorStore );\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<__experimentalBlockVariationPicker\n\t\t\t\ticon={ blockType?.icon?.src }\n\t\t\t\tlabel={ blockType?.title }\n\t\t\t\tvariations={ variations }\n\t\t\t\tonSelect={ ( nextVariation = defaultVariation ) => {\n\t\t\t\t\tif ( nextVariation.attributes ) {\n\t\t\t\t\t\tsetAttributes( nextVariation.attributes );\n\t\t\t\t\t}\n\t\t\t\t\tif ( nextVariation.innerBlocks ) {\n\t\t\t\t\t\treplaceInnerBlocks(\n\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\tcreateBlocksFromInnerBlocksTemplate(\n\t\t\t\t\t\t\t\tnextVariation.innerBlocks\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tallowSkip\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nconst TilesEdit = ( props ) => {\n\tconst { clientId } = props;\n\tconst hasInnerBlocks = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).getBlocks( clientId ).length > 0,\n\t\t[ clientId ]\n\t);\n\tconst Component = hasInnerBlocks ? TilesEditContainerWrapper : Placeholder;\n\n\treturn <Component { ...props } />;\n};\n\nexport default TilesEdit;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\n\n/**\n * Template option choices for predefined columns layouts.\n *\n * @type {WPBlockVariation[]}\n */\nconst variations = [\n\t{\n\t\tname: 'two-rows-of-three',\n\t\ttitle: __('2 x 3'),\n\t\tdescription: __('Two rows of three equal tiles'),\n\t\tisDefault: true,\n\t\tinnerBlocks: [['custom/tile'], ['custom/tile'], ['custom/tile'], ['custom/tile'], ['custom/tile'], ['custom/tile']],\n\t\tscope: ['block'],\n\t\tattributes: {\n\t\t\trowCount: 2,\n\t\t},\n\t\ticon: (\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t     viewBox=\"0 0 512 512\">\n\t\t\t\t<Path\n\t\t\t\t\td=\"M151.7,112.4H28v123.7h123.7V112.4z M151.7,277.3H28V401h123.7V277.3z M192.9,112.4v123.7h123.7V112.4H192.9z M316.5,277.3 H192.9V401h123.7V277.3z M360.3,112.4v123.7H484V112.4H360.3z M484,277.3H360.3V401H484V277.3z\"/>\n\t\t\t</SVG>\n\n\t\t),\n\t},\n\t{\n\t\tname: 'two-rows-of-two',\n\t\ttitle: __('2 x 2'),\n\t\tdescription: __('Two rows of three equal tiles'),\n\t\tisDefault: true,\n\t\tinnerBlocks: [['custom/tile'], ['custom/tile'], ['custom/tile'], ['custom/tile']],\n\t\tscope: ['block'],\n\t\tattributes: {\n\t\t\trowCount: 2,\n\t\t},\n\t\ticon: (\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t     viewBox=\"0 0 512 512\">\n\t\t\t\t<Path d=\"M224 32H32V224H224V32zm0 256H32V480H224V288zM288 32V224H480V32H288zM480 288H288V480H480V288z\"/>\n\t\t\t</SVG>\n\t\t),\n\t},\n\t{\n\t\tname: 'one-row-of-four',\n\t\ttitle: __('1 x 4'),\n\t\tdescription: __('Four equal tiles in a single row'),\n\t\ticon: (\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t     viewBox=\"0 0 512 512\">\n\t\t\t\t<Path\n\t\t\t\t\td=\"M112,208.5H17v95h95V208.5z M143.7,208.5v95h95v-95H143.7z M272.4,208.5v95h95v-95H272.4z M494.1,208.5h-95v95h95V208.5z\"/>\n\t\t\t</SVG>\n\t\t),\n\t\tinnerBlocks: [['custom/tile'], ['custom/tile'], ['custom/tile'], ['custom/tile']],\n\t\tscope: ['block'],\n\t\tattributes: {\n\t\t\trowCount: 1,\n\t\t},\n\t},\n];\n\nexport default variations;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { group as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport edit from './edit';\nimport metadata from './block.json';\nimport save from './save';\nimport variations from './variations';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\ticon,\n\tvariations,\n\texample: {\n\t\tviewportWidth: 600, // Columns collapse \"@media (max-width: 599px)\".\n\t\tinnerBlocks: [\n\t\t\t{\n\t\t\t\tname: 'custom/tile',\n\t\t\t\tinnerBlocks: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'core/paragraph',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t/* translators: example text. */\n\t\t\t\t\t\t\tcontent: __(\n\t\t\t\t\t\t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis.',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'core/image',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Windbuchencom.jpg',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'core/paragraph',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t/* translators: example text. */\n\t\t\t\t\t\t\tcontent: __(\n\t\t\t\t\t\t\t\t'Suspendisse commodo neque lacus, a dictum orci interdum et.',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'custom/tile',\n\t\t\t\tinnerBlocks: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'core/paragraph',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t/* translators: example text. */\n\t\t\t\t\t\t\tcontent: __(\n\t\t\t\t\t\t\t\t'Etiam et egestas lorem. Vivamus sagittis sit amet dolor quis lobortis. Integer sed fermentum arcu, id vulputate lacus. Etiam fermentum sem eu quam hendrerit.',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'core/paragraph',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t/* translators: example text. */\n\t\t\t\t\t\t\tcontent: __(\n\t\t\t\t\t\t\t\t'Nam risus massa, ullamcorper consectetur eros fermentum, porta aliquet ligula. Sed vel mauris nec enim.',\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n\tedit,\n\tsave,\n};\n\nexport const init = () => initBlock({ name, metadata, settings });\n","/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst blockProps = useBlockProps.save();\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\n\tconsole.log( attributes );\n\tconsole.log( blockProps );\n\tconsole.log( innerBlocksProps );\n\n\treturn <div { ...innerBlocksProps } />;\n}\n","/**\n * External dependencies\n */\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\nimport {\n\tInnerBlocks,\n\tBlockControls,\n\tInspectorControls,\n\tuseBlockProps,\n\tuseSettings,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { sprintf, __ } from '@wordpress/i18n';\n\nconst ALLOWED_BLOCKS = [ 'core/paragraph', 'core/image' ];\n\nfunction TileEdit( {\n\tattributes: { backgroundColor, templateLock },\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst classes = classnames( 'wp-block-tile' );\n\n\tconst { tilesIds, hasChildBlocks, rootClientId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder, getBlockRootClientId } =\n\t\t\t\tselect( blockEditorStore );\n\n\t\t\tconst rootId = getBlockRootClientId( clientId );\n\n\t\t\treturn {\n\t\t\t\thasChildBlocks: getBlockOrder( clientId ).length > 0,\n\t\t\t\trootClientId: rootId,\n\t\t\t\ttilesIds: getBlockOrder( rootId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t} );\n\n\tconst tilesCount = tilesIds.length;\n\tconst currentTilePosition = tilesIds.indexOf( clientId ) + 1;\n\n\tconst label = sprintf(\n\t\t/* translators: 1: Block label (i.e. \"Block: Tile\"), 2: Position of the selected block, 3: Total number of sibling blocks of the same type */\n\t\t__( '%1$s (%2$d of %3$d)' ),\n\t\tblockProps[ 'aria-label' ],\n\t\tcurrentTilePosition,\n\t\ttilesCount\n\t);\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{ ...blockProps, 'aria-label': label },\n\t\t{\n\t\t\ttemplateLock,\n\t\t\tallowedBlocks: ALLOWED_BLOCKS,\n\t\t\trenderAppender: hasChildBlocks\n\t\t\t\t? undefined\n\t\t\t\t: InnerBlocks.ButtonBlockAppender,\n\t\t}\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ /** TODO: Background control */ }\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n\nexport default TileEdit;\n","/**\n * WordPress dependencies\n */\nimport { caption as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport initBlock from '../utils/init-block';\nimport edit from './edit';\nimport metadata from './block.json';\nimport save from './save';\n\nconst { name } = metadata;\n\nexport { metadata, name };\n\nexport const settings = {\n\ticon,\n\tedit,\n\tsave,\n};\n\nexport const init = () => initBlock({ name, metadata, settings });\n","/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save({ attributes }) {\n\tconst blockProps = useBlockProps.save();\n\tconst innerBlocksProps = useInnerBlocksProps.save(blockProps);\n\n\treturn <div {...innerBlocksProps} />;\n}\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport migrateFontFamily from '../utils/migrate-font-family';\r\n\r\nconst v1 = {\r\n\tattributes: {\r\n\t\tcontent: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'pre',\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { textAlign, content } = attributes;\r\n\r\n\t\treturn (\r\n\t\t\t<RichText.Content\r\n\t\t\t\ttagName=\"pre\"\r\n\t\t\t\tstyle={ { textAlign } }\r\n\t\t\t\tvalue={ content }\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst v2 = {\r\n\tattributes: {\r\n\t\tcontent: {\r\n\t\t\ttype: 'string',\r\n\t\t\tsource: 'html',\r\n\t\t\tselector: 'pre',\r\n\t\t\tdefault: '',\r\n\t\t\t__unstablePreserveWhiteSpace: true,\r\n\t\t\t__experimentalRole: 'content',\r\n\t\t},\r\n\t\ttextAlign: {\r\n\t\t\ttype: 'string',\r\n\t\t},\r\n\t},\r\n\tsupports: {\r\n\t\tanchor: true,\r\n\t\tcolor: {\r\n\t\t\tgradients: true,\r\n\t\t\tlink: true,\r\n\t\t},\r\n\t\ttypography: {\r\n\t\t\tfontSize: true,\r\n\t\t\t__experimentalFontFamily: true,\r\n\t\t},\r\n\t\tspacing: {\r\n\t\t\tpadding: true,\r\n\t\t},\r\n\t},\r\n\tsave( { attributes } ) {\r\n\t\tconst { textAlign, content } = attributes;\r\n\r\n\t\tconst className = classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} );\r\n\r\n\t\treturn (\r\n\t\t\t<pre { ...useBlockProps.save( { className } ) }>\r\n\t\t\t\t<RichText.Content value={ content } />\r\n\t\t\t</pre>\r\n\t\t);\r\n\t},\r\n\tmigrate: migrateFontFamily,\r\n\tisEligible( { style } ) {\r\n\t\treturn style?.typography?.fontFamily;\r\n\t},\r\n};\r\n\r\n/**\r\n * New deprecations need to be placed first\r\n * for them to have higher priority.\r\n *\r\n * Old deprecations may need to be updated as well.\r\n *\r\n * See block-deprecation.md\r\n */\r\nexport default [ v2, v1 ];\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tcreateBlock( 'core/verse', attributes ),\r\n\t\t},\r\n\t],\r\n\tto: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tblocks: [ 'core/paragraph' ],\r\n\t\t\ttransform: ( attributes ) =>\r\n\t\t\t\tcreateBlock( 'core/paragraph', attributes ),\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { verse as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\t/* eslint-disable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t\t// translators: Sample content for the Verse block. Can be replaced with a more locale-adequate work.\r\n\t\t\tcontent: __(\r\n\t\t\t\t'WHAT was he doing, the great god Pan,\\n\tDown in the reeds by the river?\\nSpreading ruin and scattering ban,\\nSplashing and paddling with hoofs of a goat,\\nAnd breaking the golden lilies afloat\\n    With the dragon-fly on the river.'\r\n\t\t\t),\r\n\t\t\t/* eslint-enable @wordpress/i18n-no-collapsible-whitespace */\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tdeprecated,\r\n\tmerge( attributes, attributesToMerge ) {\r\n\t\treturn {\r\n\t\t\tcontent: attributes.content + '\\n\\n' + attributesToMerge.content,\r\n\t\t};\r\n\t},\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport {\r\n\tRichText,\r\n\tBlockControls,\r\n\tAlignmentToolbar,\r\n\tuseBlockProps,\r\n} from '@wordpress/block-editor';\r\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\r\n\r\nexport default function VerseEdit( {\r\n\tattributes,\r\n\tsetAttributes,\r\n\tmergeBlocks,\r\n\tonRemove,\r\n\tinsertBlocksAfter,\r\n\tstyle,\r\n} ) {\r\n\tconst { textAlign, content } = attributes;\r\n\tconst blockProps = useBlockProps( {\r\n\t\tclassName: classnames( {\r\n\t\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t\t} ),\r\n\t\tstyle,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<AlignmentToolbar\r\n\t\t\t\t\tvalue={ textAlign }\r\n\t\t\t\t\tonChange={ ( nextAlign ) => {\r\n\t\t\t\t\t\tsetAttributes( { textAlign: nextAlign } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t</BlockControls>\r\n\t\t\t<RichText\r\n\t\t\t\ttagName=\"pre\"\r\n\t\t\t\tidentifier=\"content\"\r\n\t\t\t\tpreserveWhiteSpace\r\n\t\t\t\tvalue={ content }\r\n\t\t\t\tonChange={ ( nextContent ) => {\r\n\t\t\t\t\tsetAttributes( {\r\n\t\t\t\t\t\tcontent: nextContent,\r\n\t\t\t\t\t} );\r\n\t\t\t\t} }\r\n\t\t\t\taria-label={ __( 'Verse text' ) }\r\n\t\t\t\tplaceholder={ __( 'Write verse…' ) }\r\n\t\t\t\tonRemove={ onRemove }\r\n\t\t\t\tonMerge={ mergeBlocks }\r\n\t\t\t\ttextAlign={ textAlign }\r\n\t\t\t\t{ ...blockProps }\r\n\t\t\t\t__unstablePastePlainText\r\n\t\t\t\t__unstableOnSplitAtDoubleLineEnd={ () =>\r\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","/**\r\n * External dependencies\r\n */\r\nimport classnames from 'classnames';\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst { textAlign, content } = attributes;\r\n\r\n\tconst className = classnames( {\r\n\t\t[ `has-text-align-${ textAlign }` ]: textAlign,\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<pre { ...useBlockProps.save( { className } ) }>\r\n\t\t\t<RichText.Content value={ content } />\r\n\t\t</pre>\r\n\t);\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { Path, SVG } from '@wordpress/primitives';\r\n\r\nconst video = (\r\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<Path d=\"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z\" />\r\n\t</SVG>\r\n);\r\n\r\nexport default video;\r\n","export default function Tracks( { tracks = [] } ) {\r\n\treturn tracks.map( ( track ) => {\r\n\t\treturn <track key={ track.src } { ...track } />;\r\n\t} );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport metadata from './block.json';\r\nimport Tracks from './tracks';\r\n\r\nconst { attributes: blockAttributes } = metadata;\r\n\r\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\r\n// to the video figcaption element.\r\nconst v1 = {\r\n\tattributes: blockAttributes,\r\n\tsave( { attributes } ) {\r\n\t\tconst {\r\n\t\t\tautoplay,\r\n\t\t\tcaption,\r\n\t\t\tcontrols,\r\n\t\t\tloop,\r\n\t\t\tmuted,\r\n\t\t\tposter,\r\n\t\t\tpreload,\r\n\t\t\tsrc,\r\n\t\t\tplaysInline,\r\n\t\t\ttracks,\r\n\t\t} = attributes;\r\n\t\treturn (\r\n\t\t\t<figure { ...useBlockProps.save() }>\r\n\t\t\t\t{ src && (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tautoPlay={ autoplay }\r\n\t\t\t\t\t\tcontrols={ controls }\r\n\t\t\t\t\t\tloop={ loop }\r\n\t\t\t\t\t\tmuted={ muted }\r\n\t\t\t\t\t\tposter={ poster }\r\n\t\t\t\t\t\tpreload={ preload !== 'metadata' ? preload : undefined }\r\n\t\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\t\tplaysInline={ playsInline }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tracks tracks={ tracks } />\r\n\t\t\t\t\t</video>\r\n\t\t\t\t) }\r\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\r\n\t\t\t\t) }\r\n\t\t\t</figure>\r\n\t\t);\r\n\t},\r\n};\r\n\r\nconst deprecated = [ v1 ];\r\n\r\nexport default deprecated;\r\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { ToggleControl, SelectControl } from '@wordpress/components';\nimport { useMemo, useCallback, Platform } from '@wordpress/element';\n\nconst options = [\n\t{ value: 'auto', label: __( 'Auto' ) },\n\t{ value: 'metadata', label: __( 'Metadata' ) },\n\t{ value: 'none', label: _x( 'None', 'Preload value' ) },\n];\n\nconst VideoSettings = ( { setAttributes, attributes } ) => {\n\tconst { autoplay, controls, loop, muted, playsInline, preload } =\n\t\tattributes;\n\n\tconst autoPlayHelpText = __(\n\t\t'Autoplay may cause usability issues for some users.'\n\t);\n\tconst getAutoplayHelp = Platform.select( {\n\t\tweb: useCallback( ( checked ) => {\n\t\t\treturn checked ? autoPlayHelpText : null;\n\t\t}, [] ),\n\t\tnative: autoPlayHelpText,\n\t} );\n\n\tconst toggleFactory = useMemo( () => {\n\t\tconst toggleAttribute = ( attribute ) => {\n\t\t\treturn ( newValue ) => {\n\t\t\t\tsetAttributes( { [ attribute ]: newValue } );\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\tautoplay: toggleAttribute( 'autoplay' ),\n\t\t\tloop: toggleAttribute( 'loop' ),\n\t\t\tmuted: toggleAttribute( 'muted' ),\n\t\t\tcontrols: toggleAttribute( 'controls' ),\n\t\t\tplaysInline: toggleAttribute( 'playsInline' ),\n\t\t};\n\t}, [] );\n\n\tconst onChangePreload = useCallback( ( value ) => {\n\t\tsetAttributes( { preload: value } );\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Autoplay' ) }\n\t\t\t\tonChange={ toggleFactory.autoplay }\n\t\t\t\tchecked={ !! autoplay }\n\t\t\t\thelp={ getAutoplayHelp }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Loop' ) }\n\t\t\t\tonChange={ toggleFactory.loop }\n\t\t\t\tchecked={ !! loop }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Muted' ) }\n\t\t\t\tonChange={ toggleFactory.muted }\n\t\t\t\tchecked={ !! muted }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Playback controls' ) }\n\t\t\t\tonChange={ toggleFactory.controls }\n\t\t\t\tchecked={ !! controls }\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Play inline' ) }\n\t\t\t\tonChange={ toggleFactory.playsInline }\n\t\t\t\tchecked={ !! playsInline }\n\t\t\t/>\n\t\t\t<SelectControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Preload' ) }\n\t\t\t\tvalue={ preload }\n\t\t\t\tonChange={ onChangePreload }\n\t\t\t\toptions={ options }\n\t\t\t\thideCancelButton\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default VideoSettings;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport {\r\n\tNavigableMenu,\r\n\tMenuItem,\r\n\tFormFileUpload,\r\n\tMenuGroup,\r\n\tToolbarGroup,\r\n\tToolbarButton,\r\n\tDropdown,\r\n\tButton,\r\n\tTextControl,\r\n\tSelectControl,\r\n\t__experimentalGrid as Grid,\r\n\t__experimentalHStack as HStack,\r\n\t__experimentalVStack as VStack,\r\n} from '@wordpress/components';\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\nimport { upload, media } from '@wordpress/icons';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState } from '@wordpress/element';\r\nimport { getFilename } from '@wordpress/url';\r\n\r\nconst ALLOWED_TYPES = [ 'text/vtt' ];\r\n\r\nconst DEFAULT_KIND = 'subtitles';\r\n\r\nconst KIND_OPTIONS = [\r\n\t{ label: __( 'Subtitles' ), value: 'subtitles' },\r\n\t{ label: __( 'Captions' ), value: 'captions' },\r\n\t{ label: __( 'Descriptions' ), value: 'descriptions' },\r\n\t{ label: __( 'Chapters' ), value: 'chapters' },\r\n\t{ label: __( 'Metadata' ), value: 'metadata' },\r\n];\r\n\r\nfunction TrackList( { tracks, onEditPress } ) {\r\n\tlet content;\r\n\tif ( tracks.length === 0 ) {\r\n\t\tcontent = (\r\n\t\t\t<p className=\"block-library-video-tracks-editor__tracks-informative-message\">\r\n\t\t\t\t{ __(\r\n\t\t\t\t\t'Tracks can be subtitles, captions, chapters, or descriptions. They help make your content more accessible to a wider range of users.'\r\n\t\t\t\t) }\r\n\t\t\t</p>\r\n\t\t);\r\n\t} else {\r\n\t\tcontent = tracks.map( ( track, index ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<HStack\r\n\t\t\t\t\tkey={ index }\r\n\t\t\t\t\tclassName=\"block-library-video-tracks-editor__track-list-track\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>{ track.label } </span>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"tertiary\"\r\n\t\t\t\t\t\tonClick={ () => onEditPress( index ) }\r\n\t\t\t\t\t\taria-label={ sprintf(\r\n\t\t\t\t\t\t\t/* translators: %s: Label of the video text track e.g: \"French subtitles\" */\r\n\t\t\t\t\t\t\t__( 'Edit %s' ),\r\n\t\t\t\t\t\t\ttrack.label\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Edit' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</HStack>\r\n\t\t\t);\r\n\t\t} );\r\n\t}\r\n\treturn (\r\n\t\t<MenuGroup\r\n\t\t\tlabel={ __( 'Text tracks' ) }\r\n\t\t\tclassName=\"block-library-video-tracks-editor__track-list\"\r\n\t\t>\r\n\t\t\t{ content }\r\n\t\t</MenuGroup>\r\n\t);\r\n}\r\n\r\nfunction SingleTrackEditor( { track, onChange, onClose, onRemove } ) {\r\n\tconst { src = '', label = '', srcLang = '', kind = DEFAULT_KIND } = track;\r\n\tconst fileName = src.startsWith( 'blob:' ) ? '' : getFilename( src ) || '';\r\n\treturn (\r\n\t\t<NavigableMenu>\r\n\t\t\t<VStack\r\n\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor\"\r\n\t\t\t\tspacing=\"4\"\r\n\t\t\t>\r\n\t\t\t\t<span className=\"block-library-video-tracks-editor__single-track-editor-edit-track-label\">\r\n\t\t\t\t\t{ __( 'Edit track' ) }\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{ __( 'File' ) }: <b>{ fileName }</b>\r\n\t\t\t\t</span>\r\n\t\t\t\t<Grid columns={ 2 } gap={ 4 }>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-autofocus */\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/* eslint-enable jsx-a11y/no-autofocus */\r\n\t\t\t\t\t\tonChange={ ( newLabel ) =>\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tlabel: newLabel,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Label' ) }\r\n\t\t\t\t\t\tvalue={ label }\r\n\t\t\t\t\t\thelp={ __( 'Title of track' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tonChange={ ( newSrcLang ) =>\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tsrcLang: newSrcLang,\r\n\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={ __( 'Source language' ) }\r\n\t\t\t\t\t\tvalue={ srcLang }\r\n\t\t\t\t\t\thelp={ __( 'Language tag (en, fr, etc.)' ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<VStack spacing=\"8\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t__nextHasNoMarginBottom\r\n\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__single-track-editor-kind-select\"\r\n\t\t\t\t\t\toptions={ KIND_OPTIONS }\r\n\t\t\t\t\t\tvalue={ kind }\r\n\t\t\t\t\t\tlabel={ __( 'Kind' ) }\r\n\t\t\t\t\t\tonChange={ ( newKind ) => {\r\n\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\tkind: newKind,\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<HStack className=\"block-library-video-tracks-editor__single-track-editor-buttons-container\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tconst changes = {};\r\n\t\t\t\t\t\t\t\tlet hasChanges = false;\r\n\t\t\t\t\t\t\t\tif ( label === '' ) {\r\n\t\t\t\t\t\t\t\t\tchanges.label = __( 'English' );\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( srcLang === '' ) {\r\n\t\t\t\t\t\t\t\t\tchanges.srcLang = 'en';\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( track.kind === undefined ) {\r\n\t\t\t\t\t\t\t\t\tchanges.kind = DEFAULT_KIND;\r\n\t\t\t\t\t\t\t\t\thasChanges = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( hasChanges ) {\r\n\t\t\t\t\t\t\t\t\tonChange( {\r\n\t\t\t\t\t\t\t\t\t\t...track,\r\n\t\t\t\t\t\t\t\t\t\t...changes,\r\n\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClose();\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Close' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisDestructive\r\n\t\t\t\t\t\t\tvariant=\"link\"\r\n\t\t\t\t\t\t\tonClick={ onRemove }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Remove track' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</HStack>\r\n\t\t\t\t</VStack>\r\n\t\t\t</VStack>\r\n\t\t</NavigableMenu>\r\n\t);\r\n}\r\n\r\nexport default function TracksEditor( { tracks = [], onChange } ) {\r\n\tconst mediaUpload = useSelect( ( select ) => {\r\n\t\treturn select( blockEditorStore ).getSettings().mediaUpload;\r\n\t}, [] );\r\n\tconst [ trackBeingEdited, setTrackBeingEdited ] = useState( null );\r\n\r\n\tif ( ! mediaUpload ) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tcontentClassName=\"block-library-video-tracks-editor\"\r\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<ToolbarButton\r\n\t\t\t\t\t\tlabel={ __( 'Text tracks' ) }\r\n\t\t\t\t\t\tshowTooltip\r\n\t\t\t\t\t\taria-expanded={ isOpen }\r\n\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\tonClick={ onToggle }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Text tracks' ) }\r\n\t\t\t\t\t</ToolbarButton>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t) }\r\n\t\t\trenderContent={ () => {\r\n\t\t\t\tif ( trackBeingEdited !== null ) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<SingleTrackEditor\r\n\t\t\t\t\t\t\ttrack={ tracks[ trackBeingEdited ] }\r\n\t\t\t\t\t\t\tonChange={ ( newTrack ) => {\r\n\t\t\t\t\t\t\t\tconst newTracks = [ ...tracks ];\r\n\t\t\t\t\t\t\t\tnewTracks[ trackBeingEdited ] = newTrack;\r\n\t\t\t\t\t\t\t\tonChange( newTracks );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\tonClose={ () => setTrackBeingEdited( null ) }\r\n\t\t\t\t\t\t\tonRemove={ () => {\r\n\t\t\t\t\t\t\t\tonChange(\r\n\t\t\t\t\t\t\t\t\ttracks.filter(\r\n\t\t\t\t\t\t\t\t\t\t( _track, index ) =>\r\n\t\t\t\t\t\t\t\t\t\t\tindex !== trackBeingEdited\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tsetTrackBeingEdited( null );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<NavigableMenu>\r\n\t\t\t\t\t\t\t<TrackList\r\n\t\t\t\t\t\t\t\ttracks={ tracks }\r\n\t\t\t\t\t\t\t\tonEditPress={ setTrackBeingEdited }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<MenuGroup\r\n\t\t\t\t\t\t\t\tclassName=\"block-library-video-tracks-editor__add-tracks-container\"\r\n\t\t\t\t\t\t\t\tlabel={ __( 'Add tracks' ) }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\t\t\tonSelect={ ( { url } ) => {\r\n\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\r\n\t\t\t\t\t\t\t\t\t\tonChange( [ ...tracks, { src: url } ] );\r\n\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited( trackIndex );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\tallowedTypes={ ALLOWED_TYPES }\r\n\t\t\t\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\ticon={ media }\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Open Media Library' ) }\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t\t\t\t<FormFileUpload\r\n\t\t\t\t\t\t\t\t\t\tonChange={ ( event ) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst files = event.target.files;\r\n\t\t\t\t\t\t\t\t\t\t\tconst trackIndex = tracks.length;\r\n\t\t\t\t\t\t\t\t\t\t\tmediaUpload( {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes: ALLOWED_TYPES,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilesList: files,\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFileChange: ( [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ url },\r\n\t\t\t\t\t\t\t\t\t\t\t\t] ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst newTracks = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t! newTracks[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t] = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewTracks[ trackIndex ] = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...tracks[ trackIndex ],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: url,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange( newTracks );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTrackBeingEdited(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\taccept=\".vtt,text/vtt\"\r\n\t\t\t\t\t\t\t\t\t\trender={ ( { openFileDialog } ) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ upload }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenFileDialog();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Upload' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t\t</NavigableMenu>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t} }\r\n\t\t/>\r\n\t);\r\n}\r\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\tBaseControl,\n\tButton,\n\tDisabled,\n\tPanelBody,\n\tSpinner,\n\tPlaceholder,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadCheck,\n\tMediaReplaceFlow,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { useRef, useEffect } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { video as icon } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { createUpgradedEmbedBlock } from '../embed/util';\nimport { useUploadMediaFromBlobURL } from '../utils/hooks';\nimport VideoCommonSettings from './edit-common-settings';\nimport TracksEditor from './tracks-editor';\nimport Tracks from './tracks';\nimport { Caption } from '../utils/caption';\n\n// Much of this description is duplicated from MediaPlaceholder.\nconst placeholder = ( content ) => {\n\treturn (\n\t\t<Placeholder\n\t\t\tclassName=\"block-editor-media-placeholder\"\n\t\t\twithIllustration\n\t\t\ticon={ icon }\n\t\t\tlabel={ __( 'Video' ) }\n\t\t\tinstructions={ __(\n\t\t\t\t'Upload a video file, pick one from your media library, or add one with a URL.'\n\t\t\t) }\n\t\t>\n\t\t\t{ content }\n\t\t</Placeholder>\n\t);\n};\n\nconst ALLOWED_MEDIA_TYPES = [ 'video' ];\nconst VIDEO_POSTER_ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nfunction VideoEdit( {\n\tisSelected: isSingleSelected,\n\tattributes,\n\tclassName,\n\tsetAttributes,\n\tinsertBlocksAfter,\n\tonReplace,\n} ) {\n\tconst instanceId = useInstanceId( VideoEdit );\n\tconst videoPlayer = useRef();\n\tconst posterImageButton = useRef();\n\tconst { id, controls, poster, src, tracks } = attributes;\n\tconst isTemporaryVideo = ! id && isBlobURL( src );\n\n\tuseUploadMediaFromBlobURL( {\n\t\turl: src,\n\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\tonChange: onSelectVideo,\n\t\tonError: onUploadError,\n\t} );\n\n\tuseEffect( () => {\n\t\t// Placeholder may be rendered.\n\t\tif ( videoPlayer.current ) {\n\t\t\tvideoPlayer.current.load();\n\t\t}\n\t}, [ poster ] );\n\n\tfunction onSelectVideo( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\t// In this case there was an error\n\t\t\t// previous attributes should be removed\n\t\t\t// because they may be temporary blob urls.\n\t\t\tsetAttributes( {\n\t\t\t\tsrc: undefined,\n\t\t\t\tid: undefined,\n\t\t\t\tposter: undefined,\n\t\t\t\tcaption: undefined,\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\t// Sets the block's attribute and updates the edit component from the\n\t\t// selected media.\n\t\tsetAttributes( {\n\t\t\tsrc: media.url,\n\t\t\tid: media.id,\n\t\t\tposter:\n\t\t\t\tmedia.image?.src !== media.icon ? media.image?.src : undefined,\n\t\t\tcaption: media.caption,\n\t\t} );\n\t}\n\n\tfunction onSelectURL( newSrc ) {\n\t\tif ( newSrc !== src ) {\n\t\t\t// Check if there's an embed block that handles this URL.\n\t\t\tconst embedBlock = createUpgradedEmbedBlock( {\n\t\t\t\tattributes: { url: newSrc },\n\t\t\t} );\n\t\t\tif ( undefined !== embedBlock && onReplace ) {\n\t\t\t\tonReplace( embedBlock );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetAttributes( { src: newSrc, id: undefined, poster: undefined } );\n\t\t}\n\t}\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tfunction onUploadError( message ) {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tconst classes = classnames( className, {\n\t\t'is-transient': isTemporaryVideo,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t} );\n\n\tif ( ! src ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\n\t\t\t\t\tonSelect={ onSelectVideo }\n\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tvalue={ attributes }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction onSelectPoster( image ) {\n\t\tsetAttributes( { poster: image.url } );\n\t}\n\n\tfunction onRemovePoster() {\n\t\tsetAttributes( { poster: undefined } );\n\n\t\t// Move focus back to the Media Upload button.\n\t\tposterImageButton.current.focus();\n\t}\n\n\tconst videoPosterDescription = `video-block__poster-image-description-${ instanceId }`;\n\n\treturn (\n\t\t<>\n\t\t\t{ isSingleSelected && (\n\t\t\t\t<>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<TracksEditor\n\t\t\t\t\t\t\ttracks={ tracks }\n\t\t\t\t\t\t\tonChange={ ( newTracks ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { tracks: newTracks } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\t\tmediaId={ id }\n\t\t\t\t\t\t\tmediaURL={ src }\n\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\taccept=\"video/*\"\n\t\t\t\t\t\t\tonSelect={ onSelectVideo }\n\t\t\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<VideoCommonSettings\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t/>\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<BaseControl className=\"editor-video-poster-control\">\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Poster image' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\ttitle={ __( 'Select poster image' ) }\n\t\t\t\t\t\t\t\tonSelect={ onSelectPoster }\n\t\t\t\t\t\t\t\tallowedTypes={\n\t\t\t\t\t\t\t\t\tVIDEO_POSTER_ALLOWED_MEDIA_TYPES\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\tref={ posterImageButton }\n\t\t\t\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t\t\t\tvideoPosterDescription\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ ! poster\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Select' )\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p id={ videoPosterDescription } hidden>\n\t\t\t\t\t\t\t\t{ poster\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: poster image URL. */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'The current poster image url is %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tposter\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'There is no poster image currently selected'\n\t\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t{ !! poster && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={ onRemovePoster }\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t{ /*\n\t\t\t\t\tDisable the video tag if the block is not selected\n\t\t\t\t\tso the user clicking on it won't play the\n\t\t\t\t\tvideo when the controls are enabled.\n\t\t\t\t*/ }\n\t\t\t\t<Disabled isDisabled={ ! isSingleSelected }>\n\t\t\t\t\t<video\n\t\t\t\t\t\tcontrols={ controls }\n\t\t\t\t\t\tposter={ poster }\n\t\t\t\t\t\tsrc={ src }\n\t\t\t\t\t\tref={ videoPlayer }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tracks tracks={ tracks } />\n\t\t\t\t\t</video>\n\t\t\t\t</Disabled>\n\t\t\t\t{ isTemporaryVideo && <Spinner /> }\n\t\t\t\t<Caption\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\tisSelected={ isSingleSelected }\n\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\t\tlabel={ __( 'Video caption text' ) }\n\t\t\t\t\tshowToolbarButton={ isSingleSelected }\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t</>\n\t);\n}\n\nexport default VideoEdit;\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { createBlobURL } from '@wordpress/blob';\r\nimport { createBlock } from '@wordpress/blocks';\r\n\r\nconst transforms = {\r\n\tfrom: [\r\n\t\t{\r\n\t\t\ttype: 'files',\r\n\t\t\tisMatch( files ) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tfiles.length === 1 &&\r\n\t\t\t\t\tfiles[ 0 ].type.indexOf( 'video/' ) === 0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\ttransform( files ) {\r\n\t\t\t\tconst file = files[ 0 ];\r\n\t\t\t\t// We don't need to upload the media directly here\r\n\t\t\t\t// It's already done as part of the `componentDidMount`\r\n\t\t\t\t// in the video block\r\n\t\t\t\tconst block = createBlock( 'core/video', {\r\n\t\t\t\t\tsrc: createBlobURL( file ),\r\n\t\t\t\t} );\r\n\t\t\t\treturn block;\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'shortcode',\r\n\t\t\ttag: 'video',\r\n\t\t\tattributes: {\r\n\t\t\t\tsrc: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( {\r\n\t\t\t\t\t\tnamed: { src, mp4, m4v, webm, ogv, flv },\r\n\t\t\t\t\t} ) => {\r\n\t\t\t\t\t\treturn src || mp4 || m4v || webm || ogv || flv;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tposter: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { poster } } ) => {\r\n\t\t\t\t\t\treturn poster;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tloop: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { loop } } ) => {\r\n\t\t\t\t\t\treturn loop;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tautoplay: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { autoplay } } ) => {\r\n\t\t\t\t\t\treturn autoplay;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tpreload: {\r\n\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\tshortcode: ( { named: { preload } } ) => {\r\n\t\t\t\t\t\treturn preload;\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype: 'raw',\r\n\t\t\tisMatch: ( node ) =>\r\n\t\t\t\tnode.nodeName === 'P' &&\r\n\t\t\t\tnode.children.length === 1 &&\r\n\t\t\t\tnode.firstChild.nodeName === 'VIDEO',\r\n\t\t\ttransform: ( node ) => {\r\n\t\t\t\tconst videoElement = node.firstChild;\r\n\t\t\t\tconst attributes = {\r\n\t\t\t\t\tautoplay: videoElement.hasAttribute( 'autoplay' )\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\tcontrols: videoElement.hasAttribute( 'controls' )\r\n\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t: false,\r\n\t\t\t\t\tloop: videoElement.hasAttribute( 'loop' )\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\tmuted: videoElement.hasAttribute( 'muted' )\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\tpreload:\r\n\t\t\t\t\t\tvideoElement.getAttribute( 'preload' ) || undefined,\r\n\t\t\t\t\tplaysInline: videoElement.hasAttribute( 'playsinline' )\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: undefined,\r\n\t\t\t\t\tposter: videoElement.getAttribute( 'poster' ) || undefined,\r\n\t\t\t\t\tsrc: videoElement.getAttribute( 'src' ) || undefined,\r\n\t\t\t\t};\r\n\t\t\t\treturn createBlock( 'core/video', attributes );\r\n\t\t\t},\r\n\t\t},\r\n\t],\r\n};\r\n\r\nexport default transforms;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\nimport { video as icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport deprecated from './deprecated';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport save from './save';\r\nimport transforms from './transforms';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\texample: {\r\n\t\tattributes: {\r\n\t\t\tsrc: 'https://upload.wikimedia.org/wikipedia/commons/c/ca/Wood_thrush_in_Central_Park_switch_sides_%2816510%29.webm',\r\n\t\t\t// translators: Caption accompanying a video of the wood thrush singing, which serves as an example for the Video block.\r\n\t\t\tcaption: __( 'Wood thrush singing in Central Park, NYC.' ),\r\n\t\t},\r\n\t},\r\n\ttransforms,\r\n\tdeprecated,\r\n\tedit,\r\n\tsave,\r\n};\r\n\r\nexport const init = () => initBlock( { name, metadata, settings } );\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport {\r\n\tRichText,\r\n\tuseBlockProps,\r\n\t__experimentalGetElementClassName,\r\n} from '@wordpress/block-editor';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Tracks from './tracks';\r\n\r\nexport default function save( { attributes } ) {\r\n\tconst {\r\n\t\tautoplay,\r\n\t\tcaption,\r\n\t\tcontrols,\r\n\t\tloop,\r\n\t\tmuted,\r\n\t\tposter,\r\n\t\tpreload,\r\n\t\tsrc,\r\n\t\tplaysInline,\r\n\t\ttracks,\r\n\t} = attributes;\r\n\treturn (\r\n\t\t<figure { ...useBlockProps.save() }>\r\n\t\t\t{ src && (\r\n\t\t\t\t<video\r\n\t\t\t\t\tautoPlay={ autoplay }\r\n\t\t\t\t\tcontrols={ controls }\r\n\t\t\t\t\tloop={ loop }\r\n\t\t\t\t\tmuted={ muted }\r\n\t\t\t\t\tposter={ poster }\r\n\t\t\t\t\tpreload={ preload !== 'metadata' ? preload : undefined }\r\n\t\t\t\t\tsrc={ src }\r\n\t\t\t\t\tplaysInline={ playsInline }\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tracks tracks={ tracks } />\r\n\t\t\t\t</video>\r\n\t\t\t) }\r\n\t\t\t{ ! RichText.isEmpty( caption ) && (\r\n\t\t\t\t<RichText.Content\r\n\t\t\t\t\tclassName={ __experimentalGetElementClassName( 'caption' ) }\r\n\t\t\t\t\ttagName=\"figcaption\"\r\n\t\t\t\t\tvalue={ caption }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</figure>\r\n\t);\r\n}\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","/**\n * External dependencies\n */\nimport { v4 as createId } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { formatListNumbered as icon } from '@wordpress/icons';\nimport { insertObject } from '@wordpress/rich-text';\nimport {\n\tRichTextToolbarButton,\n\tstore as blockEditorStore,\n\tprivateApis,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { createBlock, store as blocksStore } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\n\nconst { usesContextKey } = unlock( privateApis );\n\nexport const formatName = 'core/footnote';\n\nconst POST_CONTENT_BLOCK_NAME = 'core/post-content';\nconst SYNCED_PATTERN_BLOCK_NAME = 'core/block';\n\nexport const format = {\n\ttitle: __( 'Footnote' ),\n\ttagName: 'sup',\n\tclassName: 'fn',\n\tattributes: {\n\t\t'data-fn': 'data-fn',\n\t},\n\tinteractive: true,\n\tcontentEditable: false,\n\t[ usesContextKey ]: [ 'postType', 'postId' ],\n\tedit: function Edit( {\n\t\tvalue,\n\t\tonChange,\n\t\tisObjectActive,\n\t\tcontext: { postType, postId },\n\t} ) {\n\t\tconst registry = useRegistry();\n\t\tconst {\n\t\t\tgetSelectedBlockClientId,\n\t\t\tgetBlocks,\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockName,\n\t\t\tgetBlockParentsByBlockName,\n\t\t} = registry.select( blockEditorStore );\n\t\tconst isFootnotesSupported = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tif (\n\t\t\t\t\t! select( blocksStore ).getBlockType( 'core/footnotes' )\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst allowedBlocks =\n\t\t\t\t\tselect( blockEditorStore ).getSettings().allowedBlockTypes;\n\t\t\t\tif (\n\t\t\t\t\tallowedBlocks === false ||\n\t\t\t\t\t( Array.isArray( allowedBlocks ) &&\n\t\t\t\t\t\t! allowedBlocks.includes( 'core/footnotes' ) )\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst entityRecord = select( coreDataStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t);\n\n\t\t\t\tif ( 'string' !== typeof entityRecord?.meta?.footnotes ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// Checks if the selected block lives within a pattern.\n\t\t\t\tconst {\n\t\t\t\t\tgetBlockParentsByBlockName: _getBlockParentsByBlockName,\n\t\t\t\t\tgetSelectedBlockClientId: _getSelectedBlockClientId,\n\t\t\t\t} = select( blockEditorStore );\n\t\t\t\tconst parentCoreBlocks = _getBlockParentsByBlockName(\n\t\t\t\t\t_getSelectedBlockClientId(),\n\t\t\t\t\tSYNCED_PATTERN_BLOCK_NAME\n\t\t\t\t);\n\t\t\t\treturn ! parentCoreBlocks || parentCoreBlocks.length === 0;\n\t\t\t},\n\t\t\t[ postType, postId ]\n\t\t);\n\n\t\tconst { selectionChange, insertBlock } =\n\t\t\tuseDispatch( blockEditorStore );\n\n\t\tif ( ! isFootnotesSupported ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction onClick() {\n\t\t\tregistry.batch( () => {\n\t\t\t\tlet id;\n\t\t\t\tif ( isObjectActive ) {\n\t\t\t\t\tconst object = value.replacements[ value.start ];\n\t\t\t\t\tid = object?.attributes?.[ 'data-fn' ];\n\t\t\t\t} else {\n\t\t\t\t\tid = createId();\n\t\t\t\t\tconst newValue = insertObject(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: formatName,\n\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t'data-fn': id,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinnerHTML: `<a href=\"#${ id }\" id=\"${ id }-link\">*</a>`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalue.end,\n\t\t\t\t\t\tvalue.end\n\t\t\t\t\t);\n\t\t\t\t\tnewValue.start = newValue.end - 1;\n\t\t\t\t\tonChange( newValue );\n\t\t\t\t}\n\n\t\t\t\tconst selectedClientId = getSelectedBlockClientId();\n\n\t\t\t\t/*\n\t\t\t\t * Attempts to find a common parent post content block.\n\t\t\t\t * This allows for locating blocks within a page edited in the site editor.\n\t\t\t\t */\n\t\t\t\tconst parentPostContent = getBlockParentsByBlockName(\n\t\t\t\t\tselectedClientId,\n\t\t\t\t\tPOST_CONTENT_BLOCK_NAME\n\t\t\t\t);\n\n\t\t\t\t// When called with a post content block, getBlocks will return\n\t\t\t\t// the block with controlled inner blocks included.\n\t\t\t\tconst blocks = parentPostContent.length\n\t\t\t\t\t? getBlocks( parentPostContent[ 0 ] )\n\t\t\t\t\t: getBlocks();\n\n\t\t\t\t// BFS search to find the first footnote block.\n\t\t\t\tlet fnBlock = null;\n\t\t\t\t{\n\t\t\t\t\tconst queue = [ ...blocks ];\n\t\t\t\t\twhile ( queue.length ) {\n\t\t\t\t\t\tconst block = queue.shift();\n\t\t\t\t\t\tif ( block.name === 'core/footnotes' ) {\n\t\t\t\t\t\t\tfnBlock = block;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqueue.push( ...block.innerBlocks );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Maybe this should all also be moved to the entity provider.\n\t\t\t\t// When there is no footnotes block in the post, create one and\n\t\t\t\t// insert it at the bottom.\n\t\t\t\tif ( ! fnBlock ) {\n\t\t\t\t\tlet rootClientId = getBlockRootClientId( selectedClientId );\n\n\t\t\t\t\twhile (\n\t\t\t\t\t\trootClientId &&\n\t\t\t\t\t\tgetBlockName( rootClientId ) !== POST_CONTENT_BLOCK_NAME\n\t\t\t\t\t) {\n\t\t\t\t\t\trootClientId = getBlockRootClientId( rootClientId );\n\t\t\t\t\t}\n\n\t\t\t\t\tfnBlock = createBlock( 'core/footnotes' );\n\n\t\t\t\t\tinsertBlock( fnBlock, undefined, rootClientId );\n\t\t\t\t}\n\n\t\t\t\tselectionChange( fnBlock.clientId, id, 0, 0 );\n\t\t\t} );\n\t\t}\n\n\t\treturn (\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ icon }\n\t\t\t\ttitle={ __( 'Footnote' ) }\n\t\t\t\tonClick={ onClick }\n\t\t\t\tisActive={ isObjectActive }\n\t\t\t/>\n\t\t);\n\t},\n};\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { formatListNumbered as icon } from '@wordpress/icons';\r\nimport { registerFormatType } from '@wordpress/rich-text';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport initBlock from '../utils/init-block';\r\nimport edit from './edit';\r\nimport metadata from './block.json';\r\nimport { formatName, format } from './format';\r\n\r\nconst { name } = metadata;\r\n\r\nexport { metadata, name };\r\n\r\nexport const settings = {\r\n\ticon,\r\n\tedit,\r\n};\r\n\r\nregisterFormatType( formatName, format );\r\n\r\nexport const init = () => {\r\n\tinitBlock( { name, metadata, settings } );\r\n};\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { BlockIcon, RichText, useBlockProps } from '@wordpress/block-editor';\r\nimport { useEntityProp } from '@wordpress/core-data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { Placeholder } from '@wordpress/components';\r\nimport { formatListNumbered as icon } from '@wordpress/icons';\r\n\r\nexport default function FootnotesEdit( { context: { postType, postId } } ) {\r\n\tconst [ meta, updateMeta ] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'meta',\r\n\t\tpostId\r\n\t);\r\n\tconst footnotesSupported = 'string' === typeof meta?.footnotes;\r\n\tconst footnotes = meta?.footnotes ? JSON.parse( meta.footnotes ) : [];\r\n\tconst blockProps = useBlockProps();\r\n\r\n\tif ( ! footnotesSupported ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Placeholder\r\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\r\n\t\t\t\t\tlabel={ __( 'Footnotes' ) }\r\n\t\t\t\t\tinstructions={ __(\r\n\t\t\t\t\t\t'Footnotes are not supported here. Add this block to post or page content.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif ( ! footnotes.length ) {\r\n\t\treturn (\r\n\t\t\t<div { ...blockProps }>\r\n\t\t\t\t<Placeholder\r\n\t\t\t\t\ticon={ <BlockIcon icon={ icon } /> }\r\n\t\t\t\t\tlabel={ __( 'Footnotes' ) }\r\n\t\t\t\t\tinstructions={ __(\r\n\t\t\t\t\t\t'Footnotes found in blocks within this document will be displayed here.'\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ol { ...blockProps }>\r\n\t\t\t{ footnotes.map( ( { id, content } ) => (\r\n\t\t\t\t/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */\r\n\t\t\t\t<li\r\n\t\t\t\t\tkey={ id }\r\n\t\t\t\t\tonMouseDown={ ( event ) => {\r\n\t\t\t\t\t\t// When clicking on the list item (not on descendants),\r\n\t\t\t\t\t\t// focus the rich text element since it's only 1px wide when\r\n\t\t\t\t\t\t// empty.\r\n\t\t\t\t\t\tif ( event.target === event.currentTarget ) {\r\n\t\t\t\t\t\t\tevent.target.firstElementChild.focus();\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tid={ id }\r\n\t\t\t\t\t\ttagName=\"span\"\r\n\t\t\t\t\t\tvalue={ content }\r\n\t\t\t\t\t\tidentifier={ id }\r\n\t\t\t\t\t\t// To do: figure out why the browser is not scrolling\r\n\t\t\t\t\t\t// into view when it receives focus.\r\n\t\t\t\t\t\tonFocus={ ( event ) => {\r\n\t\t\t\t\t\t\tif ( ! event.target.textContent.trim() ) {\r\n\t\t\t\t\t\t\t\tevent.target.scrollIntoView();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonChange={ ( nextFootnote ) => {\r\n\t\t\t\t\t\t\tupdateMeta( {\r\n\t\t\t\t\t\t\t\t...meta,\r\n\t\t\t\t\t\t\t\tfootnotes: JSON.stringify(\r\n\t\t\t\t\t\t\t\t\tfootnotes.map( ( footnote ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn footnote.id === id\r\n\t\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: nextFootnote,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t\t: footnote;\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>{ ' ' }\r\n\t\t\t\t\t<a href={ `#${ id }-link` }>↩︎</a>\r\n\t\t\t\t</li>\r\n\t\t\t) ) }\r\n\t\t</ol>\r\n\t);\r\n}\r\n","/**\n * WordPress dependencies\n */\nimport {\n\tsetDefaultBlockName,\n\tsetFreeformContentHandlerName,\n\tsetUnregisteredTypeHandlerName,\n\tsetGroupingBlockName,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\n// When IS_GUTENBERG_PLUGIN is set to false, imports of experimental blocks\n// are transformed by packages/block-library/src/index.js as follows:\n//    import * as experimentalBlock from './experimental-block'\n// becomes\n//    const experimentalBlock = null;\n// This enables webpack to eliminate the experimental blocks code from the\n// production build to make the final bundle smaller.\n//\n// See https://github.com/WordPress/gutenberg/pull/40655 for more context.\nimport * as archives from './archives';\nimport * as avatar from './avatar';\nimport * as audio from './audio';\nimport * as button from './button';\nimport * as buttons from './buttons';\nimport * as calendar from './calendar';\nimport * as categories from './categories';\nimport * as classic from './freeform';\nimport * as code from './code';\nimport * as column from './column';\nimport * as columns from './columns';\nimport * as comments from './comments';\nimport * as commentAuthorAvatar from './comment-author-avatar';\nimport * as commentAuthorName from './comment-author-name';\nimport * as commentContent from './comment-content';\nimport * as commentDate from './comment-date';\nimport * as commentEditLink from './comment-edit-link';\nimport * as commentReplyLink from './comment-reply-link';\nimport * as commentTemplate from './comment-template';\nimport * as commentsPaginationPrevious from './comments-pagination-previous';\nimport * as commentsPagination from './comments-pagination';\nimport * as commentsPaginationNext from './comments-pagination-next';\nimport * as commentsPaginationNumbers from './comments-pagination-numbers';\nimport * as commentsTitle from './comments-title';\nimport * as cover from './cover';\nimport * as details from './details';\nimport * as embed from './embed';\nimport * as file from './file';\nimport * as form from './form';\nimport * as formInput from './form-input';\nimport * as formSubmitButton from './form-submit-button';\nimport * as formSubmissionNotification from './form-submission-notification';\nimport * as gallery from './gallery';\nimport * as group from './group';\nimport * as heading from './heading';\nimport * as homeLink from './home-link';\nimport * as html from './html';\nimport * as image from './image';\nimport * as latestComments from './latest-comments';\nimport * as latestPosts from './latest-posts';\nimport * as list from './list';\nimport * as listItem from './list-item';\nimport * as logInOut from './loginout';\nimport * as mediaText from './media-text';\nimport * as missing from './missing';\nimport * as more from './more';\nimport * as navigation from './navigation';\nimport * as navigationLink from './navigation-link';\nimport * as navigationSubmenu from './navigation-submenu';\nimport * as nextpage from './nextpage';\nimport * as pattern from './pattern';\nimport * as pageList from './page-list';\nimport * as pageListItem from './page-list-item';\nimport * as paragraph from './paragraph';\nimport * as postAuthor from './post-author';\nimport * as postAuthorName from './post-author-name';\nimport * as postAuthorBiography from './post-author-biography';\nimport * as postComment from './post-comment';\nimport * as postCommentsCount from './post-comments-count';\nimport * as postCommentsForm from './post-comments-form';\nimport * as postCommentsLink from './post-comments-link';\nimport * as postContent from './post-content';\nimport * as postDate from './post-date';\nimport * as postExcerpt from './post-excerpt';\nimport * as postFeaturedImage from './post-featured-image';\nimport * as postNavigationLink from './post-navigation-link';\nimport * as postTemplate from './post-template';\nimport * as postTerms from './post-terms';\nimport * as postTimeToRead from './post-time-to-read';\nimport * as postTitle from './post-title';\nimport * as preformatted from './preformatted';\nimport * as pullquote from './pullquote';\nimport * as query from './query';\nimport * as queryNoResults from './query-no-results';\nimport * as queryPagination from './query-pagination';\nimport * as queryPaginationNext from './query-pagination-next';\nimport * as queryPaginationNumbers from './query-pagination-numbers';\nimport * as queryPaginationPrevious from './query-pagination-previous';\nimport * as queryTitle from './query-title';\nimport * as quote from './quote';\nimport * as reusableBlock from './block';\nimport * as readMore from './read-more';\nimport * as rss from './rss';\nimport * as search from './search';\nimport * as separator from './separator';\nimport * as shortcode from './shortcode';\nimport * as siteLogo from './site-logo';\nimport * as siteTagline from './site-tagline';\nimport * as siteTitle from './site-title';\nimport * as socialLink from './social-link';\nimport * as socialLinks from './social-links';\nimport * as spacer from './spacer';\nimport * as table from './table';\nimport * as tableOfContents from './table-of-contents';\nimport * as tagCloud from './tag-cloud';\nimport * as templatePart from './template-part';\nimport * as termDescription from './term-description';\nimport * as textColumns from './text-columns';\nimport * as tiles from './tiles';\nimport * as tile from './tile';\nimport * as verse from './verse';\nimport * as video from './video';\nimport * as footnotes from './footnotes';\n\nimport isBlockMetadataExperimental from './utils/is-block-metadata-experimental';\n\n/**\n * Function to get all the block-library blocks in an array\n */\nconst getAllBlocks = () => {\n\tconst blocks = [\n\t\t// Common blocks are grouped at the top to prioritize their display\n\t\t// in various contexts — like the inserter and auto-complete components.\n\t\tparagraph,\n\t\timage,\n\t\theading,\n\t\tgallery,\n\t\tlist,\n\t\tlistItem,\n\t\tquote,\n\n\t\t// Register all remaining core blocks.\n\t\tarchives,\n\t\taudio,\n\t\tbutton,\n\t\tbuttons,\n\t\tcalendar,\n\t\tcategories,\n\t\tcode,\n\t\tcolumn,\n\t\tcolumns,\n\t\tcommentAuthorAvatar,\n\t\tcover,\n\t\tdetails,\n\t\tembed,\n\t\tfile,\n\t\tgroup,\n\t\thtml,\n\t\tlatestComments,\n\t\tlatestPosts,\n\t\tmediaText,\n\t\tmissing,\n\t\tmore,\n\t\tnextpage,\n\t\tpageList,\n\t\tpageListItem,\n\t\tpattern,\n\t\tpreformatted,\n\t\tpullquote,\n\t\treusableBlock,\n\t\trss,\n\t\tsearch,\n\t\tseparator,\n\t\tshortcode,\n\t\tsocialLink,\n\t\tsocialLinks,\n\t\tspacer,\n\t\ttable,\n\t\ttagCloud,\n\t\ttextColumns,\n\t\t/** DOUBLEEDESIGN CUSTOM: Tiles block and its inner Tile block */\n\t\ttiles,\n\t\ttile,\n\t\tverse,\n\t\tvideo,\n\t\tfootnotes,\n\n\t\t// theme blocks\n\t\tnavigation,\n\t\tnavigationLink,\n\t\tnavigationSubmenu,\n\t\tsiteLogo,\n\t\tsiteTitle,\n\t\tsiteTagline,\n\t\tquery,\n\t\ttemplatePart,\n\t\tavatar,\n\t\tpostTitle,\n\t\tpostExcerpt,\n\t\tpostFeaturedImage,\n\t\tpostContent,\n\t\tpostAuthor,\n\t\tpostAuthorName,\n\t\tpostComment,\n\t\tpostCommentsCount,\n\t\tpostCommentsLink,\n\t\tpostDate,\n\t\tpostTerms,\n\t\tpostNavigationLink,\n\t\tpostTemplate,\n\t\tpostTimeToRead,\n\t\tqueryPagination,\n\t\tqueryPaginationNext,\n\t\tqueryPaginationNumbers,\n\t\tqueryPaginationPrevious,\n\t\tqueryNoResults,\n\t\treadMore,\n\t\tcomments,\n\t\tcommentAuthorName,\n\t\tcommentContent,\n\t\tcommentDate,\n\t\tcommentEditLink,\n\t\tcommentReplyLink,\n\t\tcommentTemplate,\n\t\tcommentsTitle,\n\t\tcommentsPagination,\n\t\tcommentsPaginationNext,\n\t\tcommentsPaginationNumbers,\n\t\tcommentsPaginationPrevious,\n\t\tpostCommentsForm,\n\t\ttableOfContents,\n\t\thomeLink,\n\t\tlogInOut,\n\t\ttermDescription,\n\t\tqueryTitle,\n\t\tpostAuthorBiography,\n\t];\n\tif ( window?.__experimentalEnableFormBlocks ) {\n\t\tblocks.push( form );\n\t\tblocks.push( formInput );\n\t\tblocks.push( formSubmitButton );\n\t\tblocks.push( formSubmissionNotification );\n\t}\n\n\t// When in a WordPress context, conditionally\n\t// add the classic block and TinyMCE editor\n\t// under any of the following conditions:\n\t//   - the current post contains a classic block\n\t//   - the experiment to disable TinyMCE isn't active.\n\t//   - a query argument specifies that TinyMCE should be loaded\n\tif (\n\t\twindow?.wp?.oldEditor &&\n\t\t( window?.wp?.needsClassicBlock ||\n\t\t\t! window?.__experimentalDisableTinymce ||\n\t\t\t!! new URLSearchParams( window?.location?.search ).get(\n\t\t\t\t'requiresTinymce'\n\t\t\t) )\n\t) {\n\t\tblocks.push( classic );\n\t}\n\n\treturn blocks.filter( Boolean );\n};\n\n/**\n * Function to get all the core blocks in an array.\n *\n * @example\n * ```js\n * import { __experimentalGetCoreBlocks } from '@wordpress/block-library';\n *\n * const coreBlocks = __experimentalGetCoreBlocks();\n * ```\n */\nexport const __experimentalGetCoreBlocks = () =>\n\tgetAllBlocks().filter(\n\t\t( { metadata } ) => ! isBlockMetadataExperimental( metadata )\n\t);\n\n/**\n * Function to register core blocks provided by the block editor.\n *\n * @param {Array} blocks An optional array of the core blocks being registered.\n *\n * @example\n * ```js\n * import { registerCoreBlocks } from '@wordpress/block-library';\n *\n * registerCoreBlocks();\n * ```\n */\nexport const registerCoreBlocks = (\n\tblocks = __experimentalGetCoreBlocks()\n) => {\n\tblocks.forEach( ( { init } ) => init() );\n\n\tsetDefaultBlockName( paragraph.name );\n\tif (\n\t\twindow.wp &&\n\t\twindow.wp.oldEditor &&\n\t\tblocks.some( ( { name } ) => name === classic.name )\n\t) {\n\t\tsetFreeformContentHandlerName( classic.name );\n\t}\n\tsetUnregisteredTypeHandlerName( missing.name );\n\tsetGroupingBlockName( group.name );\n};\n\n/**\n * Function to register experimental core blocks depending on editor settings.\n *\n * @param {boolean} enableFSEBlocks Whether to enable the full site editing blocks.\n * @example\n * ```js\n * import { __experimentalRegisterExperimentalCoreBlocks } from '@wordpress/block-library';\n *\n * __experimentalRegisterExperimentalCoreBlocks( settings );\n * ```\n */\nexport const __experimentalRegisterExperimentalCoreBlocks = process.env\n\t.IS_GUTENBERG_PLUGIN\n\t? ( { enableFSEBlocks } = {} ) => {\n\t\t\tconst enabledExperiments = [ enableFSEBlocks ? 'fse' : null ];\n\t\t\tgetAllBlocks()\n\t\t\t\t.filter( ( { metadata } ) =>\n\t\t\t\t\tisBlockMetadataExperimental( metadata )\n\t\t\t\t)\n\t\t\t\t.filter(\n\t\t\t\t\t( { metadata: { __experimental } } ) =>\n\t\t\t\t\t\t__experimental === true ||\n\t\t\t\t\t\tenabledExperiments.includes( __experimental )\n\t\t\t\t)\n\t\t\t\t.forEach( ( { init } ) => init() );\n\t  }\n\t: undefined;\n"],"names":["classNames","StorageObject","_parseArray","resultSet","array","length","i","_parse","prototype","Object","create","hasOwn","hasOwnProperty","SPACE","arg","argType","str","split","_parseString","Array","isArray","object","toString","k","call","_parseObject","num","_parseNumber","len","arguments","args","classSet","list","push","join","module","exports","default","classes","inner","apply","key","equal","a","b","constructor","keys","Map","size","entries","has","get","Set","ArrayBuffer","isView","RegExp","source","flags","valueOf","characterMap","chars","allAccents","firstAccent","matcher","match","removeAccents","string","replace","remove","metadata","__experimental","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","definition","o","defineProperty","enumerable","obj","prop","r","Symbol","toStringTag","value","window","createElement","SVG","viewBox","xmlns","Path","fillRule","clipRule","initBlock","block","settings","name","registerBlockType","$schema","apiVersion","title","category","description","textdomain","attributes","displayAsDropdown","type","showLabel","showPostCounts","supports","align","html","spacing","margin","padding","__experimentalDefaultControls","typography","fontSize","lineHeight","__experimentalFontFamily","__experimentalFontWeight","__experimentalFontStyle","__experimentalTextTransform","__experimentalTextDecoration","__experimentalLetterSpacing","interactivity","clientNavigation","editorStyle","icon","example","edit","setAttributes","Fragment","InspectorControls","PanelBody","__","ToggleControl","__nextHasNoMarginBottom","label","checked","onChange","SelectControl","options","useBlockProps","Disabled","ServerSideRender","skipBlockSupportAttributes","init","getAvatarSizes","sizes","minSize","maxSize","Math","floor","useDefaultAvatar","avatarURL","defaultAvatarUrl","useSelect","select","getSettings","blockEditorStore","__experimentalDiscussionSettings","AUTHORS_QUERY","who","per_page","_fields","context","filteredAuthorsList","setFilteredAuthorsList","useState","authorsList","getUsers","coreStore","map","author","id","ComboboxControl","help","onFilterValueChange","inputValue","filter","option","toLowerCase","startsWith","AvatarInspectorControls","avatar","selectUser","RangeControl","__next40pxDefaultSize","newSize","min","max","initialPosition","isLink","linkTarget","UserControl","userId","ResizableAvatar","blockProps","isSelected","borderProps","useBorderProps","doubledSizedSrc","addQueryArgs","removeQueryArgs","src","s","ResizableBox","width","height","showHandle","onResizeStop","event","direction","elt","delta","parseInt","lockAspectRatio","enable","top","right","isRTL","bottom","left","minWidth","maxWidth","alt","className","classnames","style","CommentEdit","commentId","avatars","useEntityProp","authorName","avatarUrls","values","defaultAvatar","sprintf","useCommentAvatar","href","onClick","preventDefault","UserEdit","postId","postType","authorDetails","getEditedEntityRecord","getUser","_authorId","avatar_urls","useUserAvatar","usesContext","alignWide","__experimentalBorder","__experimentalSkipSerialization","radius","color","text","background","__experimentalDuotone","selectors","border","props","selector","attribute","caption","autoplay","loop","preload","save","controls","autoPlay","RichText","isEmpty","Content","tagName","memize","fn","head","tail","memoized","node","searchCache","next","prev","val","clear","ASPECT_RATIOS","ratio","WP_EMBED_TYPE","lock","unlock","__dangerousOptInToUnstableAPIsOnlyForCoreModules","DEFAULT_EMBED_BLOCK","url","__experimentalRole","providerNameSlug","allowResponsive","responsive","previewable","isFromWordPress","includes","createUpgradedEmbedBlock","attributesFromPreview","preview","restAttributes","getBlockType","matchedBlock","getBlockVariations","find","patterns","matchesPatterns","some","pattern","findMoreSuitableBlock","isCurrentBlockWP","createBlock","wpVariation","removeAspectRatioClasses","existingClassNames","aspectRatioClassNames","reduce","accumulator","getClassNames","previewDocument","document","implementation","createHTMLDocument","body","innerHTML","iframe","querySelector","aspectRatio","toFixed","ratioIndex","potentialRatio","getAttributesFromPreview","memoize","currentClassNames","isResponsive","provider_name","providerName","kebabCase","componentsPrivateApis","useCanEditEntity","kind","recordId","canUserEditEntityRecord","useUploadMediaFromBlobURL","latestArgs","useRef","useLayoutEffect","current","useEffect","isBlobURL","file","getBlobByURL","allowedTypes","onError","mediaUpload","filesList","onFileChange","media","revokeBlobURL","message","Caption","attributeKey","insertBlocksAfter","placeholder","showToolbarButton","readOnly","addLabel","removeLabel","captionIcon","prevCaption","usePrevious","PrivateRichText","blockEditorPrivateApis","isCaptionEmpty","isPrevCaptionEmpty","showCaption","setShowCaption","ref","useCallback","focus","BlockControls","group","ToolbarButton","isPressed","identifier","__experimentalGetElementClassName","inlineToolbar","__unstableOnSplitAtEnd","getDefaultBlockName","ALLOWED_MEDIA_TYPES","from","isMatch","files","indexOf","transform","createBlobURL","tag","shortcode","named","mp3","m4a","ogg","wav","wma","keywords","anchor","viewportWidth","transforms","deprecated","onReplace","isSingleSelected","isTemporaryAudio","toggleAttribute","newValue","onSelectURL","newSrc","embedBlock","onSelectAudio","onUploadError","createErrorNotice","useDispatch","noticesStore","MediaReplaceFlow","mediaId","mediaURL","accept","onSelect","_x","isDisabled","Spinner","MediaPlaceholder","BlockIcon","cleanEmptyObject","fontFamily","pop","migrateBorderRadius","borderRadius","newAttributes","oldBorderRadius","possibleBorderRadius","migrateCustomColorsAndGradients","customTextColor","customBackgroundColor","customGradient","gradient","oldColorsMigration","textColor","blockAttributes","v11","rel","backgroundColor","gradients","reusable","__experimentalSelector","getBorderClassesAndStyles","colorProps","getColorClassesAndStyles","spacingProps","getSpacingClassesAndStyles","buttonClasses","buttonStyle","wrapperClasses","target","v10","migrate","migrateFontFamily","isEligible","compose","otherAttributes","textClass","getColorClassName","backgroundClass","gradientClass","__experimentalGetGradientClass","newClassName","trim","NEW_TAB_REL","NEW_TAB_TARGET","NOFOLLOW_REL","removeAnchorTag","LINK_SETTINGS","LinkControl","DEFAULT_LINK_SETTINGS","parent","textAlign","shadow","styles","isDefault","mergeBlocks","clientId","TagName","popoverAnchor","setPopoverAnchor","useColorProps","useSpacingProps","shadowProps","useShadowProps","richTextRef","useMergeRefs","onKeyDown","isKeyboardEvent","primary","startEditing","primaryShift","unlink","blockEditingMode","useBlockEditingMode","isEditingURL","setIsEditingURL","isURLSet","opensInNewTab","nofollow","isLinkTag","linkValue","useMemo","useEnterRef","replaceBlocks","selectionChange","getBlock","getBlockRootClientId","getBlockIndex","propsRef","useRefEffect","element","defaultPrevented","keyCode","ENTER","content","topParentListBlock","blockIndex","cloneBlock","innerBlocks","slice","middle","after","addEventListener","removeEventListener","useEnter","mergedRef","lockUrlControls","blockBindingsSource","blocksStore","getBlockBindingsSource","bindings","lockAttributesEditing","withoutInteractiveFormatting","onSplit","onMerge","AlignmentControl","nextAlign","link","shortcut","displayShortcut","linkOff","isActive","Popover","placement","onClose","focusOnMount","__unstableSlotName","shift","newURL","newOpensInNewTab","newNofollow","newLinkTarget","updatedRel","relRegex","prependHTTP","getUpdatedLinkAttributes","onRemove","forceIsEditingLink","TextControl","newRel","isButtonTag","buttonType","getShadowClassesAndStyles","merge","migrateWithLayout","layout","contentJustification","orientation","updatedAttributes","assign","justifyContent","__experimentalExposeControlsToChildren","blockGap","InnerBlocks","getTransformedMetadata","newBlockName","bindingsCallback","transformSupportedProps","renaming","newMetadata","isMultiBlock","blocks","buttons","innerText","getAttribute","contentBinding","paragraphs","every","links","querySelectorAll","DEFAULT_BLOCK","attributesToCopy","allowedBlocks","allowSwitching","allowInheriting","_layout$orientation","hasButtonVariations","innerBlocksProps","useInnerBlocksProps","defaultBlock","directInsert","template","templateInsertUpdatesSelection","getYearMonth","date","dateObj","Date","year","getFullYear","month","getMonth","to","hasPosts","hasPostsResolved","getEntityRecords","hasFinishedResolution","singlePublishedPostQuery","status","posts","postsResolved","_date","editorSelectors","getEditedPostAttribute","Placeholder","showHierarchy","showOnlyTopLevel","showEmpty","CategoriesEdit","selectId","useInstanceId","query","hide_empty","records","categories","isResolving","useEntityRecords","getCategoriesList","parentId","attributeName","renderCategoryName","decodeEntities","renderCategoryListItem","childCategories","count","childCategory","renderCategoryDropdownItem","level","pin","renderCategoryDropdown","categoriesList","VisuallyHidden","as","htmlFor","ConvertToBlocksButton","rawHandler","HTML","serialize","ModalAuxiliaryActions","isModalFullScreen","useViewportMatch","Button","fullscreen","ClassicEdit","store","baseURL","suffix","wpEditorL10n","tinymce","EditorManager","overrideDefaults","base_url","wp","oldEditor","initialize","setup","editor","on","doc","getDoc","forEach","css","styleEl","appendChild","ModalEdit","isOpen","setOpen","setIsModalFullScreen","ToolbarGroup","RawHTML","Modal","onRequestClose","shouldCloseOnClickOutside","overlayClassName","isFullScreen","headerActions","defaultValue","Flex","justify","expanded","FlexItem","variant","getContent","getMultiSelectedBlockClientIds","didMount","currentContent","setContent","onSetup","bookmark","selection","getBookmark","scrollContainer","scrollPosition","scrollTop","once","moveToBookmark","debouncedOnChange","debounce","_lastChange","cancel","stopPropagation","BACKSPACE","DELETE","getBody","childNodes","test","textContent","isTmceEmpty","stopImmediatePropagation","altKey","F10","rootNode","ownerDocument","activeElement","blur","inline","content_css","fixed_toolbar_container","onReadyStateChange","readyState","nativeEvent","customClassName","canRemove","canRemoveBlock","isIframed","setIsIframed","escapeOpeningSquareBrackets","escapeProtocolInIsolatedUrls","regExp","toHTMLString","nodeName","children","firstChild","schema","pre","code","__unstablePreserveWhiteSpace","attributesToMerge","preserveWhiteSpace","__unstablePastePlainText","__unstableOnSplitAtDoubleLineEnd","pipe","verticalAlignment","isFinite","flexBasis","templateLock","__experimentalOnEnter","heading","button","availableUnits","useSettings","units","useCustomUnits","columnsIds","hasChildBlocks","rootClientId","getBlockOrder","rootId","updateBlockAttributes","widthWithUnit","Number","columnsCount","currentColumnPosition","renderAppender","ButtonBlockAppender","BlockVerticalAlignmentToolbar","UnitControl","labelPosition","__unstableInputWidth","nextWidth","parseFloat","endsWith","multiplier","round","getDeprecatedLayoutColumn","originalContent","columnMatch","classListItem","classList","isStackedOnMobile","columns","innerBlock","migratedInnerBlocks","columnIndex","columnBlocks","ignoredColumns","toWidthPrecision","unitlessValue","getEffectiveColumnWidth","totalBlockCount","getRedistributedColumnWidths","availableWidth","totalWidth","sum","getTotalColumnsWidth","fromEntries","getColumnWidths","getMappedColumnWidths","widths","ColumnsEditContainer","canInsertColumnBlock","minCount","canInsertBlockType","getBlocks","getBlockCount","preventRemovalBlockIndexes","acc","index","registry","useRegistry","replaceInnerBlocks","newVerticalAlignment","innerBlockClientIds","batch","previousColumns","newColumns","hasExplicitWidths","blockWidth","isAddingColumn","newColumnWidth","newlyAddedColumns","updateColumns","Notice","isDismissible","blockType","defaultVariation","variations","getDefaultBlockVariation","__experimentalBlockVariationPicker","nextVariation","createBlocksFromInnerBlocksTemplate","allowSkip","scope","__experimentalConvert","columnWidth","innerBlocksTemplate","selectedBlocksLength","priority","mediaAlt","mediaPosition","mediaSizeSlug","sizeSlug","mediaType","mediaUrl","mediaWidth","linkClass","linkDestination","reverse","ungroup","flatMap","__experimentalDefault","sides","allowEditing","flexWrap","Component","Tag","newClasses","cls","newBlockProps","CommentsInspectorControls","htmlElementMessages","section","aside","CommentsFormPlaceholder","instanceId","noValidate","onSubmit","cols","rows","CommentsForm","commentStatus","setCommentStatus","isSiteEditor","defaultCommentStatus","postTypeSupportsComments","getPostType","comments","actions","Warning","PostCommentsPlaceholder","postTitle","inert","loading","dateTime","createInterpolateElement","CommentsLegacy","legacy","TEMPLATE","ancestor","inserter","maxSizeBuffer","inspectorControls","newWidth","resizableAvatar","Circle","cx","cy","v1","displayName","getEntityRecord","comment","author_name","_user$name","user","blockControls","newAlign","displayAuthor","rendered","format","siteFormat","getDateSettings","formats","DateFormatPicker","defaultFormat","nextFormat","commentDate","dateI18n","CommentTemplateInnerBlocks","activeCommentId","setActiveCommentId","firstCommentId","MemoizedCommentTemplatePreview","isHidden","CommentsList","memo","CommentTemplatePreview","blockPreviewProps","useBlockPreview","handleOnClick","display","tabIndex","role","onKeyPress","BlockContextProvider","commentOrder","threadCommentsDepth","threadComments","commentsPerPage","pageComments","commentQuery","useCommentQueryArgs","queryArgs","order","_embed","defaultCommentsPage","defaultPage","perPage","page","useDefaultPageIndex","defaultPages","setDefaultPages","apiFetch","path","post","method","parse","then","res","pages","headers","topLevelComments","commentTree","_embedded","child","useCommentTree","getCommentsPlaceholder","commentsDepth","buildChildrenComment","commentsLevel","placeholderComments","arrowMap","none","arrow","chevron","paginationArrow","displayArrow","PlainText","__experimentalVersion","newLabel","CommentsPaginationArrowControls","ToggleGroupControl","isBlock","ToggleGroupControlOption","providesContext","hasNextPreviousBlocks","PaginationItem","extraClass","showPostTitle","showCommentsCount","singleCommentLabel","multipleCommentsLabel","oldAttributes","commentsCount","setCommentsCount","rawTitle","nestedCommentsNumber","topLevelCommentsNumber","commentsNumber","currentPostId","catch","HeadingLevelDropdown","newLevel","_n","POSITION_CLASSNAMES","center","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","COVER_MIN_HEIGHT","DEFAULT_FOCAL_POINT","x","y","dimRatioToClass","isContentPositionCenter","contentPosition","getPositionClassName","backgroundImageStyles","backgroundImage","dimRatioToClassV1","migrateDimRatio","dimRatio","migrateTag","hasParallax","overlayColor","customOverlayColor","backgroundType","focalPoint","v8ToV11BlockAttributes","isRepeated","minHeight","minHeightUnit","isDark","enum","v12BlockAttributes","useFeaturedImage","v7toV11BlockSupports","v12BlockSupports","enableContrastChecker","allowJustification","v13","minHeightProp","overlayColorClass","isImageBackground","isVideoBackground","isImgElement","bgStyle","objectPosition","backgroundPosition","imgClasses","gradientValue","muted","playsInline","v12","isUserOverlayColor","v9","v8","v7","v6","videoStyle","positionValue","v5","v4","v3","contentAlign","newAttribs","v2","CoverHeightInput","onUnitChange","unit","inputId","isPx","defaultValues","px","em","rem","vw","vh","computedValue","parsedQuantity","parseQuantityAndUnitFromRawValue","isResetValueOnUnitChange","unprocessedValue","isNaN","CoverInspectorControls","setOverlayColor","coverRef","currentSettings","updateDimRatio","onClearMedia","mediaElement","setGradient","__experimentalUseGradient","showFocalPointPicker","imperativeFocalPointPreview","styleOfRef","property","colorGradientSettings","useMultipleOriginColorsAndGradients","header","main","article","footer","toggleParallax","toggleIsRepeated","FocalPointPicker","onDragStart","onDrag","newFocalPoint","TextareaControl","newAlt","ExternalLink","PanelRow","hasColorsOrGradients","ColorGradientSettingsDropdown","__experimentalIsRenderedInSidebar","colorValue","onColorChange","onGradientChange","isShownByDefault","resetAllFilter","panelId","ToolsPanelItem","hasValue","onDeselect","newDimRatio","step","required","dimensions","newMinHeight","nextUnit","CoverBlockControls","onSelectMedia","toggleUseFeaturedImage","hasInnerBlocks","prevMinHeightValue","setPrevMinHeightValue","prevMinHeightUnit","setPrevMinHeightUnit","isMinFullHeight","BlockAlignmentMatrixControl","nextPosition","FullHeightAlignmentControl","onToggle","toggleMinFullHeight","onToggleFeaturedImage","CoverPlaceholder","disableMediaButtons","labels","instructions","RESIZABLE_BOX_ENABLE_OPTION","topRight","bottomRight","bottomLeft","topLeft","ResizableBoxPopover","ResizableCoverPopover","onResize","onResizeStart","isResizing","setIsResizing","resizableBoxProps","_event","_direction","clientHeight","__experimentalShowTooltip","__experimentalTooltipProps","axis","position","isVisible","grad","turn","rad","PI","t","pow","e","u","g","h","v","l","f","c","p","m","exec","substr","N","M","H","$","j","this","parsed","rgba","isValid","brightness","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","invert","w","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","isEqual","S","arrayToHex","arr","isIgnoredColor","data","ignoredColor","isIgnoredColorAsNumbers","isIgnoredRGBColor","isIgnoredRGBAColor","redIgnored","greenIgnored","blueIgnored","alphaIgnored","threshold","alphaData","alphaInRange","inRange","isIgnoredRGBAColorWithThreshold","colorComponent","ignoredColorComponent","dominantAlgorithm","colorHash","red","green","blue","redTotal","greenTotal","blueTotal","alphaTotal","defaultColor","simpleAlgorithm","sqrtAlgorithm","sqrt","getDefaultColor","getOption","getSrc","resource","HTMLCanvasElement","isInstanceOfHTMLCanvasElement","OffscreenCanvas","isInstanceOfOffscreenCanvas","ImageBitmap","isInstanceOfImageBitmap","isInstanceOfHTMLImageElement","HTMLImageElement","isWebWorkers","ERROR_PREFIX","outputError","silent","error","console","getError","Error","FastAverageColor","canvas","ctx","getColorAsync","Promise","reject","Image","img","crossOrigin","bindImageEvents","complete","result","getColor","resolve","prepareResult","originalSize","factor","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","mode","prepareSizeAndPosition","naturalWidth","naturalHeight","search","HTMLVideoElement","isInstanceOfHTMLVideoElement","videoWidth","videoHeight","getOriginalSize","concat","getContext","clearRect","drawImage","bitmapData","getImageData","getColorFromArray4","arrLength","algorithm","rgb","isDarkColor","hex","hexa","destroy","_this","onload","unbindEvents","onerror","onabort","extend","white","bisque","cadetblue","chartreuse","chocolate","coral","antiquewhite","aqua","azure","whitesmoke","papayawhip","plum","blanchedalmond","black","gold","goldenrod","gainsboro","cornsilk","cornflowerblue","burlywood","aquamarine","beige","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkkhaki","darkgray","darkgreen","darkgrey","peachpuff","darkmagenta","darkred","darkorchid","darkorange","darkslateblue","gray","darkslategray","darkslategrey","deeppink","deepskyblue","wheat","firebrick","floralwhite","ghostwhite","darkviolet","magenta","dodgerblue","grey","honeydew","hotpink","blueviolet","forestgreen","lawngreen","indianred","indigo","fuchsia","brown","maroon","mediumblue","lightcoral","darkturquoise","lightcyan","ivory","lightyellow","lightsalmon","lightseagreen","linen","mediumaquamarine","lemonchiffon","lime","khaki","mediumseagreen","limegreen","mediumspringgreen","lightskyblue","lightblue","midnightblue","lightpink","mistyrose","moccasin","mintcream","lightslategray","lightslategrey","navajowhite","navy","mediumvioletred","powderblue","palegoldenrod","oldlace","paleturquoise","mediumturquoise","mediumorchid","rebeccapurple","lightsteelblue","mediumslateblue","thistle","tan","orchid","mediumpurple","purple","pink","skyblue","springgreen","palegreen","yellow","slateblue","lavenderblush","peru","palevioletred","violet","teal","slategray","slategrey","aliceblue","darkseagreen","darkolivegreen","greenyellow","seagreen","seashell","tomato","silver","sienna","lavender","lightgreen","orange","orangered","steelblue","royalblue","turquoise","yellowgreen","salmon","saddlebrown","sandybrown","rosybrown","darksalmon","lightgoldenrodyellow","snow","lightgrey","lightgray","dimgray","dimgrey","olivedrab","olive","toName","closest","DEFAULT_BACKGROUND_COLOR","retrieveFastAverageColor","fastAverageColor","getMediaColor","async","colord","imgCrossOrigin","applyFilters","process","compositeIsDark","overlay","composite","dest","withColors","toggleSelection","originalUrl","originalBackgroundType","featuredImage","__unstableMarkNextChangeAsNotPersistent","getMedia","source_url","averageBackgroundColor","newOverlayColor","newIsDark","replaceAll","mediaAttributes","getBlobTypeByURL","media_type","attributesFromMedia","newMedia","isImage","onSetOverlayColor","isUploadingMedia","isTemporaryMedia","resizeListener","useResizeObserver","resizableBoxDimensions","minHeightWithUnit","mediaStyle","hasBackground","fontSizes","getInnerBlocksTemplate","dropZoneElement","newUseFeaturedImage","resizableCoverProps","ColorPalette","disableCustomColors","clearable","showOverlay","class","withIllustration","duotone","parentAttributes","attributesWithoutBackgroundColors","transformedColorAttributes","groupAttributes","cover","showContent","summary","open","__experimentalCaptureToolbars","hasSelection","isBlockSelected","hasSelectedInnerBlock","allowedFormats","newSummary","getResponsiveHelp","EmbedControls","blockSupportsResponsive","showEditButton","themeSupportsResponsive","toggleResponsive","switchBackToURLInput","embedContentIcon","embedAudioIcon","embedPhotoIcon","embedVideoIcon","embedTwitterIcon","foreground","G","embedYouTubeIcon","embedFacebookIcon","embedInstagramIcon","embedWordPressIcon","embedSpotifyIcon","embedFlickrIcon","embedVimeoIcon","embedRedditIcon","embedTumblrIcon","embedAmazonIcon","embedAnimotoIcon","fill","embedDailymotionIcon","embedPinterestIcon","version","embedWolframIcon","embedPocketCastsIcon","EmbedLoading","EmbedPlaceholder","cannotEmbed","fallback","tryAgain","showColors","attributeMap","frameborder","marginheight","marginwidth","WpEmbedPreview","DOMParser","parseFromString","iframeProps","defaultView","resizeWPembeds","secret","useFocusableIframe","EmbedPreview","super","hideOverlay","bind","state","interactive","getDerivedStateFromProps","nextProps","setState","render","onCaptionChange","scripts","photo","imageUrl","thumbnail_url","photoPreview","renderToString","getPhotoHtml","parsedHost","URL","host","parsedHostBaseUrl","splice","iframeTitle","sandboxClassnames","embedWrapper","SandBox","onFocus","onMouseUp","EMBED_BLOCK","variation","variationAttributes","embedClassName","attributesUrl","defaultEmbedInfo","provider","setURL","invalidateResolution","fetching","getEmbedPreview","isPreviewEmbedFallback","isRequestingEmbedPreview","getThemeSupports","embedPreview","previewIsFallback","validPreview","getMergedAttributes","getMergedAttributesWithPreview","currentAttributes","getAuthority","mergedAttributes","upgradedBlock","View","blockClass","classFromPreview","newAllowResponsive","fileId","fileName","textLinkHref","textLinkTarget","showDownloadButton","downloadButtonText","displayPreview","previewHeight","pdfEmbedLabel","hasFilename","describedById","download","FileBlockInspector","hrefs","openInNewWindow","changeLinkDestinationOption","changeOpenInNewWindow","changeShowDownloadButton","changeDisplayPreview","changePreviewHeight","attachmentPage","linkDestinationOptions","MIN_PREVIEW_HEIGHT","MAX_PREVIEW_HEIGHT","createActiveXObject","ax","ActiveXObject","ClipboardToolbarButton","disabled","createNotice","useCopyToClipboard","blobURL","getFilename","mime_type","onSelectFile","isPdf","getAnimateClassName","displayPreviewInEditor","navigator","userAgent","maxTouchPoints","newHref","newHeight","maxHeight","grid","formSubmissionNotificationSuccess","formSubmissionNotificationError","submissionMethod","action","visibilityPermissions","email","viewScript","Edit","autoComplete","newVal","encType","Save","DISALLOWED_PARENTS","addFilter","canInsert","getBlockParentsByBlockName","disallowedParentType","inlineLabel","inputStyle","inputClasses","stripHTML","CheckboxControl","elements","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","pickRelevantMediaFiles","image","imageProps","media_details","fullUrl","full","isGalleryV2Enabled","Platform","isNative","galleryBlockV2Enabled","getGalleryBlockV2Enabled","DEPRECATED_LINK_DESTINATION_MEDIA","DEPRECATED_LINK_DESTINATION_ATTACHMENT","defaultColumnsNumberV1","images","getHrefAndDestination","destination","runV2Migration","linkTo","imageBlocks","getImageBlock","ids","allowResize","items","shortCodeTransforms","minimum","maximum","imageCrop","fixedHeight","_attributes$ids","parsedId","isInteger","_attributes$images","alignnone","sharedIcon","MIN_SIZE","LINK_DESTINATION_CUSTOM","galleryDestination","imageDestination","IMAGE_LINK_DESTINATION_MEDIA","IMAGE_LINK_DESTINATION_ATTACHMENT","IMAGE_LINK_DESTINATION_NONE","getUpdatedLinkTargetSettings","currentRel","relVal","removeNewTabRel","Gallery","mediaPlaceholder","__unstableLayoutClassNames","layoutClassNames","isContentLocked","multiGallerySelection","EMPTY_IMAGE_MEDIA","useStyleOverride","GapStyles","fallbackValue","row","gapValue","column","getGapCSSValue","linkOptions","PLACEHOLDER_TEXT","MOBILE_CONTROL_PROPS_RANGE_CONTROL","EMPTY_ARRAY","withViewportMatch","isNarrow","randomOrder","selectBlock","createSuccessNotice","innerBlockImages","blockWasJustInserted","_getBlock$innerBlocks","getBlockName","_getSettings","_getBlock","wasBlockJustInserted","multiSelectedClientIds","_clientId","fromSavedContent","Boolean","imageData","_select$getMediaItems","imageIds","imageBlock","getMediaItems","include","orderby","useGetMedia","newImages","currentImages","setCurrentImages","imagesUpdated","newCurrentImages","currentImg","currentImage","fromSavedConent","getNewImages","useGetNewImages","newImage","buildImageAttributes","imageSizeOptions","imageSizes","resizedImages","currentResizedImages","currentSizes","defaultUrl","slug","mediaDetailsUrl","resizedImageSizes","getImageSizing","useImageSizes","imageAttributes","raw","alt_text","isValidFileType","nativeFileData","mediaTypeSelector","updateImages","selectedImages","newFileUploads","imageArray","processedImages","newOrderMap","existingImageBlocks","newBlocks","existingImg","sort","view","defaultProps","hasImages","hasImageIds","imagesUploading","mediaPlaceholderProps","web","addToGallery","native","isAppender","autoOpenMediaUpload","handleUpload","multiple","nativeInnerBlockProps","marginHorizontal","marginVertical","hasLinkTo","imageCount","newSizeSlug","changedAttributes","getImageSizeAttributes","imageSize","hideCancelButton","linkToText","linkType","openInNewTab","noticeText","isWeb","BaseControl","VisualLabel","mediaIds","GalleryImage","onSelectImage","onRemoveImage","bindContainer","onEdit","onSelectImageFromLibrary","onSelectCustomURL","isEditing","container","componentDidUpdate","deselectOnBlur","isTemporaryImage","omittedAlt","restMediaAttributes","omittedCaption","isFirstItem","isLastItem","onMoveForward","onMoveBackward","ariaLabel","imageIcon","ButtonGroup","chevronLeft","chevronRight","closeSmall","newCaption","withSelect","ownProps","withDispatch","dispatch","RichTextVisibilityHelper","richTextProps","selectedImage","onDeselectImage","onSetImageAttributes","attrs","withNotices","noticeUI","noticeOperations","setSelectedImage","attachmentCaptions","setAttachmentCaptions","newAttrs","onMove","oldIndex","newIndex","selectCaption","newImageId","currentImageCaption","attachment","onSelectImages","OS","removeAllNotices","notices","getImagesSizeOptions","shouldShowSizeOptions","onFocusGalleryCaption","EditWithInnerBlocks","EditWithoutInnerBlocks","toBlock","fromBlocks","galleryBlock","transformedBlock","validImages","parseShortcodeIds","imageId","imageSizeSlug","saveWithoutInnerBlocks","migrateAttributes","__experimentalSettings","inherit","contentSize","getGroupPlaceholderIcons","icons","iconSize","GroupEditControls","onSelectTagName","alignments","widestAlignment","groupInnerBlocks","stack","__experimentalOnMerge","backgroundSize","sticky","allowSizingOnChildren","themeSupportsLayout","supportsLayout","layoutSupportEnabled","showPlaceholder","setShowPlaceholder","usedLayoutType","useShouldShowPlaceHolder","GroupPlaceHolder","blockSupports","migrateCustomColors","TEXT_ALIGN_OPTIONS","migrateTextAlign","rest","__unstablePasteTextInline","fontAppearance","textTransform","__experimentalSlashInserter","anchors","generateAnchor","dummyElement","getTextWithoutMarkup","getSlug","setAnchor","phrasingContentSchema","isPaste","h1","h2","h3","h4","h5","h6","getBlockAttributes","outerHTML","prefix","__experimentalWritingMode","__experimentalLabel","customName","hasContent","canGenerateAnchors","getGlobalBlockCount","generateAnchors","isOriginal","_getDefaultBlockName","deleteEnter","home","homeUrl","getUnstableBase","labelValue","HTMLEditPreview","settingStyles","transformStyles","HTMLEdit","isPreview","setIsPreview","useContext","Context","Preview","extraImageProps","figureStyle","figure","__experimentalStyle","scale","imageClasses","objectFit","behaviors","lightbox","enabled","useClientWidth","dependencies","clientWidth","setClientWidth","calculateClientWidth","TOOLSPANEL_DROPDOWNMENU_PROPS","popoverProps","offset","DimensionsTool","ResolutionTool","scaleOptions","ImageWrapper","cursor","temporaryURL","containerRef","numericWidth","numericHeight","imageRef","canInsertCover","imageEditing","isLargeViewport","isWideAligned","loadedNaturalWidth","loadedNaturalHeight","setLoadedNaturalSize","isEditingImage","setIsEditingImage","externalBlob","setExternalBlob","hasNonContentControls","isContentOnlyMode","isResizable","isExternalImage","fetch","response","blob","onSetTitle","updateAlt","canEditImage","allowCrop","dimensionsUnitsOptions","lightboxSetting","showLightboxSetting","lightboxChecked","dimensionsControl","newScale","newAspectRatio","defaultScale","defaultAspectRatio","unitsOptions","resetAll","sizeControls","ToolsPanel","dropdownMenuProps","lockHrefControls","lockAltControls","lockAltControlsMessage","lockTitleControls","lockTitleControlsMessage","lockCaption","urlBinding","altBinding","titleBinding","hasParentPattern","urlBindingSource","altBindingSource","titleBindingSource","ImageURLInputUI","onChangeUrl","mediaLink","lightboxEnabled","onSetLightbox","resetLightbox","crop","overlayText","switchToBlockType","upload","Dropdown","renderToggle","DOWN","renderContent","newUrl","filename","defaultedAlt","isRounded","onImageError","onLoad","fallbackClientWidth","ImageEditor","onSaveImage","onFinishEditing","numericRatio","Infinity","NaN","evalAspectRatio","naturalRatio","currentWidth","currentHeight","maxWidthBuffer","showRightHandle","showLeftHandle","offsetWidth","String","resizeRatio","hasSize","_image$sizes$size","_image$media_details$","getFirstAnchorAttributeFormHTML","firstElementChild","imageSchema","require","figcaption","alignMatches","idMatches","anchorElement","nodeToRemove","parentNode","removeChild","getEditWrapperProps","setTemporaryURL","altRef","captionRef","imageDefaultSize","additionalAttributes","mediaPreview","lockUrlControlsMessage","pluginsIcon","commentsToShow","displayAvatar","displayDate","displayExcerpt","serverSideAttributes","urlQueryArgs","_locale","selectedAuthor","postsToShow","displayPostContent","displayPostContentRadio","excerptLength","displayPostDate","postLayout","orderBy","displayFeaturedImage","featuredImageAlign","featuredImageSizeSlug","featuredImageSizeWidth","featuredImageSizeHeight","addLinkToFeaturedImage","CATEGORIES_LIST_QUERY","USERS_LIST_QUERY","has_published_posts","LatestPostsEdit","_categoriesList$reduc","latestPosts","defaultImageWidth","defaultImageHeight","authorList","_settings$imageDimens","_settings$imageDimens2","catIds","cat","latestPostsQuery","imageDimensions","createWarningNotice","removeNotice","noticeStore","noticeId","showRedirectionPreventedNotice","categorySuggestions","RadioControl","selected","ImageSizeControl","imageWidth","imageHeight","imageSizeHelp","onChangeImage","BlockAlignmentToolbar","isCollapsed","QueryControls","numberOfItems","onOrderChange","onOrderByChange","onNumberOfItemsChange","onCategoryChange","tokens","token","allCategories","selectedCategories","onAuthorChange","selectedAuthorId","displayPosts","layoutControls","dateFormat","titleTrimmed","excerpt","currentAuthor","excerptElement","imageSourceUrl","featuredImageAlt","getFeaturedImageDetails","renderFeaturedImage","postExcerpt","span","dangerouslySetInnerHTML","__html","date_gmt","LIST_STYLES","A","I","migrateToListV2","start","reversed","ordered","setAttribute","listBlock","v0","multiline","__unstableMultilineWrapperTags","OrderedListSettings","int","forwardRef","extraProps","IndentUI","outdentList","parentBlockId","parentBlockAttributes","newParentBlock","useOutdentList","canOutdent","formatOutdentRTL","formatOutdent","describedBy","getListContentSchema","listContentSchema","ul","ol","li","getListContentFlat","childBlocks","createListBlockFromDOMElement","listElement","listAttributes","hasAttribute","listItem","nodeType","TEXT_NODE","nestedList","nodes","htmlNodes","childAttributes","childInnerBlocks","_attributes","listStyleType","newInnerBlocks","since","alternative","useMigrateOnLoad","formatListBulletsRTL","formatListBullets","formatListNumberedRTL","formatListNumbered","useIndentListItem","multiSelect","getPreviousBlockClientId","getSelectionStart","getSelectionEnd","hasMultiSelection","_hasMultiSelection","clientIds","clonedBlocks","previousSiblingId","newListItem","selectionStart","selectionEnd","useOutdentListItem","moveBlocksToPosition","removeBlock","insertBlock","updateBlockListSettings","getSelectedBlockClientIds","getBlockListSettings","firstClientId","parentListItemId","listId","getParentListItemId","parentListId","lastClientId","followingListItems","nestedListId","nestedListBlock","useMerge","getNextBlockClientId","outdentListItem","getTrailingId","_getNextId","getNextId","forward","mergeWithNested","clientIdA","clientIdB","nestedListClientId","nextBlockClientId","previousBlockClientId","convertBlockToList","paragraph","indentListItem","canIndent","formatIndentRTL","formatIndent","__unstableDisableDropZone","useSpaceRef","shiftKey","metaKey","ctrlKey","TAB","useSpace","isAfter","useSplit","nextContent","listItems","convertToListItems","privateApis","requiresWrapperOnCopy","displayLoginAsForm","redirectToCurrent","DEFAULT_MEDIA_SIZE_SLUG","v1ToV5ImageFillStyles","DEFAULT_MEDIA_WIDTH","noop","migrateDefaultAlign","v0Attributes","v4ToV5BlockAttributes","imageFill","v4ToV5Supports","mediaTypeRenders","video","backgroundStyles","v6ImageFillStyles","gridTemplateColumns","finalizedAttributes","imageFillStyles","ResizableBoxContainer","isMobile","ToolbarEditButton","featuredImageURL","PlaceholderContainer","commitWidthChange","onWidthChange","enableResize","enablePositions","mediaTypeRenderers","applyWidthConstraints","getImageSourceUrlBySizeSlug","coverAttributes","featuredImageMedia","refMediaContainer","resizable","temporaryMediaWidth","setTemporaryMediaWidth","large","widthString","msGridColumns","mediaTextGeneralSettings","newMediaAlt","newMediaSizeSlug","BlockVerticalAlignmentControl","alignment","pullLeft","pullRight","MediaContainer","MissingEdit","replaceBlock","convertToHTML","originalUndelimitedContent","originalName","hasFreeformBlock","hasHTMLBlock","messageHTML","convertToHtmlButton","safeHTML","originalBlockType","DEFAULT_TEXT","dataset","customText","noTeaser","toggleHideExcerpt","moreTag","noTeaserTag","cloneElement","PRIORITIZED_INSERTER_BLOCKS","PRELOADED_NAVIGATION_MENUS_QUERY","SELECT_NAVIGATION_MENUS_ARGS","useNavigationMenu","permissions","useResourcePermissions","navigationMenu","isNavigationMenuResolved","isNavigationMenuMissing","editedNavigationMenu","hasResolvedNavigationMenu","isNavigationMenuPublishedOrDraft","selectExistingMenu","canCreate","canCreateNavigationMenus","canUpdate","canUpdateNavigationMenu","canDelete","canDeleteNavigationMenu","isResolvingPermissions","hasResolved","hasResolvedPermissions","navigationMenus","isResolvingNavigationMenus","hasResolvedNavigationMenus","canSwitchNavigationMenu","canUserCreateNavigationMenus","isResolvingCanUserCreateNavigationMenus","hasResolvedCanUserCreateNavigationMenus","canUserUpdateNavigationMenu","hasResolvedCanUserUpdateNavigationMenu","canUserDeleteNavigationMenu","hasResolvedCanUserDeleteNavigationMenu","useNavigationEntities","menuId","menus","isResolvingMenus","hasResolvedMenus","isResolvingPages","hasResolvedPages","menuItems","hasResolvedMenuItems","hasPages","hasMenus","PlaceholderPreview","Icon","navigation","currentMenuId","onSelectNavigationMenu","onSelectClassicMenu","onCreateNew","actionLabel","createNavigationMenuIsSuccess","createNavigationMenuIsError","createActionLabel","isUpdatingMenuRef","setIsUpdatingMenuRef","classicMenus","currentTitle","menuChoices","buildMenuLabel","hasNavigationMenus","hasClassicMenus","showNavigationMenus","showClassicMenus","noMenuSelected","noBlockMenus","menuUnavailable","selectorLabel","DropdownMenu","moreVertical","toggleProps","MenuGroup","MenuItemsChoice","choices","menu","MenuItem","NavigationPlaceholder","onCreateEmpty","speak","isResolvingActions","NavigationMenuSelector","OverlayMenuIcon","focusable","Rect","ResponsiveWrapper","isHiddenByDefault","overlayBackgroundColor","overlayTextColor","hasIcon","responsiveContainerClasses","openButtonClasses","modalId","dialogProps","close","NavigationInnerBlocks","hasCustomPlaceholder","isImmediateParentOfSelectedBlock","selectedBlockHasChildren","getSelectedBlockClientId","selectedBlockId","onInput","useEntityBlockEditor","parentOrChildHasSelection","prioritizedInserterBlocks","__unstableDisableLayoutClassNames","NavigationMenuNameControl","updateTitle","isDeepEqual","shouldSkip","EMPTY_OBJECT","UnsavedInnerBlocks","createNavigationMenu","originalBlocks","innerBlocksAreDirty","areBlocksDirty","isSaving","hasResolvedAllNavigationMenus","isSavingEntityRecord","Wrapper","NavigationMenuDeleteControl","onDelete","isConfirmDialogVisible","setIsConfirmDialogVisible","useEntityId","deleteEntityRecord","isDestructive","ConfirmDialog","onConfirm","force","onCancel","confirmButtonText","noticeRef","customMsg","OverlayMenuPreview","menuItemsToBlocks","mapMenuItemsToBlocks","relation","hashTable","dataTree","createDataTree","mapping","sortedItems","menu_order","menuItem","menuItemTitleField","xfn","attr_title","object_id","menuItemTypeField","isTopLevelItem","isTopLevelLink","menuItemToBlockAttributes","nestedBlocks","nestedMapping","CLASSIC_MENU_CONVERSION_SUCCESS","CLASSIC_MENU_CONVERSION_ERROR","CLASSIC_MENU_CONVERSION_PENDING","classicMenuBeingConvertedId","createTemplatePartId","theme","DRAFT_MENU_PARAMS","PUBLISHED_MENU_PARAMS","CREATE_NAVIGATION_MENU_SUCCESS","CREATE_NAVIGATION_MENU_ERROR","CREATE_NAVIGATION_MENU_PENDING","CREATE_NAVIGATION_MENU_IDLE","getComputedStyle","detectColors","colorsDetectionElement","setColor","setBackground","backgroundColorNode","ELEMENT_NODE","getColors","isSubMenu","customOverlayTextColor","customOverlayBackgroundColor","colors","getNavigationChildBlockProps","innerBlocksColors","ManageMenusButton","isMenuItem","ComponentName","post_type","POPOVER_PROPS","BLOCKS_THAT_CAN_BE_CONVERTED_TO_SUBMENU","AddSubmenuItem","expandedState","expand","setInsertedBlock","addSubmenu","updateSelectionOnInsert","newLink","newSubmenu","LeafMoreMenu","moveBlocksDown","moveBlocksUp","removeBlocks","BlockTitle","maximumLength","noIcons","chevronUp","chevronDown","updateAttributes","updatedValue","originalLabel","originalKind","originalType","newKind","newType","newLabelWithoutHttp","newUrlWithoutHttp","escapeHTML","isBuiltInType","encodeURI","safeDecodeURI","PrivateQuickInserter","QuickInserter","getSuggestionsQuery","subtype","initialSuggestionsSearchOptions","LinkUIBlockInserter","onBack","onSelectBlock","rootBlockClientId","focusOnMountRef","useFocusOnMount","dialogTitleId","dialogDescritionId","chevronLeftSmall","prioritizePatterns","selectBlockOnInsert","hasSearch","LinkUI","addingBlock","setAddingBlock","focusAddBlockButton","setFocusAddBlockButton","showBackdrop","setShowBackdrop","saveEntityRecord","pagesPermissions","postsPermissions","userCanCreate","hasTextControl","hasRichPreviews","showInitialSuggestions","withCreateSuggestion","createSuggestion","pageTitle","createSuggestionButtonText","searchTerm","mark","noDirectEntry","noURLSuggestion","suggestionsQuery","renderControlBottom","LinkUITools","addBlockButtonRef","VStack","plus","BLOCKS_WITH_LINK_UI_SUPPORT","PrivateListView","AdditionalBlockContent","insertedBlock","supportsLinkControls","_insertedBlockClientId","_updatedAttributes","MainContent","isLoading","hasChildren","DeletedNavigationWarning","isExpanded","showAppender","blockSettingsMenu","additionalBlockContent","isManageMenusButtonDisabled","HStack","Heading","AccessibleDescription","AccessibleMenuDescription","menuTitle","setBackgroundColor","setTextColor","setOverlayBackgroundColor","setOverlayTextColor","hasSubmenuIndicatorSetting","customPlaceholder","CustomPlaceholder","openSubmenusOnClick","overlayMenu","showSubmenuIcon","setRef","recursionId","hasAlreadyRendered","useHasRecursion","showNavigationMenuStatusNotice","hideNavigationMenuStatusNotice","useNavigationNotice","showClassicMenuConversionNotice","hideClassicMenuConversionNotice","showNavigationMenuPermissionsNotice","hideNavigationMenuPermissionsNotice","createNavigationMenuStatus","createNavigationMenuError","createNavigationMenuPost","isPending","isCreatingNavigationMenu","isSuccess","isError","setStatus","setValue","setError","editEntityRecord","generateDefaultTitle","area","parentTemplatePartClientIds","definedAreas","__experimentalGetDefaultTemplatePartAreas","getCurrentTheme","templatePartClientId","templatePartBlock","stylesheet","templatePartEntity","definedArea","useTemplatePartAreaLabel","resolveSelect","draftNavigationMenus","all","matchingMenuTitleCount","useGenerateDefaultNavigationTitle","postStatus","err","cause","record","isIdle","useCreateNavigationMenu","createUntitledEmptyNavigationMenu","hasUncontrolledInnerBlocks","uncontrolledInnerBlocks","isInnerBlockSelected","_uncontrolledInnerBlocks","_hasUncontrolledInnerBlocks","_controlledInnerBlocks","controlledInnerBlocks","useInnerBlocks","hasSubmenus","isResponsiveMenuOpen","setResponsiveMenuVisibility","overlayMenuPreview","setOverlayMenuPreview","navMenuResolvedButMissing","convert","convertClassicMenu","classicMenuConversionStatus","classicMenuConversionError","throwOnError","convertClassicMenuToBlockMenu","menuName","classicMenuItems","getMenuItems","useConvertClassicToBlockMenu","isConvertingClassicMenu","handleUpdateMenu","focusNavigationBlock","isEntityAvailable","hasUnsavedBlocks","getNavigationFallbackId","navigationFallbackId","navRef","isPlaceholder","textDecoration","hasBlockOverlay","__unstableHasActiveBlockOverlayActive","enableContrastChecking","detectedBackgroundColor","setDetectedBackgroundColor","detectedColor","setDetectedColor","detectedOverlayBackgroundColor","setDetectedOverlayBackgroundColor","detectedOverlayColor","setDetectedOverlayColor","classicMenu","subMenuElement","hasManagePermissions","overlayMenuPreviewClasses","submenuAccessibilityNotice","isFirstRender","overlayMenuPreviewId","stylingInspectorControls","hidden","hideLabelFromVision","spokenMessage","disableCustomGradients","ContrastChecker","accessibleDescriptionId","MenuInspectorControls","PlaceholderComponent","EntityProvider","RecursionProvider","uniqueId","TYPOGRAPHY_PRESET_DEPRECATION_MAP","fontStyle","fontWeight","migrateIdToRef","navigationMenuId","itemsJustification","rgbTextColor","rgbBackgroundColor","__unstableLocation","styleAttribute","attributeValue","_attributes$style$typ","customFontSize","maxNestingLevel","allowVerticalAlignment","getIcon","variationName","postList","customPostType","enhanceNavigationLinkVariations","buttonUseIcon","buttonPosition","linkIcon","leftAttributes","rightLabel","isInvalid","isDraft","useIsInvalidLink","isPostType","hasId","selectPreviousBlock","isLinkOpen","setIsLinkOpen","openedBy","setOpenedBy","listItemRef","isDraggingWithin","elementRef","setIsDraggingWithin","handleDragStart","handleDragEnter","handleDragEnd","contains","useIsDraggingWithin","itemLabelPlaceholder","prevUrl","isLabelFieldFocused","setIsLabelFieldFocused","isAtMaxNesting","isParentOfSelectedBlock","transformToSubmenu","isURL","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","selectLabelText","missingText","getMissingText","placeholderText","tooltipText","currentTarget","onBlur","urlValue","descriptionValue","titleValue","relValue","Tooltip","ItemSubmenuIcon","strokeWidth","ALLOWED_BLOCKS","parentCount","onlyDescendantIsEmptyLink","_onlyDescendantIsEmptyLink","selectedBlockChildren","singleBlock","prevHasChildren","blockName","navigationChildBlockProps","ParentElement","transformToLink","newLinkBlock","canConvertToLink","removeSubmenu","hasCreateSuggestion","cachedParsers","WeakMap","useParsePatternDependencies","deps","set","parsePatternDependencies","queue","_block$innerBlocks","unshift","registerDependency","add","hasCycle","TypeError","visitedNodes","currentPath","_deps$get","dependency","delete","PatternEdit","selectedPattern","__experimentalGetParsedPattern","currentThemeStylesheet","setBlockEditingMode","getBlockEditingMode","hasRecursionError","setHasRecursionError","queueMicrotask","injectThemeAttributeInBlockTemplateContent","patternName","rootEditingMode","findNavigationLinkById","navigationLinks","navigationLink","foundNavigationLink","convertToNavigationLinks","parentPageID","linkMap","_linkMap$id$innerBloc","createNavigationLinks","parentPage","transformSubmenus","listOfLinks","listOfLinksArray","useConvertToNavigationLinks","parentClientId","convertDescription","ConvertToLinksModal","aria","describedby","NOOP","BlockContent","blockList","parentPageDetails","isNested","openModal","allowConvertToLinks","pagesByParentId","sortedPages","localeCompare","pagesTree","makePagesTree","childPages","tree","item","repeat","rawName","getBlockList","pageProps","hasSelectedChild","hasDraggedChild","isChildOfNavigation","hasDraggedInnerBlock","blockParents","navigationBlockParents","closeModal","__experimentalToolbar","isNavigationChild","frontPageId","canUser","site","show_on_front","page_on_front","dropCap","migrateCustomColorsAndFontSizes","restBlockAttributes","dir","fontSizeClass","getFontSizeClass","useOnEnter","duplicateBlocks","wrapperClientId","hasBlockSupport","newWrapperClientId","defaultBlockName","wrapperBlock","ParagraphRTLControl","setDirection","formatLtr","hasDropCapDisabled","DropCapControl","isDropCapFeatureEnabled","helpText","newDirection","newContent","__unstableEmbedURLOnPaste","__unstableAllowPrefixTransformations","avatarSize","showAvatar","showBio","byline","queryId","isDescendentOfQueryLoop","authorId","authors","avatarSizes","authorOptions","handleSelect","nextAuthorId","showCombobox","showAuthorControl","allowReset","displayAuthorBiography","commentIdInput","setCommentIdInput","blockDefault","hasPostAndComments","blockStyles","PostCommentsFormEdit","instanceIdDesc","commentsText","toLocaleString","ReadOnlyContent","userCanEdit","protected","EditableContent","entityRecord","RecursionError","contextPostId","contextPostType","is12HourFormat","displayType","postDate","postTypeSlug","dateSettings","siteTimeFormat","time","setDate","dateLabel","PublishDateTimePicker","currentDate","is12Hour","singular_name","moreText","showMoreOnNewLine","rawExcerpt","setExcerpt","renderedExcerpt","isProtected","postTypeSupportsExcerpts","isEditable","wordCountType","strippedRenderedExcerpt","AlignmentToolbar","readMoreLink","newMoreText","excerptClassName","rawOrRenderedExcerpt","trimmedExcerpt","excerptWithSpaces","numberOfSpaces","isTrimmed","excerptContent","newShowMoreOnNewLine","SCALE_OPTIONS","DEFAULT_SCALE","scaleHelp","contain","DimensionControls","onDimensionChange","dimension","nextValue","parsedValue","scaleLabel","showScaleControl","nextAspectRatio","nextHeight","nextSizeSlug","Overlay","overlayStyles","disabledClickProps","useFirstImageFromPost","storedFeaturedImage","setFeaturedImage","postContent","imageOpener","groups","JSON","postPermalink","getMediaSourceUrlBySizeSlug","OverlayControls","imageStyles","mediaLibraryButton","showTooltip","tooltipPosition","previous","showTitle","linkLabel","taxonomy","isNext","taxonomies","getTaxonomies","visibility","publicly_queryable","PostTemplateInnerBlocks","MemoizedPostTemplateBlockPreview","blockContextId","setActiveBlockContextId","exclude","taxQuery","parents","restQueryArgs","templateSlug","previewPostType","layoutType","columnCount","activeBlockContextId","templateCategory","builtTaxQuery","taxonomySlug","terms","rest_base","blockContexts","setDisplayLayout","newDisplayLayout","displayLayoutControls","blockContext","ALLOWED_FORMATS","postTerms","variationIconMap","postCategories","post_tag","enhanceVariations","_variationIconMap$var","term","separator","selectedTerm","getTaxonomy","hasPostTerms","visible","taxonomyArgs","usePostTerms","hasPost","blockInformation","useBlockDisplayInformation","postTerm","curr","no_terms","contentStructure","minutesToReadString","Function","__unstableSerializeAndClean","minutesToRead","wordCount","setTitle","fullTitle","onSplitAtEnd","titleElement","SOLID_COLOR_CLASS","citation","mainColor","customMainColor","parseBorderColor","styleString","matches","multilineToInline","shouldShowCitation","isSolidColorStyle","figureClasses","figureStyles","borderColor","blockquoteTextColorClass","blockquoteClasses","blockquoteStyles","figureClass","_select$getSettings$c","getColorObjectByAttributeValues","blockquoteStyle","isWebPlatform","headingBlock","nextCitation","__unstableMobileNoFocusOnMount","getEntitiesInfo","entities","entity","mapById","mapByName","names","getValueFromObjectPath","normalizedPath","fieldName","mapToIHasNameAndId","usePostTypes","postTypes","getPostTypes","excludedPostTypes","filteredPostTypes","viewable","postTypesTaxonomiesMap","postTypesSelectOptions","useTaxonomies","isControlAllowed","allowedControls","useBlockNameForPatterns","activeVariationName","getActiveBlockVariation","getPatternsByBlockTypes","usePatterns","useUnsupportedBlocks","getClientIdsOfDescendants","descendantClientId","hasPostContentBlock","hasBlocksFromPlugins","hasUnsupportedBlocks","QueryToolbar","setQuery","openPatternSelectionModal","hasPatterns","maxPageInputId","contentClassName","NumberControl","isDragEnabled","orderOptions","newOrderBy","newOrder","authorsInfo","sanitizedValue","FormTokenField","suggestions","getIdByValue","entitiesMappedByName","authorValue","__experimentalShowHowTo","BASE_QUERY","setSearch","setSuggestions","debouncedSearch","useDebounce","searchResults","searchHasResolved","selectorArgs","currentParents","currentParentsInfo","entitiesInfo","onInputChange","getTermIdByTermValue","termValue","termId","termValueLower","toLocaleLowerCase","TaxonomyControls","termIds","TaxonomyItem","newTermIds","existingTerms","displayTransform","newTermValues","stickyOptions","StickyControl","EnhancedPaginationControl","enhancedPagination","CreateNewPostLink","newPostUrl","BlockInfo","QueryInspectorControls","displayLayout","authorIds","useAllowedControls","showSticky","setShowSticky","isPostTypeHierarchical","hierarchical","useIsPostTypeHierarchical","querySearch","setQuerySearch","onChangeDebounced","showInheritControl","showPostTypeControl","showOrderControl","showStickyControl","showSettingsPanel","showTaxControl","showSearchControl","showParentControl","showFiltersPanel","updateQuery","supportedTaxonomies","updatedTaxQuery","OrderControl","AuthorControl","ParentControl","modalDescriptionId","EnhancedPaginationModal","notice","QueryContent","postsPerPage","posts_per_page","newQuery","QueryPlaceholder","isStartingBlank","setIsStartingBlank","blockNameForPatterns","activeBlockVariation","QueryVariationPicker","scopeVariations","blockVariations","isNotConnected","namespace","connectedVariations","useScopedBlockVariations","normalizeSearchInput","input","getPatternSearchRank","searchValue","normalizedSearchValue","normalizedTitle","rank","searchPatterns","rankedPatterns","rank1","rank2","PatternSelectionModal","setIsPatternSelectionModalOpen","setSearchValue","blockPreviewContext","blockPatterns","filteredBlockPatterns","shownBlockPatterns","useAsyncList","SearchControl","BlockPatternsList","shownPatterns","onClickPattern","onBlockPatternSelect","queryClientIds","getTransformedBlocksFromPattern","queryBlockAttributes","blocksQueue","titleDate","titleExcerpt","titleDateExcerpt","imageDateTitle","QUERY_DEFAULT_ATTRIBUTES","migrateToTaxQuery","categoryIds","tagIds","migrateColors","hasSingleInnerGroupBlock","groupBlock","newStyles","migrateToConstrainedLayout","newLayout","findPostTemplateBlock","foundBlock","replacePostTemplateBlock","replacementBlock","migrateDisplayLayout","postTemplateBlock","updatedLayoutType","newPostTemplateBlock","withTaxQuery","restWithTaxQuery","withColorAttributes","withColorInnerBlocks","withConstrainedLayoutAttributes","isPatternSelectionModalOpen","QueryPaginationArrowControls","QueryPaginationLabelControl","createPaginationItem","midSize","paginationNumbers","paginationItems","previewPaginationNumbers","withInputField","SUPPORTED_TYPES","showPrefix","showSearchTerm","archiveTypeTitle","archiveNameLabel","__experimentalArchiveTitleNameLabel","__experimentalArchiveTitleTypeLabel","migrateToQuoteV2","parseWithAttributeSchema","migrateLargeStyle","blockquote","handler","BlockQuotation","verse","useLayoutClasses","isOverridableBlock","patternsPrivateApis","fullAlignments","getLegacyIdMap","nameCount","idToClientIdMap","hasOverridableBlocks","getOverridableAttributes","binding","applyInitialContentValuesToInnerBlocks","legacyIdMap","_legacyIdMap$block$cl","metadataName","_defaultValues$metada","contentValues","getContentValuesFromInnerBlocks","_legacyIdMap$block$cl2","patternBlockName","_content$metadataName","attribute1","attribute2","RichTextData","setBlockEditMode","setEditMode","editMode","contentKey","retainedAttributes","updatedContent","overrides","__unstableParentLayout","parentLayout","patternClientId","editedRecord","useEntityRecord","isMissing","initialContent","defaultContent","syncDerivedUpdates","onNavigateToEntityRecord","editingMode","hasPatternOverridesSource","_getBlockEditingMode","canOverrideBlocks","initialBlocks","_editedRecord$blocks$","originalEditingMode","useInferredLayout","initialInferredAlignmentRef","isConstrained","hasFullAlignment","layoutClasses","prevBlocks","subscribe","handleEditOriginal","resetContent","__experimentalIsFocusable","blockLayout","feedURL","itemsToShow","setIsEditing","propName","rss","wrap","InputControl","toolbarControls","buttonOnly","rx","buttonOutside","stroke","buttonInside","noButton","buttonWithIcon","toggleLabel","isPercentageUnit","buttonText","widthUnit","isSearchFieldHidden","wasJustInsertedIntoNavigationBlock","fluidTypographySettings","typographyProps","useTypographyProps","fluid","wideSize","unitControlInputId","isButtonPositionInside","isButtonPositionOutside","hasNoButton","hasOnlyButton","searchFieldRef","buttonRef","buttonPositionControls","renderTextField","textFieldClasses","textFieldStyles","ToolbarDropdownMenu","getButtonPositionIcon","filteredWidth","newUnit","widthValue","padBorderRadius","labelClassnames","getWrapperStyles","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","isNonZeroBorderRadius","renderButton","buttonStyles","handleButtonClick","hr","customColor","colorClass","opacity","currentColor","hasCustomColor","deprecatedOpacityWithNoColor","setDeprecatedOpacityWithNoColor","previousColor","useDeprecatedOpacity","HorizontalRule","removep","autop","ShortcodeEdit","ACCEPT_MEDIA_STRING","SiteLogo","shouldSyncIcon","setLogo","logoUrl","siteUrl","logoId","iconId","setIcon","canUserEdit","setNaturalSize","siteEntities","imageWidthWithinContainer","imgWrapper","ceil","imgEdit","siteIconSettingsUrl","__experimentalUseCustomizerSiteLogoUrl","syncSiteIconHelpText","SiteLogoReplaceFlow","onRemoveLogo","mediaReplaceProps","InspectorLogoPreview","mediaItemData","itemGroupProps","logoSlug","logoMediaDetails","logoLabel","ItemGroup","Truncate","numberOfLines","siteLogoId","siteIconId","isRequestingMediaItem","_canUserEdit","siteSettings","siteData","_siteLogoId","site_logo","_siteIconId","site_icon","mediaItem","_isRequestingMediaItem","shouldForceSync","onInitialSelectLogo","onSelectLogo","onFilesDrop","mediaReplaceFlowProps","logoImage","mediaInspectorPanel","isBordered","MediaUploadCheck","MediaUpload","DropZone","placeholderClassName","HEADING_LEVELS","tagline","canEdit","readOnlySettings","siteTaglineContent","newTagline","disableLineBreaks","siteTitleContent","newTitle","ChainIcon","service","WordPressIcon","FivehundredpxIcon","AmazonIcon","BandcampIcon","BehanceIcon","CodepenIcon","DeviantArtIcon","DribbbleIcon","DropboxIcon","EtsyIcon","FacebookIcon","FeedIcon","FlickrIcon","FoursquareIcon","GoodreadsIcon","GoogleIcon","GitHubIcon","GravatarIcon","InstagramIcon","LastfmIcon","LinkedInIcon","MailIcon","MastodonIcon","MeetupIcon","MediumIcon","PatreonIcon","PinterestIcon","PocketIcon","RedditIcon","SkypeIcon","SnapchatIcon","SoundCloudIcon","SpotifyIcon","TelegramIcon","ThreadsIcon","TiktokIcon","TumblrIcon","TwitchIcon","TwitterIcon","VimeoIcon","VkIcon","WhatsAppIcon","XIcon","YelpIcon","YouTubeIcon","SocialLinkURLPopover","setPopover","URLPopover","URLInput","nextURL","disableSuggestions","keyboardReturn","SocialLinkEdit","showLabels","iconColor","iconColorValue","iconBackgroundColor","iconBackgroundColorValue","showURLPopover","IconComponent","getIconBySite","socialLinkName","getNameBySite","socialLinkLabel","initialOpen","customIconColor","customIconBackgroundColor","justifiedItemsRegex","sizeOptions","_attributes$layout$or","setIconBackgroundColor","setIconColor","logosOnly","backgroundBackup","SocialPlaceholder","SelectedSocialPlaceholder","__experimentalAppenderTagName","colorSettings","entry","check","enableAlpha","isLargeText","MIN_SPACER_SIZE","DimensionInput","spacingSizes","spacingUnits","handleOnChange","parsedUnit","isValueSpacingPreset","SpacingSizesControl","splitOnAxis","showSideInLabel","SpacerControls","ResizableSpacer","getCurrentSize","getNextVal","nextVal","SpacerEdit","disableCustomSpacingSizes","editorSettings","parentOrientation","defaultType","isFlexLayout","inheritedOrientation","blockStyle","selfStretch","flexSize","temporaryHeight","setTemporaryHeight","temporaryWidth","setTemporaryWidth","sizeConditionalOnOrientation","getHeightForVerticalBlocks","getSpacingPresetCssVar","getWidthForHorizontalBlocks","flexGrow","getCustomValueFromPreset","blockOrientation","finalHeight","oldColors","v4Query","colspan","rowspan","hasFixedLayout","cells","foot","hasCaption","Section","rowIndex","cellIndex","cellClasses","colSpan","rowSpan","v3Query","v2Query","v1Query","INHERITED_COLUMN_ATTRIBUTES","updateSelectedCell","updateCell","tableSections","sectionName","selectionSectionName","selectionRowIndex","cellAttributes","cellLocation","isCellSelected","insertRow","firstRow","isEmptyTableSection","getFirstRow","cellCount","_","_firstRow$cells$index","firstCellInColumn","toggleSection","_state$body$0$cells$l","isEmptyRow","ALIGNMENT_CONTROLS","alignLeft","alignCenter","alignRight","cellAriaLabel","TSection","normalizeRowColSpan","rowColSpan","tableContentPasteSchema","tr","allowEmpty","th","td","table","thead","tfoot","tbody","sectionAcc","sectionAttributes","rowAcc","rowAttributes","colAcc","col","initialRowCount","setInitialRowCount","initialColumnCount","setInitialColumnCount","selectedCell","setSelectedCell","tableRef","hasTableCreated","setHasTableCreated","onInsertRow","newRowIndex","onInsertColumn","newColumnIndex","insertColumn","sections","tableControls","tableRowBefore","tableRowAfter","tableRowDelete","deleteRow","tableColumnBefore","tableColumnAfter","tableColumnDelete","cell","deleteColumn","renderedSections","CellTag","alignmentControls","getCellAttribute","getCellAlignment","columnSelection","onChangeColumnAlignment","hasArrowIndicator","hasSplitBorders","rowCount","createTable","ENTRY_CLASS_NAME","TableOfContentsList","nestedHeadingList","disableLinkActivation","linearToNestedHeadingList","headingList","endOfSlice","headings","onlyIncludeCurrentPage","TableOfContentsEdit","_select$getPermalink","_getBlockAttributes","getClientIdsWithDescendants","getBlocksByName","permalink","getPermalink","isPaginated","allBlockClientIds","tocPage","tocIndex","blockClientId","latestHeadings","headingPage","headingPageLink","headingAttributes","canBeLinked","getLatestHeadings","fastDeepEqual","observeCallback","useObserveHeadings","canInsertList","headingTree","numberOfTags","showTagCounts","smallestFontSize","largestFontSize","onFontSizeChange","fontSizeLabel","quantity","updateObj","currentValue","currentQuantity","currentUnit","tax","show_cloud","selectedTaxonomy","__assign","lowerCase","SuppressedError","DEFAULT_SPLIT_REGEXP","DEFAULT_STRIP_REGEXP","noCase","splitRegexp","stripRegexp","delimiter","end","charAt","re","capitalCaseTransform","toUpperCase","upperCaseFirst","paramCase","dotCase","useAlternativeTemplateParts","excludedId","templateParts","_isResolving","templatePart","useAlternativeBlockPatterns","blockNameWithArea","useCreateTemplatePartFromBlocks","useTemplatePartArea","_selectedArea$area_ta","selectedArea","defaultArea","area_tag","TitleModal","areaLabel","TemplatePartPlaceholder","templatePartId","onOpenSelectionModal","showTitleModal","setShowTitleModal","areaObject","createFromBlocks","TemplatePartSelectionModal","filteredTemplateParts","mapTemplatePartToBlockPattern","shownTemplateParts","hasTemplateParts","hasBlockPatterns","switchLegacyWidgetType","getPossibleBlockTransformations","hasWildCardFrom","hasWildCardTo","transformInnerBlocks","SIDEBARS_QUERY","TemplatePartImportControls","selectedSidebar","setSelectedSidebar","isBusy","setIsBusy","sidebars","getSidebars","sidebarOptions","widgetArea","widgets","Spacer","marginBottom","sidebar","getWidgets","skippedWidgets","widget","id_base","about","is_multi","idBase","instance","parsedBlocks","__unstableSkipAutop","getGroupingBlockName","transformWidgetToBlock","FlexBlock","marginTop","TemplatePartAdvancedControls","defaultWrapper","setArea","areaOptions","_area","useRenderAppender","useLayout","defaultLayout","NonEditableTemplatePartPreview","editedBlocks","EditableTemplatePartInnerBlocks","TemplatePartInnerBlocks","canViewTemplatePart","canEditTemplatePart","_select$canUser","_select$canUser2","TemplatePartInnerBlocksComponent","ReplaceButton","isTemplatePartSelectionOpen","setIsTemplatePartSelectionOpen","hasReplacements","TemplatesList","canReplace","shownTemplates","enhanceTemplatePartVariations","coreDataStore","iconName","headerIcon","footerIcon","sidebarIcon","symbolFilledIcon","symbolFilled","capitalCase","currentTheme","isResolved","getEntityArgs","hasResolvedEntity","BlockSettingsMenuControls","selectedClientIds","onPatternSelect","mergedStyle","TilesEditContainerWrapper","updateTiles","previousTiles","newTiles","newTileWidth","tileCount","headingCount","canInsertTileBlock","log","tilesIds","tilesCount","currentTilePosition","Tracks","tracks","track","poster","VideoSettings","autoPlayHelpText","getAutoplayHelp","toggleFactory","onChangePreload","ALLOWED_TYPES","DEFAULT_KIND","KIND_OPTIONS","TrackList","onEditPress","SingleTrackEditor","srcLang","NavigableMenu","Grid","gap","autoFocus","newSrcLang","changes","hasChanges","TracksEditor","trackBeingEdited","setTrackBeingEdited","newTrack","newTracks","_track","trackIndex","FormFileUpload","openFileDialog","VIDEO_POSTER_ALLOWED_MEDIA_TYPES","mp4","m4v","webm","ogv","flv","videoElement","VideoEdit","videoPlayer","posterImageButton","isTemporaryVideo","onSelectVideo","load","videoPosterDescription","VideoCommonSettings","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","byteToHex","uuid","buf","rnds","random","usesContextKey","formatName","POST_CONTENT_BLOCK_NAME","contentEditable","isObjectActive","isFootnotesSupported","allowedBlockTypes","meta","footnotes","_getBlockParentsByBlockName","_getSelectedBlockClientId","parentCoreBlocks","RichTextToolbarButton","replacements","createId","insertObject","selectedClientId","parentPostContent","fnBlock","updateMeta","footnotesSupported","onMouseDown","scrollIntoView","nextFootnote","stringify","footnote","registerFormatType","getAllBlocks","gallery","quote","archives","audio","calendar","commentAuthorAvatar","details","embed","latestComments","mediaText","missing","more","nextpage","pageList","pageListItem","preformatted","pullquote","reusableBlock","socialLink","socialLinks","spacer","tagCloud","textColumns","tiles","tile","navigationSubmenu","siteLogo","siteTitle","siteTagline","postFeaturedImage","postAuthor","postAuthorName","postComment","postCommentsCount","postCommentsLink","postNavigationLink","postTemplate","postTimeToRead","queryPagination","queryPaginationNext","queryPaginationNumbers","queryPaginationPrevious","queryNoResults","readMore","commentAuthorName","commentContent","commentEditLink","commentReplyLink","commentTemplate","commentsTitle","commentsPagination","commentsPaginationNext","commentsPaginationNumbers","commentsPaginationPrevious","postCommentsForm","tableOfContents","homeLink","logInOut","termDescription","queryTitle","postAuthorBiography","__experimentalEnableFormBlocks","form","formInput","formSubmitButton","formSubmissionNotification","needsClassicBlock","__experimentalDisableTinymce","URLSearchParams","location","classic","__experimentalGetCoreBlocks","isBlockMetadataExperimental","registerCoreBlocks","setDefaultBlockName","setFreeformContentHandlerName","setUnregisteredTypeHandlerName","setGroupingBlockName","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks","enabledExperiments"],"sourceRoot":""}