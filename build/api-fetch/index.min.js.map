{"version":3,"file":"./build/api-fetch/index.min.js","mappings":"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","sources":["webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/external window [\"wp\",\"i18n\"]","../../packages/api-fetch/src/middlewares/namespace-endpoint.js","webpack://wp/external window [\"wp\",\"url\"]","../../packages/api-fetch/src/middlewares/preloading.js","../../packages/api-fetch/src/middlewares/fetch-all-middleware.js","../../packages/api-fetch/src/middlewares/http-v1.js","../../packages/api-fetch/src/utils/response.js","../../packages/api-fetch/src/middlewares/media-upload.js","../../packages/api-fetch/src/index.js","../../packages/api-fetch/src/middlewares/user-locale.js","../../packages/api-fetch/src/middlewares/nonce.js","../../packages/api-fetch/src/middlewares/root-url.js","../../packages/api-fetch/src/middlewares/theme-preview.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","/**\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst namespaceAndEndpointMiddleware = ( options, next ) => {\r\n\tlet path = options.path;\r\n\tlet namespaceTrimmed, endpointTrimmed;\r\n\r\n\tif (\r\n\t\ttypeof options.namespace === 'string' &&\r\n\t\ttypeof options.endpoint === 'string'\r\n\t) {\r\n\t\tnamespaceTrimmed = options.namespace.replace( /^\\/|\\/$/g, '' );\r\n\t\tendpointTrimmed = options.endpoint.replace( /^\\//, '' );\r\n\t\tif ( endpointTrimmed ) {\r\n\t\t\tpath = namespaceTrimmed + '/' + endpointTrimmed;\r\n\t\t} else {\r\n\t\t\tpath = namespaceTrimmed;\r\n\t\t}\r\n\t}\r\n\r\n\tdelete options.namespace;\r\n\tdelete options.endpoint;\r\n\r\n\treturn next( {\r\n\t\t...options,\r\n\t\tpath,\r\n\t} );\r\n};\r\n\r\nexport default namespaceAndEndpointMiddleware;\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs, getQueryArgs, normalizePath } from '@wordpress/url';\r\n\r\n/**\r\n * @param {Record<string, any>} preloadedData\r\n * @return {import('../types').APIFetchMiddleware} Preloading middleware.\r\n */\r\nfunction createPreloadingMiddleware( preloadedData ) {\r\n\tconst cache = Object.fromEntries(\r\n\t\tObject.entries( preloadedData ).map( ( [ path, data ] ) => [\r\n\t\t\tnormalizePath( path ),\r\n\t\t\tdata,\r\n\t\t] )\r\n\t);\r\n\r\n\treturn ( options, next ) => {\r\n\t\tconst { parse = true } = options;\r\n\t\t/** @type {string | void} */\r\n\t\tlet rawPath = options.path;\r\n\t\tif ( ! rawPath && options.url ) {\r\n\t\t\tconst { rest_route: pathFromQuery, ...queryArgs } = getQueryArgs(\r\n\t\t\t\toptions.url\r\n\t\t\t);\r\n\r\n\t\t\tif ( typeof pathFromQuery === 'string' ) {\r\n\t\t\t\trawPath = addQueryArgs( pathFromQuery, queryArgs );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( typeof rawPath !== 'string' ) {\r\n\t\t\treturn next( options );\r\n\t\t}\r\n\r\n\t\tconst method = options.method || 'GET';\r\n\t\tconst path = normalizePath( rawPath );\r\n\r\n\t\tif ( 'GET' === method && cache[ path ] ) {\r\n\t\t\tconst cacheData = cache[ path ];\r\n\r\n\t\t\t// Unsetting the cache key ensures that the data is only used a single time.\r\n\t\t\tdelete cache[ path ];\r\n\r\n\t\t\treturn prepareResponse( cacheData, !! parse );\r\n\t\t} else if (\r\n\t\t\t'OPTIONS' === method &&\r\n\t\t\tcache[ method ] &&\r\n\t\t\tcache[ method ][ path ]\r\n\t\t) {\r\n\t\t\tconst cacheData = cache[ method ][ path ];\r\n\r\n\t\t\t// Unsetting the cache key ensures that the data is only used a single time.\r\n\t\t\tdelete cache[ method ][ path ];\r\n\r\n\t\t\treturn prepareResponse( cacheData, !! parse );\r\n\t\t}\r\n\r\n\t\treturn next( options );\r\n\t};\r\n}\r\n\r\n/**\r\n * This is a helper function that sends a success response.\r\n *\r\n * @param {Record<string, any>} responseData\r\n * @param {boolean}             parse\r\n * @return {Promise<any>} Promise with the response.\r\n */\r\nfunction prepareResponse( responseData, parse ) {\r\n\treturn Promise.resolve(\r\n\t\tparse\r\n\t\t\t? responseData.body\r\n\t\t\t: new window.Response( JSON.stringify( responseData.body ), {\r\n\t\t\t\t\tstatus: 200,\r\n\t\t\t\t\tstatusText: 'OK',\r\n\t\t\t\t\theaders: responseData.headers,\r\n\t\t\t  } )\r\n\t);\r\n}\r\n\r\nexport default createPreloadingMiddleware;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs } from '@wordpress/url';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport apiFetch from '..';\r\n\r\n/**\r\n * Apply query arguments to both URL and Path, whichever is present.\r\n *\r\n * @param {import('../types').APIFetchOptions} props\r\n * @param {Record<string, string | number>}    queryArgs\r\n * @return {import('../types').APIFetchOptions} The request with the modified query args\r\n */\r\nconst modifyQuery = ( { path, url, ...options }, queryArgs ) => ( {\r\n\t...options,\r\n\turl: url && addQueryArgs( url, queryArgs ),\r\n\tpath: path && addQueryArgs( path, queryArgs ),\r\n} );\r\n\r\n/**\r\n * Duplicates parsing functionality from apiFetch.\r\n *\r\n * @param {Response} response\r\n * @return {Promise<any>} Parsed response json.\r\n */\r\nconst parseResponse = ( response ) =>\r\n\tresponse.json ? response.json() : Promise.reject( response );\r\n\r\n/**\r\n * @param {string | null} linkHeader\r\n * @return {{ next?: string }} The parsed link header.\r\n */\r\nconst parseLinkHeader = ( linkHeader ) => {\r\n\tif ( ! linkHeader ) {\r\n\t\treturn {};\r\n\t}\r\n\tconst match = linkHeader.match( /<([^>]+)>; rel=\"next\"/ );\r\n\treturn match\r\n\t\t? {\r\n\t\t\t\tnext: match[ 1 ],\r\n\t\t  }\r\n\t\t: {};\r\n};\r\n\r\n/**\r\n * @param {Response} response\r\n * @return {string | undefined} The next page URL.\r\n */\r\nconst getNextPageUrl = ( response ) => {\r\n\tconst { next } = parseLinkHeader( response.headers.get( 'link' ) );\r\n\treturn next;\r\n};\r\n\r\n/**\r\n * @param {import('../types').APIFetchOptions} options\r\n * @return {boolean} True if the request contains an unbounded query.\r\n */\r\nconst requestContainsUnboundedQuery = ( options ) => {\r\n\tconst pathIsUnbounded =\r\n\t\t!! options.path && options.path.indexOf( 'per_page=-1' ) !== -1;\r\n\tconst urlIsUnbounded =\r\n\t\t!! options.url && options.url.indexOf( 'per_page=-1' ) !== -1;\r\n\treturn pathIsUnbounded || urlIsUnbounded;\r\n};\r\n\r\n/**\r\n * The REST API enforces an upper limit on the per_page option. To handle large\r\n * collections, apiFetch consumers can pass `per_page=-1`; this middleware will\r\n * then recursively assemble a full response array from all available pages.\r\n *\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst fetchAllMiddleware = async ( options, next ) => {\r\n\tif ( options.parse === false ) {\r\n\t\t// If a consumer has opted out of parsing, do not apply middleware.\r\n\t\treturn next( options );\r\n\t}\r\n\tif ( ! requestContainsUnboundedQuery( options ) ) {\r\n\t\t// If neither url nor path is requesting all items, do not apply middleware.\r\n\t\treturn next( options );\r\n\t}\r\n\r\n\t// Retrieve requested page of results.\r\n\tconst response = await apiFetch( {\r\n\t\t...modifyQuery( options, {\r\n\t\t\tper_page: 100,\r\n\t\t} ),\r\n\t\t// Ensure headers are returned for page 1.\r\n\t\tparse: false,\r\n\t} );\r\n\r\n\tconst results = await parseResponse( response );\r\n\r\n\tif ( ! Array.isArray( results ) ) {\r\n\t\t// We have no reliable way of merging non-array results.\r\n\t\treturn results;\r\n\t}\r\n\r\n\tlet nextPage = getNextPageUrl( response );\r\n\r\n\tif ( ! nextPage ) {\r\n\t\t// There are no further pages to request.\r\n\t\treturn results;\r\n\t}\r\n\r\n\t// Iteratively fetch all remaining pages until no \"next\" header is found.\r\n\tlet mergedResults = /** @type {any[]} */ ( [] ).concat( results );\r\n\twhile ( nextPage ) {\r\n\t\tconst nextResponse = await apiFetch( {\r\n\t\t\t...options,\r\n\t\t\t// Ensure the URL for the next page is used instead of any provided path.\r\n\t\t\tpath: undefined,\r\n\t\t\turl: nextPage,\r\n\t\t\t// Ensure we still get headers so we can identify the next page.\r\n\t\t\tparse: false,\r\n\t\t} );\r\n\t\tconst nextResults = await parseResponse( nextResponse );\r\n\t\tmergedResults = mergedResults.concat( nextResults );\r\n\t\tnextPage = getNextPageUrl( nextResponse );\r\n\t}\r\n\treturn mergedResults;\r\n};\r\n\r\nexport default fetchAllMiddleware;\r\n","/**\r\n * Set of HTTP methods which are eligible to be overridden.\r\n *\r\n * @type {Set<string>}\r\n */\r\nconst OVERRIDE_METHODS = new Set( [ 'PATCH', 'PUT', 'DELETE' ] );\r\n\r\n/**\r\n * Default request method.\r\n *\r\n * \"A request has an associated method (a method). Unless stated otherwise it\r\n * is `GET`.\"\r\n *\r\n * @see  https://fetch.spec.whatwg.org/#requests\r\n *\r\n * @type {string}\r\n */\r\nconst DEFAULT_METHOD = 'GET';\r\n\r\n/**\r\n * API Fetch middleware which overrides the request method for HTTP v1\r\n * compatibility leveraging the REST API X-HTTP-Method-Override header.\r\n *\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst httpV1Middleware = ( options, next ) => {\r\n\tconst { method = DEFAULT_METHOD } = options;\r\n\tif ( OVERRIDE_METHODS.has( method.toUpperCase() ) ) {\r\n\t\toptions = {\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\t'X-HTTP-Method-Override': method,\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tmethod: 'POST',\r\n\t\t};\r\n\t}\r\n\r\n\treturn next( options );\r\n};\r\n\r\nexport default httpV1Middleware;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Parses the apiFetch response.\r\n *\r\n * @param {Response} response\r\n * @param {boolean}  shouldParseResponse\r\n *\r\n * @return {Promise<any> | null | Response} Parsed response.\r\n */\r\nconst parseResponse = ( response, shouldParseResponse = true ) => {\r\n\tif ( shouldParseResponse ) {\r\n\t\tif ( response.status === 204 ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn response.json ? response.json() : Promise.reject( response );\r\n\t}\r\n\r\n\treturn response;\r\n};\r\n\r\n/**\r\n * Calls the `json` function on the Response, throwing an error if the response\r\n * doesn't have a json function or if parsing the json itself fails.\r\n *\r\n * @param {Response} response\r\n * @return {Promise<any>} Parsed response.\r\n */\r\nconst parseJsonAndNormalizeError = ( response ) => {\r\n\tconst invalidJsonError = {\r\n\t\tcode: 'invalid_json',\r\n\t\tmessage: __( 'The response is not a valid JSON response.' ),\r\n\t};\r\n\r\n\tif ( ! response || ! response.json ) {\r\n\t\tthrow invalidJsonError;\r\n\t}\r\n\r\n\treturn response.json().catch( () => {\r\n\t\tthrow invalidJsonError;\r\n\t} );\r\n};\r\n\r\n/**\r\n * Parses the apiFetch response properly and normalize response errors.\r\n *\r\n * @param {Response} response\r\n * @param {boolean}  shouldParseResponse\r\n *\r\n * @return {Promise<any>} Parsed response.\r\n */\r\nexport const parseResponseAndNormalizeError = (\r\n\tresponse,\r\n\tshouldParseResponse = true\r\n) => {\r\n\treturn Promise.resolve(\r\n\t\tparseResponse( response, shouldParseResponse )\r\n\t).catch( ( res ) => parseAndThrowError( res, shouldParseResponse ) );\r\n};\r\n\r\n/**\r\n * Parses a response, throwing an error if parsing the response fails.\r\n *\r\n * @param {Response} response\r\n * @param {boolean}  shouldParseResponse\r\n * @return {Promise<any>} Parsed response.\r\n */\r\nexport function parseAndThrowError( response, shouldParseResponse = true ) {\r\n\tif ( ! shouldParseResponse ) {\r\n\t\tthrow response;\r\n\t}\r\n\r\n\treturn parseJsonAndNormalizeError( response ).then( ( error ) => {\r\n\t\tconst unknownError = {\r\n\t\t\tcode: 'unknown_error',\r\n\t\t\tmessage: __( 'An unknown error occurred.' ),\r\n\t\t};\r\n\r\n\t\tthrow error || unknownError;\r\n\t} );\r\n}\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport {\r\n\tparseAndThrowError,\r\n\tparseResponseAndNormalizeError,\r\n} from '../utils/response';\r\n\r\n/**\r\n * @param {import('../types').APIFetchOptions} options\r\n * @return {boolean} True if the request is for media upload.\r\n */\r\nfunction isMediaUploadRequest( options ) {\r\n\tconst isCreateMethod = !! options.method && options.method === 'POST';\r\n\tconst isMediaEndpoint =\r\n\t\t( !! options.path && options.path.indexOf( '/wp/v2/media' ) !== -1 ) ||\r\n\t\t( !! options.url && options.url.indexOf( '/wp/v2/media' ) !== -1 );\r\n\r\n\treturn isMediaEndpoint && isCreateMethod;\r\n}\r\n\r\n/**\r\n * Middleware handling media upload failures and retries.\r\n *\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst mediaUploadMiddleware = ( options, next ) => {\r\n\tif ( ! isMediaUploadRequest( options ) ) {\r\n\t\treturn next( options );\r\n\t}\r\n\r\n\tlet retries = 0;\r\n\tconst maxRetries = 5;\r\n\r\n\t/**\r\n\t * @param {string} attachmentId\r\n\t * @return {Promise<any>} Processed post response.\r\n\t */\r\n\tconst postProcess = ( attachmentId ) => {\r\n\t\tretries++;\r\n\t\treturn next( {\r\n\t\t\tpath: `/wp/v2/media/${ attachmentId }/post-process`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: { action: 'create-image-subsizes' },\r\n\t\t\tparse: false,\r\n\t\t} ).catch( () => {\r\n\t\t\tif ( retries < maxRetries ) {\r\n\t\t\t\treturn postProcess( attachmentId );\r\n\t\t\t}\r\n\t\t\tnext( {\r\n\t\t\t\tpath: `/wp/v2/media/${ attachmentId }?force=true`,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t} );\r\n\r\n\t\t\treturn Promise.reject();\r\n\t\t} );\r\n\t};\r\n\r\n\treturn next( { ...options, parse: false } )\r\n\t\t.catch( ( response ) => {\r\n\t\t\tconst attachmentId = response.headers.get(\r\n\t\t\t\t'x-wp-upload-attachment-id'\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\tresponse.status >= 500 &&\r\n\t\t\t\tresponse.status < 600 &&\r\n\t\t\t\tattachmentId\r\n\t\t\t) {\r\n\t\t\t\treturn postProcess( attachmentId ).catch( () => {\r\n\t\t\t\t\tif ( options.parse !== false ) {\r\n\t\t\t\t\t\treturn Promise.reject( {\r\n\t\t\t\t\t\t\tcode: 'post_process',\r\n\t\t\t\t\t\t\tmessage: __(\r\n\t\t\t\t\t\t\t\t'Media upload failed. If this is a photo or a large image, please scale it down and try again.'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Promise.reject( response );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\treturn parseAndThrowError( response, options.parse );\r\n\t\t} )\r\n\t\t.then( ( response ) =>\r\n\t\t\tparseResponseAndNormalizeError( response, options.parse )\r\n\t\t);\r\n};\r\n\r\nexport default mediaUploadMiddleware;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport createNonceMiddleware from './middlewares/nonce';\r\nimport createRootURLMiddleware from './middlewares/root-url';\r\nimport createPreloadingMiddleware from './middlewares/preloading';\r\nimport fetchAllMiddleware from './middlewares/fetch-all-middleware';\r\nimport namespaceEndpointMiddleware from './middlewares/namespace-endpoint';\r\nimport httpV1Middleware from './middlewares/http-v1';\r\nimport userLocaleMiddleware from './middlewares/user-locale';\r\nimport mediaUploadMiddleware from './middlewares/media-upload';\r\nimport createThemePreviewMiddleware from './middlewares/theme-preview';\r\nimport {\r\n\tparseResponseAndNormalizeError,\r\n\tparseAndThrowError,\r\n} from './utils/response';\r\n\r\n/**\r\n * Default set of header values which should be sent with every request unless\r\n * explicitly provided through apiFetch options.\r\n *\r\n * @type {Record<string, string>}\r\n */\r\nconst DEFAULT_HEADERS = {\r\n\t// The backend uses the Accept header as a condition for considering an\r\n\t// incoming request as a REST request.\r\n\t//\r\n\t// See: https://core.trac.wordpress.org/ticket/44534\r\n\tAccept: 'application/json, */*;q=0.1',\r\n};\r\n\r\n/**\r\n * Default set of fetch option values which should be sent with every request\r\n * unless explicitly provided through apiFetch options.\r\n *\r\n * @type {Object}\r\n */\r\nconst DEFAULT_OPTIONS = {\r\n\tcredentials: 'include',\r\n};\r\n\r\n/** @typedef {import('./types').APIFetchMiddleware} APIFetchMiddleware */\r\n/** @typedef {import('./types').APIFetchOptions} APIFetchOptions */\r\n\r\n/**\r\n * @type {import('./types').APIFetchMiddleware[]}\r\n */\r\nconst middlewares = [\r\n\tuserLocaleMiddleware,\r\n\tnamespaceEndpointMiddleware,\r\n\thttpV1Middleware,\r\n\tfetchAllMiddleware,\r\n];\r\n\r\n/**\r\n * Register a middleware\r\n *\r\n * @param {import('./types').APIFetchMiddleware} middleware\r\n */\r\nfunction registerMiddleware( middleware ) {\r\n\tmiddlewares.unshift( middleware );\r\n}\r\n\r\n/**\r\n * Checks the status of a response, throwing the Response as an error if\r\n * it is outside the 200 range.\r\n *\r\n * @param {Response} response\r\n * @return {Response} The response if the status is in the 200 range.\r\n */\r\nconst checkStatus = ( response ) => {\r\n\tif ( response.status >= 200 && response.status < 300 ) {\r\n\t\treturn response;\r\n\t}\r\n\r\n\tthrow response;\r\n};\r\n\r\n/** @typedef {(options: import('./types').APIFetchOptions) => Promise<any>} FetchHandler*/\r\n\r\n/**\r\n * @type {FetchHandler}\r\n */\r\nconst defaultFetchHandler = ( nextOptions ) => {\r\n\tconst { url, path, data, parse = true, ...remainingOptions } = nextOptions;\r\n\tlet { body, headers } = nextOptions;\r\n\r\n\t// Merge explicitly-provided headers with default values.\r\n\theaders = { ...DEFAULT_HEADERS, ...headers };\r\n\r\n\t// The `data` property is a shorthand for sending a JSON body.\r\n\tif ( data ) {\r\n\t\tbody = JSON.stringify( data );\r\n\t\theaders[ 'Content-Type' ] = 'application/json';\r\n\t}\r\n\r\n\tconst responsePromise = window.fetch(\r\n\t\t// Fall back to explicitly passing `window.location` which is the behavior if `undefined` is passed.\r\n\t\turl || path || window.location.href,\r\n\t\t{\r\n\t\t\t...DEFAULT_OPTIONS,\r\n\t\t\t...remainingOptions,\r\n\t\t\tbody,\r\n\t\t\theaders,\r\n\t\t}\r\n\t);\r\n\r\n\treturn responsePromise.then(\r\n\t\t( value ) =>\r\n\t\t\tPromise.resolve( value )\r\n\t\t\t\t.then( checkStatus )\r\n\t\t\t\t.catch( ( response ) => parseAndThrowError( response, parse ) )\r\n\t\t\t\t.then( ( response ) =>\r\n\t\t\t\t\tparseResponseAndNormalizeError( response, parse )\r\n\t\t\t\t),\r\n\t\t( err ) => {\r\n\t\t\t// Re-throw AbortError for the users to handle it themselves.\r\n\t\t\tif ( err && err.name === 'AbortError' ) {\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, there is most likely no network connection.\r\n\t\t\t// Unfortunately the message might depend on the browser.\r\n\t\t\tthrow {\r\n\t\t\t\tcode: 'fetch_error',\r\n\t\t\t\tmessage: __( 'You are probably offline.' ),\r\n\t\t\t};\r\n\t\t}\r\n\t);\r\n};\r\n\r\n/** @type {FetchHandler} */\r\nlet fetchHandler = defaultFetchHandler;\r\n\r\n/**\r\n * Defines a custom fetch handler for making the requests that will override\r\n * the default one using window.fetch\r\n *\r\n * @param {FetchHandler} newFetchHandler The new fetch handler\r\n */\r\nfunction setFetchHandler( newFetchHandler ) {\r\n\tfetchHandler = newFetchHandler;\r\n}\r\n\r\n/**\r\n * @template T\r\n * @param {import('./types').APIFetchOptions} options\r\n * @return {Promise<T>} A promise representing the request processed via the registered middlewares.\r\n */\r\nfunction apiFetch( options ) {\r\n\t// creates a nested function chain that calls all middlewares and finally the `fetchHandler`,\r\n\t// converting `middlewares = [ m1, m2, m3 ]` into:\r\n\t// ```\r\n\t// opts1 => m1( opts1, opts2 => m2( opts2, opts3 => m3( opts3, fetchHandler ) ) );\r\n\t// ```\r\n\tconst enhancedHandler = middlewares.reduceRight(\r\n\t\t( /** @type {FetchHandler} */ next, middleware ) => {\r\n\t\t\treturn ( workingOptions ) => middleware( workingOptions, next );\r\n\t\t},\r\n\t\tfetchHandler\r\n\t);\r\n\r\n\treturn enhancedHandler( options ).catch( ( error ) => {\r\n\t\tif ( error.code !== 'rest_cookie_invalid_nonce' ) {\r\n\t\t\treturn Promise.reject( error );\r\n\t\t}\r\n\r\n\t\t// If the nonce is invalid, refresh it and try again.\r\n\t\treturn (\r\n\t\t\twindow\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\t.fetch( apiFetch.nonceEndpoint )\r\n\t\t\t\t.then( checkStatus )\r\n\t\t\t\t.then( ( data ) => data.text() )\r\n\t\t\t\t.then( ( text ) => {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tapiFetch.nonceMiddleware.nonce = text;\r\n\t\t\t\t\treturn apiFetch( options );\r\n\t\t\t\t} )\r\n\t\t);\r\n\t} );\r\n}\r\n\r\napiFetch.use = registerMiddleware;\r\napiFetch.setFetchHandler = setFetchHandler;\r\n\r\napiFetch.createNonceMiddleware = createNonceMiddleware;\r\napiFetch.createPreloadingMiddleware = createPreloadingMiddleware;\r\napiFetch.createRootURLMiddleware = createRootURLMiddleware;\r\napiFetch.fetchAllMiddleware = fetchAllMiddleware;\r\napiFetch.mediaUploadMiddleware = mediaUploadMiddleware;\r\napiFetch.createThemePreviewMiddleware = createThemePreviewMiddleware;\r\n\r\nexport default apiFetch;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs, hasQueryArg } from '@wordpress/url';\r\n\r\n/**\r\n * @type {import('../types').APIFetchMiddleware}\r\n */\r\nconst userLocaleMiddleware = ( options, next ) => {\r\n\tif (\r\n\t\ttypeof options.url === 'string' &&\r\n\t\t! hasQueryArg( options.url, '_locale' )\r\n\t) {\r\n\t\toptions.url = addQueryArgs( options.url, { _locale: 'user' } );\r\n\t}\r\n\r\n\tif (\r\n\t\ttypeof options.path === 'string' &&\r\n\t\t! hasQueryArg( options.path, '_locale' )\r\n\t) {\r\n\t\toptions.path = addQueryArgs( options.path, { _locale: 'user' } );\r\n\t}\r\n\r\n\treturn next( options );\r\n};\r\n\r\nexport default userLocaleMiddleware;\r\n","/**\r\n * @param {string} nonce\r\n * @return {import('../types').APIFetchMiddleware & { nonce: string }} A middleware to enhance a request with a nonce.\r\n */\r\nfunction createNonceMiddleware( nonce ) {\r\n\t/**\r\n\t * @type {import('../types').APIFetchMiddleware & { nonce: string }}\r\n\t */\r\n\tconst middleware = ( options, next ) => {\r\n\t\tconst { headers = {} } = options;\r\n\r\n\t\t// If an 'X-WP-Nonce' header (or any case-insensitive variation\r\n\t\t// thereof) was specified, no need to add a nonce header.\r\n\t\tfor ( const headerName in headers ) {\r\n\t\t\tif (\r\n\t\t\t\theaderName.toLowerCase() === 'x-wp-nonce' &&\r\n\t\t\t\theaders[ headerName ] === middleware.nonce\r\n\t\t\t) {\r\n\t\t\t\treturn next( options );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn next( {\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...headers,\r\n\t\t\t\t'X-WP-Nonce': middleware.nonce,\r\n\t\t\t},\r\n\t\t} );\r\n\t};\r\n\r\n\tmiddleware.nonce = nonce;\r\n\r\n\treturn middleware;\r\n}\r\n\r\nexport default createNonceMiddleware;\r\n","/**\r\n * Internal dependencies\r\n */\r\nimport namespaceAndEndpointMiddleware from './namespace-endpoint';\r\n\r\n/**\r\n * @param {string} rootURL\r\n * @return {import('../types').APIFetchMiddleware} Root URL middleware.\r\n */\r\nconst createRootURLMiddleware = ( rootURL ) => ( options, next ) => {\r\n\treturn namespaceAndEndpointMiddleware( options, ( optionsWithPath ) => {\r\n\t\tlet url = optionsWithPath.url;\r\n\t\tlet path = optionsWithPath.path;\r\n\t\tlet apiRoot;\r\n\r\n\t\tif ( typeof path === 'string' ) {\r\n\t\t\tapiRoot = rootURL;\r\n\r\n\t\t\tif ( -1 !== rootURL.indexOf( '?' ) ) {\r\n\t\t\t\tpath = path.replace( '?', '&' );\r\n\t\t\t}\r\n\r\n\t\t\tpath = path.replace( /^\\//, '' );\r\n\r\n\t\t\t// API root may already include query parameter prefix if site is\r\n\t\t\t// configured to use plain permalinks.\r\n\t\t\tif (\r\n\t\t\t\t'string' === typeof apiRoot &&\r\n\t\t\t\t-1 !== apiRoot.indexOf( '?' )\r\n\t\t\t) {\r\n\t\t\t\tpath = path.replace( '?', '&' );\r\n\t\t\t}\r\n\r\n\t\t\turl = apiRoot + path;\r\n\t\t}\r\n\r\n\t\treturn next( {\r\n\t\t\t...optionsWithPath,\r\n\t\t\turl,\r\n\t\t} );\r\n\t} );\r\n};\r\n\r\nexport default createRootURLMiddleware;\r\n","/**\r\n * WordPress dependencies\r\n */\r\nimport { addQueryArgs, getQueryArg, removeQueryArgs } from '@wordpress/url';\r\n\r\n/**\r\n * This appends a `wp_theme_preview` parameter to the REST API request URL if\r\n * the admin URL contains a `theme` GET parameter.\r\n *\r\n * If the REST API request URL has contained the `wp_theme_preview` parameter as `''`,\r\n * then bypass this middleware.\r\n *\r\n * @param {Record<string, any>} themePath\r\n * @return {import('../types').APIFetchMiddleware} Preloading middleware.\r\n */\r\nconst createThemePreviewMiddleware = ( themePath ) => ( options, next ) => {\r\n\tif ( typeof options.url === 'string' ) {\r\n\t\tconst wpThemePreview = getQueryArg( options.url, 'wp_theme_preview' );\r\n\t\tif ( wpThemePreview === undefined ) {\r\n\t\t\toptions.url = addQueryArgs( options.url, {\r\n\t\t\t\twp_theme_preview: themePath,\r\n\t\t\t} );\r\n\t\t} else if ( wpThemePreview === '' ) {\r\n\t\t\toptions.url = removeQueryArgs( options.url, 'wp_theme_preview' );\r\n\t\t}\r\n\t}\r\n\r\n\tif ( typeof options.path === 'string' ) {\r\n\t\tconst wpThemePreview = getQueryArg( options.path, 'wp_theme_preview' );\r\n\t\tif ( wpThemePreview === undefined ) {\r\n\t\t\toptions.path = addQueryArgs( options.path, {\r\n\t\t\t\twp_theme_preview: themePath,\r\n\t\t\t} );\r\n\t\t} else if ( wpThemePreview === '' ) {\r\n\t\t\toptions.path = removeQueryArgs( options.path, 'wp_theme_preview' );\r\n\t\t}\r\n\t}\r\n\r\n\treturn next( options );\r\n};\r\n\r\nexport default createThemePreviewMiddleware;\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","namespaceAndEndpointMiddleware","options","next","namespaceTrimmed","endpointTrimmed","path","namespace","endpoint","replace","prepareResponse","responseData","parse","Promise","resolve","body","Response","JSON","stringify","status","statusText","headers","modifyQuery","url","queryArgs","addQueryArgs","parseResponse","response","json","reject","getNextPageUrl","linkHeader","match","parseLinkHeader","async","pathIsUnbounded","indexOf","urlIsUnbounded","requestContainsUnboundedQuery","apiFetch","per_page","results","Array","isArray","nextPage","mergedResults","concat","nextResponse","undefined","nextResults","OVERRIDE_METHODS","Set","DEFAULT_METHOD","parseResponseAndNormalizeError","shouldParseResponse","catch","res","parseAndThrowError","invalidJsonError","code","message","__","parseJsonAndNormalizeError","then","error","unknownError","DEFAULT_HEADERS","Accept","DEFAULT_OPTIONS","credentials","middlewares","userLocaleMiddleware","hasQueryArg","_locale","namespaceEndpointMiddleware","httpV1Middleware","method","has","toUpperCase","fetchAllMiddleware","checkStatus","fetchHandler","nextOptions","data","remainingOptions","fetch","location","href","value","err","name","reduceRight","middleware","workingOptions","enhancedHandler","nonceEndpoint","text","nonceMiddleware","nonce","use","unshift","setFetchHandler","newFetchHandler","createNonceMiddleware","headerName","toLowerCase","createPreloadingMiddleware","preloadedData","cache","fromEntries","entries","map","normalizePath","rawPath","rest_route","pathFromQuery","getQueryArgs","cacheData","createRootURLMiddleware","rootURL","optionsWithPath","apiRoot","mediaUploadMiddleware","isCreateMethod","isMediaUploadRequest","retries","postProcess","attachmentId","action","createThemePreviewMiddleware","themePath","wpThemePreview","getQueryArg","wp_theme_preview","removeQueryArgs"],"sourceRoot":""}